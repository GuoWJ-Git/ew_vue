/* eslint-disable */
import {Y,rf,Ph,Fi,Nb,D,L,Mf,uc,G,hb,jc,U,ni,xm,Zd,Cl,Rh,Ri,xb,aj,dp,$a,kg,Ud,N,O,Zh,ug,jl,ho,ek,mi,ll,kl,ff,$h,Zj,Yh,mc,oc,rj,$l,Zl,Gm,bi,W,pk,tj,zj,vj,em,np,vp,oj,X,qj,im,ud,qe,vg,zk,Bk,ze,pe,Wi,wk,uk,Hk,Wd,sg,ie,Al,sk,Fo,ai,Mo,xl,Uh,Lb,Po,Wh,ik,hk,xd,yk,Io,dj,Km,te,$g,xg,zi,Ai,ck,xc,Ac,bc,Dc,qg,Ee,Yn,ye,Fb,se,Fd,Zg,Bj,Cj,nk,Ne,Pm,Hd,Tg,Hg,Sh,mg,Kd,Mb,Ag,an,bn,Pn,Qn,Sn,Jm,$m,Hb,yf,xf,Oi,io,ok,al,nl,ol,fj,Li,Qi,Ek,ta} from './geotoolkit.base.js';import {PU,QS,SR,WN,ZN,$R,YR,uQ,wQ,lQ,VS,bU,aU,UU,SU,TU,cT,RR,CS,kU,iU,eS,cS,fS,iS,TR,DQ,gR,tR,MQ,bT,$S,MR,PQ,eU,dU,qR,nR,PS,OS,zU,pS,oS,LU,JU,AU,IU,CU,GU,FU,KU,fQ,lR,oR,LS,VR,fR,SS,UR,hS} from './geotoolkit.controls.js';import {HE,CE,mF} from './geotoolkit.pdf.js';import {DH,uH,RH,sH,BH,PH,mI,LH,KH,TH,NH,AH,xH,WH,hI,zH,vH,qI,CH,AI,BI,oI,pI,yI,zI,IH,SH} from './geotoolkit.data.js';var ca,ha=ha||{};ha.scope={};ha.WDc=function(d){var a=0;return function(){return a<d.length?{done:!1,value:d[a++]}:{done:!0}}};ha.uJe=function(d){return{next:ha.WDc(d)}};ha.obd=!1;ha.N9d=!1;ha.O9d=!1;ha.jAe=!1;ha.noc=!1;ha.defineProperty=ha.obd||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,a,b){if(d==Array.prototype||d==Object.prototype)return d;d[a]=b.value;return d};
ha.I1=function(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<d.length;++a){var b=d[a];if(b&&b.Math==Math)return b}return function(){throw Error("Cannot find global object");}()};ha.global=ha.I1(this);ha.TMb="function"===typeof Symbol&&"symbol"===typeof Symbol("x");ha.FDe=!ha.noc||ha.TMb;ha.$cc={};ha.wdc={};ha.Chd="$jscp$";
function aaa(d,a){var b=ha.wdc[a];if(null==b)return d[a];b=d[b];return void 0!==b?b:d[a]}ha.LYc=function(d,a,b,c){a&&(ha.noc?ha.aWd(d,a,b,c):ha.bWd(d,a,b,c))};ha.bWd=function(d,a,b,c){b=ha.global;d=d.split(".");for(c=0;c<d.length-1;c++){var e=d[c];if(!(e in b))return;b=b[e]}d=d[d.length-1];c=b[d];a=a(c);a!=c&&null!=a&&ha.defineProperty(b,d,{configurable:!0,writable:!0,value:a})};
ha.aWd=function(d,a,b,c){var e=d.split(".");d=1===e.length;c=e[0];c=!d&&c in ha.$cc?ha.$cc:ha.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in c))return;c=c[g]}e=e[e.length-1];b=ha.TMb&&"es6"===b?c[e]:null;a=a(b);null!=a&&(d?ha.defineProperty(ha.$cc,e,{configurable:!0,writable:!0,value:a}):a!==b&&(ha.wdc[e]=ha.TMb?ha.global.Symbol(e):ha.Chd+e,e=ha.wdc[e],ha.defineProperty(c,e,{configurable:!0,writable:!0,value:a})))};ha.oNe=function(){};
ha.LYc("Symbol",function(d){function a(f){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+e++,f)}function b(f,g){this.lbd=f;ha.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})}if(d)return d;b.prototype.toString=function(){return this.lbd};var c="jscomp_symbol_",e=0;return a},"es6","es3");ha.qNe=function(){};
ha.LYc("Symbol.iterator",function(d){if(d)return d;d=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),b=0;b<a.length;b++){var c=ha.global[a[b]];"function"===typeof c&&"function"!=typeof c.prototype[d]&&ha.defineProperty(c.prototype,d,{configurable:!0,writable:!0,value:function(){return ha.NQd(ha.WDc(this))}})}return d},"es6","es3");ha.pNe=function(){};
ha.NQd=function(d){d={next:d};d[Symbol.iterator]=function(){return this};return d};var JZ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){Mf.call(this);this.zra()}function a(){this.map={};this.Lca={};this.Bq("linestyle",Y.Pa());this.Bq("fillstyle",rf.Pa());this.Bq("imagepattern",Ph.Pa());this.Bq("textstyle",Fi.Pa())}function b(h){return"string"==typeof h&&h.match(/^#href\(.*\)$/)?/^#href\((.*)\)$/.exec(h)[1]:null}var c="cg_type",e=null;a.ya=function(){null==e&&(e=new a);return e};a.prototype.Bq=function(h,k){this.map[h]=k;this.Lca[k]=h};a.prototype.bCb=function(){return this.map};a.prototype.sr=function(h){h=
null!=h&&"function"==typeof h.Pa?h.Pa():null;return null!=h?null!=this.Lca[h]?this.Lca[h]:h:null};a.prototype.KIa=function(h){h=null!=this.map[h]?this.map[h]:h;return null!=h?Nb(h):null};var f={save:function(h,k){var l=a.ya().sr(h);null!=l&&k.Yb(c,l);l=k.JH(h);null!=l&&k.Yb("cg_id",l);h="function"==typeof h.ia?h.ia():h;for(var m in h)if(h.hasOwnProperty(m)&&"cg_id"!==m&&"undefined"!=typeof h[m])if(l=h[m],"object"==typeof l&&null!==l){var n=k.JH(l);null==n?k.Ne(m,l):k.Yb(m,"#href("+n+")")}else"function"!=
typeof l&&k.Yb(m,l);k.commit()},load:function(h,k){var l=null!=k?k:null;if(null==l){k=h.getValue(c);var m=h.G6();null!=k&&(l=null!=m&&a.ya().sr(m)===k?m:a.ya().KIa(k));null==l&&(l={})}var n="function"===typeof l.fa?{}:l;h.Yx(function(p,q){var r=q.getValue(),t=b(r);null==t?n[p]=r:null!=q.vk(t)?n[p]=q.vk(t):q.jZ(t,function(u){n[p]=u;"function"===typeof l.fa&&l.fa(n)})});"function"===typeof l.fa&&l.fa(n);k=h.getValue("cg_id");null!=k&&h.Fs(k,l);return l}};D(d,Mf);L(d,"geotoolkit.widgets.templates.Registry");
d.prototype.zra=function(){this.om("geotoolkit.widgets.BaseWidget",{save:function(l,m){m.Yb("type",l.Pa());m.Ne("data",l.getData({"no-data":!0}));m.commit()},load:function(l){var m=l.vk("#widget");m&&(l=l.getValue("data"),null!=l&&m.setData(l));return m}});var h=a.ya().bCb(),k;for(k in h)h.hasOwnProperty(k)&&this.om(k,f);this.om("default",f)};var g=null;d.lg=function(){null==g&&(g=new d);return g};return d}(),2,"eyJnZXREZWZhdWx0IjoibGcifSAg");var KZ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{bounds:new U(0,0,300,300)});void 0!==a.children&&delete a.children;ni.call(this,a);this.hd(!0);this.yu=new QS(this,"compositeTool");this.Pm=null}uc({imports:[PU]});D(d,ni);L(d,"geotoolkit.widgets.BaseWidget");d.prototype.HH=function(){null==this.Pm&&this.kL(this.Pm=new xm({dynamic_layer:!0,name:"overlays",cssclass:"overlay"}));return this.Pm};d.prototype.pi=function(a){return this};d.prototype.A1a=function(){return Zd.ya()};d.prototype.Un=function(a){this.yu.add(a);
return this};d.prototype.Dy=function(a){this.yu.remove(a);return this};d.prototype.Mc=function(){return this.yu};d.prototype.M0a=function(a){this.yu=a;return this};d.prototype.$b=function(a){if(null==a||1>a.length)return null;var b=this.yu.$b(a);null==b&&"pinchtozoom"===a&&(hb("geotoolkit.controls.tools.PinchToZoom is deprecated since 2020 (3.0)"),b=this.yu.$b("zoom"));return b};d.prototype.FU=function(a){return null==a?null:this.yu.FU(a)};d.prototype.m7=function(){return this.yu.m7()};d.prototype.dispose=
function(){this.te()||(this.yu.dispose(),this.yu=null,ni.prototype.dispose.call(this))};d.prototype.NE=function(a,b){b=new Cl(b||JZ.lg());a=b.B6(a);a.Fs("#widget",this);a.Kd(this.Pa(),"template")};d.prototype.SJ=function(a){a=new Cl(a||JZ.lg());return a.R7("template",this)};d.prototype.getData=function(a){return{}};d.prototype.ia=function(){var a=ni.prototype.ia.call(this);void 0!==a.children&&delete a.children;void 0!==a.viewcache&&delete a.viewcache;return a};d.prototype.fa=function(a){a=jc(a);
if(null==a)return this;void 0!==a.children&&delete a.children;void 0!==a.viewcache&&delete a.viewcache;ni.prototype.fa.call(this,a);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPdmVybGF5TGF5ZXIiOiJISCIsImluaXRpYWxpemVUb29scyI6InBpIiwiY29ubmVjdFRvb2wiOiJVbiIsImRpc2Nvbm5lY3RUb29sIjoiRHkiLCJnZXRUb29sIjoiTWMiLCJzZXRUb29sIjoiTTBhIiwiZ2V0VG9vbEJ5TmFtZSI6IiRiIiwiZ2V0VG9vbEJ5VHlwZSI6IkZVIiwibGlzdFRvb2xzTmFtZXMiOiJtNyIsImxvYWRUZW1wbGF0ZSI6Ik5FIiwic2F2ZVRlbXBsYXRlIjoiU0oiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var LZ=/*#__PURE__*/ta(/*#__PURE__*/{Ry:"onPositionChanged",Kq:"onVisibilityChanged",eXc:"onDropping",dXc:"onDropped"},2,"eyJvblBvc2l0aW9uQ2hhbmdlZCI6IlJ5Iiwib25WaXNpYmlsaXR5Q2hhbmdlZCI6IktxIiwib25Ecm9wcGluZyI6ImVYYyIsIm9uRHJvcHBlZCI6ImRYYyJ9"),MZ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(l){null==l&&(l={});var m=l.orientation===Rh.yb,n=l.locale||Ri.lg();l=xb(l,{name:"colorbar",layer:null,labelformat:new aj({locale:n,maximumfractiondigits:2}),padding:m?g[Rh.yb]:g[Rh.rb],size:m?f[Rh.yb]:f[Rh.rb],radius:5,orientation:Rh.rb,alignment:dp.tc,linestyle:e,fillstyle:c,textstyle:b,colorbar:null,textfillstyle:null},!0);SR.call(this,l);this.$m({pointerdown:this.gd.bind(this),pointermove:[{callback:this.Ic.bind(this),
object:null},{callback:this.Ic.bind(this),object:$a,enabled:!1}],pointerup:[{callback:this.Yc.bind(this),object:null},{callback:this.Yc.bind(this),object:$a,enabled:!1}]});this.Xe=l.widget;this.Gu=n;this.Pr=l.labelformat;this.kg=this.pd=null;l.padding=kg.Ra(l.padding);l.size=Ud.Ra(l.size);this.ea=l;this.Ze=null;this.OFa=!1;m=this.ZQ();null!=m&&null!=m.getParent()?this.hua=m.getParent().ga().clone():this.hua=a.clone().fa(l.size.ia());this.MA()}var a=(new U({x:70,y:40,width:35,height:120})).lock(),
b=new Fi({font:"12px sans-serif"}),c="#F1F1F1",e={color:"#A8A8A8",pixelsnapmode:!1,width:2},f={vertical:{width:35,height:120},horizontal:{width:120,height:35}},g={vertical:{left:10,top:15,right:10,bottom:15},horizontal:{left:15,top:10,right:15,bottom:10}},h=5,k=2;D(d,SR);L(d,"geotoolkit.widgets.tools.FloatingColorBarTool");d.Ka=LZ;d.prototype.setOptions=function(l){if(null==l)return this;void 0!==l.name&&this.nb(l.name);void 0!==l.enabled&&this.Rb(l.enabled);if(l.hasOwnProperty("locale")||l.hasOwnProperty("labelformat"))void 0!==
l.locale&&(this.Gu=l.locale),void 0!==l.labelformat&&(this.Pr=l.labelformat),null!=this.Pr&&this.Pr.fa({locale:this.Gu});if(null!=l.range){var m=this.YS.ta().range,n=null!=l.range.min?l.range.min:m.min;var p=null!=l.range.max?l.range.max:m.max;if(m.min!==n||m.max!==p)this.YS.setOptions({range:{min:n,max:p}}),this.xn.Eb(this.Pr.format(n)),this.np.Eb(this.Pr.format(p))}if(l.hasOwnProperty("orientation")||l.hasOwnProperty("size")||l.hasOwnProperty("padding")){p=l.hasOwnProperty("orientation")&&l.orientation!==
this.ea.orientation;n=(null!=l.orientation?l.orientation:this.ea.orientation)===Rh.rb;m=f[n?Rh.rb:Rh.yb];var q=g[n?Rh.rb:Rh.yb];!0===p&&null!=this.pd&&(this.pd=new N(this.pd.getY(),this.pd.getX()));if(void 0!==l.size){var r=l.size;r instanceof Ud||(r=p?G(r,m):this.ea.size.fa(l.size));l.size=Ud.Ra(r);r=l.size}else r=p?Ud.Ra(m):this.ea.size,l.size=r;void 0!==l.padding?(m=l.padding,m instanceof kg||(m=p?G(m,q):this.ea.padding.fa(l.padding)),l.padding=kg.Ra(m),m=l.padding):(m=p?kg.Ra(q):this.ea.padding,
l.padding=m);this.hua.fa(r.ia());p=this.Oi.ga().clone().fa(r.ia());r=n?r.ca()-m.ka()-m.na():r.da()-m.la()-m.ma();this.YS.setOptions({colorbox:{size:r},location:n?WN.lc:WN.Ec}).Na({left:m.ka(),right:m.na(),top:m.la(),bottom:m.ma()});q=4;this.xn.yc(n?O.ee:O.Bd).Na(new Zh(n?{top:"2px",left:"50%"}:{left:q+"px",top:"50%"}));this.np.yc(n?O.Se:O.we).Na(new Zh(n?{bottom:"2px",left:"50%"}:{right:q+"px",top:"50%"}));n?(n=Math.max(this.xn.ca(),this.np.ca())+4,n>p.ca()&&(p.Qa(n),void 0!==this.ea.alignment&&(this.ea.alignment===
dp.Oa?this.YS.Na(new Zh({left:(n-r)/2,width:r,top:m.la(),bottom:m.ma()})):this.ea.alignment===dp.cc&&this.YS.Na(new Zh({right:m.na(),width:r,top:m.la(),bottom:m.ma()})))),this.xn.va(this.xn.da()<m.la()).Na({top:m.la()-this.xn.da()}),this.np.va(this.np.da()+2<m.ma()).Na({bottom:m.ma()-this.np.da()-2})):(n=this.xn.ca()+this.np.ca()+4*q,p.Qa(p.ca()+(n-(m.ka()+m.na()))),m=m.clone().M2(this.xn.ca()+2*q).A0a(this.np.ca()+2*q),this.YS.Na({left:m.ka()+"px",right:m.na()+"px"},!1,!0));this.Ric(p)}void 0!==
l.colorprovider&&this.Ps(l.colorprovider);void 0!==l.visible&&(!1===l.visible?this.lgb():this.oJb());void 0!==l.position&&(m=l.position,l.position instanceof N||(n=this.Oi.ga().kd().ia(),m=N.Ra(xb(m,n))),p=this.Oi.ga().clone().fa(m.ia()),this.Oi.sa(p));void 0!==l.linestyle&&this.hm.qa(l.linestyle);void 0!==l.fillstyle&&this.hm.ra(l.fillstyle);void 0!==l.textstyle&&(m=Fi.Ra(l.textstyle),this.xn.kb(m),this.np.kb(m));void 0!==l.textfillstyle&&(m=ug.fd(l.textfillstyle),this.xn.ra(m),this.np.ra(m));void 0!==
l.tickgenerator&&this.Ze.yg(l.tickgenerator);this.ea=xb(l,this.ea);return this};d.prototype.ta=function(){return{visible:this.Oi.Ia(),layer:this.ab,orientation:this.ea.orientation,padding:this.ea.padding.clone(),size:this.ea.size.clone(),position:this.Oi.ga().kd(),linestyle:this.hm.Fa(),fillstyle:this.hm.eb(),textstyle:this.xn.jb(),textfillstyle:this.xn.eb()}};d.prototype.ga=function(){return this.Oi.ga()};d.prototype.Ric=function(l){this.Oi.sa(l);null!=this.ea&&this.ea.hasOwnProperty("position")&&
(this.ea.position=this.Oi.ga().kd());return this};d.prototype.MA=function(){var l=this.ea,m=l.size,n=l.padding,p=l.orientation===Rh.rb,q=Fi.Ra(l.textstyle),r=ug.fd(l.textfillstyle);this.Oi=(new ni).va(!1).hd(!0).sa(this.hua).de(new jl).pa([this.hm=(new ho).sD(l.radius).Na({left:0,top:0,right:0,bottom:0}).qa(l.linestyle).ra(l.fillstyle),this.xn=(new ek({sizeisindevicespace:!0,textstyle:q,alignment:p?O.ee:O.Bd})).ra(r).Na(p?{top:"2px",left:"50%"}:{left:"2px",top:"50%"}),this.np=(new ek({sizeisindevicespace:!0,
textstyle:q,alignment:p?O.Se:O.we})).ra(r).Na(p?{bottom:"2px",left:"50%"}:{right:"2px",top:"50%"}),this.YS=(new ZN({colorbox:{size:p?m.ca()-n.ka()-n.na():m.da()-n.la()-n.ma(),linestyle:null},location:p?WN.lc:WN.Ec,axis:{size:0},namedcolors:{size:0,visible:!1},title:{visible:!1}})).Li(new mi).Ha(null).hd(!0).de((new ll).setDirection(kl.DG)).Na({left:n.ka(),right:n.na(),top:n.la(),bottom:n.ma()})]);this.ab.pa(this.Oi);p?(this.xn.va(this.xn.da()<n.la()).Na({top:n.la()-this.xn.da()}),this.np.va(this.np.da()+
2<n.ma()).Na({bottom:n.ma()-this.np.da()-2}),this.xn.jb().Zh("middle"),this.np.jb().Zh("middle")):(this.xn.va(this.xn.ca()<n.ka()).Na({left:n.ka()-this.xn.ca()}),this.np.va(this.np.ca()+2<n.na()).Na({right:n.na()-this.np.ca()-2}),this.xn.jb().Zh("alphabetic"),this.np.jb().Zh("alphabetic"))};d.prototype.ibb=function(){this.ab.removeChild(this.Oi);this.ab.pa(this.Oi);return this};d.prototype.hj=function(){SR.prototype.hj.call(this);!1===this.isEnabled()&&(this.Pd()&&this.stop(),this.lgb())};d.prototype.wbb=
function(l){var m=l.he();if(null!=this.Oi&&this.Oi.Ia()&&this.Oi.fj().contains(m))return!0;l=(l=this.pn(l))?h:k;var n=this.ZQ();if(null==n)return!1;var p=n.getParent();if(null==p||!p.Ia())return!1;l=p.wa().Ua(n.ga()).bd(l);return l.contains(m)};d.prototype.Ps=function(l){this.YS.setOptions({colorprovider:l});!0===this.Oi.Ia()&&(this.oJb(),this.setOptions(this.ea));return this};d.prototype.lgb=function(){if(null==this.Oi||!1===this.Oi.Ia())return this;this.Oi.va(!1);this.fireEvent(d.Ka.Kq,null);return this};
d.prototype.oJb=function(l){null==l&&(l=this.Oi.wa().Ma(new N(0,0)));var m=this.ZQ(),n=null;null!=m&&(""===this.xn.me()&&""===this.np.me()&&(n=m.ta(),n.range!==this.YS.ta().range&&this.YS.setOptions({range:n.range}),this.xn.Eb(this.Pr.format(n.range.min)),this.np.Eb(this.Pr.format(n.range.max))),n=m.getParent());if(!0===this.Oi.Ia())return this;m=this.ab.wa();n=n?m.sc(n.ga()):m.sc(this.hua);null!=l&&(l=m.sc(l),n.setX(l.getX()).setY(l.getY()));this.Ric(n);this.Oi.va(!0);this.setOptions({orientation:this.ta().orientation});
this.fireEvent(d.Ka.Kq,null);return this};d.prototype.poa=function(l){null==this.pd&&(this.pd=this.Oi.wa().sc(l.he()));l=this.Oi.wa().sc(l.he());this.Oi.translate(l.getX()-this.pd.getX(),l.getY()-this.pd.getY());l=this.Oi.wa().Ma(new N(0,0));this.ab.wa().sc(l);l=this.Oi.ga().clone().setX(l.x).setY(l.y);var m=this.ab.oa();l.ka()<m.ka()&&l.setX(m.ka());l.la()<m.la()&&l.setY(m.la());l.na()>m.na()&&l.setX(l.getX()-(l.na()-m.na()));l.ma()>m.ma()&&l.setY(l.getY()-(l.ma()-m.ma()));this.Ric(l);this.Oi.Tc(null);
return this};d.prototype.Ic=function(l){if(!1!==this.isEnabled())if(!1===this.Pd())this.wbb(l)?($R.fl(l.Ye(),{cursor:"grab"},this),this.OFa=!0):!0===this.OFa&&(this.OFa=!1,$R.fl(l.Ye(),{cursor:null},this));else{var m=l.he(),n=m.x-this.kg.x,p=m.y-this.kg.y,q=this.ab.fj();if(m.x<q.ka()||m.x>q.na())n=0;if(m.y<q.la()||m.y>q.ma())p=0;this.kg=m.clone();if(0!==n||0!==p)this.poa(l),this.fireEvent(d.Ka.Ry,l)}};d.prototype.gd=function(l){!1!==this.isEnabled()&&!0!==this.Pd()&&!1!==this.wbb(l)&&this.start(l)};
d.prototype.Yc=function(l){this.fireEvent(d.Ka.eXc,l);!1!==this.Pd()&&(this.stop(),this.Ic(l),this.fireEvent(d.Ka.dXc,l))};d.prototype.start=function(l){SR.prototype.start.call(this,l);$R.fl(this.uc,{cursor:"grabbing"},this);SR.lock(l.Ye(),this);this.Bo(!0);this.uc=l.Ye();this.kg=l.he().clone();this.Oi.Ia()?this.pd=this.Oi.wa().rd(this.kg):(this.oJb(this.kg),this.pd=this.Oi.oa().getCenter(),this.poa(l))};d.prototype.stop=function(){SR.prototype.stop.call(this);this.pd=null;this.Bo(!1);SR.unlock(this);
$R.fl(this.uc,{cursor:null},this)};d.prototype.Bo=function(l){this.Rs("pointermove",l,$a);this.Rs("pointerup",l,$a);return this};d.prototype.ZQ=function(){if(null!=this.ea.colorbar)return this.ea.colorbar;if("function"===typeof this.Xe.ZQ&&null!=this.Xe.ZQ())return this.Xe.ZQ();null==this.Ze&&(this.Ze=ff(this.Xe).vc(function(l){return l instanceof ZN}).ug());return this.Ze};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJoaWRlRmxvYXRpbmdDb2xvckJhciI6ImxnYiIsInNob3dGbG9hdGluZ0NvbG9yQmFyIjoib0piIn19fSAg");var NZ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){YR.call(this,a);this.Amd=b;this.Yqd=c}D(d,YR);L(d,"geotoolkit.widget.tools.LegendToolEventArgs");d.prototype.vFd=function(){return this.Amd};d.prototype.nMd=function(){return this.Yqd};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGcm9tQW5ub3RhdGlvbiI6InZGZCIsImdldFRvQW5ub3RhdGlvbiI6Im5NZCJ9fX0g");var OZ=/*#__PURE__*/ta(/*#__PURE__*/{BLa:"onAnnotationChanged",Bhb:"onMoveStart",wca:"onMoveEnd",TE:"onResize"},2,"eyJvbkFubm90YXRpb25DaGFuZ2VkIjoiQkxhIiwib25Nb3ZlU3RhcnQiOiJCaGIiLCJvbk1vdmVFbmQiOiJ3Y2EiLCJvblJlc2l6ZSI6IlRFIn0g"),PZ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){null==a&&(a={});var b=G(a,{widget:a.widget,group:a.group,layer:a.layer,padding:a.padding,name:"AbstractLegendTool"}),c={name:b.name,layer:b.layer};SR.call(this,c);this.$m({pointerdown:this.gd.bind(this),pointermove:this.Ic.bind(this),pointerup:{callback:this.Yc.bind(this),object:$a}});this.ja=b;this.Xe=this.ja.widget;this.bb=this.ja.group;this.Wf="number"==typeof this.ja.padding?this.ja.padding:
10;this.ri=this.yi=$h.Oa;this.kt={west:new ni,east:new ni,north:new ni,south:new ni};this.eh=Zj.tg();this.GN=5;this.LK=2;this.dH={east:this.Xe.fb($h.Rc).ga().ca(),west:this.Xe.fb($h.lc).ga().ca(),north:this.Xe.fb($h.ue).ga().da(),south:this.Xe.fb($h.Ec).ga().da()};this.bsb=!1;this.OEa=new uQ(a);this.uB=new wQ(null,this.ab);this.uB.Sb(this.ab.Sa());this.uB.register(this.bb.Pa(),this.OEa);this.ve=null;this.setOptions(this.ja)}D(d,SR);L(d,"geotoolkit.widgets.tools.AbstractLegendTool");d.Ka=OZ;d.prototype.pNa=
function(a){this.Xe=a;return this};d.prototype.DJ=function(){return this.Xe};d.prototype.NMa=function(a){this.bb=a;return this};d.prototype.sBb=function(){return this.bb};d.prototype.wZ=function(a){this.ab=a;this.uB.wZ(this.ab);this.uB.Sb(this.ab.Sa());return this};d.prototype.setOptions=function(a){this.ja=xb(a,this.ja,!0);void 0!==a.layer&&this.wZ(a.layer);this.OEa.setOptions({box:this.ja.box,handlestyle:this.ja.handlestyle});return this};d.prototype.ta=function(){return this.ja};d.prototype.reset=
function(){this.ve&&(this.ve.setPosition(null),this.ve=null);this.uB.dM(null);this.OEa.wh=!1};d.prototype.setActive=function(a){a?this.uB.dM(this.ve):this.uB.dM(null);return SR.prototype.setActive.call(this,a)};d.prototype.Rb=function(a){a||this.uB.dM(null);return SR.prototype.Rb.call(this,a)};d.prototype.AAc=function(a){return SR.prototype.setActive.call(this,a)};d.prototype.$h=function(){null!=this.uB&&null!=this.uB.lya()&&this.uB.lya().$h();return this};d.prototype.gd=function(a){this.ve=null;
this.uB.dM(null)};d.prototype.Ic=function(a){this.ve.Gb().ha();$R.fl(a.Ye(),{cursor:"move"},this);this.AAc(!0);a.stopPropagation(!0,!0)};d.prototype.Yc=function(a){this.yi===$h.Oa&&this.bsb&&this.ri===$h.Oa&&(this.bsb=!1,this.fireEvent(OZ.wca,new NZ(a,null,null)));a.stopPropagation(!1,!0);this.ve.ns(null);this.ve.setPosition(null);this.ve=null;$R.fl(a.Ye(),{cursor:null},this);this.AAc(!1)};d.prototype.ADc=function(a){var b=this.ve.Gb().ga().clone(),c=this.Xe.ga(),e=this.Xe.Nb().getParent().ga().clone();
if(this.yi===$h.ue){var f=this.Xe.fb(this.yi);var g={};b.la()>c.la()?(e.la()-b.la()>this.dH[this.yi]?(g[this.yi]=e.la()-b.la()+this.Wf,this.kt[this.yi].dm(g[this.yi]-this.dH[this.yi])):(g[this.yi]=this.dH[this.yi],this.kt[this.yi].dm(0)),f=f.ga().da()-g[this.yi],this.ve.Gb().sa(b.setY(b.getY()-f)),this.ve.$h(),this.Xe.Ki(g)):(this.ve.Gb().sa(b.setY(c.la()+this.Wf)),this.ve.$h());this.fireEvent(OZ.wca,new NZ(a,null,this.yi))}this.yi===$h.Ec&&(f=this.Xe.fb(this.yi),g={},b.ma()<c.ma()?(b.ma()-e.ma()>
this.dH[this.yi]?(g[this.yi]=b.ma()-e.ma()+this.Wf,this.kt[this.yi].dm(g[this.yi]-this.dH[this.yi])):(g[this.yi]=this.dH[this.yi],this.kt[this.yi].dm(0)),f=f.ga().da()-g[this.yi],this.ve.Gb().sa(b.setY(b.getY()+f)),this.ve.$h(),this.Xe.Ki(g)):(this.ve.Gb().sa(b.setY(c.ma()-b.da()-this.Wf)),this.ve.$h()),this.fireEvent(OZ.wca,new NZ(a,null,this.yi)))};d.prototype.zDc=function(a){var b=this.ve.Gb().ga().clone(),c=this.Xe.ga(),e=this.Xe.Nb().getParent().ga().clone();if(this.ri===$h.lc){var f=this.Xe.fb(this.ri);
var g={};b.ka()>c.ka()?(e.ka()-b.ka()>this.dH[this.ri]?(g[this.ri]=e.ka()-b.ka()+this.Wf,this.kt[this.ri].Em(g[this.ri]-this.dH[this.ri])):(g[this.ri]=this.dH[this.ri],this.kt[this.ri].Em(0)),f=f.ga().ca()-g[this.ri],this.ve.Gb().sa(b.setX(b.getX()-f)),this.ve.$h(),this.Xe.Ki(g)):(this.ve.Gb().sa(b.setX(c.ka()+this.Wf)),this.ve.$h());this.fireEvent(OZ.wca,new NZ(a,null,this.ri))}this.ri===$h.Rc&&(f=this.Xe.fb(this.ri),g={},b.na()<c.na()?(b.na()-e.na()>this.dH[this.ri]?(g[this.ri]=b.na()-e.na()+this.Wf,
this.kt[this.ri].Em(g[this.ri]-this.dH[this.ri])):(g[this.ri]=this.dH[this.ri],this.kt[this.ri].Em(0)),f=f.ga().ca()-g[this.ri],this.ve.Gb().sa(b.setX(b.getX()+f)),this.ve.$h(),this.Xe.Ki(g)):(this.ve.Gb().sa(b.setX(c.na()-b.ca()-this.Wf)),this.ve.$h()),this.fireEvent(OZ.wca,new NZ(a,null,this.ri)))};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJzZXRFbmFibGVkIjoiUmIiLCJ1cGRhdGVIYW5kbGVzIjoiJGgiLCJvbk1vdXNlRG93biI6ImdkIiwib25Nb3VzZU1vdmUiOiJJYyIsIm9uTW91c2VVcCI6IlljIn19fSAg");var QZ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){PZ.call(this,a);this.SQa=!1}D(d,PZ);L(d,"geotoolkit.widgets.tools.LegendMoveTool");d.prototype.gd=function(a){var b=a.ub(),c=this.pn(a),e=c?this.GN:this.LK;this.UP=!1;c=null;var f=this.Sd(b,a);e=this.eh.select(b,f.x,f.y,e);e=null==e?null:e.filter(function(g){return g===this.bb}.bind(this));f=this.Sd(this.ab,a);if(e&&0<e.length)for(b=e.length-1;0<=b;b--)if(c=this.uB.rJ(e[b])){c.Gm(e[b]);c.setPosition(f.x,f.y);this.uB.dM(c);this.ve=c;this.UP=!0;a.stopPropagation(!1,!0);
return}PZ.prototype.gd.call(this,a)};d.prototype.Ic=function(a){if(this.ve){var b=this.Sd(this.ab,a);if(this.ve.ec().x!==b.x||this.ve.ec().y!==b.y)this.ve.move(b.x,b.y),this.bsb=!0;b=this.ve.Gb().ga();var c=this.Xe.Nb().getParent().ga(),e=this.Sd(this.mc(),a),f=b.ca(),g=b.da();b=new U(e.getX(),e.getY(),b.hc(),b.Dc());this.SQa||(this.yi!==$h.Oa&&(this.dH[this.yi]=this.Xe.fb(this.yi).ga().da()-this.kt[this.yi].se()),this.ri!==$h.Oa&&(this.dH[this.ri]=this.Xe.fb(this.ri).ga().ca()-this.kt[this.ri].Tk()));
!this.SQa&&this.ve.Nw()instanceof lQ&&(this.yi!==$h.Oa&&(e={},this.kt[this.yi].dm(g+this.Wf),e[this.yi]=this.kt[this.yi].se()+this.dH[this.yi],this.Xe.Ki(e),this.fireEvent(OZ.Bhb,new NZ(a,this.yi,null)),this.SQa=!0),this.ri!==$h.Oa&&(e={},this.kt[this.ri].Em(f+this.Wf),e[this.ri]=this.kt[this.ri].Tk()+this.dH[this.ri],this.Xe.Ki(e),this.fireEvent(OZ.Bhb,new NZ(a,this.ri,null)),this.SQa=!0));if(this.yi!==$h.Oa&&(b.la()<c.ma()&&b.la()>c.la()||b.ma()<c.ma()&&b.ma()>c.la())){var h=this.Xe.fb(this.yi);
e={};h.De().remove(this.kt[this.yi]);h.removeChild(this.kt[this.yi]);e[this.yi]=this.dH[this.yi];this.Xe.Ki(e);this.fireEvent(OZ.BLa,new NZ(a,this.yi,$h.Oa));this.yi=$h.Oa;var k=!0}if(this.ri!==$h.Oa&&(b.na()<c.na()&&b.na()>c.ka()||b.ka()<c.na()&&b.ka()>c.ka())){h=this.Xe.fb(this.ri);h.De().remove(this.kt[this.ri]);h.removeChild(this.kt[this.ri]);e={};e[this.ri]=this.dH[this.ri];this.Xe.Ki(e);this.fireEvent(OZ.BLa,new NZ(a,this.ri,$h.Oa));this.ri=$h.Oa;var l=!0}!k&&(b.la()<c.la()||b.ma()>c.ma())&&
this.yi===$h.Oa&&(this.yi=b.la()<c.la()?$h.ue:$h.Ec,e={},h=this.Xe.fb(this.yi),this.kt[this.yi].dm(g+this.Wf),e[this.yi]=h.ga().da()+this.kt[this.yi].se(),this.yi===$h.ue?h.De().vo(0,this.kt[this.yi]):h.De().add(this.kt[this.yi]),h.pa(this.kt[this.yi]),this.Xe.Ki(e),this.fireEvent(OZ.BLa,new NZ(a,$h.Oa,this.yi)));!l&&(b.na()>c.na()||b.ka()<c.ka())&&this.ri===$h.Oa&&(b.na()>c.na()?this.ri=$h.Rc:this.ri=$h.lc,e={},h=this.Xe.fb(this.ri),this.kt[this.ri].Em(f+this.Wf),e[this.ri]=h.ga().ca()+this.kt[this.ri].Tk(),
this.ri===$h.lc?h.De().vo(0,this.kt[this.ri]):h.De().add(this.kt[this.ri]),h.pa(this.kt[this.ri]),this.Xe.Ki(e),this.fireEvent(OZ.BLa,new NZ(a,$h.Oa,this.ri)));PZ.prototype.Ic.call(this,a)}};d.prototype.Yc=function(a){this.ve&&(this.yi!==$h.Oa&&this.ADc(a),this.ri!==$h.Oa&&this.zDc(a),this.SQa=!1,PZ.prototype.Yc.call(this,a))};d.prototype.reset=function(){this.SQa=!1;PZ.prototype.reset.call(this)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlRG93biI6ImdkIiwib25Nb3VzZU1vdmUiOiJJYyIsIm9uTW91c2VVcCI6IlljIn19fSAg");var RZ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){PZ.call(this,a);this.TQa=!1;this.i5a=this.bb.ga()}D(d,PZ);L(d,"geotoolkit.widgets.tools.LegendResizeTool");d.prototype.gd=function(a){var b=this.pn(a),c=b?this.GN:this.LK;this.UP=!1;var e;b=this.Sd(this.ab,a);var f=this.eh.select(this.ab,b.x,b.y,c);if(f&&0<f.length)for(e=f.length-1;1<=e;e--)if(c=f[e],!(c instanceof lQ)&&"function"===typeof c.rJ){e=c.rJ();c.Pd()||a.stopPropagation(!1,!0);e.ns(c);e.setPosition(b.x,b.y);this.ve=e;this.UP=!0;return}PZ.prototype.gd.call(this,
a)};d.prototype.Ic=function(a){if(this.ve){var b=this.Sd(this.ab,a);if(this.ve.ec().x!==b.x||this.ve.ec().y!==b.y)this.ve.move(b.x,b.y),this.bsb=!0;this.TQa||(this.yi!==$h.Oa&&(this.dH[this.yi]=this.Xe.fb(this.yi).ga().da()-this.kt[this.yi].se()),this.ri!==$h.Oa&&(this.dH[this.ri]=this.Xe.fb(this.ri).ga().ca()-this.kt[this.ri].Tk()));this.TQa=!0;this.fireEvent(OZ.TE,new NZ(a));PZ.prototype.Ic.call(this,a)}};d.prototype.Yc=function(a){if(this.ve){var b=this.ve.Gb().ga().clone();if(this.yi!==$h.Oa){if(this.TQa){var c=
{};var e=this.Xe.fb(this.yi);var f=this.ve.Gb().ga().da()-this.kt[this.yi].se();this.kt[this.yi].dm(this.ve.Gb().ga().da()+this.Wf);c[this.yi]=e.ga().da()+f;this.Xe.Ki(c);this.yi===$h.ue&&b.getY()!==this.i5a.getY()&&(this.ve.Gb().sa(b.setY(b.getY()+f)),this.ve.$h());this.yi===$h.Ec&&b.ma()!==this.i5a.ma()&&(this.ve.Gb().sa(b.setY(b.getY()-f)),this.ve.$h())}this.ADc(a)}this.ri!==$h.Oa&&(this.TQa&&(c={},e=this.Xe.fb(this.ri),f=this.ve.Gb().ga().ca()-this.kt[this.ri].Tk(),this.kt[this.ri].Em(this.ve.Gb().ga().ca()+
this.Wf),c[this.ri]=e.ga().ca()+f,this.Xe.Ki(c),this.ri===$h.Rc&&b.na()!==this.i5a.na()&&(this.ve.Gb().sa(b.setX(b.getX()-f)),this.ve.$h()),this.ri===$h.lc&&b.ka()!==this.i5a.ka()&&(this.ve.Gb().sa(b.setX(b.getX()+f)),this.ve.$h())),this.zDc(a));this.TQa=!1;this.i5a=this.ve.Gb().ga().clone();PZ.prototype.Yc.call(this,a)}};d.prototype.reset=function(){this.TQa=!1;PZ.prototype.reset.call(this)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlRG93biI6ImdkIiwib25Nb3VzZU1vdmUiOiJJYyIsIm9uTW91c2VVcCI6IlljIn19fSAg");var SZ=/*#__PURE__*/ta(/*#__PURE__*/{BLa:"onAnnotationChanged",Bhb:"onMoveStart",wca:"onMoveEnd",TE:"onResize"},2,"eyJvbkFubm90YXRpb25DaGFuZ2VkIjoiQkxhIiwib25Nb3ZlU3RhcnQiOiJCaGIiLCJvbk1vdmVFbmQiOiJ3Y2EiLCJvblJlc2l6ZSI6IlRFIn0g"),TZ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){null==a&&(a={});a=G(a,{widget:a.widget,group:a.group,layer:a.manipulatorlayer||a.layer,padding:a.padding,name:"LegendTool"});var b={name:a.name,layer:a.layer};QS.call(this,b);this.Kma=new QZ(a);this.tna=new RZ(a);this.add(this.tna);this.add(this.Kma);this.ja=a;this.setOptions(this.ja)}D(d,QS);L(d,"geotoolkit.widgets.tools.LegendTool");d.Ka=SZ;d.prototype.setOptions=function(a){a.hasOwnProperty("manipulatorlayer")&&
hb("Parameter manipulatorlayer from geotoolkit.widgets.tools.LegendTool was deprecated since 3.4. Use parameter layer instead.");this.ja=xb(a,this.ja,!0);this.Kma.setOptions(a);this.tna.setOptions(a);return this};d.prototype.ta=function(){return this.ja};d.prototype.setActive=function(a){this.Kma.setActive(a);this.tna.setActive(a);return QS.prototype.setActive.call(this,a)};d.prototype.Rb=function(a){this.Kma.Rb(a);this.tna.Rb(a);return QS.prototype.Rb.call(this,a)};d.prototype.$h=function(){this.Kma.$h();
this.tna.$h();return this};d.prototype.pNa=function(a){this.Xe=a;this.Kma.pNa(a);this.tna.pNa(a);return this};d.prototype.DJ=function(){return this.Xe};d.prototype.NMa=function(a){this.bb=a;this.Kma.NMa(a);this.tna.NMa(a);return this};d.prototype.sBb=function(){return this.bb};d.prototype.wZ=function(a){this.ab=a;this.Kma.wZ(a);this.tna.wZ(a);return this};d.prototype.reset=function(){this.Kma.reset();this.tna.reset()};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJzZXRFbmFibGVkIjoiUmIiLCJ1cGRhdGVIYW5kbGVzIjoiJGgifX19");var UZ=/*#__PURE__*/ta(/*#__PURE__*/{Zmb:"ModelVisibleLimitsChanged"},2,"eyJNb2RlbFZpc2libGVMaW1pdHNDaGFuZ2VkIjoiWm1iIn0g"),VZ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f){f=G(f,{fillstyle:"white"});KZ.call(this,f);this.Yi=this.cfa=this.Ko=this.Qd=this.Cd=null;this.pa(this.MA(f));this.tX=null;this.C0a(f.tools);this.pi(f);this.fp(f.tools);this.ra(f.fillstyle);this.Di()}function a(f,g){if(f=f.fb(g))return f.Pb()&&f.Pb().pia()===Yh.uM?"auto":f.se()}function b(f,g){if(f=f.fb(g))return f.Pb()&&f.Pb().pia()===Yh.AG?"auto":f.Tk()}function c(f,g,h){for(var k,l=0;l<g.length;l++)k=g[l],k=f.fb(k),void 0!==h.constraint?
k.hd(!0).Na(h):k.Na(h)}var e="#757575";D(d,KZ);mc(d,rj);L(d,"geotoolkit.widgets.AnnotatedWidget");d.Ka=UZ;d.prototype.MA=function(f){null==f&&(f={});f=G(f,{model:new ni,north:void 0,south:void 0,east:void 0,west:void 0,annotationssizes:{}});f.annotations&&(f.annotations.west&&(f.west=f.annotations.west.item,f.annotationssizes.west=f.annotations.west.size),f.annotations.north&&(f.north=f.annotations.north.item,f.annotationssizes.north=f.annotations.north.size),f.annotations.south&&(f.south=f.annotations.south.item,
f.annotationssizes.south=f.annotations.south.size),f.annotations.east&&(f.east=f.annotations.east.item,f.annotationssizes.east=f.annotations.east.size));this.Sc=f.model;var g=new Y(e);g=Y.Ra(f.border)||g;this.Nb().kL([this.ab=new xm({dynamic_layer:!0,id:"manipulator_layer",name:"manipulator"}),this.HH()]);this.Lb=(new $l(f)).Fd("annotated_node").Na({left:0,top:0,right:0,bottom:0}).Dr(new Gm);this.HH().pa(this.hm=(new bi).cBa("visible-bounds").qa(g.Zg({x:!0,y:!0})));null===f.border&&this.hm.qa(null);
this.Eg().skb();this.Ki(f.annotationssizes);f=(new ni).Fd(f.applicationId).hd(!0).de(new jl).pa(this.Eg());this.Eg().Dib();return f};d.prototype.Eg=function(){return this.Lb};d.prototype.QGc=function(f,g){if(null!=this.Eg()&&(f=this.Eg().fb(f),null!=f&&null!=f.De())){var h=-1,k=0;f.De().getIterator().forEach(function(l){l===g&&(h=k);k++});-1!==h&&h!==k-1&&(f.De().remove(g),f.De().add(g))}};d.prototype.HKb=function(f){null!=this.Eg()&&(this.Eg().fy(f),this.Di())};d.prototype.sa=function(f){var g=this.ga();
if(null!=g&&g.Gi(f,W.Tb))return this;KZ.prototype.sa.call(this,f);f=this.ga();if(null!=g&&null!=f&&g.ca()===f.ca()&&g.da()===f.da())return this;this.Pz();this.Di();return this};d.prototype.Pz=function(){this.QGc($h.Ec,this.Qd);this.QGc($h.Rc,this.Cd);this.Af();return this};d.prototype.fS=function(f){this.Eg().fS(f);this.Di();return this};d.prototype.kbd=function(f,g){this.$b("panning")&&this.$b("panning").j8();f=g.SCb();this.Gt(f.x,f.y,f.point.x,f.point.y);this.$b("cross-hair")&&this.$b("cross-hair").bka(!0)};
d.prototype.DXc=function(f,g){this.$b("zoom")&&this.$b("zoom").j8();f=g.Zl();this.dF(f.x,f.y);this.$b("cross-hair")&&this.$b("cross-hair").bka(!0)};d.prototype.pi=function(f){this.ITa=!0;f=this.mc();this.cu=new VS(f);this.Lb.on(Zl.Zs,function(g){(g=this.$b("cross-hair"))&&g.isEnabled()&&g.bka()}.bind(this));this.eH=(new bU).Rb(!0).addListener(aU.QE,function(g,h){var k=h.Oh();h.Je()&&h.Je().ctrlKey&&("wheel"===k||"mousewheel"===k)||this.DXc(g,h)}.bind(this));this.JN=(new UU({layer:f,mode:SU.Y3})).Rb(!0).addListener(TU.aV,
function(g,h){if(h.wb())this.fy(h.wb());else{var k=h.Oh();(!h.Je()||h.Je().ctrlKey||"wheel"!==k&&"mousewheel"!==k)&&this.kbd(g,h)}}.bind(this));this.Gw=(new cT(f)).Rb(!1).addListener(RR.Vw,function(g){var h=g.isEnabled()&&g.ZCb()===CS.tP;this.$b("panning")&&this.$b("panning").Rb(!h);this.$b("zoom")&&this.$b("zoom").Rb(!h);g.isEnabled()&&this.$b("rubberband")&&this.$b("rubberband").Rb(!1)}.bind(this)).wD(function(g){return g}).Qja(CS.tP);this.Ana=(new kU(f)).Rb(!1).addListener(RR.Vw,function(g){g.isEnabled()?
(null==this.tX&&this.I_a(),this.$b("panning")&&this.$b("panning").Rb(!1),this.$b("pick")&&this.$b("pick").Rb(!1),this.$b("zoom")&&this.$b("zoom").Rb(!1)):(null!=this.tX&&(this.$b("pick")&&this.$b("pick").Rb(this.tX.selection),this.tX=null),this.$b("panning")&&this.$b("panning").Rb(!0),this.$b("zoom")&&this.$b("zoom").Rb(!0))}.bind(this)).addListener(iU.gw,function(g,h){g=h.getArea();this.Eg().fy(g);this.Di()}.bind(this));this.O4=this.YDb();this.Un([(new QS(this)).add([this.U_=(new QS(f,"manipulatorTools")).add([this.cu,
(new QS(this.HH())).nb("overlay"),this.Ana,this.Gw,this.eH]),this.JN,this.O4])]);return this};d.prototype.YDb=function(){var f=!1;return(new MZ({widget:this,layer:this})).Rb(!1).addListener(LZ.Ry,function(g,h){var k=g.Sd(this.Nb(),h);this.cu.setPosition(k,!1,h);var l=g.ga(),m=this.fb($h.Oa).ga();m=this.wa().Ua(m);var n=this.ZQ();if(null!=n){var p=n.oba();if(m.zA(l))n.va(!1),this.pb();else if(!n.Ia()){k=l.na()>=m.na()?WN.Rc:l.la()<=m.la()?WN.ue:l.ma()>=m.ma()?WN.Ec:WN.lc;if(k===WN.lc||k===WN.Rc){g.setOptions({orientation:Rh.rb}).poa(h);
var q=WN.Rc}else g.setOptions({orientation:Rh.yb}).poa(h),q=WN.Ec;l=g.ga();m.zA(l)?p!==k&&(g.setOptions({orientation:p===WN.lc||p===WN.Rc?Rh.rb:Rh.yb}),g.poa(h)):(p!==k&&(this.Eg().removeItem(n,p),k===WN.lc?this.Eg().bD(0,n,k):this.Eg().$r(n,k),n.setOptions({location:q}).vZ(k)),n.va(!0),this.pb())}}}.bind(this)).addListener(RR.Vw,function(g,h){h=this.ZQ();!1===g.Pd()?h&&h.Ia()?g.lgb():!0===f&&this.cu.va(!0):this.cu.isVisible()&&(f=!0)}.bind(this))};d.prototype.wo=function(){};d.prototype.fy=function(f){this.eJb(f);
return this};d.prototype.dF=function(f,g){this.Eg().dF(f,g);this.Di();return this};d.prototype.Gt=function(f,g,h,k){this.Eg().Gt(f,g,h,k);this.Di();return this};d.prototype.pG=function(f){var g=this.Eg().Nb().oa();if(null==g||!1===g.Gi(f,W.Tb))this.Eg().Nb().Ha(f),this.Di();return this};d.prototype.HB=function(){return null!=this.Eg()&&null!=this.Eg().Nb()?this.Eg().Nb().oa():null};d.prototype.jqa=function(f){var g=this.Nb();if(!g)return null;var h=g.getParent(),k=g.oa(),l=null;null!=h&&null!=h.oa()&&
(g=g.wa(),l=null==g?new U(h.fj()):g.wd(h.fj()));if(null!=k&&null!=l)f||l.intersect(k);else return k;return l};d.prototype.eJb=function(f){this.Eg().fy(f);this.Di();return this};d.prototype.Di=function(){var f=this.Nb().oa(),g=this.Nb().wb();this.Qd&&this.Qd.Ha(f,g,this.Nb().Ji());this.Cd&&this.Cd.Ha(f,g,this.Nb().Xo());this.wo();this.notify(UZ.Zmb,this,g.clone());return this};d.prototype.Ki=function(f){if(null==f)return this;var g=$h,h=!1;null!=f.west&&(c(this.Eg(),[g.lc,g.Qq,g.ev],{constraint:"auto"===
f.west?Yh.AG:void 0,width:"auto"===f.west?void 0:f.west}),h=!0);null!=f.east&&(c(this.Eg(),[g.Rc,g.iy,g.jx],{constraint:"auto"===f.east?Yh.AG:void 0,width:"auto"===f.east?void 0:f.east}),h=!0);null!=f.north&&(c(this.Eg(),[g.ue,g.iy,g.Qq],{constraint:"auto"===f.north?Yh.uM:void 0,height:"auto"===f.north?void 0:f.north}),h=!0);null!=f.south&&(c(this.Eg(),[g.Ec,g.jx,g.ev],{constraint:"auto"===f.south?Yh.uM:void 0,height:"auto"===f.south?void 0:f.south}),h=!0);!0===h&&(this.Eg().pb(),this.Eg().mV({west:{size:"auto"===
f.west?void 0:f.west},east:{size:"auto"===f.east?void 0:f.east},north:{size:"auto"===f.north?void 0:f.north},south:{size:"auto"===f.south?void 0:f.south}}));this.ha();return this};d.prototype.PX=function(){return{west:b(this.Eg(),$h.lc),east:b(this.Eg(),$h.Rc),north:a(this.Eg(),$h.ue),south:a(this.Eg(),$h.Ec)}};d.prototype.mV=function(f){f&&this.Eg().mV(f)&&this.Pz();return this};d.prototype.Tab=function(f,g){null!=this.mn(f)&&this.h_c(f);g.location=g.location?g.location:f;$l.RQ(this.Eg(),g)};d.prototype.mn=
function(f){f=this.fb(f);for(var g,h,k=0;k<f.ac();k++)if((h=f.gb(k))&&"function"==typeof h.gb&&h.gb(0)instanceof ek){g=h.gb(0);break}return g};d.prototype.Yjb=function(f,g){(f=this.mn(f))&&f.fa(g);return this};d.prototype.h_c=function(f){var g=this.mn(f);this.Eg().removeItem(g.getParent(),f)};d.prototype.Kw=function(f,g,h){f instanceof pk&&null!=f.getParent()&&this.Eg().removeItem(f.getParent(),g);if(f instanceof pk){var k=new ni;k.hd(!0);k.pa(f);f.sa(k.oa());this.Eg().$r(k,g)}else g=G(f,{location:g,
connect:!1}),k=$l.bU(this.Eg(),g),f=k.axis,f.fa(g),k=k.group;h&&this.Eg().connect(f,h);return{axis:f,group:k}};d.prototype.Ara=function(f){var g=f.getParent();g=g.getParent();var h=g.De();null!==h&&h.remove(f);g.removeChild(f);this.Eg().xa();this.Eg().disconnect(f)};d.prototype.connect=function(f,g,h,k){this.Eg().connect(f,g,h,k);this.Eg().DV();return this};d.prototype.disconnect=function(f){this.Eg().disconnect(f);return this};d.prototype.Hda=function(){this.Gt(1.25,1.25);return this};d.prototype.Ida=
function(){this.Gt(.8,.8);return this};d.prototype.Nb=function(){return this.Sc};d.prototype.s1=function(){this.Eg().fy(this.Nb().oa());this.Di();return this};d.prototype.pan=function(f,g){this.dF(f,g);this.Di();return this};d.prototype.Dr=function(f){this.Eg().Dr(f);return this};d.prototype.qKa=function(){return this.Eg().qKa()};d.prototype.fb=function(f){return this.Eg().fb(f)};d.prototype.mc=function(){return this.ab};d.prototype.TC=function(f){var g={paperformat:null,top:.5,bottom:.5,left:1,right:1,
units:"in",scaling:tj.Isa,keepaspectratio:!0,continuous:!1},h={footer:null,header:null,documentheader:null,save:!1,output:"PDF Output",printsettings:{},modellimits:null,imagecompression:null,streamcompression:!0,scale:null},k={mode:HE.z8,quality:1,speed:CE.N3},l=G(f||{},h,!0);l.printsettings=G(l.printsettings,g,!0);l.imagecompression=G(l.imagecompression,k,!0);l.scale||(l.scale={x:Math.abs(this.Eg().Nb().wa().lb()),y:Math.abs(this.Eg().Nb().wa().Ab())});null==l.printsettings.paperformat&&(f=Zd.ya().Xa("px"),
f=zj.ya().IH("Letter",f,vj.mC),l.printsettings.paperformat=f);this.Yi={};l.modellimits&&this.Eja(l.modellimits);this.IMa(l.scale);this.An();f=this.Qw(l);f=new em(f,l.header,l.footer,!0);var m=new mF;g=oc(l.pdfstream,np)?l.pdfstream:new vp;Array.isArray(l.embededfonts)&&(h=l.embededfonts,h.forEach(function(n){m.Xoa(n.subType,n.fontName,n.fontWeight,n.fontStyle,n.fontBase64EncodedFile,n.encoding)}));l.imagecompression&&m.Kja(l.imagecompression.mode,l.imagecompression.quality,l.imagecompression.speed);
m.Sja(l.streamcompression);return m.SIa(f,l.printsettings,g).then(function(n){this.jn();n.save(l.output,l.save);return n}.bind(this)).catch(function(n){this.jn();throw n;}.bind(this))};d.prototype.wL=function(){return this.Ko?this.Ko:this.Eg().Nb().oa()};d.prototype.Eja=function(f){this.Ko=f;return this};d.prototype.CJa=function(){return this.cfa};d.prototype.IMa=function(f){this.cfa=f;return this};d.prototype.bBb=function(){return this.Yi};d.prototype.An=function(){this.Yi=this.Yi||{};var f=[];this.Yi.notification=
this.Hj();this.xb(!1);ff(this).vc(function(h){return null!=h&&(null!=h.Ga()&&-1!==h.Ga().indexOf("manipulator")||h instanceof eS||h instanceof cS||null!=h.kc()&&"string"===typeof h.kc()&&-1!==h.kc().indexOf("manipulator"))}).select(function(h){h.Ia()&&(f.push(h),h.va(!1))});this.pb();this.Yi.layers=f;this.Yi.Yhb=!1;this.Yi.Zhb=!1;null!=this.Qd&&(this.Yi.Yhb=this.Qd.Ia(),this.Qd.va(!1));null!=this.Cd&&(this.Yi.Zhb=this.Cd.Ia(),this.Cd.va(!1));var g=this.FU(TZ);g&&(this.Yi.sVc=g.Pd(),g.setActive(!1));
g=this.wL();this.Yi.mdc=this.Eg().Nb().wb();this.hm.cBa("model-bounds");this.Eg().Nb().fy(g);this.Eg().DV();return this};d.prototype.jn=function(){null!=this.Qd&&this.Qd.va(this.Yi.Yhb);null!=this.Cd&&this.Cd.va(this.Yi.Zhb);this.hm.cBa("visible-bounds");this.Eg().Nb().fy(this.Yi.mdc);this.Eg().DV();this.Eg().pb();for(var f=this.Yi.layers,g=0;g<f.length;g++)f[g].va(!0);this.Yi.sVc&&this.FU(TZ).setActive(this.Yi.sVc);this.pb();this.xb(this.Yi.notification);this.Yi=null};d.prototype.Qw=function(f){var g=
this.CJa()?this.CJa():{x:Math.abs(this.Eg().Nb().wa().lb()),y:Math.abs(this.Eg().Nb().wa().Ab())};f=f||{};f.scale=G(f.scale,g,!0);var h=g=0,k=[];if(null!=f.documentheader){var l=f.documentheader,m=l.ga(),n=m.da();m=new oj(l,m.clone());m.sa(new U(0,0,l.ga().ca(),n));k.push(m);h+=n}n=this.Eg().Nb().wa();l=Math.abs(n.lb());n=Math.abs(n.Ab());f=X.Cl(f.scale.x/l,f.scale.y/n);f=this.RFb(k,f,h);g+=f.ca();h+=f.da();var p=this;this.Df().filter(function(q){return null!=q.ga&&!(oc(q,ni)&&-1!==q.dl(p.Eg()))}).forEach(function(q){k.push((new oj(q,
q.ga())).sa(q.ga()))});return new qj(k,new im(g,h))};d.prototype.RFb=function(f,g,h){var k=0,l=0,m=0,n=0;var p=X.Cl(g.lb(),1);var q=X.Cl(1,g.Ab());var r=this.Eg().fb($h.Oa),t=new oj(r,r.ga());r=g.transform(r.ga());f.push(t);g=this.Eg().fb($h.ue);if(null!=g&&0!==g.ga().da()){var u=new oj(g,g.ga());n=p.transform(g.ga());n=n.da();f.push(u)}g=this.Eg().fb($h.lc);if(null!=g&&0!==g.ga().ca()){var w=new oj(g,g.ga());k=q.transform(g.ga());k=k.ca();f.push(w)}g=r.ca();r=r.da();var y=this.Eg().fb($h.Rc);if(null!=
y&&0!==y.ga().ca()){var z=new oj(y,y.ga());l=q.transform(y.ga());l=l.ca();f.push(z)}q=this.Eg().fb($h.Ec);if(null!=q&&0!==q.ga().da()){var x=new oj(q,q.ga());m=p.transform(q.ga());m=m.da();f.push(x)}p=this.Eg().fb($h.Qq);if(null!=p&&!p.ga().isEmpty()){var C=new oj(p,p.ga());f.push(C)}p=this.Eg().fb($h.iy);if(null!=p&&!p.ga().isEmpty()){var A=new oj(p,p.ga());f.push(A)}p=this.Eg().fb($h.ev);if(null!=p&&!p.ga().isEmpty()){var v=new oj(p,p.ga());f.push(v)}p=this.Eg().fb($h.jx);if(null!=p&&!p.ga().isEmpty()){var B=
new oj(p,p.ga());f.push(B)}f=k;p=n;q=f+g;y=p+r;g=f+g+l;r=p+r+m;null!=u&&u.sa(new U(f,h,q,n+h));null!=w&&w.sa(new U(0,p+h,k,y+h));t.sa(new U(f,p+h,q,y+h));null!=x&&x.sa(new U(f,y+h,q,y+m+h));null!=z&&z.sa(new U(q,p+h,q+l,y+h));null!=C&&C.sa(new U(0,h,f,p+h));null!=A&&A.sa(new U(q,h,q+l,p+h));null!=v&&v.sa(new U(0,h+y,f,h+y+m));null!=B&&B.sa(new U(q,h+y,q+l,h+y+m));return new U(0,0,g,r)};d.prototype.GU=function(){var f={};null!=this.Cd&&(f.verticalscroll={},f.verticalscroll.visible=this.Cd.Ia(),f.verticalscroll.size=
this.Qd.Tk(),f.verticalscroll.type=this.Cd.Pa(),f.verticalscroll.options=this.Cd.ta());null!=this.Qd&&(f.horizontalscroll={},f.horizontalscroll.visible=this.Qd.Ia(),f.verticalscroll.size=this.Qd.se(),f.horizontalscroll.type=this.Qd.Pa(),f.horizontalscroll.options=this.Qd.ta());null!=this.$b("panning")&&(f.panning={},f.panning.enabled=this.$b("panning").isEnabled());null!=this.$b("zoom")&&(f.zoom={},f.zoom.enabled=this.$b("zoom").isEnabled());return f};d.prototype.fp=function(f){if(null==f)return this;
(f.hasOwnProperty("horizontalscroll")||f.hasOwnProperty("verticalscroll"))&&this.C0a(f);null!=f.crosshair&&this.$b("cross-hair")&&this.$b("cross-hair").fa(f.crosshair);null!=f.panning&&this.$b("panning")&&null!=f.panning.enabled&&this.$b("panning").Rb(f.panning.enabled);null!=f.zoom&&this.$b("zoom")&&null!=f.zoom.enabled&&this.$b("zoom").Rb(f.zoom.enabled);null!=f.rubberbandzoom&&this.$b("rubberband")&&this.$b("rubberband").pu(f.rubberbandzoom);null!=f.selection&&this.$b("pick")&&(this.$b("pick").pu(f.selection),
null!=f.selection.resetselection&&(this.ITa=f.selection.resetselection));return this};d.prototype.DIc=function(){null!=this.Cd&&this.Dy(this.Cd.Mc());null!=this.Qd&&this.Dy(this.Qd.Mc())};d.prototype.Qvd=function(){null!=this.Cd&&this.Un(this.Cd.Mc());null!=this.Qd&&this.Un(this.Qd.Mc())};d.prototype.Fyd=function(){null!=this.Cd&&(this.Dy(this.Cd.Mc()),this.Eg().removeItem(this.Cd,$h.Rc),this.Cd=null);null!=this.Qd&&(this.Dy(this.Qd.Mc()),this.Eg().removeItem(this.Qd,$h.Ec),this.Qd=null)};d.prototype.qqd=
function(f){var g=this.Nb().oa(),h=this.Nb().wb();f=f&&f.verticalscroll;var k=eS.Pa();if(null!=f&&null!=f.type){var l=f.options&&f.options.resizable;k=f.type;f.options=fS.ya().FIa(f.options,k);k=f.options.type;f.options=f.options.options;!l&&f.options&&delete f.options.resizable}l="VerticalScroll";null!=f&&null!=f.name&&(l=f.name);null!=this.Cd&&k!==this.Cd.Pa()&&(this.Dy(this.Cd.Mc()),this.Eg().removeItem(this.Cd,$h.Rc),this.Cd=null);null==this.Cd&&(this.Cd=iS.ya().nO(k,{name:l,modellimits:g,visiblelimits:h}).setOptions({resizable:!1}),
g=function(m,n){m=this.Nb().wb();n=n.wb();n=(m.la()-n.la())*this.Nb().wa().Ab();this.pan(0,n);this.Di()}.bind(this),this.Cd.addListener(TR.fw,g).addListener(TR.Yn,g),this.Eg().$r(this.Cd,$h.Rc),this.Un([this.Cd.Mc()]));null!=f&&(null!=f.visible&&this.Cd.va(f.visible),null!=f.options&&this.Cd.fa(f.options),this.Eg().fb($h.Rc).pb());this.Cd.ql(this.Nb().Xo())};d.prototype.kqd=function(f){var g=this.Nb().oa(),h=this.Nb().wb();f=f&&f.horizontalscroll;var k=cS.Pa();if(null!=f&&null!=f.type){var l=f.options&&
f.options.resizable;k=f.type;f.options=fS.ya().FIa(f.options,k);k=f.options.type;f.options=f.options.options;!l&&f.options&&delete f.options.resizable}l="HorizontalScroll";null!=f&&null!=f.name&&(l=f.name);null!=this.Qd&&k!==this.Qd.Pa()&&(this.Dy(this.Qd.Mc()),this.Eg().removeItem(this.Qd,$h.Ec),this.Qd=null);null==this.Qd&&(this.Qd=iS.ya().nO(k,{name:l,modellimits:g,visiblelimits:h}).setOptions({resizable:!1}),g=function(m,n){m=this.Nb().wb();n=n.wb();n=(m.ka()-n.ka())*this.Nb().wa().lb();this.pan(n,
0);this.Di()}.bind(this),this.Qd.addListener(TR.fw,g).addListener(TR.Yn,g),this.Eg().$r(this.Qd,$h.Ec),this.Un([this.Qd.Mc()]));this.Qd.Rl(this.Nb().Ji());null!=f&&(null!=f.visible&&this.Qd.va(f.visible),null!=f.options&&this.Qd.fa(f.options),this.Eg().fb($h.Ec).pb())};d.prototype.C0a=function(f){this.qqd(f);this.kqd(f);var g=this.Qd.se(),h=this.Cd.Tk();null!=f&&null!=f.horizontalscroll&&null!=f.horizontalscroll.size&&(g=f.horizontalscroll.size);null!=f&&null!=f.verticalscroll&&null!=f.verticalscroll.size&&
(h=f.verticalscroll.size);this.Cd.Na({width:h,right:0,bottom:0,top:0});this.Qd.Na({left:0,right:0,bottom:0,height:g});return this};d.prototype.ZQ=function(){return null};d.prototype.ia=function(){var f=KZ.prototype.ia.call(this);f.annotationitemswrap=this.Lb.XKc();f.annotationssizes=this.PX();f.border=this.hm.Fa();return G({tools:this.GU()},f)};d.prototype.fa=function(f){f=jc(f);if(null==f)return this;KZ.prototype.fa.call(this,f);void 0===f.north&&void 0===f.east&&void 0===f.south&&void 0===f.west||
this.mV(f);void 0!==f.annotationitemswrap&&this.Lb.b1c(f.annotationitemswrap);void 0!==f.annotationssizes&&this.Ki(f.annotationssizes);void 0!==f.border&&this.hm.qa(Y.Ra(f.border));void 0!==f.tools&&this.fp(f.tools);return this};d.prototype.getData=function(f){hb("AnnotatedWidget.prototype.getData is deprecated since 2020.1 (3.1) Use AnnotatedWidget.prototype.getToolsOptions instead");return{tools:this.GU()}};d.prototype.setData=function(f){hb("AnnotatedWidget.prototype.setData is deprecated since 2020.1 (3.1) Use AnnotatedWidget.prototype.setToolsOptions instead");
if(null==f)return this;this.fp(f.tools);return this};d.prototype.I_a=function(){this.tX={s3b:this.$b("cross-hair").isEnabled(),Oec:this.$b("rubberband").isEnabled(),selection:this.$b("pick").isEnabled(),CXc:this.$b("panning").isEnabled(),zoom:this.$b("zoom").isEnabled()};return this};d.prototype.dispose=function(){this.te()||(this.Lb.za(Zl.Zs),KZ.prototype.dispose.call(this))};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplTGF5b3V0IjoiTUEiLCJ6b29tVG9SZWN0IjoiSEtiIiwic2V0Qm91bmRzIjoic2EiLCJyZWZyZXNoTGF5b3V0IjoiUHoiLCJzZXRNb2RlbFRyYW5zZm9ybWF0aW9uIjoiZlMiLCJpbml0aWFsaXplVG9vbHMiOiJwaSIsInNldFZpc2libGVNb2RlbExpbWl0cyI6ImZ5IiwidHJhbnNsYXRlTW9kZWwiOiJkRiIsInNjYWxlTW9kZWwiOiJHdCIsInNldENlbnRlck1vZGVsTGltaXRzIjoicEciLCJnZXRDZW50ZXJNb2RlbExpbWl0cyI6IkhCIiwiZ2V0VmlzaWJsZUNlbnRlck1vZGVsTGltaXRzIjoianFhIiwic2V0VmlzaWJsZUNlbnRlck1vZGVsTGltaXRzIjoiZUpiIiwic3luY2hyb25pemVWaWV3TGltaXRzIjoiRGkiLCJzZXRBbm5vdGF0aW9uU2l6ZSI6IktpIiwiZ2V0QW5ub3RhdGlvblNpemUiOiJQWCIsInNldEFubm90YXRpb25zT3B0aW9ucyI6Im1WIiwiYWRkVGl0bGUiOiJUYWIiLCJzZXRUaXRsZU9wdGlvbnMiOiJZamIiLCJyZW1vdmVUaXRsZSI6ImhfYyIsImFkZEF4aXMiOiJLdyIsInJlbW92ZUF4aXMiOiJBcmEiLCJ6b29tSW4iOiJIZGEiLCJ6b29tT3V0IjoiSWRhIiwiZ2V0TW9kZWwiOiJOYiIsImZpdFRvQm91bmRzIjoiczEiLCJzZXRTY2FsZVNjcm9sbFN0cmF0ZWd5IjoiRHIiLCJnZXRTY2FsZVNjcm9sbFN0cmF0ZWd5IjoicUthIiwiZ2V0QW5ub3RhdGlvbiI6ImZiIiwiZ2V0TWFuaXB1bGF0b3JMYXllciI6Im1jIiwiZXhwb3J0VG9QZGYiOiJUQyIsImdldEV4cG9ydExpbWl0cyI6IndMIiwic2V0RXhwb3J0TGltaXRzIjoiRWphIiwiZ2V0RXhwb3J0U2NhbGUiOiJDSmEiLCJzZXRFeHBvcnRTY2FsZSI6IklNYSIsImJlZ2luRXhwb3J0IjoiQW4iLCJlbmRFeHBvcnQiOiJqbiIsImdldEV4cG9ydEVsZW1lbnQiOiJRdyIsImdldFRvb2xzT3B0aW9ucyI6IkdVIiwic2V0VG9vbHNPcHRpb25zIjoiZnAiLCJnZXRDb2xvckJhciI6IlpRIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwic2F2ZVRvb2xzU3RhdGUiOiJJX2EifX19");var WZ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(h,k){var l=a();xb(h,l);var m={isdatamodel:!1,annotationitemswrap:!1,bounds:l.bounds,border:l.border,tools:{verticalscroll:{visible:!1},horizontalscroll:{visible:!1}}};VZ.call(this,m);this.bYb=new N;this.cYb=new N;this.ea=l;this.ct={};this.i2=new zk({orientation:Rh.yb});this.t3=new zk({orientation:Rh.rb});m=void 0!==this.ea.shape.orientation?this.ea.shape.orientation:DQ.Fp.Ed;l=m===DQ.Fp.qb||m===DQ.Fp.Ed;this.Vc=this.wwd(m);var n=this.ea.axistitles;if(null==n)if(l){m="Groups";
var p="Values";var q="Groups";n="Values"}else m="Values",p="Groups",q="Values",n="Groups";else m=n.north,p=n.west,q=n.south,n=n.east;this.eJe=!1;$l.RQ(this.Lb,{location:$h.ue,text:m});var r=$l.bU(this.Lb,{tickgenerator:this.ct.north,location:$h.ue,connect:!1,annotationitemswrap:!1}).axis;r.Ev(this.i2);l&&r.va(!1);$l.RQ(this.Lb,{location:$h.lc,text:p});var t=$l.bU(this.Lb,{tickgenerator:this.ct.west,location:$h.lc,connect:!1,annotationitemswrap:!1}).axis;t.Ev(this.t3);var u=$l.bU(this.Lb,{tickgenerator:this.ct.south,
location:$h.Ec,connect:!1,annotationitemswrap:!1}).axis;u.Ev(this.i2);$l.RQ(this.Lb,{location:$h.Ec,text:q});var w=$l.bU(this.Lb,{tickgenerator:this.ct.east,location:$h.Rc,connect:!1,annotationitemswrap:!1}).axis;w.Ev(this.t3);l||w.va(!1);$l.RQ(this.Lb,{location:$h.Rc,text:n});this.Ve={north:m,south:q,east:n,west:p};this.Bh={north:r,south:u,east:w,west:t};this.zRa=null;this.Qv=new DQ;this.O8a=this.Qv.oa();this.nRb=(new xm).Fd("data_layer");this.nRb.pa(this.Qv);var y=(new ni).Fd("cache_group");this.Lb.connect(this.Bh.north,
y);this.Lb.connect(this.Bh.south,y);this.Lb.connect(this.Bh.east,y);this.Lb.connect(this.Bh.west,y);this.Lb.Nb().Xf(0,y);y.Li(new mi);this.tQb=y;m=(new xm).Fd("grid_layer");m.pa(this.Vc);q=(new xm).Fd("referenceline_layer");this.oN=new Bk;q.pa(this.oN);y.pa([q,m,this.nRb]);this.Qv.on(ze.Jr,function(){var z=this.A9a();this.Qv.sa(this.Qv.oa());y.Ha(z);this.Lb.Nb().Ha(z);this.Lb.DV();this.Lb.ha()}.bind(this));l?(this.t3.setOptions({neatlimits:this.ea.neatlimits,preciselimits:this.ea.preciselimits}),
this.i2.t0a(!1)):(this.i2.setOptions({neatlimits:this.ea.neatlimits,preciselimits:this.ea.preciselimits}),this.t3.t0a(!1));this.setOptions(h);null!=k&&k.mode===DQ.dK.IS&&(l=k.datasets[0],m={},m.datasets=[l],k=xb(m,k));null!=k&&null==k.datasets&&null!=h.shape.valuelimits&&(this.bm()?this.Lb.Nb().Ha(new U(h.shape.valuelimits.minvalue,0,h.shape.valuelimits.maxvalue,1)):this.Lb.Nb().Ha(new U(0,h.shape.valuelimits.minvalue,1,h.shape.valuelimits.maxvalue)));this.setData(k);return this}function a(){return{shape:{barwidth:1,
barpad:0,autogradient:!1,barvalues:{visible:!0,textstyle:(new Fi).yo(g).setColor(e)},orientation:DQ.Fp.Ed},border:{color:"transparent"},mirror:!1,referenceline:{visible:!1,value:Number.NaN,linestyle:new Y(e)},neatlimits:!0,preciselimits:!1,minpspan:75,grid:{values:b(),groups:b(!0)},annotations:{north:{size:50},south:{size:50},east:{size:50},west:{size:50}}}}function b(h){return{major:{tickvisible:!h,tickstyle:{color:e,width:1,pattern:vg.Hp},labelvisible:!0,labelstyle:{font:g,color:e}},minor:{tickvisible:!1,
tickstyle:{color:f,width:1,pattern:vg.Hp},labelvisible:!1,labelstyle:{font:g,color:f}},edge:{tickvisible:!0,tickstyle:{color:e,width:1,pattern:vg.Hp},labelvisible:!1,labelstyle:{font:g,color:e}}}}var c=function(){function h(k){ud.call(this,k);this.Ijb(qe.ya())}D(h,ud);h.prototype.Ym=function(k,l){return"datasets"===k.attributeName&&l instanceof d};h.prototype.$F=function(k){k=k.getData();return null==k?null:k.datasets.map(function(l){return l.values})};h.prototype.apply=function(k){k.setData({datasets:this.wya().map(function(l){return{values:l}})})};
return h}(),e="#757575",f="#e0e0e0",g="12px Roboto";D(d,VZ);L(d,"geotoolkit.widgets.BarChartWidget");pe.ya().YH(c);d.prototype.IIb=function(h){if(!h)return this;var k=h.value;if(void 0===k||isNaN(k))return this;var l=this.Qv.oa();if(!l)return this;this.OU()?(this.bYb.Da(l.ka(),k),this.cYb.Da(l.na(),k)):(this.bYb.Da(k,l.la()),this.cYb.Da(k,l.ma()));this.oN.xb(!1);this.oN.Cr({from:this.bYb,to:this.cYb}).va(h.visible);h.linestyle&&this.oN.qa(h.linestyle);this.oN.xb(!0);return this};d.prototype.K9b=function(){if(null!=
this.Od){for(var h=Number.MAX_VALUE,k=0,l=0;l<this.Od.length;l++)if(null!=this.Od[l]){k=null==this.Od[l-1]?k:this.Od[l-1];var m=Math.abs(this.Od[l]-k);m<h&&(h=m)}return h}return 1};d.prototype.wwd=function(h){var k=this.ea.grid;this.jfa={values:k.values instanceof Wi?k.values:wk.ya().create(k.values).Ss("edge",!0),groups:k.groups instanceof Wi?k.groups:(new uk).Er("major",1)};k=h===DQ.Fp.qb||h===DQ.Fp.Ed?new Hk(this.jfa.values,this.jfa.groups):new Hk(this.jfa.groups,this.jfa.values);k.Ev(Rh.rb,this.t3);
k.Ev(Rh.yb,this.i2);this.vwd(h);return k};d.prototype.vwd=function(h){function k(n){return n+1}var l=wk.ya(),m=this.ea.grid;this.ct=null==h||h===DQ.Fp.qb||h===DQ.Fp.Ed?{north:m.groups instanceof Wi?m.groups:(new uk).Er("major",1).Ss("edge",!1).$g("minor",!1).$ca(k),east:m.values instanceof Wi?m.values:l.create(m.values),west:m.values instanceof Wi?m.values:l.create(m.values),south:m.groups instanceof Wi?m.groups:(new uk).Er("major",1).Ss("edge",!1).$g("minor",!1).$ca(k)}:{east:m.groups instanceof
Wi?m.groups:(new uk).Er("major",1).Ss("edge",!1).$g("minor",!1).$ca(k),north:m.values instanceof Wi?m.values:l.create(m.values),south:m.values instanceof Wi?m.values:l.create(m.values),west:m.groups instanceof Wi?m.groups:(new uk).Er("major",1).Ss("edge",!1).$g("minor",!1).$ca(k)};return this};d.prototype.Y7d=function(){var h=void 0!==this.ea.shape.orientation?this.ea.shape.orientation:DQ.Fp.Ed,k=[];this.ea.grid.groups instanceof Wi||(h===DQ.Fp.qb||h===DQ.Fp.Ed?(k.push(this.ct.north),k.push(this.ct.south)):
(k.push(this.ct.east),k.push(this.ct.west)));if(Array.isArray(this.zRa)){var l=this.zRa.reduce(function(m,n){return m.length>n.length?m:n});for(h=0;h<k.length;++h)k[h].Hv(function(m,n,p,q,r,t){return this.zRa&&r<this.zRa.length?this.zRa[r]:t}.bind(this)),k[h].iIb(function(m,n,p,q,r,t){return[{type:"major",value:l}]})}else for(h=0;h<k.length;++h)k[h].Hv(null),k[h].iIb(null)};d.prototype.OU=function(){return this.Qv?this.Qv.OU():!0};d.prototype.bm=function(){return this.Qv?this.Qv.bm():!1};d.prototype.IDd=
function(){return this.nRb};d.prototype.A9a=function(){var h=null==this.O8a?this.Qv.zl():this.O8a,k=null!=this.ea.shape.valuelimits&&"number"===typeof this.ea.shape.valuelimits.maxvalue&&"number"===typeof this.ea.shape.valuelimits.minvalue;if(k){var l=this.ea.shape.valuelimits.minvalue,m=this.ea.shape.valuelimits.maxvalue;this.OU()?(h.setY(l),h.$a(m-l)):(h.setX(l),h.Qa(m-l))}this.i2.Jh(h.ka(),h.na(),this.Qv.wa());this.t3.Jh(h.la(),h.ma(),this.Qv.wa());k||(h=h.clone().setX(this.i2.qf()).Qa(this.i2.Rf()-
this.i2.qf()).setY(this.t3.qf()).$a(this.t3.Rf()-this.t3.qf()));return h};d.prototype.Di=function(){VZ.prototype.Di.call(this);if(!this.NUa&&this.Qv){this.NUa=!0;var h=this.Lb.Nb().oa(),k=this.A9a();k.Gi(h)||(this.tQb.Ha(k),this.Lb.Nb().Ha(k),this.Lb.DV(),this.Lb.ha());this.NUa=!1}return this};d.prototype.sa=function(h){VZ.prototype.sa.call(this,h);(h=this.A9a())&&!h.isEmpty()&&this.tQb&&this.tQb.Ha(h);return this};d.prototype.Hv=function(h){this.Qv.Hv(h);return this};d.prototype.setData=function(h){h&&
(this.Qv.setData(h),this.O8a=this.Qv.zl(),this.setOptions(this.ea),void 0!==h.labels&&(this.zRa=h.labels,this.Y7d()),h.positions instanceof DH?this.Od=h.positions.toArray():Array.isArray(h.positions)&&(this.Od=h.positions),null!=this.Od&&this.Od.some(function(k){return"number"!==typeof k})&&(this.Od=null),this.U8d(),this.IIb(this.ea.referenceline));this.xa();return this};d.prototype.getData=function(){return this.Qv.getData()};d.prototype.U8d=function(){if(null!=this.ct&&null!=this.Od){var h=this.K9b();
this.OU()?("function"===typeof this.ct.south.Er&&this.ct.south.Er("major",h),"function"===typeof this.ct.north.Er&&this.ct.north.Er("major",h)):("function"===typeof this.ct.west.Er&&this.ct.west.Er("major",h),"function"===typeof this.ct.east.Er&&this.ct.east.Er("major",h))}return this};d.prototype.bw=function(h,k){return this.Qv.bw(h,k)};d.prototype.setOptions=function(h){if(!h)return this;var k=null,l=this.ea.shape.orientation;this.ea=xb(h,this.ea);null!=h.shape&&null!=h.shape.valuelimits&&(k=h.shape.valuelimits);
void 0!==this.ea.shape&&(this.Qv.setOptions(this.ea.shape),this.O8a=this.Qv.zl(),this.Qv.A$b()&&(this.$jc(this.ea.shape.orientation),k=this.A9a(),k={minvalue:this.bm()?k.ka():k.la(),maxvalue:this.bm()?k.na():k.ma()}),h=xb(this.ea.shape,{}),h.valuelimits=k,h.neatlimits=!1,this.Qv.setOptions(h),this.I8d(),this.s8d(l,this.ea.shape.orientation),this.Di());void 0!==this.ea.annotations&&this.mV(this.ea.annotations);this.ea.annotationssizes&&this.Ki(this.ea.annotationssizes);void 0!==this.ea.grid&&this.G1d(this.ea.grid);
void 0!==this.ea.referenceline&&this.IIb(this.ea.referenceline);return this};d.prototype.$jc=function(h){(h=h===DQ.Fp.qb||h===DQ.Fp.Ed||void 0===h)?(this.t3.setOptions({neatlimits:this.ea.neatlimits,minspan:this.ea.minspan}),this.i2.t0a(!1)):(this.i2.setOptions({neatlimits:this.ea.neatlimits,minspan:this.ea.minspan}),this.t3.t0a(!1));return this};d.prototype.s8d=function(h,k){k=k===DQ.Fp.qb||k===DQ.Fp.Ed||void 0===k;h=h===DQ.Fp.qb||h===DQ.Fp.Ed||void 0===h;this.$jc(this.ea.shape.orientation);h!==
k&&(h={east:this.ct.east,west:this.ct.west,north:this.ct.north,south:this.ct.south},k?(this.Vc.yg(Rh.yb,this.jfa.values),this.Vc.yg(Rh.rb,this.jfa.groups)):(this.Vc.yg(Rh.yb,this.jfa.groups),this.Vc.yg(Rh.rb,this.jfa.values)),this.ct.east=h.north,this.ct.west=h.south,this.ct.north=h.east,this.ct.south=h.west);this.Bh.east.yg(this.ct.east);this.Bh.west.yg(this.ct.west);this.Bh.north.yg(this.ct.north);this.Bh.south.yg(this.ct.south)};d.prototype.I8d=function(){var h=this.Lb.Nb();h&&(this.OU()?h.ql(!0):
h.ql(!1),this.ea.mirror&&(this.OU()?h.Rl(!0):h.ql(!0)))};d.prototype.G1d=function(h){if(!h)return this;this.jfa.groups.fa(h.groups);this.jfa.values.fa(h.values);return this};d.prototype.mV=function(h){h&&(VZ.prototype.mV.call(this,h),this.Bh.east.yg(this.ct.east),this.Bh.west.yg(this.ct.west),this.Bh.north.yg(this.ct.north),this.Bh.south.yg(this.ct.south))};d.prototype.Cia=function(h,k){this.Qv.Cia(h,k);return this};d.prototype.aHb=function(h,k,l){return this.Qv.aHb(h,k,l)};d.prototype.BHb=function(h){this.Qv.BHb(h);
this.O8a=this.Qv.zl();if(this.Qv.A$b()){this.$jc(this.ea.shape.orientation);h=this.A9a();var k={minvalue:this.bm()?h.ka():h.la(),maxvalue:this.bm()?h.na():h.ma()}}this.Qv.setOptions({valuelimits:k});this.Di();return this};d.prototype.HAb=function(){return this.Qv.HAb()};d.prototype.ia=function(){return xb(this.getData(),xb(this.ea,VZ.prototype.ia.call(this)))};d.prototype.fa=function(h){h=jc(h);if(null==h)return this;VZ.prototype.fa.call(this,h);this.setOptions(h);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREYXRhTGF5ZXIiOiJJRGQiLCJzZXRCb3VuZHMiOiJzYSIsInNldEZvcm1hdExhYmVsSGFuZGxlciI6Ikh2IiwiZ2V0VmFsdWVBdCI6ImJ3IiwiaGlnaGxpZ2h0QmFycyI6IkNpYSIsInNlbGVjdEJhcnNBdCI6ImFIYiIsInNldERhdGFTZXJpZXNWaXNpYmxlIjoiQkhiIiwiZ2V0RGF0YVNlcmllc1Zpc2libGUiOiJIQWIiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var XZ=/*#__PURE__*/function(){function d(a,b){gR.call(this,a);var c=4;a=c;var e="";"string"==typeof b.unit&&(e=" ("+b.unit+") ");b.unit instanceof Wd&&(e=" ("+b.unit.cd()+") ");e=b.axisname+": "+b.value+e;this.Bb=new ek;this.Bb.fa({text:e,ax:c,ay:a});this.Bb.yc(O.Id);this.jc=b.textstyle instanceof Fi?b.textstyle:new Fi;b=sg.measureText(e,this.jc);a=a+b.da()+c;b=2*c+b.ca();this.hd(!0);this.pa(this.Bb);this.dm(a).Em(b).bf(!0)}D(d,gR);L(d,"geotoolkit.widgets.BubbleWidgetTooltipLegendItem");return d}();var YZ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(h){null==h&&(h={});var k=15,l=20,m=15,n=20,p=15,q=5,r=l+n+p;h.viewcachesize=h.viewcache||null!=h.viewcachesize?G(h.viewcachesize,{width:256,height:256}):null;h.border=G(h.border,{color:"transparent"},!0);k={bounds:h.bounds,border:h.border,north:null,south:null,west:null,east:null,viewcache:!0,viewcachesize:h.viewcachesize,annotationssizes:{north:k+l,west:k+n+l,south:k+n+m+l,east:k+m+r+q}};k=G(h,k);VZ.call(this,k);this.Znd=r;this.UF=k.viewcache;this.Duc=null;this.vu={};
null!=k.viewcachesize&&(this.UF=!0,this.vu=k.viewcachesize);this.TDa=null;this.zK=[];this.SD={datax:[],datay:[],datas:[],selectable:!1,highlightcolor:(new rf("pink")).mb()};this.NPb=k.annotationssizes;this.Ac=null!=k.colorprovider?k.colorprovider:this.Ac;r=G(null!=k.z&&null!=k.z.axis?k.z.axis.title:null,{text:"",visible:!1,textstyle:new Fi({color:f,font:g}),alignment:O.Bd});l={location:WN.Rc,componentsizes:{colorbox:p,axis:n,title:l},axis:{autolabelrotation:null!=k.z?k.z.autolabelrotation:!1,title:r},
colorprovider:this.Ac,title:{text:"zlabel",textstyle:new Fi({color:f,font:g})},flip:"true"};this.Ze=(new ZN(l)).Li(this.UF?null!=this.vu?new mi(this.vu.width,this.vu.height):new mi:null).bf(!0);this.Dld=!1;this.D9={x:null,y:null,z:null,s:null};this.ja={x:null,y:null,z:null,s:null};this.OG={x:[],y:[],z:[],s:[]};this.GD={x:!1,y:!1,z:!1,s:!1};this.z4a={x:!1,y:!1,z:!1,s:!1};this.Am={x:null,y:null,z:null};this.Xt={x:null,y:null,z:null,s:null};this.Wt={x:null,y:null,z:null,s:null};l=this.Hj();this.xb(!1);
this.Lb.skb();this.XEa=null;this.pwb=["x","y","z","s"];this.nwb=new rf({color:"white"});this.owb=new Y({color:"grey",width:1});this.qwb=new Fi;this.Bz=(new tR({data:null,sizeisindevicespace:!0,autosize:!0,autobounds:!0})).de(new Al).va(!1).bf(!0);this.Bz.sa(new U(0,0,1,1));this.pa(this.Bz);this.re=$l.RQ(this.Lb,{location:$h.ue,text:"",textstyle:{font:e}});n=$l.bU(this.Lb,{location:$h.Ec,connect:!0,title:{text:"",visible:!1,textstyle:new Fi({color:f,font:g}),alignment:O.Se},annotationitemswrap:!1}).axis;
p=null!=k.x&&null!=k.x.axis&&null!=k.x.axis.title?null:$l.RQ(this.Lb,{location:$h.Ec,text:"x"});m=null!=k.y&&null!=k.y.axis&&null!=k.y.axis.title?null:$l.RQ(this.Lb,{location:$h.lc,text:"y"});k=$l.bU(this.Lb,{location:$h.lc,connect:!0,autolabelrotation:!0,title:{text:"",visible:!1,textstyle:new Fi({color:f,font:g}),alignment:O.Bd},annotationitemswrap:!1}).axis;this.vd={x:n,y:k,z:this.Ze.ta().axis.item};this.Ve={x:p,y:m,z:!1===r.visible?this.Ze.ta().title.item:null};r=new ni;r.Em(q);this.Lb.$r(r,$h.Rc);
this.Lb.$r(this.Ze,$h.Rc);this.uu=new MQ;n.Ev(this.uu.gAb());k.Ev(this.uu.hAb());this.my=new ni;this.my.pa([(new xm).Fd("bubblechart_layer").pa([this.uu])]);this.Iob=(new ni).pa([this.rvb=(new xm).Fd("highlight_layer").pa([this.TDa=(new MQ({selectable:!1})).nb("default")])]);this.s0=null;this.Lb.Nb().Xf(0,this.Iob);this.Lb.Nb().Xf(0,this.my);this.Lb.Nb().ql(!0);this.Cd.ql(!0);this.cWa();this.Lb.Dib();this.Pz();this.Ze.va(!1);this.Duc=null!=this.vu?(new mi(this.vu.width,this.vu.height)).JMa(null):
(new mi).JMa(null);this.my.Li(this.UF?this.Duc:null);this.my.bf(!1);this.Pz();this.pi();this.fp(h.tools);this.setData(h);this.xb(l);return this}var a=function(){function h(k){ud.call(this,k);this.Ijb(ie.ya())}D(h,ud);h.prototype.Ym=function(k,l){return"s-data"===k.attributeName&&l instanceof d};h.prototype.$F=function(k){return(k=k.getData())?k.s.data:null};h.prototype.apply=function(k){k.setData({s:{data:this.wya()}})};return h}(),b="#e0e0e0",c="#f5f5f5",e="16px Roboto",f="#757575",g="13px Roboto";
D(d,VZ);L(d,"geotoolkit.widgets.BubbleChart");pe.ya().YH(a);d.prototype.cWa=function(){function h(y){y.Gj("major").setColor(b);y.Gj("minor").setColor(c);y.$g("minor",!0);y.$g("edge",!1);y.Ss("edge",!1)}var k=wk.ya(),l=k.Lxa(),m=k.Lxa(),n=k.Lxa(),p=new sk,q=new sk,r=new sk,t=k.create({ticks:{edge:{visible:!0}}});k=k.Lxa({ticks:{edge:{visible:!0}}});var u=new sk,w=new sk;h(l);h(m);h(t);h(k);h(u);h(w);this.vl={x:l,y:m,z:n,xlog:p,ylog:q,zlog:r};this.Zq={x:t,y:k,xlog:u,ylog:w};null==this.Vc&&(this.Vc=
new Hk(t,k),this.Vc.Ev(Rh.yb,this.uu.gAb()),this.Vc.Ev(Rh.rb,this.uu.hAb()),l=new xm,l.Fd("grid_layer"),l.pa(this.Vc),this.Lb.Nb().Xf(0,l));this.N7();return this};d.prototype.N7=function(){this.vd.x.yg(this.vl["x"+(this.GD.x?"log":"")]);this.vd.y.yg(this.vl["y"+(this.GD.y?"log":"")]);this.vd.z.yg(this.vl["z"+(this.GD.z?"log":"")]);this.Vc.yg(Rh.rb,this.Zq["x"+(this.GD.x?"log":"")]);this.Vc.yg(Rh.yb,this.Zq["y"+(this.GD.y?"log":"")]);var h=this.GD.z?Math.log(this.Xt.z)/Math.LN10:this.Xt.z,k=this.GD.z?
Math.log(this.Wt.z)/Math.LN10:this.Wt.z;this.vd.z.Ha(new U(h,h,k,k))};d.prototype.pi=function(){if(null==this.Ze)return this;VZ.prototype.pi.call(this);var h=this.mc();this.cu.addListener(RR.Oz,function(k,l){this.XEa=null;this.Bz.va(!1)}.bind(this));this.Gw.wD(function(k){for(var l=0;l<k.length;++l)if(k[l].bubblechart===this.uu||k[l].colorbar===this.Ze)return k[l];return[]}.bind(this)).addListener(bT.Sy,function(k,l){l.getSelection().indices instanceof Array&&this.zY({"default":{indices:l.getSelection().indices}},
this.ITa)}.bind(this)).nb("selection");this.vrb=(new cT(h)).Rb(!1).v0a($S.Ep).wD(function(k){for(var l=0;l<k.length;++l)if(k[l].bubblechart===this.uu||k[l].colorbar===this.Ze)return k[l];return[]}.bind(this)).addListener(bT.Sy,function(k,l){l.getSelection().indices instanceof Array&&(k=l.getSelection().indices,0===k.length?(this.Bz.va(!1),this.XEa=null):this.XEa!==k[0].index&&(this.XEa=k[0].index,this.t7d()))}.bind(this)).nb("bubbleHover");this.U_.add([this.vrb]);return this};d.prototype.t7d=function(){var h=
new Fo;this.pwb.forEach(function(q){var r=this.ja[q]?this.ja[q][this.XEa]:"",t=this.z4a[q]?this.z4a[q]:q;q=new XZ(null,{axisname:t,value:r,unit:this.Am[q],textstyle:this.qwb});h.add(q)}.bind(this));this.Bz.setOptions({data:h,linestyle:this.owb,fillstyle:this.nwb,autobounds:!0});var k=this.Bz.ga().clone(),l=this.Lb.Nb().getParent().ga(),m=(new X).tBa(this.Sc.wb(),l,!1,!0);l=new N(this.ja.x[this.XEa],this.ja.y[this.XEa]);l=m.transform(l);m=new N(this.Sc.fj().getX()+this.Sc.fj().ca()/2,this.Sc.fj().getY()+
this.Sc.fj().da()/2);var n=k.ca(),p=k.da();l.getX()<=m.getX()&&l.getY()<=m.getY()&&(k.setX(l.getX()),k.setY(l.getY()));l.getX()>=m.getX()&&l.getY()<=m.getY()&&(k.setX(l.getX()-n),k.setY(l.getY()));l.getX()<=m.getX()&&l.getY()>=m.getY()&&(k.setX(l.getX()),k.setY(l.getY()-p));l.getX()>=m.getX()&&l.getY()>=m.getY()&&(k.setX(l.getX()-n),k.setY(l.getY()-p));this.Bz.sa(k);this.Bz.va(!0)};d.prototype.setData=function(h){if(null==h)return this;this.fp(h.tools);null!=h.bounds&&this.sa(h.bounds);var k={};null!=
h.header&&this.L2(h.header);null!=h.painter&&this.YO(h.painter,k);void 0!==h.colorprovider&&(this.Ps(h.colorprovider,k),this.O4.Ps(this.En()));null!=h.symbolcache&&this.r7c(h.symbolcache,k);null!=h.labels&&this.B4c(h.labels,k);this.gWa=!1;null!=h.x&&this.Oib("x",h.x,k);null!=h.y&&this.Oib("y",h.y,k);null!=h.z&&this.Oib("z",h.z,k);null!=h.s&&this.Oib("s",h.s,k);this.fp(h.tools);var l=this.Lb.Nb().getParent().ga();this.uu.Ejb(new U(0,0,l.ca(),l.da()));this.TDa.Ejb(new U(0,0,l.ca(),l.da()));this.uu.setData(k);
k=this.uu.getData();null==k.colorprovider?this.Ki({east:this.NPb.east-this.Znd}):this.Ki({east:this.NPb.east});this.Pz();l=this.Lb.Nb().getParent().ga();this.uu.Ejb(new U(0,0,l.ca(),l.da()));this.TDa.Ejb(new U(0,0,l.ca(),l.da()));this.uu.Jh();this.mKb(h.trendline);this.TDa.Jh();this.pG(this.uu.ga());this.Pz();this.xa();return this};d.prototype.getData=function(h){var k={tools:this.GU()};null!=this.ga()&&(k.bounds=this.ga().ia());k.header=this.L1();k.x=this.ndb("x",h);k.y=this.ndb("y",h);this.Ac&&
this.ja.z&&(k.z=this.ndb("z",h));k.s=this.ndb("s",h);null!=this.En()&&(k.colorprovider=this.En());k.painter=this.wba();k.trendline=this.NSc();k.labels=this.P1();k.tools=this.GU();return k};d.prototype.setOptions=function(h){h=xb(h,this.ta());return this.setData(h)};d.prototype.ta=function(){return this.getData()};d.prototype.ia=function(){return G(this.getData(),VZ.prototype.ia.call(this))};d.prototype.fa=function(h){h=jc(h);if(null==h)return this;VZ.prototype.fa.call(this,h);this.setOptions(h);return this};
d.prototype.ZQ=function(){return this.Ze};d.prototype.TSa=function(h,k,l){null!=l.value.range&&l.value.range.changes===uH.Td&&0===l.value.range.from&&(this.aAc=!0);if(this.aAc){var m={};m.x={datasource:this.D9.x};m.y={datasource:this.D9.y};m.z={datasource:this.D9.z};m.s={datasource:this.D9.s};this.setData(m)}else if(h=this.uu.getData().validlength,k=null==this.ja.z?Math.min(this.ja.x.length,this.ja.y.length,this.ja.s.length):Math.min(this.ja.x.length,this.ja.y.length,this.ja.z.length,this.ja.s.length),
k>h){l=k-h;for(m in this.GD)if(this.GD.hasOwnProperty(m)&&!0===this.GD[m])for(var n=h-1;n<k;++n)this.OG[m].push(Math.log(this.ja[m][n])/Math.LN10);this.uu.qxa(l);this.pG(this.uu.ga());this.gWa=!0;this.mKb();this.Pz()}else if(k<h){h=l.value.range.from;l=l.value.range.amount;for(m in this.GD)this.GD.hasOwnProperty(m)&&!0===this.GD[m]&&this.OG[m].splice(h,l);this.uu.YZc(h,l);this.gWa=!0;this.mKb();this.Pz()}};d.prototype.WJd=function(){return this.s0.RQc().Gq()};d.prototype.mKb=function(h){var k={};
this.s0||(this.s0=(new MR).va(!1),this.HH().pa(this.s0));null!=h?(null!=h.enable&&this.s0.va(h.enable),this.s0.Ia()&&(h.regressionmodel||!h.model&&!h.order||(h.regressionmodel={},h.regressionmodel.type=h.model,h.regressionmodel.order=h.order),h.regressionline||!h.visible&&!h.linestyle||(h.regressionline={},h.regressionline.visible=h.visible,h.regressionline.linestyle=h.linestyle,h.visible=null),this.s0.Ha(this.HH().oa()),this.s0.setOptions(h),k.datax=h.datax?h.datax:this.ja.x,k.datay=h.datay?h.datay:
this.ja.y,this.s0.setData(k))):this.s0.Ia()&&(k.datax=this.ja.x,k.datay=this.ja.y,this.s0.setData(k));return this};d.prototype.NSc=function(){var h={enable:this.s0.Ia()};return h=G(this.s0.ta(),h)};d.prototype.ueb=function(h){function k(m,n){return m.toFixed(2)}function l(m,n){return Math.pow(10,m).toFixed(2)}return this.GD[h]?l:k};d.prototype.Oib=function(h,k,l){var m=!1;null==l&&(m=!0,l={});var n={},p={x:"south",y:"west",z:"east"};if("string"!==typeof h)return this;h=h.toLowerCase();if("x"!==h&&
"y"!==h&&"z"!==h&&"s"!==h||null==k)return this;null!=k.datasource&&(k.datasource!==this.D9[h]||this.aAc)&&(k.datasource instanceof DH||k.datasource instanceof RH)&&(this.D9[h]=k.datasource,this.Dld=!0,k.data=k.datasource.toArray(),k.datasource.on(sH.Qj,this.TSa.bind(this)),null!=k.datasource.Xa()&&(k.unit=k.datasource.Xa()),null!=k.datasource.Ga()&&(k.name=k.datasource.Ga()));this.z4a[h]=null!=k.name?k.name:this.z4a[h];this.Am[h]=null!=k.unit?k.unit:this.Am[h];null!=k.logarithmic&&this.GD[h]!==k.logarithmic&&
(this.GD[h]=k.logarithmic,"x"===h&&(this.cu.$x($h.ue,{textconverter:this.ueb("x")}),this.cu.$x($h.Ec,{textconverter:this.ueb("x")}),this.uu.gAb().setOptions({logarithmic:k.logarithmic})),"y"===h&&(this.cu.$x($h.Rc,{textconverter:this.ueb("y")}),this.cu.$x($h.lc,{textconverter:this.ueb("y")}),this.uu.hAb().setOptions({logarithmic:k.logarithmic})));if(null!=k.data){this.ja[h]=k.data;this.OG[h]=[];for(var q=0;q<k.data.length;++q)this.OG[h].push(Math.log(k.data[q])/Math.LN10);this.gWa=!0}if("z"===h){"number"==
typeof k.min&&"number"==typeof k.max&&(this.Xt[h]=k.min,this.Wt[h]=k.max);if(k.autominmax||null==this.Xt[h]||null==this.Wt[h])this.Xt[h]=W.qf(this.ja[h]),this.Wt[h]=W.Rf(this.ja[h]);q=this.Ac.ro();var r=this.Ac.ie(),t=[],u;r.forEach(function(w){u=this.Xt[h]+this.Wt[h]*(w-this.Ac.wc())/(this.Ac.Hc()-this.Ac.wc());t.push(u)}.bind(this));this.Ac.setColors(t,q);n.min=this.Ac.wc();n.max=this.Ac.Hc()}this.GD[h]?(null!=k.min&&(l["min"+h]=0===k.min?0:Math.log(k.min)/Math.LN10),null!=k.max&&(l["max"+h]=0===
k.max?0:Math.log(k.max)/Math.LN10),l["data"+h]=this.OG[h]):(null!=k.min&&(l["min"+h]=k.min),null!=k.max&&(l["max"+h]=k.max),l["data"+h]=this.ja[h]);null!=k.autominmax&&(l["autominmax"+h]=k.autominmax);null!=k.neatlimit&&(l["neatlimit"+h]=k.neatlimit);null!=k.preciselimit&&(l["preciselimit"+h]=k.preciselimit);"s"!==h&&((null==k.label||null==k.label.text)&&k.name&&k.unit&&(q=null!=k.name?k.name:[],k.unit instanceof Wd?(q.push(" ("),q.push(k.unit.cd()),q.push(")")):"string"===typeof k.unit&&(q.push(" ("),
q.push(k.unit),q.push(")")),k.label.text=q.join("")),null!=k.label&&(null!=this.Ve[h]?"z"===h?this.Ve[h].fa(k.label):(this.Ve[h].text.fa(k.label),ai.Yca(this.Ve[h].text,this.Ve[h].group,p[h])):"z"===h?n.axis={title:{text:k.label.text,textstyle:this.vd[h].Y6().clone().fa(k.label.textstyle)}}:(q=k.label.textstyle?this.vd[h].Y6().clone().fa(k.label.textstyle):this.vd[h].Y6(),this.vd[h].Fr({title:k.label.text,textstyle:q})),"z"===h&&null!=k.label.text&&(n.titletext=k.label.text)),null!=k.axis&&null!=
k.axis.title&&this.vd[h].Fr(k.axis.title),null!=k.annotationsize&&(q={},q[p[h]]=k.annotationsize,this.NPb[p[h]]=k.annotationsize,this.Ki(q)),null!=k.axisticks&&(this.vl[h].fa(k.axisticks),this.vl[h+"log"].fa(k.axisticks)),null!=k.gridticks&&"z"!==h&&(this.Zq[h].fa(k.gridticks),this.Zq[h+"log"].fa(k.gridticks)),null!=k.reversed&&("x"===h&&this.Lb.Nb().Rl(k.reversed),"y"===h&&this.Lb.Nb().ql(k.reversed),"z"===h&&(n.flip=k.reversed)),"z"===h&&(this.Ze.fa(n),null!=k.legendvisible&&this.Ze.va(k.legendvisible),
this.Ze.Mf()),this.Pz(),"z"===h&&this.Ze.pb(),null!=k.tickgenerator&&(this.vl[h+(this.GD[h]?"log":"")]=k.tickgenerator),this.N7());this.uu.ZYa();if(!m)return this;this.uu.setData(l);return this};d.prototype.ndb=function(h,k){h=h.toLowerCase();if("x"!==h&&"y"!==h&&"z"!==h&&"s"!==h)return{};var l={},m=this.uu.getData();!0!==k&&(l.datasource=this.D9[h],l.data=this.ja[h]);l.unit=this.Am[h];l.name=this.z4a[h];l["min"+h]=m["min"+h];l["max"+h]=m["max"+h];l.autominmax=m["autominmax"+h];l.neatlimit=m["neatlimit"+
h];l.preciselimit=m["preciselimit"+h];l.logarithmic=this.GD[h];"s"!==h&&(l.label=null!=this.Ve[h]?"z"===h?this.Ve[h].ia():this.Ve[h].text.ia():{text:this.vd[h].mn(),textstyle:this.vd[h].Y6()},this.vl[h]&&(l.axisticks=this.vl[h].ia()),"z"!==h&&(l.gridticks=this.Zq[h].ia()),k={x:$h.Ec,y:$h.lc,z:$h.Rc},k=this.Lb.fb(k[h]),l.annotationsize="x"===h?k.se():k.Tk());"z"===h&&(l.reversed=this.Ze.ta().flip);"x"===h&&(l.reversed=this.Lb.Nb().Ji());"y"===h&&(l.reversed=this.Lb.Nb().Xo());"z"===h&&(l.legendvisible=
this.Ze.Ia());return l};d.prototype.zY=function(h,k){var l=[];h["default"].indices.forEach(function(p){l.push(p.index)});if(0===l.length)this.zK=[];else if(1===l.length&&-1!==this.zK.indexOf(l[0]))this.zK.splice(this.zK.indexOf(l[0]),1);else if(k){var m=this.zK.concat(l);this.zK=m.filter(function(p,q){return m.indexOf(p)===q})}else this.zK=l;k=this.SD.highlightcolor;var n=this.uu.getData(!0);h=n.labels;this.SD=G(n,this.SD);this.SD.datax=[];this.SD.datay=[];this.SD.datas=[];this.SD.dataz=null;this.SD.labels=
[];n=4>this.SD.minsize?2:4;this.SD.minsize+=n;this.SD.maxsize+=n;this.SD.colorprovider=null;this.SD.defaultcolor=k;for(k=0;k<this.zK.length;k++)this.SD.datax.push(this.GD.x?this.OG.x[this.zK[k]]:this.ja.x[this.zK[k]]),this.SD.datay.push(this.GD.y?this.OG.y[this.zK[k]]:this.ja.y[this.zK[k]]),this.SD.datas.push(this.GD.s?this.OG.s[this.zK[k]]:this.ja.s[this.zK[k]]),0<h.length&&this.SD.labels.push(h[this.zK[k]]);this.TDa.ZYa();this.TDa.setData(this.SD);this.TDa.Jh()};d.prototype.PId=function(){hb("BubbleChart.getOverLayer() is deprecated since 2020.1 (3.1) use .getOverlayLayer() instead");
return this.HH()};d.prototype.QCb=function(){return this.RIe};d.prototype.dGd=function(){null==this.zK&&(this.zK=[]);return this.zK};d.prototype.L2=function(h){if(null==h)return this;var k={};null!=h.title&&(this.re.text.fa(h.title),ai.Yca(this.re.text,this.re.group,$h.ue));null!=h.annotationsize&&(k.north=h.annotationsize);this.Ki(k);this.Pz();return this};d.prototype.L1=function(){return{title:this.re.text.ia(),annotationsize:this.Lb.fb($h.ue).se()}};d.prototype.B4c=function(h,k){var l=!1;null==
k&&(l=!0,k={});if(h.data instanceof BH||h.data instanceof PH)h.data=h.datasource.toArray();Array.isArray(h.data)&&(k.labels=h.data);k.labelvisible=h.visible;k.labeltextstyle=h.textstyle;k.labellocation=h.location;k.secondarylocation=h.secondarylocation;k.labelpadding=h.padding;if(!l)return this;this.uu.setData(k);return this};d.prototype.P1=function(){var h={},k=this.uu.getData();h.visible=k.labelvisible;h.textstyle=k.labeltextstyle;h.location=k.labellocation;h.secondarylocation=k.secondarylocation;
h.padding=k.labelpadding;return h};d.prototype.YO=function(h,k){var l=!1;null==k&&(l=!0,k={});k=G(h,k);this.SD=G(h,this.SD);this.uu.ZYa();if(!l)return this;this.uu.setData(k);return this};d.prototype.wba=function(){var h=this.uu.getData();return{symbol:h.symbol,minsize:h.minsize,maxsize:h.maxsize,sizebin:h.sizebin,defaultfillstyle:h.defaulfillstyle,defaultlinestyle:h.defaultlinestyle}};d.prototype.Ps=function(h,k){if(null==h)return this;var l=!1;null==k&&(l=!0,k={});if(h instanceof Mo)this.Ac=h;else if(null!=
h.type){var m=Mo.TWa(h.type);this.Ac=h=m.Ra(h)}k.colorprovider=this.Ac;this.Ze.setOptions({colorprovider:this.Ac});this.Ze.pb();this.Ze.Mf();this.uu.ZYa();if(!l)return this;this.uu.setData(k);return this};d.prototype.En=function(){return this.Ac};d.prototype.r7c=function(h,k){var l=!1;null==k&&(l=!0,k={});null!=h.width&&(k.cachewidthlimit=h.width);null!=h.height&&(k.cacheheightlimit=h.height);this.uu.ZYa();if(!l)return this;this.uu.setData(k);return this};d.prototype.fp=function(h){if(null==h||null==
this.Ze)return this;null!=h.crosshair&&(null!=h.crosshair.north&&(h.crosshair.north.textconverter=null),null!=h.crosshair.south&&(h.crosshair.south.textconverter=null),null!=h.crosshair.east&&(h.crosshair.east.textconverter=null),null!=h.crosshair.west&&(h.crosshair.west.textconverter=null));null!=h.tooltip&&(null!=h.tooltip.enabled&&(!0===h.tooltip.enabled?this.vrb.Rb(!0):this.vrb.Rb(!1)),this.pwb=Array.isArray(h.tooltip.displayprops)?h.tooltip.displayprops:this.pwb,this.nwb=h.tooltip.fillstyle instanceof
rf?h.tooltip.fillstyle:this.nwb,this.owb=h.tooltip.linestyle instanceof Y?h.tooltip.linestyle:this.owb,this.qwb=h.tooltip.textstyle instanceof Fi?h.tooltip.textstyle:this.qwb);VZ.prototype.fp.call(this,h);return this};d.prototype.GU=function(){var h=VZ.prototype.GU.call(this);h.selection={};h.selection.enable=this.Gw.isEnabled();h.selection.resetselection=this.ITa;h.tooltip={};h.tooltip.enable=this.vrb.isEnabled();h.tooltip.displayprops=this.pwb;h.tooltip.fillstyle=this.nwb;h.tooltip.linestyle=this.owb;
h.tooltip.textstyle=this.qwb;return h};d.prototype.dispose=function(){for(var h in this.D9)this.D9.hasOwnProperty(h)&&null!=this.D9[h]&&this.D9[h].za(sH.Qj,this.TSa);VZ.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVHcmlkQW5kQXhlcyI6ImNXYSIsImluaXRpYWxpemVUb29scyI6InBpIiwiZ2V0T3B0aW9ucyI6InRhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0Q29sb3JCYXIiOiJaUSIsImdldFJlZ3Jlc3Npb25BbmFseXNpcyI6IldKZCIsInVwZGF0ZVJlZ3Jlc3Npb25MaW5lIjoibUtiIiwiZ2V0VHJlbmRsaW5lT3B0aW9ucyI6Ik5TYyIsImdldExhYmVsVGV4dENvbnZlcnRlciI6InVlYiIsInNldEF4aXNEYXRhIjoiT2liIiwiZ2V0QXhpc0RhdGEiOiJuZGIiLCJoaWdobGlnaHRJbmRpY2VzIjoielkiLCJnZXRPdmVyTGF5ZXIiOiJQSWQiLCJnZXRSc3F1YXJlZCI6IlFDYiIsImdldEhpZ2hsaWdodEluZGljZXMiOiJkR2QiLCJzZXRIZWFkZXJPcHRpb25zIjoiTDIiLCJnZXRIZWFkZXJPcHRpb25zIjoiTDEiLCJzZXRMYWJlbHMiOiJCNGMiLCJnZXRMYWJlbHMiOiJQMSIsInNldFBhaW50ZXIiOiJZTyIsImdldFBhaW50ZXIiOiJ3YmEiLCJzZXRDb2xvclByb3ZpZGVyIjoiUHMiLCJnZXRDb2xvclByb3ZpZGVyIjoiRW4iLCJzZXRTeW1ib2xDYWNoZSI6InI3YyIsInNldFRvb2xzT3B0aW9ucyI6ImZwIiwiZ2V0VG9vbHNPcHRpb25zIjoiR1UifX19");var ZZ=/*#__PURE__*/ta(/*#__PURE__*/{dnb:0,M8:1},2,"eyJPZmYiOiJkbmIiLCJPbiI6Ik04In0g"),$Z=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){ni.call(this,a);var c={normal:{textstyle:(new Fi({font:"bold 8px Arial"})).setColor("black"),linestyle:new Y({color:"gray",width:1}),fillstyle:new rf("#f5f5f5")},disabled:{textstyle:(new Fi({font:"8px Arial"})).setColor("gray"),linestyle:new Y({color:"gray",width:1}),fillstyle:new rf("#DDDDDD")},pressed:{textstyle:(new Fi({font:"bold 8px Arial"})).setColor("black"),linestyle:new Y({color:"gray",width:3}),fillstyle:new rf("#d3d3d3")},hover:{textstyle:(new Fi({font:"bold 8px Arial"})).setColor("black"),
linestyle:new Y({color:"gray",width:1}),fillstyle:new rf("#e3e3FF")}};null==a&&(a={});null==a.styles&&(a.styles={});a.styles.normal=G(a.styles.normal,c.normal);a.styles.disabled=G(a.styles.disabled,c.disabled);a.styles.pressed=G(a.styles.pressed,c.pressed);a.styles.hover=G(a.styles.hover,c.hover);a=G(a,{width:15,height:15,text:"",toggle:null!=b&&null!=b.ZKa?b.ZKa():!1,textanchor:O.Oa,disabled:!1,state:0,padding:[5,3,5,3]});this.state=a.state;this.disabled=a.disabled;this.CTc=!1;this.Zqd=a.toggle;
this.Og=a.styles;this.ZWb=a.onClick;this.Wf=a.padding;this.Xe=b;this.je(a);this.bf(!0);this.hd(!0)}D(d,ni);L(d,"geotoolkit.widgets.Button");d.EG=ZZ;d.prototype.je=function(a){this.pa([this.pj=new ho({left:0,top:0,right:1,bottom:1}),this.Bb=(new ek({text:a.text,ax:.5,ay:.5})).yc(a.textanchor)]);this.oKb()};d.prototype.oKb=function(){var a=this.Og.normal;!0===this.CTc&&(a=this.Og.hover);this.state===d.EG.M8&&(a=this.Og.pressed);this.disabled&&(a=this.Og.disabled);this.pj.qa(a.linestyle.clone()).ra(a.fillstyle.clone());
this.Bb.kb(a.textstyle.clone());var b=sg.measureText(this.Bb.me(),this.Bb.jb());a=b.ca()+this.Wf[0]+this.Wf[2]+1;b=b.da()+this.Wf[1]+this.Wf[3]+1;this.Ha(new U(0,0,a,b)).Em(a).dm(b);this.pj.cb(0,0,a,b);this.Bb.Zn(a/2);this.Bb.mq(b/2);this.ha()};d.prototype.getState=function(){return this.state};d.prototype.me=function(){return null==this.Bb?null:this.Bb.me()};d.prototype.setState=function(a){this.state=a;this.oKb();return this};d.prototype.ZKa=function(){return this.Zqd};d.prototype.vgc=function(a){this.CTc=
a;this.oKb();return this};d.prototype.OPd=function(){return this.disabled};d.prototype.d1d=function(a){this.disabled=a;this.oKb();return this};d.prototype.jWd=function(){null!=this.Xe&&!0===this.Xe.ZKa()&&this.Xe.Kjc(ZZ.dnb)};d.prototype.click=function(){if(!1===this.disabled){this.jWd();var a=0===this.state?1:0;1===a&&null!=this.ZWb&&"function"===typeof this.ZWb&&this.ZWb.call(this,this)}};d.prototype.FPe=function(){};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUZXh0IjoibWUiLCJpc1RvZ2dsZSI6IlpLYSIsInNldEhvdmVyIjoidmdjIiwiaXNEaXNhYmxlZCI6Ik9QZCIsInNldERpc2FibGVkIjoiZDFkIn19fSAg"),b_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){KZ.call(this,a);this.ea=G(a,{layout:new ll,
toggle:!1});this.zk=[];this.MA(a);this.pi();this.bf(!0)}D(d,KZ);L(d,"geotoolkit.widgets.ButtonWidget");d.prototype.MA=function(a){var b=[];this.rh();a.buttons.forEach(function(c){c=new $Z(c,this);b.push(c)}.bind(this));this.hd(!0).pa(b);this.zk=b;this.kkc();this.d8d()};d.prototype.d8d=function(){this.De().cb(this.oa()).add(this.zk).zc()};d.prototype.kkc=function(){var a=0,b=0,c=0,e=0;this.zk.forEach(function(f){var g=f.oa().ca();f=f.oa().da();a=a>g?a:g;b=b>f?b:f;c+=g;e+=f});this.ea.layout instanceof
ll?(this.Em(c),this.dm(b)):(this.ea.layout instanceof xl?this.Em(a):this.Em(c),this.dm(e))};d.prototype.pi=function(){var a;this.Un(a=new a_(this));this.fr=a;return this};d.prototype.ZKa=function(){return this.ea.toggle};d.prototype.Kjc=function(a){this.zk.forEach(function(b){b.setState(a)})};d.prototype.b2=function(){return this.fr};d.prototype.rCd=function(a){return null==a||null==this.zk||0===this.zk.length||this.zk.length<a?null:this.zk[a]};d.prototype.sCd=function(a){if(null==a||null==this.zk||
0===this.zk.length)return null;var b=this.zk.filter(function(c){return a===c.me()});return 0<b.length?b[0]:null};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplVG9vbHMiOiJwaSIsImlzVG9nZ2xlIjoiWkthIiwidG9nZ2xlQWxsIjoiS2pjIiwiZ2V0VG9vbHMiOiJiMiIsImdldEJ1dHRvbkJ5SW5kZXgiOiJyQ2QiLCJnZXRCdXR0b25CeVRleHQiOiJzQ2QifX19"),a_=/*#__PURE__*/function(){function d(a){a=G(a,{name:"buttongrouptool",layer:a instanceof Uh?a:null},!0);SR.call(this,a);this.$m({pointerdown:this.gd.bind(this),pointermove:this.Ic.bind(this),pointerup:this.Yc.bind(this)});this.eh=new Zj}D(d,SR);L(d,"geotoolkit.widgets.ButtonGroupTool");d.prototype.bHb=function(a,b){var c=this.mc();a=this.Sd(c,a);var e=X.Vd(c.oa(),c.ga(),!1,!1);e.Ma(a,a);
c=this.eh.select(c,a.getX(),a.getY(),2);return c.filter(function(f){return f instanceof b})};d.prototype.gd=function(a){var b=this.bHb(a,$Z);a=this.bHb(a,b_);this.pvb=b;null!=b&&0<b.length&&(b[0].click(),a[0].kkc())};d.prototype.Ic=function(a){var b=this.bHb(a,$Z);a=this.bHb(a,b_);b!==this.PTb&&(null!=this.PTb&&this.PTb[0].vgc(!1),null!=b&&0<b.length&&(b[0].vgc(!0),this.PTb=b,Array.isArray(a)&&0<a.length&&a[0].kkc()))};d.prototype.Yc=function(a){null!=this.pvb&&0!==this.pvb.length&&!0!==this.pvb[0].ZKa()&&
this.pvb[0].setState(0)};return d}();var d_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(r,t){return null!=this.Bma?this.Bma.format(t.toFixed(2)):t.toFixed(2)}function a(r,t,u){return null!=this.Bma?this.Bma.format(r.toFixed(2)):r.toFixed(2)}function b(r,t){return null!=this.Bma?this.Bma.format(Math.pow(10,t).toFixed(2)):Math.pow(10,t).toFixed(2)}function c(r,t){return null!=this.Bma?this.Bma.format(Math.pow(10,r).toFixed(2)):Math.pow(10,r).toFixed(2)}function e(r){null==r&&(r={});var t=15,u=25,w=15,y=30,z=15,x=u+y+z,C=50;r.viewcachesize=r.viewcache||null!=
r.viewcachesize?G(r.viewcachesize,{width:256,height:256}):null;r.border=G(r.border,{color:"transparent"},!0);t={bounds:r.bounds,border:r.border,north:null,south:null,west:null,east:null,viewcache:!0,viewcachesize:r.viewcachesize,annotationssizes:{north:t+u,west:t+y+u,south:t+y+w+u,east:t+w+x+p},annotationitemswrap:!1};t=G(r,t);t.x=G(t.x,{neatlimits:!1,preciselimits:!1,minspan:C});t.y=G(t.y,{neatlimits:!1,preciselimits:!1,minspan:C});t.z=G(t.z,{neatlimits:!1,preciselimits:!1,minspan:C});VZ.call(this,
t);this.TSa=this.fTd.bind(this);this.eXb=this.jTd.bind(this);this.cXb=this.hTd.bind(this);this.dXb=this.iTd.bind(this);this.UF=t.viewcache;this.vu={};null!=t.viewcachesize&&(this.UF=!0,this.vu=t.viewcachesize);this.uub=null;this.NUa=!1;C=this.Hj();this.xb(!1);this.Lb.skb();this.xj={x:new zk({orientation:Rh.yb,neatlimits:t.x.neatlimits,preciselimits:t.x.preciselimits}),y:new zk({orientation:Rh.rb,neatlimits:t.y.neatlimits,preciselimits:t.y.preciselimits}),z:null};this.Mp={x:null,y:null,z:null};this.sRb=
this.CLa.bind(this);this.gXb=this.uTd.bind(this);this.w4a={x:!1,y:!1,z:!1};this.B4={x:null,y:null,z:null};this.OG={x:[],y:[],z:[]};this.ly={x:!1,y:!1,z:!1};this.rF={x:$h.Ec,y:$h.lc,z:$h.Rc};this.Am={x:null,y:null,z:null};this.Xt={x:0,y:0,z:0};this.Wt={x:1,y:1,z:1};this.AF={x:null,y:null,z:null};this.HSa={x:!1,y:!1,z:!1};this.re=$l.RQ(this.Lb,{location:$h.ue,text:"",textstyle:{font:l}});this.re.text.Zc("crossplot-title");w=$l.bU(this.Lb,{location:this.rF.x,connect:!0,title:{text:"",visible:!1,textstyle:new Fi({color:m,
font:n}),alignment:O.Se},annotationitemswrap:!1}).axis;w.Zc("crossplot-horizontal-axis");w.Ev(this.xj.x);x=null!=t.x&&null!=t.x.axis&&null!=t.x.axis.title?null:$l.RQ(this.Lb,{location:this.rF.x,text:"x"});var A=null!=t.y&&null!=t.y.axis&&null!=t.y.axis.title?null:$l.RQ(this.Lb,{location:this.rF.y,text:"y"}),v=$l.bU(this.Lb,{location:this.rF.y,connect:!0,autolabelrotation:!0,autolabelrotationangle:-Math.PI/2,title:{text:"",visible:!1,textstyle:new Fi({color:m,font:n}),alignment:O.Bd},annotationitemswrap:!1}).axis;
v.Zc("crossplot-vertical-axis");v.Ev(this.xj.y);var B=G(null!=t.z&&null!=t.z.axis?t.z.axis.title:null,{text:"",visible:!1,textstyle:new Fi({color:m,font:n}),alignment:O.Oa});u={location:this.rF.z,componentsizes:{colorbox:z,axis:y,title:u},axis:{autolabelrotation:null!=t.z&&null!=t.z.autolabelrotation?t.z.autolabelrotation:!0,autolabelrotationangle:-Math.PI/2,title:B},colorprovider:new Po({values:[0,1],colors:["black","black"]}),title:{text:"zlabel",textstyle:new Fi({color:m,font:n})},flip:!1};this.Ac=
null;this.Ze=(new ZN(u)).Li(this.UF?null!=this.vu?new mi(this.vu.width,this.vu.height):new mi:null).bf(!0).$E(f(this.rF.z));this.Xq=null;this.vd={x:w,y:v,z:this.Ze.ta().axis.item};this.Ve={x:x,y:A,z:!1===B.visible?this.Ze.ta().title.item:null};this.Lb.$r(this.Ze,this.rF.z);this.my=new ni;this.my.pa([(new xm).Fd("xplot_layer").pa([this.tH=new PQ])]);this.Iob=(new ni).pa([this.rvb=(new xm).Fd("highlight_layer").pa([this.WHa=(new PQ).nb("default")])]);this.I5={"default":{"cross-plot":this.WHa,"highlighted-indices":[],
data:[],options:{}}};this.Lb.Nb().Xf(0,this.Iob);this.Lb.Nb().Xf(0,this.my);this.Lb.Nb().ql(!0);this.Cd.ql(!0);this.cWa();this.Lb.Dib();this.Pz();this.prb.va(!1);this.Ze.va(!1);this.Iob.Li(this.UF?null!=this.vu?new mi(this.vu.width,this.vu.height):new mi:null);this.my.Li(this.UF?null!=this.vu?(new mi(this.vu.width,this.vu.height)).JMa(null):(new mi).JMa(null):null);this.my.bf(!0);this.pi();this.setData(r);this.xb(C);this.pG(this.b6a());this.Pz();this.tXb=this.PX();this.gyc=function(){var E=this.Ze.oba();
this.Ze.Ia()?(this.Ze.$E(f(E)),this.rF.z=E,this.MTc(E)):(this.Ze.$E(null),this.mIc(E))}.bind(this);this.fyc=function(){if(this.Ze.Ia()){var E=this.rF.z,H=this.Ze.oba();H!==E&&(this.Ze.$E(f(H)),this.rF.z=H,this.mIc(E),this.MTc(H))}}.bind(this);this.Ze.on(Wh.Lv,this.fyc);this.Ze.on(ze.zP,this.gyc);return this}function f(r){switch(r){case $h.ue:return{bottom:p};case $h.Ec:return{top:p};case $h.lc:return{right:p};case $h.Rc:return{left:p}}return null}function g(r,t,u){null!=r[t]&&null!=u[t]&&!0!==r[t].autominmax&&
(u[t].autominmax=!1,u[t].min=r[t].min,u[t].max=r[t].max)}var h="#e0e0e0",k="#f5f5f5",l="16px Roboto",m="#757575",n="13px Roboto",p=10;D(e,VZ);L(e,"geotoolkit.widgets.CrossPlot");e.prototype.dispose=function(){if(null!=this.ja)if(this.ja instanceof mI)this.ja.za("StateChanged",this.TSa);else{if(this.ja instanceof LH||this.ja instanceof TH)this.ja.za(KH.nC,this.cXb),this.ja.za(KH.oC,this.dXb),this.ja.za(KH.yk,this.eXb)}else for(var r in this.Mp)this.Mp.hasOwnProperty(r)&&null!=this.Mp[r]&&(this.Mp[r].za(sH.Qj,
this.sRb),this.Mp[r].za(NH.nP,this.gXb));this.Ze.za(Wh.Lv,this.fyc);this.Ze.za(ze.zP,this.gyc);VZ.prototype.dispose.call(this)};e.prototype.Pz=function(){var r=this.b6a();r&&!r.isEmpty()&&this.pG(r);VZ.prototype.Pz.call(this);r=this.Lb.fb("center");this.prb.va(this.AF.x.Ia()||this.AF.y.Ia()||this.AF.z.Ia());this.prb.sa(r.oa());return this};e.prototype.sa=function(r){VZ.prototype.sa.call(this,r);this.Di();return this};e.prototype.pi=function(){if(null==this.Ze)return this;VZ.prototype.pi.call(this);
var r=this.mc();this.Gw.wD(function(t){for(var u=0;u<t.length;++u)if(t[u].crossplot===this.tH)return t[u];return[]}.bind(this)).addListener(bT.Sy,function(t,u){u.getSelection().indices instanceof Array&&this.zY({"default":{indices:u.getSelection().indices}},this.ITa)}.bind(this));this.uub=(new eU(r)).addListener(dU.DAa,function(t,u){t=u.getSelection();for(u=0;u<t.length;u++)t[u].crossplot===this.tH&&this.zY(t[u].indices,this.ITa)}.bind(this)).addListener(RR.Vw,function(t){t.isEnabled()?(this.Gw.Rb(!1),
this.eH.Rb(!1)):this.eH.Rb(!0)}.bind(this)).Rb(!1);this.U_.add(this.uub);this.JN.Rb(!0).addListener(TU.NR,function(t){this.my.Li(null)}.bind(this)).addListener(TU.gw,function(t){this.my.Li(this.UF?null!=this.vu?(new mi(this.vu.width,this.vu.height)).JMa(null):(new mi).JMa(null):null)}.bind(this));return this};e.prototype.cWa=function(){function r(E){E.Gj("major").setColor(h);E.Gj("minor").setColor(k);E.$g("minor",!0);E.$g("edge",!1)}var t=wk.ya(),u=t.create(),w=t.create(),y=(new ik).fHb(hk.BMb),z=
new sk,x=new sk,C=new sk,A=t.create({ticks:{edge:{visible:!0}}});t=t.create({ticks:{edge:{visible:!0}}});var v=new sk,B=new sk;r(A);r(t);r(v);r(B);this.vl={x:u,y:w,z:y,xlog:z,ylog:x,zlog:C};this.Zq={x:A,y:t,xlog:v,ylog:B};null==this.Vc&&(this.Vc=new Hk(A,t),this.Vc.Ev(Rh.yb,this.xj.x),this.Vc.Ev(Rh.rb,this.xj.y),u=new xm,u.Fd("grid_layer"),u.pa(this.Vc),this.my.Xf(0,u),this.AF.x=(new qR({bounds:new U(0,0,1,1),bins:25,frequencytype:nR.A3a,fillstyle:new rf("rgba(192,192,192,0.3)"),linestyle:new Y("rgba(192,192,192,0.3)")})).va(!1),
this.AF.y=(new qR({bounds:new U(0,0,1,1),bins:25,frequencytype:nR.A3a,fillstyle:new rf("rgba(192,192,192,0.3)"),linestyle:new Y("rgba(192,192,192,0.3)")})).va(!1),this.AF.z=(new qR({bounds:new U(0,0,1,1),bins:25,frequencytype:nR.A3a,fillstyle:new rf("rgba(192,192,192,0.3)"),linestyle:new Y("rgba(192,192,192,0.3)")})).va(!1),u=(new ni).pa(this.AF.x),w=(new ni).pa(this.AF.y).rotate(-Math.PI/2,.5,.5),y=(new ni).pa(this.AF.z).rotate(Math.PI/2,.5,.5),z=null,this.UF&&(z=null==this.vu?new mi:new mi(this.vu.width,
this.vu.height)),x=this.Lb.fb("center"),this.prb=(new ni).Li(z).va(!1).sa(x.ga()).Ha(new U(0,0,1,1)).pa([new ho({left:0,top:0,width:1,height:1,linestyle:new Y("transparent")}),u,w,y]),x.pa(this.prb));this.N7();return this};e.prototype.N7=function(){this.vd.x.yg(this.vl["x"+(this.ly.x?"log":"")]);this.vd.y.yg(this.vl["y"+(this.ly.y?"log":"")]);this.vd.z.yg(this.vl["z"+(this.ly.z?"log":"")]);this.Vc.yg(Rh.rb,this.Zq["x"+(this.ly.x?"log":"")]);this.Vc.yg(Rh.yb,this.Zq["y"+(this.ly.y?"log":"")]);var r=
this.ly.z?Math.log(this.Xt.z)/Math.LN10:this.Xt.z,t=this.ly.z?Math.log(this.Wt.z)/Math.LN10:this.Wt.z;this.vd.z.Ha(new U(r,r,t,t))};e.prototype.setData=function(r){xb(r,this.getData());this.fp(r.tools);null!=r.bounds&&this.sa(r.bounds);this.L2(r.header);if(null!=r.datasource){if(null!=this.ja)if(this.ja instanceof mI)this.ja.za("StateChanged",this.TSa);else if(this.ja instanceof LH||this.ja instanceof TH)this.ja.za(KH.nC,this.cXb),this.ja.za(KH.oC,this.dXb),this.ja.za(KH.yk,this.eXb);this.ja=r.datasource;
if(null!=this.ja)if(this.ja instanceof mI)this.ja.on("StateChanged",this.TSa);else if(this.ja instanceof LH||this.ja instanceof TH)this.ja.on(KH.nC,this.cXb),this.ja.on(KH.oC,this.dXb),this.ja.on(KH.yk,this.eXb)}null!=r.marker&&this.Xgc(r.marker);void 0!==r.colorprovider&&(this.Ps(r.colorprovider),this.O4.Ps(this.En()));null!=r.x&&this.S7("x",r.x);null!=r.y&&this.S7("y",r.y);null!=r.z&&this.S7("z",r.z);this.fp(r.tools);return this};e.prototype.getData=function(r){r=r||{};var t={tools:this.GU()};null!=
this.ga()&&(t.bounds=this.ga().ia());t.header=this.L1(t.header);t.x=this.npa("x",r);t.y=this.npa("y",r);t.z=this.npa("z",r);null!=this.En()&&(t.colorprovider=this.En().ia());t.marker=this.$7b();return t};e.prototype.ia=function(){return G(VZ.prototype.ia.call(this),this.getData())};e.prototype.fa=function(r){r=jc(r);if(null==r)return this;VZ.prototype.fa.call(this,r);return this.setOptions(r)};e.prototype.setOptions=function(r){r=xb(r,this.ia());this.L2(r.header);null!=r.marker&&this.Xgc(r.marker);
void 0!==r.colorprovider&&(this.Ps(r.colorprovider),this.O4.Ps(this.En()));void 0!==r.tools&&this.fp(r.tools);null!=r.x&&this.S7("x",r.x);null!=r.y&&this.S7("y",r.y);null!=r.z&&this.S7("z",r.z);return this};e.prototype.ta=function(){var r=this.getData();r.header=this.L1();null!=this.En()&&(r.colorprovider=this.En().ia());r.marker=this.$7b();r.colorprovider=this.En();r.tools=this.GU();return r};e.prototype.Xgc=function(r){if(null==r)return this;var t={},u={};null!=r.defaultcolor&&(t.defaultcolor=r.defaultcolor);
void 0!==r.defaultlinecolor&&(t.defaultlinecolor=r.defaultlinecolor);null!=r.highlightcolor&&(u.defaultcolor=r.highlightcolor,t.highlightcolor=r.highlightcolor);null!=r.size&&(t.symbolsize=r.size);u.symbolsize=null!=r.highlightsize?r.highlightsize:r.size;null!=r.painter&&(t.painter="string"===typeof r.painter?Lb(r.painter):r.painter);u.painter=null!=r.highlightpainter?"string"===typeof r.highlightpainter?Lb(r.highlightpainter):r.highlightpainter:"string"===typeof r.painter?Lb(r.painter):r.painter;
this.tH.setData(t);this.WHa.setData(u);this.qnd=u;return this};e.prototype.$7b=function(){var r={},t=this.tH.getData(),u=this.WHa.getData();r.painter="string"===typeof t.painter?t.painter:null!=t.painter.Pa?t.painter.Pa():t.painter;r.size=t.symbolsize;r.defaultcolor=t.defaultcolor.XA();r.defaultlinecolor=t.defaultlinecolor instanceof xd?t.defaultlinecolor.XA():null;r.highlightcolor=t.highlightcolor.XA();r.highlightsize=u.symbolsize;return r};e.prototype.L2=function(r){if(null==r)return this;var t=
{};null!=r.title&&(this.re.text.fa(r.title),ai.Yca(this.re.text,this.re.group,$h.ue),this.re.group.va(this.re.text.Ia()));null!=r.annotationsize&&(t.north=r.annotationsize);this.Ki(t);this.Pz();return this};e.prototype.L1=function(){return{title:this.re.text.ia(),annotationsize:this.Lb.fb($h.ue).se()}};e.prototype.VLd=function(r){return"x"===r?this.ly[r]?c.bind(this):a.bind(this):"y"===r?this.ly[r]?b.bind(this):d.bind(this):this.ly[r]?c.bind(this):a.bind(this)};e.prototype.S7=function(r,t,u){var w=
null!=u?u:{};if(null==t)return w;r=r.toLowerCase();if("x"!==r&&"y"!==r&&"z"!==r)return w;var y=!1,z={},x={};void 0!==t.location&&this.rF[r]!==t.location&&this.OXd(r,t);void 0!==t.neatlimits&&(this.HSa[r]=t.neatlimits,this.xj[r]&&(t.minspan&&this.xj[r].setOptions({minspan:t.minspan}),void 0!==t.preciselimits&&this.xj[r].setOptions({preciselimits:t.preciselimits}),this.xj[r].t0a(t.neatlimits)));if(void 0===t.datasource)if(null!=this.ja&&null!=t.name){var C=null;this.ja.query().vc('item => name(item) == "'+
t.name+'"').select(function(E){C=E});null!=C&&(t.datasource=C)}else null!=this.Mp[r]&&(t.datasource=this.Mp[r]);t.datasource!=this.Mp[r]&&(y=!0,null==this.ja&&null!=this.Mp[r]&&(this.Mp[r].za(sH.Qj,this.sRb),this.Mp[r].za(NH.nP,this.gXb)),this.Mp[r]=t.datasource,null==this.ja&&null!=this.Mp[r]&&(this.Mp[r].on(sH.Qj,this.sRb),this.Mp[r].on(NH.nP,this.gXb)));var A=this.Mp[r];void 0===t.unit||null==t.unit===(null==this.Am[r])&&(null==t.unit||Zd.ya().Xa(t.unit).PA(this.Am[r]))||(this.Am[r]=t.unit,null!=
A&&(y=!0));null!=A&&(null==A.Xa()||null!=A.Xa()&&""===A.Xa().cd()?null!=this.Am[r]&&(this.Am[r]=null,y=!0):Zd.ya().Xa(A.Xa()).Tm(this.Am[r])||(this.Am[r]=A.Xa(),y=!0));null!=t.autominmax&&(this.w4a[r]=t.autominmax);y&&(null!=A?null==t.data&&(t.data=A.toArray(!1,this.Am[r])):t.data=[]);var v=[];if(null!=t.data)for(y=!0,null==this.B4[r]&&0<t.data.length&&(v=W.Ol(t.data),null==t.min&&(t.min=v[0]),null==t.max&&(t.max=v[1]),null==t.reversed&&(t.reversed="y"===r?t.min<t.max:t.min>t.max)),this.B4[r]=t.data,
this.OG[r]=[],v=0;v<t.data.length;++v)this.OG[r].push(Math.log(t.data[v])/Math.LN10);!0===this.w4a[r]&&(null!=A?(t.min=A.qf(this.Am[r]),t.max=A.Rf(this.Am[r])):null!=this.B4[r]&&(v=W.Ol(this.B4[r]),t.min=v[0],t.max=v[1]));null!=t.logarithmic&&this.ly[r]!==t.logarithmic&&(y=!0,this.ly[r]=t.logarithmic,v=this.VLd(r),"x"===r&&(this.cu.$x($h.ue,{textconverter:v}),this.cu.$x($h.Ec,{textconverter:v})),"y"===r&&(this.cu.$x($h.Rc,{textconverter:v}),this.cu.$x($h.lc,{textconverter:v})),null!=this.xj[r]&&this.xj[r].N4c(this.ly[r]));
null!=t.label&&null==t.label.text&&null!=A&&(A=[A.Ga()],this.Am[r]instanceof Wd?(A.push(" ("),A.push(this.Am[r].cd()),A.push(")")):"string"===typeof this.Am[r]&&(A.push(" ("),A.push(this.Am[r]),A.push(")")),t.label.text=A.join(""));null!=t.label&&(null!=this.Ve[r]?"z"===r?this.Ve[r].fa(t.label):(this.Ve[r].text.fa(t.label),ai.Yca(this.Ve[r].text,this.Ve[r].group,this.rF[r])):"z"===r?(A=this.vd[r].Y6(),x.axis={title:{text:t.label.text,textstyle:null!=A?A.clone().fa(t.label.textstyle):t.label.textstyle}}):
(A=t.label.textstyle?this.vd[r].Y6().clone().fa(t.label.textstyle):this.vd[r].Y6(),this.vd[r].Fr({text:t.label.text,textstyle:A})),"z"===r&&null!=t.label&&(null!=t.label.text&&(x.titletext=t.label.text),null!=t.label.textstyle&&(x.titletextstyle=t.label.textstyle)));null!=t.axis&&(null!=t.axis.title&&this.vd[r].Fr(t.axis.title),null!=t.axis.baseline&&this.vd[r].nV(t.axis.baseline),null!=t.axis.autolabelrotation&&("z"===r?this.Ze.setOptions({axis:{autolabelrotation:t.axis.autolabelrotation}}):this.vd[r].Rz(t.axis.autolabelrotation)),
null!=t.axis.autolabelrotationangle&&("z"===r?this.Ze.setOptions({axis:{autolabelrotationangle:t.axis.autolabelrotationangle}}):this.vd[r].Bja(t.axis.autolabelrotationangle)));null!=t.annotationsize&&(z[this.rF[r]]=t.annotationsize);null!=t.min&&(this.Xt[r]=t.min);null!=t.max&&(this.Wt[r]=t.max);!0===t.neatlimits&&!0!==t.preciselimits&&(A=W.Vp(this.Xt[r],this.Wt[r],!1,!1),this.Xt[r]=A.Ta(),this.Wt[r]=A.Ya());!0===y&&(w["data"+r]=this.ly[r]?this.OG[r]:this.B4[r]);null!=t.tickgenerator&&(this.vl[r+
(this.ly[r]?"log":"")]=t.tickgenerator);null!=t.gridtickgenerator&&"z"!==r&&(this.Zq[r+(this.ly[r]?"log":"")]=t.gridtickgenerator);null!=t.axisticks&&(this.vl[r].fa(t.axisticks),this.vl[r+"log"].fa(t.axisticks));null!=t.gridticks&&"z"!==r&&(this.Zq[r].fa(t.gridticks),this.Zq[r+"log"].fa(t.gridticks));this.ly[r]?(w["min"+r]=0===this.Xt[r]?0:Math.log(this.Xt[r])/Math.LN10,w["max"+r]=0===this.Wt[r]?0:Math.log(this.Wt[r])/Math.LN10):(w["min"+r]=this.Xt[r],w["max"+r]=this.Wt[r]);"z"===r&&(x.min=w.minz,
x.max=w.maxz);y={};null!=t.histogram&&(A=this.AF[r],null!=t.histogram.visible&&A.va(t.histogram.visible),null!=t.histogram.fillstyle&&(y.fillstyle=t.histogram.fillstyle),null!=t.histogram.linestyle?y.linestyle=t.histogram.linestyle:null!=t.histogram.linecolor&&(y.linestyle=Y.Ra(t.histogram.linecolor)),null!=t.histogram.bins&&(y.bins=Number(t.histogram.bins)));if(null==u){this.N7();this.tH.setData(w);this.O9c(this.WHa,this.xBb());if("z"!==r){u={};u["min"+r]=w["min"+r];u["max"+r]=w["max"+r];for(var B in this.I5)this.I5.hasOwnProperty(B)&&
this.I5[B]["cross-plot"].setData(u)}this.pG(this.b6a())}else"z"!==r&&(u["min"+r]=w["min"+r],u["max"+r]=w["max"+r]);null!=t.reversed&&("x"===r&&this.Lb.Nb().Rl(t.reversed),"y"===r&&this.Lb.Nb().ql(t.reversed),"z"===r&&(x.flip=t.reversed));this.Ki(z);"z"===r&&(this.Ac instanceof Po&&(null!=this.Ac.FE()?this.Ac.gl(this.Ac.FE(),x.min,x.max):this.Ac.PO(x.min,x.max)),this.Ze.setOptions(x).$E(f(this.rF.z)),null!=t.legendvisible&&this.Ze.va(t.legendvisible),this.Ze.Mf());this.Pz().N7();"z"===r&&this.Ze.pb();
this.tH.Jh();!0===this.AF[r].Ia()&&(this.AF[r].setData(y),this.nGb(r));return w};e.prototype.b6a=function(){var r=this.tH.ga();this.xj.x.Jh(r.ka(),r.na(),this.tH.wa());r=r.clone().setX(this.xj.x.qf()).Qa(this.xj.x.Rf()-this.xj.x.qf());this.xj.y.Jh(r.la(),r.ma(),this.tH.wa());return r=r.clone().setY(this.xj.y.qf()).$a(this.xj.y.Rf()-this.xj.y.qf())};e.prototype.Di=function(){VZ.prototype.Di.call(this);if(!this.NUa&&this.tH){this.NUa=!0;var r=this.HB(),t=this.b6a();t.Gi(r)||this.pG(t);this.NUa=!1}return this};
e.prototype.npa=function(r,t){r=r.toLowerCase();if("x"!==r&&"y"!==r&&"z"!==r)return{};var u={};u.unit=this.Am[r];if(null!=this.Mp[r]||null!=this.B4[r])u.autominmax=this.w4a[r];null!=t&&!0!==t["no-data"]&&(u.datasource=this.Mp[r],u.data=this.B4[r]);u.label=null!=this.Ve[r]?"z"===r?this.Ve[r].ia():this.Ve[r].text.ia():{text:this.vd[r].mn(),textstyle:this.vd[r].Y6()};t=this.Lb.fb(this.rF[r]);u.annotationsize="x"===r?t.se():t.Tk();u.min=this.Xt[r];u.max=this.Wt[r];u.logarithmic=this.ly[r];u.neatlimits=
this.HSa[r];this.xj[r]?(u.minspan=this.xj[r].ta().minspan,u.preciselimits=this.xj[r].ta().preciselimits):u.preciselimits=!1;this.vl[r]&&(u.axisticks=this.vl[r].ia());"z"!==r&&(u.gridticks=this.Zq[r].ia());t={};var w=this.AF[r];t.visible=w.Ia();t.bins=w.RX();t.color=w.eb().mb();t.linecolor=w.Fa().mb();u.histogram=t;"z"===r&&(u.reversed=this.Ze.ta().flip);"x"===r&&(u.reversed=this.Lb.Nb().Ji());"y"===r&&(u.reversed=this.Lb.Nb().Xo());"z"===r&&(u.legendvisible=this.Ze.Ia());u.location=this.rF[r];return u};
e.prototype.OXd=function(r,t){var u=!1;if("z"===r)this.Ze.setOptions({location:t.location}),this.Lb.removeItem(this.Ze,this.rF[r]),this.Lb.$r(this.Ze,t.location);else{this.Lb.disconnect(this.vd[r]);this.Lb.removeItem(this.vd[r],this.rF[r]);var w=yk.ya().aPc(t.location);w=G(w,this.vd[r].ia());this.vd[r].setOptions(w);this.Lb.connect(this.vd[r],this.Lb.Nb());this.Lb.$r(this.vd[r],t.location)}null==t.label?(t.label={location:t.location},u=!0):null==t.label.location&&(t.label.location=t.location,u=!0);
if(u&&null!=this.Ve[r]){u=this.Ve[r].text;if("z"!==r)switch(t.location){case $h.lc:u.Tc(X.Ui(+Math.PI/2,u.Wn(),u.Cm()));break;case $h.Rc:u.Tc(X.Ui(+Math.PI/2,u.Wn(),u.Cm()));break;default:u.Tc(null)}else switch(t.location){case $h.lc:this.Ze.vZ(WN.lc);break;case $h.Rc:this.Ze.vZ(WN.Rc)}"z"!==r&&(u=this.Ve[r].group,this.Lb.removeItem(u,this.rF[r]),t.location===$h.ue||t.location===$h.lc?this.Lb.bD(0,u,t.location):this.Lb.$r(u,t.location))}this.rF[r]=t.location};e.prototype.nGb=function(r){if(null==
this.AF||null==this.AF[r]||!1===this.AF[r].Ia())return this;var t=this.Lb.Nb().wb(),u=this.tH.BQc(t).map(function(y){return y[r]});if("z"!==r){var w="x"===r?t.getX():t.getY();t=w+("x"===r?t.ca():t.da())}else w=this.Ze.ta().range.min,t=this.Ze.ta().range.max;this.AF[r].setData({data:u,minvalue:w,maxvalue:t});"y"===r&&this.AF[r].getParent().Rl(this.Lb.Nb().Ji());"x"===r&&this.AF[r].getParent().ql(this.Lb.Nb().Xo());"z"===r&&this.AF[r].getParent().Rl(this.Lb.Nb().Ji());this.AF[r].ha();return this};e.prototype.hTd=
function(r,t,u){this.lcb(u.from,u.count)};e.prototype.iTd=function(r,t,u){this.PIa(u.from,u.count)};e.prototype.jTd=function(){var r={x:{axisname:"x",dataModified:!1,boundsChanged:!1,dataCommands:[],changed:!1,exists:!1,data:null},y:{axisname:"y",dataModified:!1,dataCommands:[],boundsChanged:!1,changed:!1,exists:!1,data:null},z:{axisname:"z",dataModified:!1,dataCommands:[],boundsChanged:!1,changed:!1,exists:!1,data:null}};for(t in this.Mp)this.Mp.hasOwnProperty(t)&&(r[t].exists=!0);var t=this.getData({"no-data":!0});
g(t,"x",r);g(t,"y",r);g(t,"z",r);this.setData(r)};e.prototype.fTd=function(r,t,u){if(u.data instanceof Io){r={x:{axisname:"x",dataModified:!1,boundsChanged:!1,dataCommands:[],changed:!1,exists:!1,data:null},y:{axisname:"y",dataModified:!1,dataCommands:[],boundsChanged:!1,changed:!1,exists:!1,data:null},z:{axisname:"z",dataModified:!1,dataCommands:[],boundsChanged:!1,changed:!1,exists:!1,data:null}};for(var w in this.Mp)if(this.Mp.hasOwnProperty(w)){r[w].exists=!0;var y=this.Mp[w];if(null!=y){var z=
u.data.Cx(y)?u.data.get(y):null,x;if(null!=z)for(t=0;t<z.length;t++)if(r[w].changed=!0,x=z[t].data)"state"===x.name?(null!=x.value.min&&(r[w].min=x.value.min,r[w].boundsChanged=!0),null!=x.value.max&&(r[w].max=x.value.max,r[w].boundsChanged=!0),x=x.value.range,null!=x&&null!=x.changes&&(r[w].dataModified=!0,"shifted"===x.changes?r[w].dataCommands.push({name:"shifted",amount:x.amount}):x.changes===AH.kCa?r[w].dataCommands.push({name:x.changes,amount:x.amount}):x.changes===AH.fPa?r[w].dataCommands.push({name:x.changes,
from:x.from,amount:x.amount}):x.changes===uH.Td&&(x=this.npa(w,{}),null!=x.datasource&&(r[w].name="reset",r[w].data=x.datasource,r[w].src=y)))):"data"===x.name&&(r[w].data=x.value,r[w].name="data",r[w].src=y)}}u=function(C,A){if(!C.exists||!A.exists)return!1;var v=C.boundsChanged&&this.w4a[C.axisname]||A.boundsChanged&&this.w4a[A.axisname]||C.changed!==A.changed||C.dataModified!==A.dataModified||C.dataCommands.length!==A.dataCommands.length||"reset"===C.name||"reset"===A.name;if(!v&&0<C.dataCommands.length){C=
C.dataCommands;A=A.dataCommands;for(var B=0;B<C.length;++B)if(C[B].name!==A[B].name||C[B].amount!==A[B].amount||C[B].name===AH.fPa&&C[B].from!==A[B].from){v=!0;break}}return v}.bind(this);t={};if(u(r.x,r.y)||u(r.x,r.z))r.x.changed&&(t=this.CLa(sH.Qj,r.x.src,r.x,t)),r.y.changed&&(t=this.CLa(sH.Qj,r.y.src,r.y,t)),r.z.changed&&(t=this.CLa(sH.Qj,r.z.src,r.z,t)),this.N7(),this.tH.setData(t),this.pG(this.b6a());else{u=r.x.dataCommands;for(t=0;t<u.length;++t)w=u[t],"shifted"===w.name?this.B3b(w.amount):
w.name===AH.kCa?this.kcb(w.amount):w.name===AH.fPa&&this.PIa(w.from,w.amount);0===u.length&&(u=this.getData({"no-data":!0}),g(u,"x",r),g(u,"y",r),g(u,"z",r),this.setData(r))}}};e.prototype.CLa=function(r,t,u,w){w=this.nPb("x",r,t,u,w);w=this.nPb("y",r,t,u,w);return w=this.nPb("z",r,t,u,w)};e.prototype.nPb=function(r,t,u,w,y){if(t!==sH.Qj||!(u instanceof DH||u instanceof RH)||this.Mp[r]!==u)return y;t={data:u.toArray(!1,this.Am[r])};!0===u.autominmax&&(t.min=u.qf(this.Am[r]),t.max=u.Rf(this.Am[r]));
return this.S7(r,t,y)};e.prototype.uTd=function(r,t){r={};for(var u in this.Mp)this.Mp.hasOwnProperty(u)&&this.Mp[u]instanceof xH&&(r[u]={data:this.Mp[u].toArray(!1,this.Am[u])});this.setData(r)};e.prototype.U2b=function(r,t){return this.Mp[r].U2b(t,this.Am[r])};e.prototype.getValue=function(r,t){if(!(null==this.Mp[r]||this.Mp[r].getLength()<=t))return t=this.Mp[r].getValue(t),null!=this.Mp[r].Xa()&&(t=this.Mp[r].Xa().convert(t,this.Am[r])),this.ly[r]&&(t=Math.log(t)/Math.LN10),t};e.prototype.B3b=
function(r){for(var t in this.Mp)if(this.Mp.hasOwnProperty(t)){var u=this.ly[t]?this.OG[t]:null;if(null!=u)for(var w=0;w<r;w++)u.shift()}this.tH.B3b(r)};e.prototype.PIa=function(r,t){for(var u in this.Mp)if(this.Mp.hasOwnProperty(u)){var w=this.ly[u]?this.OG[u]:null;null!=w&&w.splice(r,t)}this.tH.PIa(r,t)};e.prototype.kcb=function(r){var t=this.Mp.x.getLength();this.lcb(t-r,r)};e.prototype.lcb=function(r,t){for(var u=r;u<r+t;u++){var w={x:this.getValue("x",u),y:this.getValue("y",u),z:this.getValue("z",
u)};this.ly.x?this.OG.x[u]=w.x:this.B4.x[u]=w.x;this.ly.y?this.OG.y[u]=w.y:this.B4.y[u]=w.y;this.ly.z?this.OG.z[u]=w.z:this.B4.z[u]=w.z}this.tH.lcb(r,t)};e.prototype.Ps=function(r){null==r&&(r=this.tH.getData().defaultcolor.XA(),r=new Po({values:[0,1],colors:[r,r]}));if(r instanceof Mo)this.Ac=r;else if(null!=r.type){var t=Mo.TWa(r.type);this.Ac=t.Ra(r)}else null!=this.Ac&&(t=Mo.TWa(this.Ac.Pa()),r=t.Ra(r),null!=r&&(this.Ac=r));r={colorprovider:this.Ac};this.N7();this.tH.setData(r);this.Ze.setOptions(r);
this.Ze.pb();this.Ze.Mf();return this};e.prototype.En=function(){return this.Ac};e.prototype.xBb=function(r){null==r&&(r="default");return null==this.I5[r]?null:this.I5[r]["highlighted-indices"]};e.prototype.gGd=function(){var r=[],t;for(t in this.I5)this.I5.hasOwnProperty(t)&&r.push(t);return r};e.prototype.jGd=function(r){null==r&&(r="default");return null==this.I5[r]?null:this.I5[r].options};e.prototype.C$b=function(r,t){r=this.tH.M1(r);this.zY(r,t)};e.prototype.O9c=function(r,t){var u=[],w=[],
y=this.ly.x?this.OG.x:this.B4.x,z=this.ly.y?this.OG.y:this.B4.y;if(Array.isArray(y)&&Array.isArray(z)){t=t.slice().sort();for(var x=0;x<t.length;++x){var C=t[x];if(0===x||C!==t[x-1])u.push(y[C]),w.push(z[C])}}r.setData({datax:u,datay:w})};e.prototype.Tsd=function(r,t,u){var w=r["cross-plot"];null!=t.options&&(w.setData(t.options),r.options=t.options);null!=t.indices&&(t=!0===u?t.indices:r["highlighted-indices"].concat(t.indices),r["highlighted-indices"]=t,this.O9c(w,t))};e.prototype.zY=function(r,
t){function u(z,x,C){z=z.getData();var A={};A["min"+C]=z["min"+C];A["max"+C]=z["max"+C];x.setData(A)}var w=r;Array.isArray(r)&&(w={"default":{indices:r}});for(var y in w)w.hasOwnProperty(y)&&(r=this.I5[y],null==r&&(r=(new PQ).nb(y).setData(this.qnd).sa(this.WHa.ga().clone()),u(this.WHa,r,"x"),u(this.WHa,r,"y"),this.rvb.pa([r]),this.I5[y]={"cross-plot":r,"highlighted-indices":[]}),this.Tsd(this.I5[y],w[y],t));return this};e.prototype.M1=function(r){return this.tH.M1(r)};e.prototype.wo=function(){this.nGb("x");
this.nGb("y");this.nGb("z")};e.prototype.fp=function(r){if(null==r)return this;null!=r.crosshair&&(null!=r.crosshair.north&&(r.crosshair.north.textconverter=null),null!=r.crosshair.south&&(r.crosshair.south.textconverter=null),null!=r.crosshair.east&&(r.crosshair.east.textconverter=null),null!=r.crosshair.west&&(r.crosshair.west.textconverter=null));null!=r.crosshair&&(this.Bma=r.crosshair.labelformat instanceof aj?r.crosshair.labelformatter:new dj({exponentialformat:"0.##E0"}));VZ.prototype.fp.call(this,
r);return this};e.prototype.ZQ=function(){return this.Ze};e.prototype.S6d=function(r,t,u){this.Xq&&(this.Dy(this.Xq),this.Xq.dispose());this.Xq=new PS({offset:t?t:0,symbolAlignment:r?r:OS.BD,group:this,colorbar:this.Ze,callback:function(w,y,z){w=new U(w.x-5,w.y-5,w.x+5,w.y+5);w=this.Nb().wa().wd(w);w=this.M1(w);y=this.getData().z.data;w=null!=y&&0<w.length?y[w[w.length-1]]:null;this.ly.z&&(w=Math.log(w)/Math.LN10);return w}.bind(this)});u instanceof Km&&this.Xq.Ao(u);this.Un(this.Xq);return this};
e.prototype.R6d=function(){this.Xq&&(this.Dy(this.Xq),this.Xq=null);return this};e.prototype.jDd=function(){return this.tH};e.prototype.Ki=function(r,t){VZ.prototype.Ki.call(this,r);t||null==this.rF||(this.tXb=this.PX());return this};e.prototype.mIc=function(r){var t=this.PX();t[r]=this.tXb[r];this.Ki(t,!0);return this};e.prototype.MTc=function(r){var t=this.PX(),u=this.Ze.bm(),w=this.Ze.Bl();w=(u?w.da():w.ca())+p;var y=this.tXb[r],z=this.fb(r),x=0,C=this;z.Df().forEach(function(A){A!==C.Ze&&(A=null!=
A.Bl&&A.Bl())&&(x+=u?A.da():A.ca())});t[r]=Math.max(y,w+x);this.Ze.Na({constraint:u?Yh.uM:Yh.AG});this.Ki(t,!0);return this};var q=JZ.lg();q.om("geotoolkit.widgets.CrossPlot",q.wv("geotoolkit.widgets.BaseWidget"));return e}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJyZWZyZXNoTGF5b3V0IjoiUHoiLCJzZXRCb3VuZHMiOiJzYSIsImluaXRpYWxpemVUb29scyI6InBpIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0T3B0aW9ucyI6InRhIiwic2V0TWFya2VyT3B0aW9ucyI6IlhnYyIsImdldE1hcmtlck9wdGlvbnMiOiIkN2IiLCJzZXRIZWFkZXJPcHRpb25zIjoiTDIiLCJnZXRIZWFkZXJPcHRpb25zIjoiTDEiLCJzZXRBeGlzRGF0YU9wdGlvbnMiOiJTNyIsInN5bmNocm9uaXplVmlld0xpbWl0cyI6IkRpIiwiZ2V0QXhpc0RhdGFPcHRpb25zIjoibnBhIiwic2V0Q29sb3JQcm92aWRlciI6IlBzIiwiZ2V0Q29sb3JQcm92aWRlciI6IkVuIiwiZ2V0SGlnaGxpZ2h0ZWRJbmRpY2VzIjoieEJiIiwiZ2V0SGlnaGxpZ2h0U2VsZWN0aW9uTmFtZXMiOiJnR2QiLCJnZXRIaWdobGlnaHRlZE9wdGlvbnMiOiJqR2QiLCJoaWdobGlnaHRBcmVhIjoiQyRiIiwiaGlnaGxpZ2h0SW5kaWNlcyI6InpZIiwiZ2V0SW5kaWNlc0F0IjoiTTEiLCJzZXRUb29sc09wdGlvbnMiOiJmcCIsImdldENvbG9yQmFyIjoiWlEiLCJzd2l0Y2hPbkN1cnNvclRvb2wiOiJTNmQiLCJzd2l0Y2hPZmZDdXJzb3JUb29sIjoiUjZkIiwiZ2V0Q3Jvc3NQbG90U2hhcGUiOiJqRGQiLCJzZXRBbm5vdGF0aW9uU2l6ZSI6IktpIn19fSAg");var e_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){te.call(this);b=G(b,{datatable:null,sortingarrowoptions:null},!0);this.ja=b.datatable;this.IQa=new TH(b.datatable);this.URb=this.H_b="";"string"===typeof b.sortingarrowoptions?this.Htc=this.$Bc=this.URb=this.H_b=b.sortingarrowoptions:(b=G(b.sortingarrowoptions,{uparrowfillcolor:"black",downarrowfillcolor:"black",uparrowlinecolor:"black",downarrowlinecolor:"black"},!0),this.H_b="string"===typeof b.uparrowfillcolor?b.uparrowfillcolor:"black",this.URb="string"===typeof b.downarrowfillcolor?
b.downarrowfillcolor:"black",this.$Bc="string"===typeof b.uparrowlinecolor?b.uparrowlinecolor:"black",this.Htc="string"===typeof b.downarrowlinecolor?b.downarrowlinecolor:"black");this.jHa=this.wq=null;this.zw=[];this.IIa();this.je()}var a=0;D(d,te);L(d,"geotoolkit.widgets.data.DataTableAdapter");d.prototype.je=function(){var b=this;b.indexvisible=!1;b.indextitle="Index";b.contentprovider=this;b.headerprovider=this;b.indexprovider=this;b.headerformatprovider=this;b.rows=this.YXa();b.cols=this.vAb();
return this};d.prototype.SRc=function(){return this.jHa};d.prototype.YXa=function(){return this.IQa.Fh()};d.prototype.vAb=function(){return this.IQa.eq()};d.prototype.XFb=function(b,c){this.mLe=!0};d.prototype.Nha=function(b,c){return this.IQa.xd(b).getValue(c)};d.prototype.hdc=function(b,c){this.nLe=!0};d.prototype.K1=function(b){return this.zw[b]};d.prototype.VFd=function(b,c){var e=this.SRc();if(null==e||e.column!==b)return c;c.text.bounds.bd(-10,0);b=c.icon.bounds.na();var f=c.icon.bounds.setX(b-
16).setY(4).Qa(12);b=f.hc();f=f.da();c.icon.value=!0===e.reverse?(new $g).moveTo(b,6).lineTo(b+3,9).lineTo(b-3,9).lineTo(b,6).qa({color:this.$Bc,pixelsnapmode:{x:!0,y:!0}}).ra(this.H_b):(new $g).moveTo(b,f-6).lineTo(b+3,f-9).lineTo(b-3,f-9).lineTo(b,f-6).qa({color:this.Htc,pixelsnapmode:{x:!0,y:!0}}).ra(this.URb);return c};d.prototype.IIa=function(){for(var b=0;b<this.ja.eq();++b){var c=this.ja.xd(b).Ga();if(""===c||null==c)c="Column "+(b+1);this.zw[b]=c}};d.prototype.p6d=function(b,c){function e(f,
g){return c.apply(this,[g,f])}null==this.jHa||this.jHa.column!==b?this.jHa={column:b,reverse:!1}:this.jHa.reverse=!this.jHa.reverse;!0===this.jHa.reverse?this.ja.sort(b,e):this.ja.sort(b,c)};d.prototype.filter=function(b,c){this.IQa.xd(a).JFc();if("function"!==typeof c){var e=function(f,g){return-1!==g.toString().toLowerCase().indexOf(c.toLowerCase())};""!==c&&this.IQa.xd(b).Zga(e.bind(this))}else this.IQa.xd(b).Zga(c.bind(this));a=b;return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTb3J0ZWRCeUNvbHVtbiI6IlNSYyIsImdldFJvd3NDb3VudCI6IllYYSIsImdldENvbHVtbnNDb3VudCI6InZBYiIsInByZXBhcmVDb250ZW50IjoiWEZiIiwiZ2V0Q29udGVudERhdGEiOiJOaGEiLCJnZXRIZWFkZXJEYXRhIjoiSzEiLCJnZXRIZWFkZXJGb3JtYXQiOiJWRmQiLCJzb3J0QnlDb2x1bW4iOiJwNmQifX19");var f_=/*#__PURE__*/function(){function d(a){a=xb(a,{border:{top:new Y({color:"white",width:1}),bottom:new Y({color:"white",width:1}),left:new Y({color:"white",width:1}),right:new Y({color:"white",width:1})}});ho.call(this,a);this.ea=a}D(d,ho);d.prototype.setOptions=function(a){this.ea=xb(a,this.ea);this.ha();return this};d.prototype.render=function(a){ho.prototype.render.call(this,a);var b=this.ia().bounds,c=b.getX(),e=b.getY(),f=b.ca();b=b.da();if(null==this.ea.border)return this;null!=this.ea.border.top&&(a.beginPath(),
a.qa(Y.Ra(this.ea.border.top)),a.moveTo(c,e),a.lineTo(c+f,e),a.stroke());null!=this.ea.border.right&&(a.beginPath(),a.qa(Y.Ra(this.ea.border.right)),a.moveTo(c+f,e),a.lineTo(c+f,e+b),a.stroke());null!=this.ea.border.bottom&&(a.beginPath(),a.qa(Y.Ra(this.ea.border.bottom)),a.moveTo(c+f,e+b),a.lineTo(c,e+b),a.stroke());null!=this.ea.border.left&&(a.beginPath(),a.qa(Y.Ra(this.ea.border.left)),a.moveTo(c,e+b),a.lineTo(c,e),a.stroke());return this};return d}();var g_=/*#__PURE__*/ta(/*#__PURE__*/{X8:"wrap",pOa:"cut"},2,"eyJXcmFwIjoiWDgiLCJDdXQiOiJwT2EifSAg");var h_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f,g,h,k,l){this.vh=k;this.fX=f;this.r9=g;this.ea=l;this.jc=null;this.dt=null==h?this.AGd():h;this.Ae=new rf(this.dt.background.fillstyle);this.hm=this.dt.border;this.Tob=this.nx=null;this.Tkb();return this}var a="12px Arial",b=new Y({color:"gray",width:1,linecap:xg.eta}),c=2,e=new rf("white");d.prototype.pe=function(){return this.fX};d.prototype.xd=function(){return this.r9};d.prototype.Pd=function(){var f=this.vh.FWa();return null!=f&&f.pe()===this.fX&&f.xd()===this.r9?
!0:!1};d.prototype.ia=function(){return this.dt};d.prototype.ra=function(f){if(null!=this.nx&&this.nx.wE()!==this||null==f)return this;this.Ae=ug.fd(f);this.dt.background.fillstyle=this.Ae.clone();null!=this.nx&&this.nx.xa();this.vh.ha();return this};d.prototype.eb=function(){return this.Ae};d.prototype.kb=function(f,g){if(null!=this.nx&&this.nx.wE()!==this||null==f)return this;!0===g&&(f=xb(this.jc.ia(),Fi.Ra(f).ia()));this.jc=Fi.Ra(f);this.G1a();return this};d.prototype.jb=function(){return this.jc};
d.prototype.U7=function(f){if(null==f)return this;f={left:Y.Ra(f.left),right:Y.Ra(f.right),top:Y.Ra(f.top),bottom:Y.Ra(f.bottom)};if(null!=this.nx&&this.nx.wE()!==this)return this;this.dt.border={left:f.left.clone(),right:f.right.clone(),top:f.top.clone(),bottom:f.bottom.clone()};this.hm=f;null!=this.nx&&this.nx.xa();this.vh.ha();return this};d.prototype.ut=function(){return{left:this.hm.left,right:this.hm.right,top:this.hm.top,bottom:this.hm.bottom}};d.prototype.x7c=function(f,g){if(null!=this.nx&&
this.nx.wE()!==this)return this;var h=this.dt.text.shape,k=0,l=0;if(null!=g)switch(this.jc.Zh(g),g){case zi.il:k=this.vh.pe(this.fX).da()/2-h.da()/2;break;case zi.qb:break;default:k=this.vh.pe(this.fX).da()-h.da()}if(null!=f){this.jc.ce(f);switch(f){case Ai.Oa:l=this.vh.xd(this.r9).ca()/2-h.ca()/2;break;case Ai.cc:l=this.vh.xd(this.r9).ca()-h.ca()-c;break;default:l=c}this.N2c(f)}h.sa(h.ga().clone().setX(Math.max(0,l)).setY(Math.max(0,k)));null!=this.nx&&this.nx.CZc();return this};d.prototype.S_a=
function(f,g){if(null!=this.nx&&this.nx.wE()!==this)return this;if(null==this.Ufb()||this.Ufb()(f))f=null==f?"":f.toString(),this.hJb(this.egb()),this.dt.text.shape.Eb(f),this.vh.z0d(this.fX,this.r9,f),!0===g&&(f=this.vh.pe(this.fX).KEc(),f!==this.vh.pe(this.fX).da()&&this.vh.pe(this.fX).$a(f));this.G1a();return this};d.prototype.hJb=function(f){if(null!=this.nx&&this.nx.wE()!==this||null==f)return this;f===g_.X8?this.dt.text.shape.wk(ck.qC):this.dt.text.shape.wk(ck.co);null!=this.nx&&this.nx.w$c();
return this};d.prototype.egb=function(){return this.dt.text.shape.PB()===ck.qC?g_.X8:g_.pOa};d.prototype.Gic=function(f){if(null!=this.nx&&this.nx.wE()!==this)return this;f="string"===typeof f?this.vh.zMc(f):f;this.dt.validator=f;return this};d.prototype.Ufb=function(){return this.dt.validator};d.prototype.Nha=function(){return this.dt.text.shape.me()};d.prototype.lR=function(){return this.nx};d.prototype.G1a=function(){var f=this.jc.clone();this.x7c(this.jc.Lj(),this.jc.Lu());this.dt.text.shape.kb(f);
null!=this.nx&&this.nx.w$c();return this};d.prototype.C1=function(){return this.Tob};d.prototype.Tkb=function(){null!=this.nx&&this.nx.wj();this.Tob=new U({x:this.vh.$Da[this.r9],y:this.vh.L9a[this.fX],width:this.vh.xd(this.r9).ca(),height:this.vh.pe(this.fX).da()});return this};d.prototype.mIb=function(f){this.nx=f;return this};d.prototype.k1d=function(f){var g=this.vh.E6b();null!=g&&(g=g.Bpa(),null!=g&&(null!=f?(g.style.color=f.mb(),g.style.font=f.wt(),g.style.lineHeight=f.XC()):(g.style.color=
"black",g.style.font=a)));return this};d.prototype.N2c=function(f){var g=this.vh.E6b();if(null!=g&&(g=g.Bpa(),null!=g))switch(f){case Ai.Oa:g.style.textAlign="center";break;case Ai.cc:g.style.textAlign="right";break;default:g.style.textAlign="left"}return this};d.prototype.AGd=function(){var f=Fi.Ra(this.ea.content.textstyle);this.jc=f.clone();f=new ek({text:"",textstyle:this.jc,alignment:O.Id,width:this.ea.mincolumnwidth,height:this.ea.minrowheight});f.wk(ck.co);var g=this.vh.pp.so().Oo().ELc(this.fX,
this.r9);return{validator:"string"===typeof this.ea.content.validator||null==this.ea.content.validator?this.vh.zMc(this.ea.content.validator):this.ea.content.validator,background:{fillstyle:e.clone(),linestyle:null,bounds:g},icon:{},text:{fillstyle:null,linestyle:null,textstyle:this.jc,bounds:g.clone(),shape:f},border:{top:b.clone(),left:b.clone(),bottom:b.clone(),right:b.clone()}}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRSb3ciOiJwZSIsImdldENvbHVtbiI6InhkIiwiaXNBY3RpdmUiOiJQZCIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldEZpbGxTdHlsZSI6InJhIiwiZ2V0RmlsbFN0eWxlIjoiZWIiLCJzZXRUZXh0U3R5bGUiOiJrYiIsImdldFRleHRTdHlsZSI6ImpiIiwic2V0Qm9yZGVyIjoiVTciLCJnZXRCb3JkZXIiOiJ1dCIsInNldFRleHRBbGlnbm1lbnQiOiJ4N2MiLCJzZXRDb250ZW50RGF0YSI6IlNfYSIsInNldFdyYXBNb2RlIjoiaEpiIiwiZ2V0V3JhcE1vZGUiOiJlZ2IiLCJzZXRWYWxpZGF0b3IiOiJHaWMiLCJnZXRWYWxpZGF0b3IiOiJVZmIiLCJnZXRDb250ZW50RGF0YSI6Ik5oYSIsImdldE1lcmdlZENlbGwiOiJsUiJ9fX0g");var i_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e,f,g){this.dd=a;this.re=b;this.vh=f;this.pp=c;this.Wa=e;this.ea=g;this.jd=g.mincolumnwidth;this.Ae=null}d.prototype.ra=function(a){if(null==a)return this;for(var b=0;b<this.vh.Fh();b++)this.vh.Dq(b,this.dd).ra(a);this.Ae=ug.fd(a);return this};d.prototype.eb=function(){return this.Ae};d.prototype.Fr=function(a){this.re=a;return this};d.prototype.mn=function(){return this.re};d.prototype.Qa=function(a){this.jd!==a&&(this.pp.EMa(this.dd,0>a?0:a),this.jd=a,this.vh.FWc());
return this};d.prototype.ca=function(){return 0>this.jd?0:this.jd};d.prototype.va=function(a){!1===a?0<this.jd&&(this.jd*=-1,this.Qa(this.jd),this.ea.autotablesize?(a=this.vh.Hdb(),this.Wa.sa(new U({x:this.vh.oa().getX(),y:this.vh.oa().getY(),width:this.vh.oa().ca()<a.ca()?this.vh.oa().ca():a.ca(),height:this.vh.oa().da()<a.da()?this.vh.oa().da():a.da()}))):this.Wa.sa(this.oa())):0>this.jd&&(this.jd*=-1,this.Qa(this.jd));return this};d.prototype.Ia=function(){return 0<this.jd};d.prototype.aD=function(){this.Wa.sO(this.dd,
!1);return this};d.prototype.H0d=function(a){for(var b=0;b<this.vh.Fh();b++)this.vh.Dq(b,this.dd).Gic(a);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGaWxsU3R5bGUiOiJyYSIsImdldEZpbGxTdHlsZSI6ImViIiwic2V0VGl0bGUiOiJGciIsImdldFRpdGxlIjoibW4iLCJzZXRXaWR0aCI6IlFhIiwiZ2V0V2lkdGgiOiJjYSIsInNldFZpc2libGUiOiJ2YSIsImdldFZpc2libGUiOiJJYSIsImhpZ2hsaWdodCI6ImFEIiwic2V0Q29sdW1uVmFsaWRhdG9yIjoiSDBkIn19fSAg");var j_=/*#__PURE__*/ta(/*#__PURE__*/{vCa:"onColumnWidthChanged",eDa:"onRowHeightChanged",Gqc:"onTableSizeChanged",T8:"onTableAdjusted"},2,"eyJDb2x1bW5XaWR0aENoYW5nZWQiOiJ2Q2EiLCJSb3dIZWlnaHRDaGFuZ2VkIjoiZURhIiwiVGFibGVTaXplQ2hhbmdlZCI6IkdxYyIsIlRhYmxlQWRqdXN0ZWQiOiJUOCJ9");var k_=/*#__PURE__*/ta(/*#__PURE__*/{cTd:"onCanEdit",ecc:"onValueChanged"},2,"eyJvbkNhbkVkaXQiOiJjVGQiLCJvblZhbHVlQ2hhbmdlZCI6ImVjYyJ9"),l_=/*#__PURE__*/ta(/*#__PURE__*/{LV:"doubleclick",Wid:"singleclick"},2,"eyJEb3VibGVDbGljayI6IkxWIiwiU2luZ2xlQ2xpY2siOiJXaWQifSAg"),m_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){b=null==b?{}:b;var c={};c={slots:c,name:"TableViewInPlaceEditor",layer:a};SR.call(this,c);this.ea=G(b,{highlight:null==b.highlight?!0:b.highlight,autosubmit:null==b.autosubmit?!1:b.autosubmit,focustrigger:null==b.focustrigger?d.Cnc.LV:b.focustrigger,backgroundcolor:null==b.backgroundcolor?"white":b.backgroundcolor});this.Rb(!1);this.AQ=a;this.U_=a.$b("TableViewCompositeTool");this.Wa=
a.Afb();this.ai=this.uc=null;this.HOd();this.Qva=function(e,f){!1!==this.isEnabled()&&(this.uc=f.Ye(),e=this.U_.Sd(this.Wa,f),e=this.Wa.ZH(e.getX(),e.getY()),this.ZR({row:e.getY(),column:e.getX()}))}.bind(this);this.Ayc=function(e,f){null!=this.ai&&(e=this.U_.Sd(this.Wa,f),e=this.Wa.ZH(e.getX(),e.getY(),!0),!1!==this.AQ.g2().contains(e.getX(),e.getY())&&(this.qkb(),this.ZR({row:Math.floor(e.getY()),column:Math.floor(e.getX())})))}.bind(this);this.AQ.$b("TableViewSelection").addListener(bT.zr,this.Qva).addListener(bT.GO,
this.Ayc);this.hyc=function(e,f){null==this.ai||f.from<this.ai.column&&f.Re<this.ai.column||f.from>this.ai.column&&f.Re>this.ai.column||(f.from===this.ai.column?this.ai.column=f.Re:f.from<this.ai.column?this.ai.column--:this.ai.column++,this.cha())}.bind(this);this.AQ.$b("TableViewColumnHandler").addListener(zU.wo,this.hyc);this.Fyc=function(e,f){null==this.ai||f.from<this.ai.row&&f.Re<this.ai.row||f.from>this.ai.row&&f.Re>this.ai.row||(f.from===this.ai.row?this.ai.row=f.Re:f.from<this.ai.row?this.ai.row--:
this.ai.row++,this.cha())}.bind(this);this.AQ.$b("TableViewRowHandler").addListener(zU.wo,this.Fyc);this.uta=this.cha.bind(this);$a.addEventListener("resize",this.uta);this.AQ.on(j_.T8,this.uta);this.b9=null}D(d,SR);L(d,"geotoolkit.widgets.tools.InPlaceEditor");d.Ka=k_;d.prototype.mJ=function(a){this.uc=a;return this};d.prototype.HOd=function(){this.Ak=xc("div");this.Ak.style.position="absolute";this.Ak.style.display="none";this.Ak.style.border="1px solid black";this.Ak.style.pointerEvents="none";
this.Ak.style.overflow="hidden";$a.document.body.appendChild(this.Ak);this.Aj=xc("div");this.Aj.style.position="absolute";this.Aj.style.border="0px solid black";this.Aj.style.pointerEvents="all";this.Ak.appendChild(this.Aj);this.Bk=xc("textarea");this.Bk.className="geotoolkit-inlineeditor";this.Bk.style.resize="none";this.Bk.style.boxSizing="border-box";this.Bk.style.overflow="hidden";this.Bk.style.position="absolute";this.Bk.style.border="1px solid black";this.Bk.style.paddingTop="0px";this.Bk.style.backgroundColor=
this.ea.backgroundcolor;this.ksc=function(){var a=this.Bk.style.height;this.Bk.style.height="5px";var b=this.Bk.scrollHeight;this.Tob.da()>b?this.Bk.style.height=a:(this.Aj.style.height=b+"px",this.Bk.style.height=b+"px")}.bind(this);this.XQa=function(a){if("Enter"===a.key||13===a.keyCode)a.preventDefault(),!1===this.ea.autosubmit&&this.qkb(),a=this.Wa.yR(),this.ZR({row:Math.min(this.ai.row+1,a.da()-1),column:Math.min(Math.max(0,this.ai.column),a.ca()-1)},this.ea.highlight)}.bind(this);this.Bk.addEventListener("keypress",
this.XQa);this.yEa=function(a){if("Escape"===a.key||27===a.keyCode)a.preventDefault(),this.ZR(null);else if(!0===a.ctrlKey){a.preventDefault();this.qkb();var b=this.ai.row,c=this.ai.column;if("ArrowLeft"===a.key||37===a.keyCode)c--;else if("ArrowRight"===a.key||39===a.keyCode)c++;else if("ArrowUp"===a.key||38===a.keyCode)b--;else if("ArrowDown"===a.key||40===a.keyCode)b++;else{"Enter"!==a.key&&13!==a.keyCode||this.ZR(null);return}a=this.Wa.yR();this.ZR({row:Math.min(Math.max(0,b),a.da()-1),column:Math.min(Math.max(0,
c),a.ca()-1)},this.ea.highlight)}}.bind(this);this.Bk.addEventListener("keydown",this.yEa);this.Bk.addEventListener("input",this.ksc);this.Aj.appendChild(this.Bk)};d.prototype.dispose=function(){$a.removeEventListener("resize",this.uta);this.Bk.removeEventListener("keypress",this.XQa);this.Bk.removeEventListener("keydown",this.yEa);var a=this.AQ.$b("TableViewSelection");a&&a.removeListener(bT.zr,this.Qva).removeListener(bT.GO,this.Ayc);(a=this.AQ.$b("TableViewColumnHandler"))&&a.removeListener(zU.wo,
this.hyc);(a=this.AQ.$b("TableViewRowHandler"))&&a.removeListener(zU.wo,this.Fyc);this.AQ.za(j_.T8,this.uta);this.Ak.parentNode&&this.Ak.parentNode.removeChild(this.Ak);this.Ak=null;SR.prototype.dispose.call(this)};d.prototype.start=function(){SR.prototype.start.call(this);null!=this.AQ.Wa.Au.Sj.b9&&(this.b9=this.AQ.Wa.Au.Sj.b9,this.AQ.Wa.Au.Sj.b9=null,this.AQ.ha(),this.Bk.style.border="1px solid "+this.b9.mb().toString());return this};d.prototype.stop=function(){SR.prototype.stop.call(this);null!=
this.b9&&(this.AQ.Wa.Au.Sj.b9=this.b9,this.AQ.ha());this.ZR(null);return this};d.prototype.qkb=function(){if("none"===this.Bk.style.display)return this;var a={cell:{column:this.ai.column,row:this.ai.row},value:this.Bk.value};this.fireEvent(d.Ka.ecc,a);this.Bk.value=a.value;this.Wa.ha();return this};d.prototype.FWa=function(){return this.ai};d.prototype.ZR=function(a,b,c){null==b&&(b=!0);if(null==this.ai&&null==a||null!=a&&(0>a.row||0>a.column)||null!=this.ai&&null!=a&&(this.ea.autosubmit&&this.qkb(),
this.ai.row===a.row&&this.ai.column===a.column))return this;this.ai=a;this.cha(null,null,c);if(null==this.ai)return this.stop();b&&(this.Wa.sO(this.ai.column),this.Wa.Lra([this.ai.row]));this.AQ.Wja(this.ai.row,this.ai.column);this.Bk.value=this.Wa.Nha(this.ai.column,this.ai.row);this.ksc(this.Bk);setTimeout(function(){this.Bk.focus()}.bind(this),1);return this.start()};d.prototype.cha=function(a,b,c){if(null==this.ai)return this.Ak.style.display="none",this;a=Ac(this.uc.Pw());b=null!=c?c:this.Wa.C1(this.ai.row,
this.ai.column);if(null==b)return this.Ak.style.display="none",this;this.Tob=b;c=new N(b.getX(),b.getY());b=new N(b.na(),b.ma());var e=this.Wa.so().wa().Ua(this.Wa.so().wb());this.Ak.style.display="block";this.Ak.style.left=e.ka()+a.x+"px";this.Ak.style.top=e.la()+a.y+"px";this.Ak.style.width=e.ca()+"px";this.Ak.style.height=e.da()+"px";this.Wa.so().TD.wa().Ma(c,c);this.Wa.so().TD.wa().Ma(b,b);this.Aj.style.left=c.getX()-e.ka()-1+"px";this.Aj.style.top=c.getY()-e.la()-1+"px";this.Aj.style.width=b.getX()-
c.getX()-1+"px";this.Aj.style.height=b.getY()-c.getY()-1+"px";this.Bk.style.width=b.getX()-c.getX()+"px";this.Bk.style.height=b.getY()-c.getY()+"px";return this};d.Cnc=l_;d.prototype.Bpa=function(){return this.Bk};d.prototype.nFd=function(){return this.ea.focustrigger};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhdHRhY2hUb1Bsb3QiOiJtSiIsImdldEFjdGl2ZUNlbGwiOiJGV2EiLCJzZXRBY3RpdmVDZWxsIjoiWlIiLCJnZXRFZGl0b3JJbnB1dCI6IkJwYSJ9fX0g");var o_=/*#__PURE__*/ta(/*#__PURE__*/{Gl:"auto",Xs:"default",X8:"wrap",$nb:"wrapsplitwords"},2,"eyJBdXRvIjoiR2wiLCJEZWZhdWx0IjoiWHMiLCJXcmFwIjoiWDgiLCJXcmFwU3BsaXRXb3JkcyI6IiRuYiJ9"),p_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){void 0===b&&(b={});void 0===b.horizontalscrollable&&void 0!==b.horizontalscroll&&(b.horizontalscrollable=b.horizontalscroll);void 0===b.verticalscrollable&&void 0!==b.verticalscroll&&(b.verticalscrollable=b.verticalscroll);b=xb(b,{bounds:b.bounds instanceof U?b.bounds:new U(0,0,400,400),horizontalscroll:void 0!==b.horizontalscrollable?b.horizontalscrollable:!0,verticalscroll:void 0!==b.verticalscrollable?b.verticalscrollable:
!0,keepvisiblelimits:!1,border:void 0!==b.border?b.border:{color:"transparent"},rows:void 0!==b.rows?b.rows:1,cols:void 0!==b.cols?b.cols:1,fixedsize:b.fixedsize,scroll:{horizontal:{visible:!0,cssclass:"horizontal-scroll"},vertical:{visible:!0,cssclass:"vertical-scroll"}},headermode:o_.Xs});var c=b.bounds;b.bounds=c.clone().setX(0).setY(0);var e=new pS(b);b.bounds=c;b.model=e;b.annotationssizes={north:"0",west:"0",east:!0===b.verticalscroll?"15":"0",south:!0===b.horizontalscroll?"15":"0"};VZ.call(this,
b);this.wh=!1;this.rma=null;this.wBc=new ek;this.Wa=e;this.GI=b.horizontalscroll;this.Zr=b.verticalscroll;this.iyc=function(f,g){this.notify(j_.vCa,this,g)}.bind(this);this.Eyc=function(f,g){this.notify(j_.eDa,this,g)}.bind(this);this.Wa.on(oS.vCa,this.iyc).on(oS.eDa,this.Eyc);this.setData({contentmeasure:null!=b.contentmeasure?b.contentmeasure:{measureColumn:function(f,g,h,k){return this.RCd(f,g,h,k)}.bind(this),measureRow:function(f,g,h,k){return k}}});this.sgc(b.headermode);this.fb("center").de(new jl);
this.Wa.Na({left:0,top:0,right:0,bottom:0});this.Wa.bf(!0);"floating"===this.Zr&&"floating"===this.GI&&(b=this.fb($h.Oa),this.Cd.TO("floating"===this.Zr),this.Qd.TO("floating"===this.GI),this.Lb.removeItem(this.Qd,$h.Ec),this.Lb.removeItem(this.Cd,$h.Rc),b.de(new jl),b.pa(this.Cd),b.pa(this.Qd));this.pi();this.Di();this.wh=!0}var a=5;D(d,VZ);L(d,"geotoolkit.widgets.TableView");d.dfd=o_;d.prototype.dispose=function(){VZ.prototype.dispose.call(this);null!=this.Wa&&this.Wa.za(oS.vCa,this.iyc).za(oS.eDa,
this.Eyc)};d.prototype.TLc=function(b){return null!=b?this.Wa.rJa(b):this.Wa.$db().ca()+this.Wa.uya().ca()};d.prototype.zfc=function(b,c){this.Wa.EMa(b,c);this.Di();return this};d.prototype.sgc=function(b){this.rma=b;this.rma===o_.X8?this.Wa.uBb().Oo().kda(ck.qC):this.rma===o_.$nb?this.Wa.uBb().Oo().kda(ck.BM):this.Wa.uBb().Oo().kda(ck.co);this.Wa.nw();this.ha();return this};d.prototype.c7b=function(){return this.rma};d.prototype.RCd=function(b,c,e,f){switch(this.rma){case o_.Gl:return f=sg.measureText(this.Wa.K1(b),
c),{width:f.ca()+a};case o_.X8:case o_.$nb:return this.wBc.kb(c).Qa(f.width).wk(this.rma===o_.X8?ck.qC:ck.BM).Eb(this.Wa.K1(b)),b=this.wBc.da()+2*a,this.Wa.PCb(-1)<b&&this.Wa.LIb(-1,b),f;default:return f}};d.prototype.WQ=function(b){this.Wa.WQ(b);return this};d.prototype.qKd=function(){return this.Wa.hXa().da()+this.Wa.uya().da()};d.prototype.dcc=function(){this.notify(j_.Gqc,this);return this};d.prototype.sa=function(b){VZ.prototype.sa.call(this,b);this.wh&&(this.Wa.sa(this.fb($h.Oa).oa()),this.Wa.roa(),
this.Di());return this};d.prototype.Afb=function(){return this.Wa};d.prototype.nw=function(b,c){this.Wa.nw(b,c);this.Di();this.dcc();this.ha();return this};d.prototype.dDb=function(){return this.Wa.dDb()};d.prototype.yR=function(){return this.Wa.yR()};d.prototype.g2=function(){return this.Wa.g2()};d.prototype.Wja=function(b,c){this.Wa.Wja(b,c);this.Di();return this};d.prototype.setData=function(b){if(null==b)return this;null!=b.headermode&&this.c7b()!==b.headermode?(this.sgc(b.headermode),b.fixedsize=
this.rma):b.fixedsize=null;this.Wa.setData(b);this.Wa.nw();this.Di();this.dcc();this.ha();return this};d.prototype.SBa=function(b,c){this.Wa.SBa(b,c);return this};d.prototype.JU=function(b,c){this.Wa.JU(b);if(!1===c)return this;this.Wa.Wja(b,-1!==this.zL()?this.zL():null);this.Wa.roa();this.Di();return this};d.prototype.ZX=function(){return this.Wa.ZX()};d.prototype.zL=function(){return this.Wa.zL()};d.prototype.sO=function(b,c){this.Wa.sO(b);if(!1===c)return this;this.Wa.Wja(-1!==this.ZX()?this.ZX():
null,b);this.Wa.roa();this.Di();return this};d.prototype.W0c=function(b,c){this.Wa.Lra(b);if(!1===c)return this;b=this.Wa.$N()[0];this.Wa.Wja(b,-1!==this.zL()?this.zL():null);this.Wa.roa();this.Di();return this};d.prototype.$N=function(){return this.Wa.$N()};d.prototype.Di=function(){if(null==this.Wa)return null;var b=this.Wa.uya(),c=this.Wa.Uba();this.Qd.Ha(b,c,this.Sc.Ji());this.Cd.Ha(b,c,this.Sc.Xo());this.notify(j_.T8,this,null);return this};d.prototype.pi=function(){if(void 0===this.Wa)return this;
var b=function(e,f){e=this.Wa.Uba();f=f.wb();f=(e.ka()-f.ka())*this.Sc.wa().lb();this.Wa.SBa(f,0);this.Qd.Ha(this.Wa.uya(),this.Wa.Uba());this.notify(j_.T8,this,null)}.bind(this),c=function(e,f){e=this.Wa.Uba();f=f.wb();f=(e.la()-f.la())*this.Sc.wa().Ab();this.Wa.SBa(0,f);this.Cd.Ha(this.Wa.uya(),this.Wa.Uba());this.notify(j_.T8,this,null)}.bind(this);!0===this.Zr&&null!=this.Cd&&this.Cd.Ia()&&this.Ki({east:this.Cd.aba()});!0===this.GI&&null!=this.Qd&&this.Qd.Ia()&&this.Ki({south:this.Qd.aba()});
this.Cd.addListener(TR.fw,c).addListener(TR.Yn,c);this.Qd.addListener(TR.ara,function(){this.Lvb.Rb(!1)}.bind(this)).addListener(TR.fw,function(){this.Lvb.Rb(!0)}.bind(this)).addListener(TR.fw,b).addListener(TR.Yn,b);b=this.mc();this.Un([this.U_=(new QS(b,"TableViewCompositeTool")).add([this.Lvb=(new LU(this.Wa)).nb("TableViewSplitter").addListener(JU.TE,function(e,f){this.Di();this.dcc();this.rma!==o_.X8&&this.rma!==o_.$nb||this.Wa.jhb()}.bind(this)),(new AU(this.Wa)).nb("TableViewColumnHandler").addListener(zU.Yn,
function(e,f){this.Di()}.bind(this)).Rb(!1),(new IU(this.Wa)).nb("TableViewRowHandler").addListener(zU.Yn,function(e,f){this.Di()}.bind(this)).Rb(!1),(new CU(this.Wa)).nb("TableViewHeaderHandler").Rb(!1),(new cT).nb("TableViewSelection").Rb(!0).addListener(bT.GO,function(e,f){e=this.U_.Sd(this.Wa,f);e=this.Wa.ZH(e.getX(),e.getY());this.Wa.sO(e.getX());f=f.Je();if(!0===f.ctrlKey)f=this.Wa.$N(),-1===f.indexOf(e.getY())&&(f.push(e.getY()),this.Wa.Lra(f));else if(!0===f.shiftKey&&0<this.Wa.$N().length){f=
this.Wa.$N()[this.Wa.$N().length-1];var g=Math.min(f,e.getY());e=Math.max(f,e.getY());for(f=this.Wa.$N();g<=e;g++)-1===f.indexOf(g)&&f.push(g);this.Wa.Lra(f)}else this.Wa.Lra([e.getY()])}.bind(this)),(new bU).nb("TableViewPanning").Rb(!0).Uy(this.Wa,this.Wa.SBa).addListener(aU.QE,function(e,f){this.Di()}.bind(this)),(new GU(this.Wa)).nb("TableViewHighlight").Rb(!0).addListener(FU.BAa,function(e,f){this.Wa.JU(f.k9b())}.bind(this)).addListener(RR.Oz,function(e,f){this.Wa.JU(-1)}.bind(this))])]);this.Un(new m_(this));
return this};d.prototype.ia=function(){var b=VZ.prototype.ia.call(this),c=this.yR();b.rows=c.ca();b.cols=c.da();b.fixedsize=this.Wa.tNc();b.headermode=this.c7b();return b};d.prototype.fa=function(b){VZ.prototype.fa.call(this,b);this.setData(b);return this};d.prototype.V2b=function(b,c){var e=this.yR(),f="";null==b?b=[[0,e.ca()-1]]:"number"===typeof b&&(b=[b]);null==c?c=[[0,e.da()-1]]:"number"===typeof c&&(c=[c]);for(var g=0;g<c.length;g++){var h=c[g];if("number"===typeof h)var k=h;else{if(1>h.length)continue;
2>h.length?(k=h[0],h=h[0]):(k=h[0],h=h[1])}if(!(0>h||k>=e.ca()))for(k=Math.max(k,0),h=Math.min(h,e.ca()-1);k<=h;k++){for(var l=0;l<b.length;l++){var m=b[l];if("number"===typeof m)var n=m;else{if(1>m.length)continue;2>m.length?(n=m[0],m=m[0]):(n=m[0],m=m[1])}if(!(0>m||n>=e.ca()))for(n=Math.max(n,0),m=Math.min(m,e.ca()-1);n<=m;n++)f+=this.Wa.Nha(n,k),f+="\t"}f+="\n"}}return f};d.prototype.hwd=function(){var b=this.Wa.$N();var c=this.Wa.zL();return b=-1!==b[0]||1<b.length?this.V2b(-1===c?null:c,b):this.V2b(this.Wa.zL())};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb2x1bW5zU2l6ZSI6IlRMYyIsInNldENvbHVtbnNTaXplIjoiemZjIiwic2V0SGVhZGVyTW9kZSI6InNnYyIsImdldEhlYWRlck1vZGUiOiJjN2IiLCJmaXRUb1dpZHRoIjoiV1EiLCJnZXRSb3dzU2l6ZSI6InFLZCIsInNldEJvdW5kcyI6InNhIiwiZ2V0VGFibGVWaWV3U2hhcGUiOiJBZmIiLCJzZXRUYWJsZUJvdW5kcyI6Im53IiwiZ2V0VGFibGVCb3VuZHMiOiJkRGIiLCJnZXRUYWJsZVNpemUiOiJ5UiIsImdldFZpc2libGVUYWJsZUxpbWl0cyI6ImcyIiwic2V0VmlzaWJsZVRhYmxlTGltaXRzIjoiV2phIiwidHJhbnNsYXRlVGFibGUiOiJTQmEiLCJoaWdobGlnaHRSb3ciOiJKVSIsImdldEhpZ2hsaWdodGVkUm93IjoiWlgiLCJnZXRIaWdobGlnaHRlZENvbHVtbiI6InpMIiwiaGlnaGxpZ2h0Q29sdW1uIjoic08iLCJzZXRBY3RpdmVSb3ciOiJXMGMiLCJnZXRBY3RpdmVSb3dzIjoiJE4iLCJzeW5jaHJvbml6ZVZpZXdMaW1pdHMiOiJEaSIsImluaXRpYWxpemVUb29scyI6InBpIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiY29weUNvbnRlbnQiOiJWMmIiLCJjb3B5U2VsZWN0ZWRDZWxscyI6Imh3ZCJ9fX0g");var q_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){YR.call(this,a);this.gt=b;this.sz=c}D(d,YR);L(d,"geotoolkit.widgets.tools.DataSheetSelectionEventArgs");d.prototype.cXa=function(){return this.gt};d.prototype.uXa=function(){return this.sz};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGaXJzdENlbGxQb3NpdGlvbiI6ImNYYSIsImdldExhc3RDZWxsUG9zaXRpb24iOiJ1WGEifX19");var r_=/*#__PURE__*/ta(/*#__PURE__*/{foc:"onHeaderClicked",uoc:"onIndexClicked",Zlc:"onCellClicked",Efd:"onIndexTitleClicked",nXc:"onPointerMoved"},2,"eyJIZWFkZXJDbGlja2VkIjoiZm9jIiwiSW5kZXhDbGlja2VkIjoidW9jIiwiQ2VsbENsaWNrZWQiOiJabGMiLCJJbmRleFRpdGxlQ2xpY2tlZCI6IkVmZCIsIm9uUG9pbnRlck1vdmVkIjoiblhjIn0g"),s_=/*#__PURE__*/function(){function d(g){g.Da(Math.floor(g.getX()),Math.floor(g.getY()))}function a(g,h){var k={name:"DataSheetSelection"};SR.call(this,k);this.$m({pointerdown:this.gd.bind(this),pointermove:this.Ic.bind(this)});this.vh=g;this.Wa=this.vh.PLd();this.pp=this.vh.Afb();this.laa=this.vh.OLd();h=null==h?{}:h;this.ea=xb(h,{selectionrect:{fillstyle:null,groupfillstyle:new rf(f),linestyle:e.clone()}});
this.nwc=this.juc=this.sz=this.gt=null;this.nb("DataSheetSelection").Rb(!0);this.Wa.$b("TableViewPanning").Rb(!1);this.fHa=(new ni).Ha(this.pp.so().oa());this.rvb=(new xm).pa(this.fHa);this.pp.so().pa(this.rvb);this.tB=null;this.doa=!1;this.Zrc=function(){var l=this.pp.Uba().clone(),m=this.pp.so().oa().clone();this.fHa.Ha(l);m.Qa(l.ca()).$a(l.da());this.fHa.sa(m);null!=this.tB&&this.tB.Mf()}.bind(this);this.Wa.on(j_.T8,this.Zrc)}function b(g,h,k,l){this.gt=h;this.sz=k;this.yAc=l;this.fHa=g.fHa;this.vh=
g.vh;this.tx=new ho({linestyle:l.linestyle,fillstyle:c(h,k)?l.fillstyle:l.groupfillstyle});this.doa=g.doa;this.Lzc=new N;this.Mzc=new N;this.Y$b(h,k);this.fHa.pa(this.tx)}function c(g,h){return null!=g.lR()&&g.lR()===h.lR()?!0:null!=g&&null!=h&&g.pe()===h.pe()&&g.xd()===h.xd()}var e=new Y({color:"rgba(0, 120, 194, 1)",width:1.25*bc()}),f="rgba(172, 193, 250, 0.2)";b.prototype.dispose=function(){this.fHa.removeChild(this.tx);this.tx.dispose()};b.prototype.Y$b=function(g,h,k){this.tx.ra(c(g,h)?this.yAc.fillstyle:
this.yAc.groupfillstyle);null!=k&&(this.doa=k);!0!==this.doa&&(h=this.vh.BLc(g,h),g=h[0],h=h[1]);k=g.C1().clone();var l=h.C1().clone();if(!0===this.doa){var m=this.vh.xd(g.xd()),n=this.vh.pe(g.pe());k.Qa(m.ca()).$a(n.da());m=this.vh.xd(h.xd());n=this.vh.pe(h.pe());l.Qa(m.ca()).$a(n.da())}this.tx.cb((new U(k.ka(),k.la(),l.na(),l.ma())).bd(-1,-1));this.gt=g;this.sz=h;this.Lzc.setX(g.xd()).setY(g.pe());this.Mzc.setX(h.xd()).setY(h.pe());return this};b.prototype.cXa=function(){return this.Lzc};b.prototype.uXa=
function(){return this.Mzc};b.prototype.Mf=function(){this.Y$b(this.gt,this.sz);return this};D(a,SR);L(a,"geotoolkit.widgets.tools.DataSheetSelection");a.BCa=r_;a.prototype.gd=function(g){g.Je().preventDefault();this.DX();var h=this.laa.Sd(this.pp,g);h=this.pp.ZH(h.getX(),h.getY());this.sz=this.gt=this.aKc(h);this.pXc(g,this.Dgb(g.he()))};a.prototype.Ic=function(g){if(g.Je().buttons===Dc.tc||this.pn(g))g.Je().preventDefault(),this.pXc(g,!1),null==this.tB||this.gt===this.juc&&this.sz===this.nwc||(this.juc=
this.gt,this.nwc=this.sz,this.fireEvent(a.BCa.nXc,new q_(g,this.tB.cXa(),this.tB.uXa())))};a.prototype.pXc=function(g,h){var k=this.vh.E6b(),l=this.laa.Sd(this.pp,g);l=this.pp.ZH(l.getX(),l.getY());d(l);this.sz=this.aKc(l);if(null!=this.gt&&null!=this.sz){l=!1;if(!0===h||null!=k&&k.nFd()!==l_.LV)l=!0;this.doa=!1;this.Yec(l,this.ea.selectionrect);this.fireEvent(a.BCa.Zlc,new q_(g,this.tB.cXa(),this.tB.uXa()))}else null!=l&&(-1===l.getY()&&-1<l.getX()?(this.gt=this.vh.Dq(0,l.getX()),this.sz=this.vh.Dq(this.vh.Fh()-
1,l.getX()),this.doa=!0,this.Yec(!1,this.ea.selectionrect),this.vh.xd(l.getX()).aD(),this.fireEvent(a.BCa.foc,new q_(g,this.tB.cXa(),this.tB.uXa()))):-1===l.getX()&&-1<l.getY()&&(this.gt=this.vh.Dq(l.getY(),0),this.sz=this.vh.Dq(l.getY(),this.vh.eq()-1),this.doa=!0,this.Yec(!1,this.ea.selectionrect),this.vh.pe(l.getY()).aD(),this.fireEvent(a.BCa.uoc,new q_(g,this.tB.cXa(),this.tB.uXa()))))};a.prototype.Yec=function(g,h){if(null==this.gt||null==this.sz)return this;this.isd(h);this.pp.Lra(-1);this.pp.sO(-1);
c(this.gt,this.sz)&&this.vh.ZR(this.gt.pe(),this.gt.xd(),g);return this};a.prototype.aKc=function(g){if(!this.vh.Bgb(g.getY(),g.getX()))return null;g=this.vh.Dq(g.getY(),g.getX());return null==g.lR()?g:g.lR().wE()};a.prototype.isd=function(g){if(null==this.gt||null==this.sz)return this;if(null!=this.tB)return this.tB.Y$b(this.gt,this.sz,this.doa),this;this.tB=new b(this,this.gt,this.sz,g);return this};a.prototype.DX=function(){null!=this.tB&&(this.tB.dispose(),this.tB=null);return this};a.prototype.dispose=
function(){for(var g in a.BCa)this.removeListener(a.BCa[g]);this.Wa.za(j_.T8,this.Zrc);SR.prototype.dispose.call(this)};return a}();var t_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b,c,e,f,g){this.gt=b;this.sz=c;this.KFa=e;this.FF=f;this.vh=g;this.Me=new ni({clipping:!0});this.fQa=(new f_({border:this.gt.ut()})).ra(this.gt.eb());this.l_=this.gt.ia().text.shape.clone();this.wj();this.Me.pa([this.fQa,this.l_]);this.KFa.pa(this.Me);this.FF.push(this)}var a=2;d.prototype.wE=function(){return this.gt};d.prototype.Tya=function(){return this.sz};d.prototype.Fh=function(){return this.sz.pe()-this.gt.pe()+1};d.prototype.eq=function(){return this.sz.xd()-
this.gt.xd()+1};d.prototype.Lbb=function(b,c){return b>=this.gt.pe()&&b<=this.sz.pe()&&c>=this.gt.xd()&&c<=this.sz.xd()};d.prototype.sa=function(b){this.Me.sa(b);this.fQa.sa(b);return this};d.prototype.wj=function(){var b=this.gt.C1(),c=this.sz.C1();b=new U(b.getX(),b.getY(),c.na(),c.ma());this.fQa.sa(b);this.Me.sa(b.clone());return this};d.prototype.ga=function(){return this.Me.ga()};d.prototype.VX=function(){return this.Me};d.prototype.CZc=function(){var b=this.fQa.ga(),c=b.getY(),e=b.getX();switch(this.l_.jb().Lu()){case zi.il:c+=
b.da()/2-this.l_.da()/2;break;case zi.qb:break;default:c=b.ma()-this.l_.da()}switch(this.l_.jb().Lj()){case Ai.Oa:e+=b.ca()/2-this.l_.ca()/2;break;case Ai.cc:e+=b.ca()-this.l_.ca()-a;break;default:e+=a}this.l_.sa(this.l_.ga().clone().setX(Math.max(0,e)).setY(Math.max(0,c)));return this};d.prototype.w$c=function(){var b=this.gt.ia().text.shape;this.l_.Eb(b.me());this.l_.kb(b.jb());this.l_.wk(b.PB());this.l_.Qa(b.ca());this.CZc();return this};d.prototype.xa=function(){this.fQa.ra(this.gt.eb());this.fQa.setOptions({border:this.gt.ut()});
return this};d.prototype.dispose=function(){for(var b=this.gt.pe();b<=this.sz.pe();++b)for(var c=this.gt.xd();c<=this.sz.xd();++c)this.vh.Dq(b,c).mIb(null);this.KFa.removeChild(this.Me);this.FF.splice(this.FF.indexOf(this),1);this.Me.dispose(!0);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGaXJzdENlbGwiOiJ3RSIsImdldExhc3RDZWxsIjoiVHlhIiwiZ2V0TnVtYmVyT2ZSb3dzIjoiRmgiLCJnZXROdW1iZXJPZkNvbHVtbnMiOiJlcSIsImNvbnRhaW5zQ2VsbCI6IkxiYiJ9fX0g");var u_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e,f,g){this.dd=a;this.re=b;this.pp=c;this.Wa=e;this.vh=f;this.ea=g;this.td=g.minrowheight;this.Ae=null}d.prototype.ra=function(a){if(null==a)return this;for(var b=0;b<this.vh.eq();b++)this.vh.Dq(this.dd,b).ra(a);this.Ae=ug.fd(a);return this};d.prototype.eb=function(){return this.Ae};d.prototype.Fr=function(a){this.re=a;return this};d.prototype.mn=function(){return this.re};d.prototype.$a=function(a){this.td!==a&&(this.pp.LIb(this.dd,0>a?0:a),this.td=a,this.vh.FWc());
return this};d.prototype.da=function(){return 0>this.td?0:this.td};d.prototype.va=function(a){!1===a?0<this.td&&(this.td*=-1,this.$a(this.td),this.ea.autotablesize?(a=this.vh.Hdb(),this.Wa.sa(new U({x:this.vh.oa().getX(),y:this.vh.oa().getY(),width:this.vh.oa().ca()<a.ca()?this.vh.oa().ca():a.ca(),height:this.vh.oa().da()<a.da()?this.vh.oa().da():a.da()}))):this.Wa.sa(this.oa())):0>this.td&&(this.td*=-1,this.$a(this.td));return this};d.prototype.Ia=function(){return 0<this.td};d.prototype.aD=function(){this.Wa.W0c(this.dd,
!1);return this};d.prototype.w4d=function(a){for(var b=0;b<this.vh.eq();b++)this.vh.Dq(this.dd,b).Gic(a);return this};d.prototype.KEc=function(){for(var a=this.ea.minrowheight,b=0;b<this.vh.eq();b++){var c=this.vh.Dq(this.dd,b).ia().text.shape.da();c>a&&(a=c)}return a};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGaWxsU3R5bGUiOiJyYSIsImdldEZpbGxTdHlsZSI6ImViIiwic2V0VGl0bGUiOiJGciIsImdldFRpdGxlIjoibW4iLCJzZXRIZWlnaHQiOiIkYSIsImdldEhlaWdodCI6ImRhIiwic2V0VmlzaWJsZSI6InZhIiwiZ2V0VmlzaWJsZSI6IklhIiwiaGlnaGxpZ2h0IjoiYUQiLCJzZXRSb3dWYWxpZGF0b3IiOiJ3NGQiLCJjYWxjdWxhdGVBdXRvUm93SGVpZ2h0IjoiS0VjIn19fSAg");var v_=/*#__PURE__*/ta(/*#__PURE__*/{Number:"number",hC:"all"},2,"eyJBbGwiOiJoQyJ9"),w_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(n){n=null==n?{}:n;n=G(n,{autotablesize:null==n.autotablesize?!1:n.autotablesize,indextitle:null==n.indextitle?"":n.indextitle,minrowheight:null==n.minrowheight?30:n.minrowheight,mincolumnwidth:null==n.mincolumnwidth?120:n.mincolumnwidth,headerheight:null==n.headerheight?30:n.headerheight,indexwidth:null==n.indexwidth?k:n.indexwidth,highlightrowonhover:null==n.highlightrowonhover?!1:n.highlightrowonhover,highlightcolumnfillstyle:null,activecolumnfillstyle:null,
highlightrowfillstyle:null,activerowfillstyle:null});KZ.call(this,n);this.ea=n;this.Hu=this.Il=0;this.TYa();this.ai=this.MZb=null;this.Aaa=new U;this.ltc=new U;this.e$a=!0;this.$Da=[];this.L9a=[];this.ea.rows=this.Il;this.ea.cols=this.Hu;this.Wa=new p_(this.ea);this.pp=this.Wa.Afb();this.FF=[];this.KFa=(new ni).Ha(this.pp.Uba());this.pa(this.Wa);this.pp.so().pa(this.KFa);this.DOd(this.Il,this.Hu,this.Wa);this.uta=function(){var p=this.pp.Uba().clone(),q=this.pp.so().oa().clone();this.KFa.Ha(p);q.Qa(p.ca()).$a(p.da());
this.KFa.sa(q);p=this.FWa();if(null!=p&&null!=this.ny){var r;q=p.lR();null!=q&&(r=p.lR().ga());this.ny.cha(null,null,r)}}.bind(this);this.Wa.on(j_.T8,this.uta);this.Tsc=function(p,q,r){p=r.width["new"]-r.width.old;q=this.xd(r.column);var t=q.ca()+p;q.jd=t;this.gkc(r.column);for(q=0;q<this.Il;++q){var u=this.Dq(q,r.column);u.egb()===g_.X8&&u.ia().text.shape.Qa(t);for(var w=r.column;w<this.Hu;++w)u=this.Dq(q,w),u.Tkb(),u.G1a()}for(q=0;q<this.FF.length;++q)t=this.FF[q],u=t.ga().clone(),t.Lbb(t.wE().pe(),
r.column)&&u.Qa(u.ca()+p),t.wE().xd()>r.column&&u.setX(u.getX()+p),t.sa(u)}.bind(this);this.hAc=function(p,q,r){p=r.height["new"]-r.height.old;q=this.pe(r.row);var t=q.da()+p;q.td=t;this.Akc(r.row);for(q=0;q<this.Hu;++q)for(var u=r.row;u<this.Il;++u)t=this.Dq(u,q),t.Tkb(),t.G1a();for(q=0;q<this.FF.length;++q)t=this.FF[q],u=t.ga().clone(),t.Lbb(r.row,t.wE().xd())&&u.$a(u.da()+p),t.wE().pe()>r.row&&u.setY(u.getY()+p),t.sa(u)}.bind(this);this.pp.on(oS.Rlb,this.Tsc);this.pp.on(oS.tnb,this.hAc);this.Hdb();
this.ea.autotablesize?(n=this.Hdb(),this.Wa.sa(new U({x:this.oa().getX(),y:this.oa().getY(),width:this.oa().ca()<n.ca()?this.oa().ca():n.ca(),height:this.oa().da()<n.da()?this.oa().da():n.da()}))):this.Wa.sa(this.oa());this.laa=this.rwd(this.Wa);this.lm=new s_(this);this.ea.content.editable&&(this.ny=this.XGc(this.Wa),this.Wa.$b("TableViewSelection").Rb(!1),this.laa.remove(this.Wa.$b("TableViewSelection")),this.laa.add(this.ny));this.FTb=this.Kwd(this.pp);this.laa.add([this.lm,this.FTb]);this.Un(this.Wa.Mc());
null!=this.ny&&(this.Wa.za(j_.T8,this.ny.uta),n=function(p){if("Enter"===p.key||13===p.keyCode)if(p.preventDefault(),!1===this.ny.ea.autosubmit&&this.ny.qkb(),p=this.FWa(),null!=p){var q=this.Wa.yR(),r=null!=p.lR()?p.lR().aMe()-1:0;this.ZR(Math.min(p.pe()+r+1,q.da()-1),Math.min(Math.max(0,p.xd()),q.ca()-1),!0)}}.bind(this),this.ny.Bpa().removeEventListener("keypress",this.ny.XQa),this.ny.Bpa().addEventListener("keypress",n))}function a(n){for(var p=0;p<n.length;++p)n[p]=l}function b(n){for(var p=
n.length-1;0<=p;--p)if(n[p]<l+m-1)return!1;return!0}var c="rgba(190, 190, 190, 0.4)",e="rgba(243, 243, 243, 1)",f=new Y({color:"#bdbdbd",width:1,pixelsnapmode:!0}),g="rgba(51, 116, 235, 0.8)",h="12px Arial",k=50,l=65,m=26;D(d,KZ);L(d,"geotoolkit.widgets.datasheet.DataSheet");d.Olb=h_;d.Soc=t_;d.ky=u_;d.emc=i_;d.Znb=g_;d.prototype.t6b=function(){return this.ea.data};d.prototype.u3d=function(n){this.y4d(n);this.Wa.nw(this.Il,this.Hu);return this};d.prototype.t3d=function(n){this.K0d(n);this.Wa.nw(this.Il,
this.Hu);return this};d.prototype.Fh=function(){return this.Il};d.prototype.eq=function(){return this.Hu};d.prototype.ZR=function(n,p,q){if(null!=this.ny)if(this.Bgb(n,p)){var r=this.Dq(n,p),t=null;null!=r.lR()&&(r=r.lR().wE(),t=r.lR().ga());n=r.pe();p=r.xd();this.ai=this.Dq(n,p);!0===q?this.ny.ZR({row:n,column:p},!0,t):this.ny.ZR(null,!1);n=this.Dq(n,p).eb();this.ny.Bpa().style.backgroundColor=(new xd(n.mb())).L9c();r.k1d(r.jb());r.N2c(r.jb())}else this.ny.ZR(null,!1),this.ai=null;else this.Bgb(n,
p)?(this.pe(n).aD(),this.xd(p).aD(),this.ai=this.Dq(n,p)):(this.pp.Lra(-1),this.pp.sO(-1),this.ai=null);return this};d.prototype.FWa=function(){return this.ai};d.prototype.Dq=function(n,p){return null!=n&&n<this.Il&&0<=n&&null!=p&&p<this.Hu&&0<=p?this.gB[n][p]:null};d.prototype.MDd=function(){if(!0===this.e$a){for(var n=this.Wa.g2(),p=Math.floor(n.da()),q=Math.floor(n.ca()),r=0,t=0,u=this.tMd(),w=this.$Gd();u<p;u++)r+=this.pe(u).da();r+=u+1<this.Il?this.pe(u+1).da()*(n.da()-p):0;for(u=w;u<q;u++)t+=
this.xd(u).ca();t+=u+1<this.Hu?this.xd(u+1).ca()*(n.ca()-q):0;this.Aaa.$a(r);this.Aaa.Qa(t);this.e$a=!1}return this.Aaa};d.prototype.Hdb=function(){if(!0===this.e$a){var n=0,p=0,q;for(q=0;q<this.Hu;q++)n+=this.xd(q).ca();for(q=0;q<this.Il;q++)p+=this.pe(q).da();q=this.pp.uBb().Ia()?this.pp.tBb():0;var r=this.pp.lFd().Ia()?this.pp.fOc():0;this.ltc.cb({x:this.ga().getX(),y:this.ga().getY(),width:n+r,height:p+q});this.e$a=!1}return this.ltc};d.prototype.L0d=function(n){if(null!=n)for(var p=0;p<n.length&&
p<this.sf.length;p++)this.xd(p).Qa(n[p]);return this};d.prototype.x4d=function(n){if(null!=n)for(var p=0;p<n.length&&p<this.bg.length;p++)this.pe(p).$a(n[p]);return this};d.prototype.QCd=function(n){var p=[];if(null!=n&&n<this.Hu&&0<=n)for(var q=0;q<this.Il;q++)p.push(this.ea.data[q][n]);return p};d.prototype.oKd=function(n){return null!=n&&n<this.Il&&0<=n?this.ea.data[n].slice(0):[]};d.prototype.xd=function(n){return this.sf[n]};d.prototype.pe=function(n){return this.bg[n]};d.prototype.VNd=function(n){for(var p=
0;p<n.length;p++)this.xd(n[p]).va(!1);return this};d.prototype.XNd=function(n){for(var p=0;p<n.length;p++)this.pe(n[p]).va(!1);return this};d.prototype.M7d=function(){for(var n=0;n<this.Il;n++)this.pe(n).va(!0);return this};d.prototype.L7d=function(){for(var n=0;n<this.Hu;n++)this.xd(n).va(!0);return this};d.prototype.O7d=function(n){for(var p=0;p<n.length;p++)this.pe(n[p]).va(!0);return this};d.prototype.N7d=function(n){for(var p=0;p<n.length;p++)this.xd(n[p]).va(!0);return this};d.prototype.zL=
function(){return this.Wa.zL()};d.prototype.ZX=function(){return this.Wa.$N()[0]};d.prototype.m5d=function(n){this.MZb=n;this.ha();return this};d.prototype.O0d=function(n){this.ea.content.editable=n;!0===n?(this.ny=this.XGc(this.Wa),this.laa.add(this.ny),this.laa.remove(this.lm),this.lm.dispose(),this.lm=new s_(this),this.laa.add(this.lm)):(null!=this.ny&&this.ny.dispose(),this.laa.remove(this.ny),this.ny=null);return this};d.prototype.ybc=function(n,p){if(null==n||null==p||n.pe()===p.pe()&&n.xd()===
p.xd())return null;p=this.BLc(n,p);n=p[0];p=p[1];var q,r;for(q=n.pe();q<=p.pe();++q)for(r=n.xd();r<=p.xd();++r){var t=this.Dq(q,r);var u=t.lR();null!=u&&this.j$c(u.wE())}u=new t_(n,p,this.KFa,this.FF,this);for(q=n.pe();q<=p.pe();++q)for(r=n.xd();r<=p.xd();++r)t=this.Dq(q,r),t.mIb(u);return u};d.prototype.j$c=function(n){if(null==n)return this;n=n.lR();if(null==n)return this;n.dispose();return this};d.prototype.on=function(n,p){this.Nnd(n)&&this.Ykd(n);return VZ.prototype.on.call(this,n,p)};d.prototype.cIa=
function(n){this.insertRow(this.Il,n);return this};d.prototype.oec=function(n){if(0<=n&&n<this.Il){for(var p=0;p<this.FF.length;++p){var q=this.FF[p];if(q.wE().pe()<=n&&q.Tya().pe()>=n)if(2<q.Fh()||2<q.eq()){var r=q.wE(),t=q.Tya();n===r.pe()?r=this.Dq(r.pe()+1,r.xd()):n===t.pe()&&(t=this.Dq(t.pe()-1,t.xd()));q.dispose();q=this.ybc(r,t);this.FF.splice(p,0,q);this.FF.pop()}else q.dispose(),--p}this.bg.splice(n,1);this.gB.splice(n,1);--this.Il;this.Akc(0);this.Wa.nw(this.Il,this.Hu);this.dKb(n,0);this.qad(n)}return this};
d.prototype.hec=function(n){if(0<=n&&n<this.Hu){var p;for(p=0;p<this.FF.length;++p){var q=this.FF[p];if(q.wE().xd()<=n&&q.Tya().xd()>=n)if(2<q.Fh()||2<q.eq()){var r=q.wE(),t=q.Tya();n===r.xd()?r=this.Dq(r.pe(),r.xd()+1):n===t.xd()&&(t=this.Dq(t.pe(),t.xd()-1));q.dispose();q=this.ybc(r,t);this.FF.splice(p,0,q);this.FF.pop()}else q.dispose(),--p}this.sf.splice(n,1);for(p=0;p<this.Il;++p)this.gB[p].splice(n,1);--this.Hu;this.gkc(0);this.Wa.nw(this.Il,this.Hu);this.dKb(0,n);this.A$c(n)}return this};d.prototype.insertRow=
function(n,p,q){if(null==n)return this;null==q&&(q=null!=this.ea.index.indexdata[n]?this.ea.index.indexdata[n]:n);q=new u_(this.Il,q,this.pp,this.Wa,this,this.ea);++this.Il;n>=this.Il-1?(this.bg.push(q),this.gB.push([])):(this.bg.splice(n,0,q),this.gB.splice(n,0,[]),this.Akc(0));for(q=0;q<this.Hu;++q)this.gB[n][q]=new h_(n,q,null,this,this.ea),this.gB[n][q].S_a(p[q]);this.Wa.nw(this.Il,this.Hu);this.dKb(n,0);this.qad(n);this.H8d(n);return this};d.prototype.Mab=function(n){this.ZDb(this.Hu,n);return this};
d.prototype.ZDb=function(n,p,q){if(null==n)return this;null==q&&(q=null!=this.ea.index.indexdata[n]?this.ea.index.indexdata[n]:n);q=new i_(this.Hu,q,this.pp,this.Wa,this,this.ea);++this.Hu;if(n>=this.Hu-1){this.sf.push(q);for(q=0;q<this.Il;++q)this.gB[q][n]=new h_(q,n,null,this,this.ea),this.gB[q][n].S_a(p[q]);this.$Da[n]=this.$Da[n-1].ca()}else{this.sf.splice(n,0,q);for(q=0;q<this.Il;++q)this.gB[q].splice(n,0,new h_(q,n,null,this,this.ea)),this.gB[q][n].S_a(p[q]);this.gkc(0)}this.Wa.nw(this.Il,this.Hu);
this.A$c(n);this.dKb(0,n);this.G8d(n);return this};d.prototype.dispose=function(){if(!this.te()){if(this.o5a)for(var n in r_)this.za(r_[n]);null!=this.ny&&(this.ny.Bpa().removeEventListener("input",this.Otc),this.ny.dispose());null!=this.lm&&this.lm.dispose();null!=this.FTb&&this.FTb.dispose();$a.document.removeEventListener("mousedown",this.gzc);this.pp.za(oS.Rlb,this.Tsc);this.pp.za(oS.tnb,this.hAc);this.Wa.za(j_.T8,this.uta);this.Wa.dispose();KZ.prototype.dispose.call(this)}};d.rrc=v_;d.prototype.FMe=
function(){return this.lm};d.prototype.FWc=function(){this.e$a=!0;return this};d.prototype.Nnd=function(n){for(var p in r_)if(r_.hasOwnProperty(p)&&n===r_[p])return!0;return!1};d.prototype.Ykd=function(n){this.o5a||(this.o5a={});this.o5a[n]||(this.o5a[n]=function(p,q){return this.notify(n,this,q)}.bind(this),this.lm.addListener(n,this.o5a[n]))};d.prototype.qad=function(n){for(n=0;n<this.Il;++n)this.bg[n].dd=n;return this};d.prototype.A$c=function(n){for(n=null==n?0:n;n<this.Hu;++n)this.sf[n].dd=n;
return this};d.prototype.G8d=function(n){for(var p=0;p<this.FF.length;++p)for(var q=this.FF[p],r=q.wE().pe();r<=q.Tya().pe();++r)q.Lbb(r,n)&&this.gB[r][n].mIb(q)};d.prototype.H8d=function(n){for(var p=0;p<this.FF.length;++p)for(var q=this.FF[p],r=q.wE().xd();r<=q.Tya().xd();++r)q.Lbb(n,r)&&this.gB[n][r].mIb(q)};d.prototype.dKb=function(n,p){n=null==n?0:n;for(p=null==p?0:p;n<this.Il;++n){this.bg[n].dd=n;for(var q=p;q<this.Hu;++q){var r=this.gB[n][q];r.fX=n;r.r9=q;r.Tkb();r.G1a()}}return this};d.prototype.Akc=
function(n){if(0>n)return this;for(n+=1;n<this.Il;++n)this.L9a[n]=this.L9a[n-1]+this.bg[n-1].da();return this};d.prototype.gkc=function(n){if(0>n)return this;for(n+=1;n<this.Hu;++n)this.$Da[n]=this.$Da[n-1]+this.sf[n-1].ca();return this};d.prototype.TYa=function(){var n;if(null!=this.ea.data){var p=[];if(Array.isArray(this.ea.data))for(n=0;n<this.ea.data.length;n++)p.push(this.ea.data[n].slice(0));else for(n=0;n<this.ea.data.Fh();n++)p.push(this.ea.data.pe(n).slice(0));this.ea.data=p}if(null==this.ea.rows||
null==this.ea.cols)this.ea.autotablesize=!0;!0===this.ea.autotablesize&&null!=this.ea.data?(this.Il=this.ea.data.length,null!=this.ea.data[0]&&(this.Hu=this.ea.data[0].length)):(this.Il=null==this.ea.rows||0>this.ea.rows?0:this.ea.rows,this.Hu=null==this.ea.cols||0>this.ea.columns?0:this.ea.cols);null!=this.ea.index?(null==this.ea.index.textstyle&&(this.ea.index.textstyle={alignment:Ai.Oa,baseline:zi.il}),null==this.ea.index.activerowfillstyle&&(this.ea.index.activerowfillstyle=c),this.ea.index.indexdata=
null==this.ea.index.indexdata?[]:this.ea.index.indexdata.slice(0),null==this.ea.index.evenfillstyle&&(this.ea.index.evenfillstyle=e),null==this.ea.index.oddfillstyle&&(this.ea.index.oddfillstyle=e),null==this.ea.index.gridstyle&&(this.ea.index.gridstyle=f)):this.ea.index={textstyle:{alignment:Ai.Oa,baseline:zi.il},gridstyle:f,evenfillstyle:e,oddfillstyle:e,indexdata:[],activerowfillstyle:new rf(c)};null!=this.ea.header?(this.ea.header.headerdata=null==this.ea.header.headerdata?[]:this.ea.header.headerdata.slice(0),
null==this.ea.header.evenfillstyle&&(this.ea.header.evenfillstyle=e),null==this.ea.header.oddfillstyle&&(this.ea.header.oddfillstyle=e),null==this.ea.header.gridstyle&&(this.ea.header.gridstyle=f),null==this.ea.header.highlightcolumnfillstyle&&(this.ea.header.highlightcolumnfillstyle=new rf(c))):this.ea.header={evenfillstyle:e,oddfillstyle:e,gridstyle:f,headerdata:[],highlightcolumnfillstyle:new rf(c)};null!=this.ea.content?(null==this.ea.content.textstyle&&(this.ea.content.textstyle={alignment:Ai.Oa,
baseline:zi.Ed,font:h}),null==this.ea.content.textsizemode&&(this.ea.content.textsizemode=g_.pOa),null==this.ea.content.evenfillstylecolumn&&(this.ea.content.evenfillstylecolumn=e),null==this.ea.content.oddfillstylecolumn&&(this.ea.content.oddfillstylecolumn=e),null==this.ea.content.activerowfillstyle&&(this.ea.content.activerowfillstyle=c),null==this.ea.content.highlightcolumnfillstyle&&(this.ea.content.highlightcolumnfillstyle=c),null==this.ea.content.activecelllinestyle&&(this.ea.content.activecelllinestyle=
{color:g,width:1,pixelsnapmode:!0}),null==this.ea.content.editable&&(this.ea.content.editable=!0)):this.ea.content={textstyle:{alignment:Ai.Oa,baseline:zi.Ed,font:h},editable:!0,textsizemode:g_.X8,evenfillstylecolumn:e,oddfillstylecolumn:e,activerowfillstyle:c,highlightcolumnfillstyle:c,activecelllinestyle:{color:g,width:1,pixelsnapmode:!0}};return this};d.prototype.DOd=function(n,p,q){this.zOd(n,p);n={contentprovider:function(r,t){return this.gB[t][r].Nha()}.bind(this),headerprovider:function(r){return-1<
r?this.sf[r].mn():""}.bind(this),indexprovider:function(r){return-1<r?this.bg[r].mn():""}.bind(this),contentmeasure:{measureColumn:function(r,t,u,w){return{width:0>this.sf[r].ca()?0:this.sf[r].ca()}}.bind(this),measureRow:function(r,t,u,w){return{height:0>this.bg[r].da()?0:this.bg[r].da()}}.bind(this)},contentformatprovider:function(r,t,u){if(null!=this.gB[t][r]&&null!=this.gB[t][r].ia()){var w=this.gB[t][r].ia();u.background.fillstyle=null!=this.MZb?this.MZb:null!=w.background.fillstyle?w.background.fillstyle:
u.background.fillstyle;u.border=xb(w.border,u.border);u.text.shape=w.text.shape.clone();this.gB[t][r].Tkb();this.gB[t][r].G1a()}return u}.bind(this)};null!=this.ea.indextitlefillstyle?this.pp.Y3c(this.ea.indextitlefillstyle):this.pp.Y3c(e);q.setData(n);return this};d.prototype.zOd=function(n,p){this.gB=[];this.bg=[];this.sf=[];this.$Da=[];this.L9a=[];var q,r=[l-1],t=r.length-1,u=0;for(q=0;q<n;++q)this.gB.push([]),this.bg.push(new u_(q,null!=this.ea.index.indexdata[q]?this.ea.index.indexdata[q]:q+
1,this.pp,this.Wa,this,this.ea)),this.L9a[q]=u,u+=this.bg[q].da();for(q=u=0;q<p;++q){if(null!=this.ea.header.headerdata[q])var w=this.ea.header.headerdata[q];else r[t]>=l+m-1?!0===b(r)?(a(r),r[++t]=l):(r[t]=l,++r[t-1]):++r[t],w=qg.decodeText(r);this.sf.push(new i_(q,w,this.pp,this.Wa,this,this.ea));this.$Da[q]=u;u+=this.sf[q].ca()}for(q=0;q<n;++q)for(r=0;r<p;++r)t="",null!=this.ea.data&&null!=this.ea.data[q]&&null!=this.ea.data[q][r]&&(t=this.ea.data[q][r]),this.gB[q][r]=new h_(q,r,null,this,this.ea),
this.gB[q][r].S_a(t);return this};d.prototype.rwd=function(n){var p=["TableViewSelection","TableViewHighlight"],q=n.Mc();p.forEach(function(r){n.$b(r).Rb(!1);q.remove(n.$b(r))});n.$b("TableViewSplitter").V6c(KU.BD).addListener(JU.TE,function(r,t){void 0!==t.row?0<=t.row?this.pe(t.row).$a(t.height["new"]):this.ea.headerheight=t.height["new"]:void 0!==t.column&&(r=t.column,0<=r?this.xd(r).Qa(t.width["new"]):this.ea.indexwidth=t.width["new"])}.bind(this)).M3c(!0).Rb(!0);return q};d.prototype.XGc=function(n){this.Wa.$b("TableViewInPlaceEditor").Rb(!1);
n=(new m_(n,{highlight:!1,autosubmit:!0,focustrigger:l_.LV,backgroundcolor:"white"})).Rb(!0).addListener(k_.ecc,function(q,r){q=r.cell.row;var t=r.cell.column;this.gB[q][t].S_a(r.value)}.bind(this));var p=n.Bpa();this.Otc=function(q){if(null!=this.ai){var r=this.ai.pe(),t=this.ai.xd();q=q.currentTarget.value;!0===this.Bgb(r,t)&&!1===this.Dq(r,t).Ufb()(q)&&(p.value=q.replace(/[^-?\d*\.?\d*$]/g,""))}}.bind(this);this.emd=function(q){if(!0===q.altKey&&("Enter"===q.key||13===q.keyCode)&&null!=this.ai){var r=
this.ai.pe(),t=this.ai.xd();q=q.currentTarget.value+"\n";this.Bgb(r,t)&&!0===this.Dq(r,t).Ufb()(q)&&(p.value+="\n")}}.bind(this);p.addEventListener("input",this.Otc);p.addEventListener("keydown",this.emd);return n};d.prototype.Kwd=function(n){var p=(new GU(n)).Rb(!0),q=!1;p.addListener(FU.BAa,function(t,u){!0===this.ea.highlightrowonhover&&n.JU(u.k9b());q=!1}.bind(this));if(null!=this.ny){var r=this.ny.Bpa();this.fmd=function(t){q=!1};r.addEventListener("mousedown",this.fmd)}this.gzc=function(t){!0===
q&&(!0===this.ea.highlightrowonhover&&n.JU(-1),this.ZR(null),n.sO(-1),n.Lra(-1),this.lm.DX())}.bind(this);$a.document.addEventListener("mousedown",this.gzc);p.addListener(RR.Oz,function(t,u){q=!0});p.addListener(RR.Xia,function(t,u){q=!1});return p};d.prototype.Bgb=function(n,p){return p<this.Hu&&-1<p&&n<this.Il&&-1<n};d.prototype.y4d=function(n){if(0<=n&&!1===this.ea.autotablesize){var p;if(n>=this.Il)for(p=this.Il;p<n;p++)this.bg.push(new u_(p,p+1,this.pp,this.Wa,this,this.ea));else this.bg=this.bg.slice(0,
n);this.Il=n}return this};d.prototype.K0d=function(n){if(0<=n&&!1===this.ea.autotablesize){var p;if(n>=this.Hu)for(p=this.Hu;p<n;p++)this.sf.push(new i_(p,"Column #"+p,this.pp,this.Wa,this,this.ea));else this.sf=this.sf.slice(0,n);this.Hu=n}return this};d.prototype.tMd=function(){return Math.floor(this.Wa.g2().getY())};d.prototype.$Gd=function(){return Math.floor(this.Wa.g2().getX())};d.prototype.zMc=function(n){return n===d.rrc.Number?function(p){return null==p?!0:!1===isNaN(p)&&-1===p.toString().indexOf("\n")}:
function(){return!0}};d.prototype.z0d=function(n,p,q){var r=this.t6b(),t;null==r&&(r=[]);if(null==r[n]){var u=n+1-r.length;for(t=0;t<u;t++)r.push([])}if(null==r[n][p])for(u=p+1-r[n].length,t=0;t<u;t++)r[n].push("");r[n][p]=q;return this};d.prototype.BLc=function(n,p){var q=n.pe(),r=n.xd();n=this.Dq(n.pe()<p.pe()?n.pe():p.pe(),n.xd()<p.xd()?n.xd():p.xd());p=this.Dq(q>p.pe()?q:p.pe(),r>p.xd()?r:p.xd());for(r=n.pe();r<=p.pe();++r)for(var t=n.xd();t<=p.xd();++t)if(q=this.Dq(r,t),q=q.lR(),null!=q)return r=
q.wE(),n.pe()>r.pe()&&(n=this.Dq(r.pe(),n.xd())),n.xd()>r.xd()&&(n=this.Dq(n.pe(),r.xd())),q=q.Tya(),p.pe()<q.pe()&&(p=this.Dq(q.pe(),p.xd())),p.xd()<q.xd()&&(p=this.Dq(p.pe(),q.xd())),[n,p];return[n,p]};d.prototype.PLd=function(){return this.Wa};d.prototype.Afb=function(){return this.pp};d.prototype.OLd=function(){return this.laa};d.prototype.E6b=function(){return this.ny};return d}(),2,"eyJDZWxsIjoiT2xiIiwiTWVyZ2VkQ2VsbCI6IlNvYyIsIlJvdyI6Imt5IiwiQ29sdW1uIjoiZW1jIiwiV3JhcE1vZGUiOiJabmIiLCJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREYXRhU2V0IjoidDZiIiwic2V0TnVtYmVyT2ZSb3dzIjoidTNkIiwic2V0TnVtYmVyT2ZDb2x1bW5zIjoidDNkIiwiZ2V0TnVtYmVyT2ZSb3dzIjoiRmgiLCJnZXROdW1iZXJPZkNvbHVtbnMiOiJlcSIsInNldEFjdGl2ZUNlbGwiOiJaUiIsImdldEFjdGl2ZUNlbGwiOiJGV2EiLCJnZXRDZWxsIjoiRHEiLCJnZXREYXRhU2hlZXRWaXNpYmxlTW9kZWxMaW1pdHMiOiJNRGQiLCJnZXREYXRhU2hlZXRMaW1pdHMiOiJIZGIiLCJzZXRDb2x1bW5zV2lkdGgiOiJMMGQiLCJzZXRSb3dzSGVpZ2h0IjoieDRkIiwiZ2V0Q29sdW1uRGF0YSI6IlFDZCIsImdldFJvd0RhdGEiOiJvS2QiLCJnZXRDb2x1bW4iOiJ4ZCIsImdldFJvdyI6InBlIiwiaGlkZUNvbHVtbnMiOiJWTmQiLCJoaWRlUm93cyI6IlhOZCIsInVuaGlkZUFsbFJvd3MiOiJNN2QiLCJ1bmhpZGVBbGxDb2x1bW5zIjoiTDdkIiwidW5oaWRlUm93cyI6Ik83ZCIsInVuaGlkZUNvbHVtbnMiOiJON2QiLCJnZXRIaWdobGlnaHRlZENvbHVtbiI6InpMIiwiZ2V0SGlnaGxpZ2h0ZWRSb3ciOiJaWCIsInNldFRhYmxlQmFja2dyb3VuZCI6Im01ZCIsInNldENvbnRlbnRFZGl0YWJsZSI6Ik8wZCIsIm1lcmdlQ2VsbHMiOiJ5YmMiLCJ1bm1lcmdlQ2VsbHMiOiJqJGMiLCJhZGRSb3ciOiJjSWEiLCJyZW1vdmVSb3ciOiJvZWMiLCJyZW1vdmVDb2x1bW4iOiJoZWMiLCJhZGRDb2x1bW4iOiJNYWIiLCJpbnNlcnRDb2x1bW4iOiJaRGIifX19");var x_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){Mf.call(this);this.zra()}function a(){this.map={};this.Lca={};this.Bq("linestyle",Y.Pa());this.Bq("fillstyle",rf.Pa());this.Bq("imagepattern",Ph.Pa());this.Bq("textstyle",Fi.Pa());this.Bq("histogramtickgenerator",fQ.Pa())}function b(h){return"string"==typeof h&&h.match(/^#href\(.*\)$/)?/^#href\((.*)\)$/.exec(h)[1]:null}var c="cg_type",e=null;a.ya=function(){null==e&&(e=new a);return e};a.prototype.Bq=function(h,k){this.map[h]=k;this.Lca[k]=h};a.prototype.bCb=function(){return this.map};
a.prototype.sr=function(h){h=null!=h&&"function"==typeof h.Pa?h.Pa():null;return null!=h?null!=this.Lca[h]?this.Lca[h]:h:null};a.prototype.KIa=function(h){h=null!=this.map[h]?this.map[h]:h;return null!=h?Nb(h):null};var f={save:function(h,k){var l=a.ya().sr(h);null!=l&&k.Yb(c,l);l=k.JH(h);null!=l&&k.Yb("cg_id",l);l="function"==typeof h.ia?h.ia():h;for(var m in l)if(l.hasOwnProperty(m)&&"cg_id"!==m&&"undefined"!=typeof l[m]){var n=l[m];if("object"==typeof n&&null!==n){var p=k.JH(n);null==p?k.Ne(m,
n):k.Yb(m,"#href("+p+")")}else"function"!=typeof n&&k.Yb(m,n)}h instanceof Ee&&!l.hasOwnProperty("visible")&&k.Yb("visible",!0);k.commit()},load:function(h,k){var l=null!=k?k:null;if(null==l){k=h.getValue(c);var m=h.G6();null!=k&&(l=null!=m&&a.ya().sr(m)===k?m:a.ya().KIa(k));null==l&&(l={})}var n="function"===typeof l.fa?{}:l;h.Yx(function(p,q){var r=q.getValue(),t=b(r);null==t?n[p]=r:null!=q.vk(t)?n[p]=q.vk(t):q.jZ(t,function(u){n[p]=u;"function"===typeof l.fa&&l.fa(n)})});"function"===typeof l.fa&&
l.fa(n);k=h.getValue("cg_id");null!=k&&h.Fs(k,l);return l}};D(d,Mf);L(d,"geotoolkit.widgets.templates.HistogramRegistry");d.prototype.zra=function(){this.om("geotoolkit.widgets.Histogram",{save:function(h,k){for(var l=k.QQ("histograms","array"),m=ff(h.Nb()).vc('node => id(node) == "hplot_layer"').ug(),n,p=0;p<m.ac();++p)n=h.LB(p),l.Ne(p,n);l.commit();k.Ne("xaxis",h.vl.x.ia());k.Ne("xlogaxis",h.vl.xlog.ia());k.Ne("yaxis",h.vl.y.ia());k.Ne("xgrid",h.Zq.x.ia());k.Ne("xloggrid",h.Zq.xlog.ia());k.Ne("ygrid",
h.Zq.y.ia());k.Ne("xlabel",h.Ve.x.text.ia());k.Ne("ylabel",h.Ve.y.text.ia());k.Ne("header",h.L1());k.commit()},load:function(h){var k=h.vk("#widget");k&&(ff(k.Nb()).vc('node => id(node) == "hplot_layer"').ug().rh(),h.Yx(function(l,m){"histograms"===l&&m.Yx(function(n,p){p.Kd(qR.Pa())})}),k.vl.x.fa(h.getValue("xaxis")),k.vl.xlog.fa(h.getValue("xlogaxis")),k.vl.y.fa(h.getValue("yaxis")),k.Zq.x.fa(h.getValue("xgrid")),k.Zq.xlog.fa(h.getValue("xloggrid")),k.Zq.y.fa(h.getValue("ygrid")),k.Ve.x.text.fa(h.getValue("xlabel")),
k.Ve.y.text.fa(h.getValue("ylabel")),k.L2(h.getValue("header")),k.qGb());return k}});this.om("geotoolkit.controls.shapes.Histogram",{save:function(h,k){k.Yb("name",h.Ga());k.Yb("id",h.kc());k.Yb("accumulatedmode",h.iJa());k.Yb("histogrammode",h.XNc());k.Yb("autogradient",h.JWa());k.Yb("binspacing",h.J5b());k.Yb("verticalscaling",h.bTc());k.Yb("frequencytype",h.eXa());k.Ne("linestyle",h.Fa(),"linestyle");k.Ne("fillstyle",h.eb(),"fillstyle");k.Ne("highlightstyle",h.wBb(),"fillstyle");k.Yb("autobin",
h.nac());h.nac()||k.Yb("bincount",h.RX());var l=h.VDc();k.Yb("autolimits",!l);l&&(k.Yb("minimum",h.wc()),k.Yb("maximum",h.Hc()));k.commit()},load:function(h){var k=h.vk("#widget"),l=null;k&&(l=k.fVa(),l.nb(h.getValue("name")),l.Fd(h.getValue("id")),l.T0c(h.getValue("accumulatedmode")),l.G3c(h.getValue("histogrammode")),l.BMa(h.getValue("autogradient")),l.x1c(h.getValue("binspacing")),l.i8c(h.getValue("verticalscaling")),l.p3c(h.getValue("frequencytype")),h.getValue("autobin")?l.Z_c():l.T7(h.getValue("bincount")),
l.qa(h.Kd("linestyle","linestyle")),l.ra(h.Kd("fillstyle","fillstyle")),l.THb(h.Kd("fillstyle","highlightstyle")),h.getValue("autolimits")?l.Eec():l.e8c(h.getValue("minimum"),h.getValue("maximum")));return l}});this.om("default",f)};var g=null;d.ya=function(){null==g&&(g=new d);return g};return d}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIn0g");var y_=/*#__PURE__*/ta(/*#__PURE__*/{xka:"dataUpdated"},2,"eyJEYXRhVXBkYXRlZCI6InhrYSJ9"),z_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f){null==f&&(f={});var g=15,h=25,k=15,l=e;f.border=G(f.border,{color:"transparent"},!0);g={bounds:f.bounds,border:f.border,north:null,south:null,west:null,east:null,annotationssizes:{north:g+h,west:g+l+h,south:g+l+k+h,east:g+l},annotationitemswrap:!1};g=G(f,g,!0);g.fillstyle=g.backgroundfillstyle;VZ.call(this,g);this.OG=this.ja=this.Ng=null;this.K6a=!1;this.Yd=null;this.iub={x:0,y:0};this.hub={x:1,y:null};this.gQ={x:{axis:{},grid:{}},y:{axis:{},
grid:{}}};this.NIe={};this.OIe={};this.LIe={};this.MIe={};this.Xt={x:0,y:0};this.Wt={x:1,y:null};this.PP=null;this.Qrc=this.lPb=this.kPb=!1;this.m9a={x:!1,y:!1};this.Rrc=this.Prc=!1;this.PP=new xm;this.PP.Fd("hplot_layer");this.JTb=this.fVa();this.i2=new zk({orientation:Rh.yb});this.t3=new zk({orientation:Rh.rb});this.re=$l.RQ(this.Lb,{location:$h.ue,text:"title",textstyle:{font:c}});g=$l.bU(this.Lb,{location:$h.Ec,connect:!0,annotationitemswrap:!1}).axis;g.Ev(this.i2);g.Zc("horizontalAxis");h=$l.RQ(this.Lb,
{location:$h.Ec,text:"xlabel"});k=$l.RQ(this.Lb,{location:$h.lc,text:"ylabel"});l=$l.bU(this.Lb,{location:$h.lc,connect:!0,annotationitemswrap:!1}).axis;l.Ev(this.t3);l.Zc("verticalAxis");var m=$l.bU(this.Lb,{location:$h.Rc,connect:!0,annotationitemswrap:!1}).axis;m.Zc("verticalAxis");this.vd={x:g,west:l,east:m};this.Ve={x:h,y:k};this.my=new ni;this.my.pa(this.PP);this.Lb.Nb().Xf(0,this.my);this.cWa();this.Pz();this.fla.va(!1);this.my.Li(new mi);this.YWb=this.CLa.bind(this);this.ty=this.KJ.bind(this);
this.bGa=this.KJ.bind(this);this.setData(f);this.Lb.Nb().ql(!0);this.pG(this.JTb.ga());this.Ekc()}var a="#e0e0e0",b="#f5f5f5",c="16px Roboto",e=30;D(d,VZ);L(d,"geotoolkit.widgets.Histogram");d.Ka=y_;d.prototype.dispose=function(){null!=this.Ng&&(this.Ng.za(sH.Qj,this.YWb),this.Ng.za(uH.Td,this.ty),this.Ng.za(NH.nP,this.bGa),this.Ng=null);VZ.prototype.dispose.call(this)};d.prototype.fVa=function(){var f=new qR;f.on(lR.xka,function(g,h,k){this.notify(y_.xka,h,k)}.bind(this));this.PP.pa(f);return f};
d.prototype.LB=function(f){return this.PP.gb(null!=f?f:0)};d.prototype.pi=function(){VZ.prototype.pi.call(this);this.Ana.setMode(LS.yb);this.Cd.va(!1);this.Lb.Dr(new Gm({noverticalscalescroll:!0}));var f=new dj,g=function(k,l){k=this.LB().Jha(k);return null==k?"":"["+f.format(k.minvalue)+":"+f.format(k.maxvalue)+"] "}.bind(this),h=function(k,l){k=this.LB().Jha(k);return null==k?"":f.format(k.frequency)+" "}.bind(this);this.cu.$x($h.ue,{textconverter:g});this.cu.$x($h.Ec,{textconverter:g});this.cu.$x($h.Rc,
{textconverter:h});this.cu.$x($h.lc,{textconverter:h});this.Gw.wD(function(k){for(var l=0;l<k.length;++l)if(k[l].histogram===this.LB())return k[l];return[]}.bind(this)).addListener(bT.Sy,function(k,l){l.getSelection().indices instanceof Array&&this.Lza(l.getSelection().indices,this.ITa)}.bind(this));this.JN.Rb(!0).setMode(SU.Aa).addListener(TU.NR,function(k){this.my.Li(null)}.bind(this)).addListener(TU.gw,function(k){this.my.Li(new mi)}.bind(this));return this};d.prototype.Ekc=function(){var f=new dj,
g=function(k,l){k=this.bm()?this.LB().Jha(l):this.LB().Jha(k);return null==k?"":"["+f.format(k.minvalue)+":"+f.format(k.maxvalue)+"] "}.bind(this),h=function(k,l){k=this.bm()?this.LB().Jha(l):this.LB().Jha(k);return null==k?"":f.format(k.frequency)+" "}.bind(this);this.bm()?(this.Ana.setMode(LS.rb),this.Qd.va(!1),this.Lb.Dr(new Gm({nohorizontalscalescroll:!0})),this.cu.$x($h.ue,{textconverter:h}),this.cu.$x($h.Ec,{textconverter:h}),this.cu.$x($h.Rc,{textconverter:g}),this.cu.$x($h.lc,{textconverter:g}),
this.JN.setMode(SU.Ca)):(this.Ana.setMode(LS.yb),this.Cd.va(!1),this.Lb.Dr(new Gm({noverticalscalescroll:!0})),this.cu.$x($h.ue,{textconverter:g}),this.cu.$x($h.Ec,{textconverter:g}),this.cu.$x($h.Rc,{textconverter:h}),this.cu.$x($h.lc,{textconverter:h}),this.JN.setMode(SU.Aa))};d.prototype.cWa=function(){function f(p){p.Gj("major").setColor(a);p.Gj("minor").setColor(b);p.$g("minor",!0);p.$g("edge",!1);return p}var g=new fQ(this.LB().RX()),h=new ik,k=new sk,l=new fQ(this.LB().RX()),m=new ik,n=new sk;
f(l).$g("major",!1);f(m);f(n);this.vl={x:g,y:h,xlog:k};this.Zq={x:l,y:m,xlog:n};null==this.Vc&&(g=new ik,f(g),this.Vc=new Hk(g,m),m=new xm,m.Fd("grid_layer"),m.pa(this.Vc),this.my.Xf(0,m),this.fla=new ni,this.fla.sa(this.Lb.Nb().getParent().ga()),this.fla.Ha(new U(0,0,1,1)),this.a9=new Yn({x:[0,1],y:[0,0],linestyle:new Y("red")}),this.a9.va(!1),this.fla.ql(!0),this.fla.pa(this.a9),this.Lb.pa(this.fla));this.N7();return this};d.prototype.NWa=function(){return this.LB().NWa()};d.prototype.Kg=function(){return this.LB().Kg()};
d.prototype.setOrientation=function(f){f!==this.Kg()&&this.v8();this.LB().setOrientation(f);this.Ekc();this.N7();this.qGb();return this};d.prototype.wo=function(){if(null==this.a9||!1===this.a9.Ia()||null==this.ja)return this;var f=this.bm(),g=this.Lb.Nb().wb(),h=f?g.getY():g.getX(),k=h+(f?g.da():g.ca());g=[];var l=[],m=[],n;for(n=0;n<this.ja.length;++n){var p=this.ja[n];p>=h&&p<=k?g.push(p):Math.abs(p-h)<W.Tb?g.push(h):Math.abs(p-k)<W.Tb&&g.push(k)}p=g.length;m[0]=0;l[0]=0;if(0<p){g.sort(function(t,
u){return t-u});k-=h;var q=0,r=0;for(n=0;n<p;++n)q=(g[n]-h)/k,r=(n+1)/p,m.push(q,q),l.push(r-1/p,r);m.push(1);l.push(1)}else m[1]=1,l[1]=0;f?this.a9.ne(l,m):this.a9.ne(m,l);this.a9.ha();return this};d.prototype.Pz=function(){VZ.prototype.Pz.call(this);if(null==this.fla)return this;this.fla.sa(this.Lb.Nb().getParent().ga());this.fla.va(!0);return this};d.prototype.N7=function(){this.bm()?(this.vd.west.yg(this.vl["x"+(this.K6a?"log":"")]),this.vd.x.yg(this.vl.y),this.Vc.yg(Rh.yb,this.Zq["x"+(this.K6a?
"log":"")]),this.Vc.yg(Rh.rb,this.Zq.y)):(this.vd.x.yg(this.vl["x"+(this.K6a?"log":"")]),this.vd.west.yg(this.vl.y),this.vd.east.yg(this.vl.y),this.Vc.yg(Rh.rb,this.Zq["x"+(this.K6a?"log":"")]),this.Vc.yg(Rh.yb,this.Zq.y))};d.prototype.setData=function(f){if(null==f)return this;this.fp(f.tools);null!=f.bounds&&this.sa(f.bounds);this.L2(f.header);this.fp(f.tools);null==f.x&&(f.x={});null==f.datasource&&null!=this.Ng&&(f.datasource=this.Ng);var g=f.datasource;g!==this.Ng&&(null!=this.Ng&&(this.Ng.za(sH.Qj,
this.YWb),this.Ng.za(uH.Td,this.ty),this.Ng.za(NH.nP,this.bGa)),this.Ng=g,null!=this.Ng&&(this.Ng.on(sH.Qj,this.YWb),this.Ng.on(uH.Td,this.ty),this.Ng.on(NH.nP,this.bGa)));if(null!=g){null!=f.autominmax&&(this.Ng.autominmax=f.autominmax);null==this.Ng.autominmax&&(this.Ng.autominmax=!0);f=xb(f,{x:{min:!0===g.autominmax?g.qf(f.unit):this.Xt.x,max:!0===g.autominmax?g.Rf(f.unit):this.Wt.x},unit:this.Yd});if(null==f.unit||null!=f.datasource.Xa()&&!this.A1a().Xa(f.datasource.Xa()).Tm(f.unit)||null==f.datasource.Xa())f.unit=
f.datasource.Xa();null==f.x.min&&!0===this.Ng.autominmax&&(f.x.min=f.datasource.qf(f.unit));null==f.x.max&&!0===this.Ng.autominmax&&(f.x.max=f.datasource.Rf(f.unit));null==f.data&&(f.data=f.datasource.toArray(!1,f.unit));null==f.x.label&&(f.x.label={});null==f.x.label.text&&(f.x.label.text=f.datasource.Ga(),null!=f.unit&&(f.x.label.text=f.unit instanceof Wd?f.x.label.text+(" ("+f.unit.cd()+")"):f.x.label.text+(" ("+f.unit+")")))}void 0!==f.unit&&(this.Yd=f.unit);null!=f.autominmax&&null!=this.Ng&&
(this.Ng.autominmax=f.autominmax);if(null!=f.data){if(null==f.x.min||null==f.x.max){g=Number.POSITIVE_INFINITY;for(var h=Number.NEGATIVE_INFINITY,k=f.data.length,l=f.data,m=0;m<k;m++){var n=l[m];isNaN(n)||(g=Math.min(g,n),h=Math.max(h,n))}f.x.min=f.x.min||g;f.x.max=f.x.max||h}null==f.x.reversed&&(f.x.reversed=f.x.min>f.x.max);this.ja=f.data}g={};null!=f.data&&(g.data=f.data);null!=f.bins&&(g.bins=f.bins);null!=f.fillstyle&&(g.fillstyle=f.fillstyle);null!=f.linestyle&&(g.linestyle=f.linestyle);null!=
f.autogradient&&(g.autogradient=f.autogradient);null!=f.frequencytype&&(g.frequencytype=f.frequencytype);null!=f.highlightcolor&&(g.highlightstyle={color:f.highlightcolor});null!=f.binspacing&&(g.binspacing=f.binspacing);this.qGb(g);null!=f.accumulation&&(null!=f.accumulation.visible&&this.a9.va(f.accumulation.visible),null!=f.accumulation.linestyle&&this.a9.qa(f.accumulation.linestyle));this.S7("x",f.x);this.S7("y",f.y);this.wo();return this};d.prototype.getData=function(f){f=f||{};var g={tools:this.GU()};
null!=this.ga()&&(g.bounds=this.ga().ia());g.header=this.L1();g.tools=this.GU();g.x=this.npa("x",f);g.y=this.npa("y",f);null!=this.Ng&&(g.autominmax=this.Ng.autominmax);!0!==f["no-data"]&&(g.datasource=this.Ng,g.data=this.ja);f=this.LB();g.bins=f.RX();g.fillstyle=f.eb().ia();g.autogradient=f.JWa();g.linestyle=f.Fa();g.frequencytype=f.eXa();g.highlightcolor=f.wBb().mb();g.binspacing=f.J5b();g.accumulation={};g.accumulation.visible=this.a9.Ia();g.accumulation.linestyle=this.a9.Fa().ia();return g};d.prototype.ia=
function(){return G(this.getData(),VZ.prototype.ia.call(this))};d.prototype.L2=function(f){if(null==f)return this;var g={};null!=f.title&&(this.re.text.fa(f.title),ai.Yca(this.re.text,this.re.group,$h.ue));null!=f.annotationsize&&(g.north=f.annotationsize);this.Ki(g);this.Pz();return this};d.prototype.Gq=function(){return this.LB().Gq()};d.prototype.Geb=function(){return this.LB().Geb()};d.prototype.wc=function(){return this.LB().wc()};d.prototype.Hc=function(){return this.LB().Hc()};d.prototype.L1=
function(){var f={};f.title=this.re.text.ia();f.annotationsize=this.Lb.fb($h.ue).se();return f};d.prototype.S7=function(f,g){if(null==g)return this;null!=g.tickgenerator&&(hb("geotoolkit.widgets.Histogram.setData(data.tickgenerator) is deprecated since 2020 (3.0)"),this.vl[f]=g.tickgenerator,this.Zq[f]=g.tickgenerator);f=f.toLowerCase();if("x"!==f&&"y"!==f)return this;var h={},k={},l={x:"south",y:"west"};null!=g.axistickgenerator&&(this.vl[f]=g.axistickgenerator);null!=g.gridtickgenerator&&(this.Zq[f]=
g.gridtickgenerator);null!=g.label&&(this.Ve[f].text.fa(g.label),ai.Yca(this.Ve[f].text,this.Ve[f].group,l[f]));null!=g.annotationsize&&(k[l[f]]=g.annotationsize);null!=g.min&&(this.iub[f]=g.min,this.Xt[f]=g.min,"x"===f&&(h.minvalue=g.min),"y"===f&&0>this.Xt[f]&&(this.iub[f]=0,this.Xt[f]=0));null!=g.max&&(this.hub[f]=g.max,this.Wt[f]=g.max,"x"===f&&(h.maxvalue=g.max),"y"===f&&0>this.Wt[f]&&(this.hub[f]=0,this.Wt[f]=0));null!=g.neatlimits&&("x"===f?(this.JTb.t5c(g.neatlimits),this.kPb=g.neatlimits,
this.Qrc=g.neatlimitscenteredonzero):"y"===f&&(this.JTb.u5c(g.neatlimits),this.lPb=g.neatlimits));"x"===f&&(null!=g.autominmax&&(this.Prc=g.autominmax),this.Prc?h.autominmax=g.autominmax:(this.kPb?(l=W.Vp(this.Xt[f],this.Wt[f],!1,this.Qrc),this.Xt[f]=l.Ta(),this.Wt[f]=l.Ya()):(this.Xt[f]=this.iub[f],this.Wt[f]=this.hub[f]),h.minvalue=this.Xt[f],h.maxvalue=this.Wt[f]));"y"===f&&(null!=g.autominmax&&(this.Rrc=g.autominmax),this.Rrc?(l=this.LB().Gq(),this.Xt.y=l[12],this.Wt.y=l[13]):(this.Xt.y=this.iub.y,
this.Wt.y=this.hub.y));null!=g.axisticks&&(this.vl[f].fa(g.axisticks),this.gQ[f].axis.tick=this.vl[f].Yo("edge"),this.gQ[f].axis.label=this.vl[f].Yo("edge"));null!=g.gridticks&&(this.Zq[f].fa(g.gridticks),this.gQ[f].grid.tick=this.Zq[f].Yo("edge"),this.gQ[f].grid.label=this.Zq[f].Yo("edge"));if(null!=g.annotationside&&"y"===f){l="left"===g.annotationside||"both"===g.annotationside||"west"===g.annotationside;var m="right"===g.annotationside||"both"===g.annotationside||"east"===g.annotationside;this.vd.west.Ia()!==
l&&this.vd.west.va(l);this.vd.east.Ia()!==m&&this.vd.east.va(m)}this.N7();this.qGb(h);null!=g.reversed&&("x"===f&&this.Lb.Nb().Rl(g.reversed),"y"===f&&this.Lb.Nb().ql(g.reversed));null!=g.preciselimits&&g.preciselimits!==this.m9a[f]&&(this.m9a[f]=g.preciselimits,this.m9a[f]?(null==this.gQ[f].axis.tick&&(this.gQ[f].axis.tick=this.vl[f].Yo("edge")),null==this.gQ[f].axis.label&&(this.gQ[f].axis.label=this.vl[f].Yo("edge")),null==this.gQ[f].grid.tick&&(this.gQ[f].grid.tick=this.Zq[f].Yo("edge")),null==
this.gQ[f].grid.label&&(this.gQ[f].grid.label=this.Zq[f].Yo("edge")),this.vl[f].$g("edge",!1),this.vl[f].Ss("edge",!1),this.Zq[f].$g("edge",!1),this.Zq[f].Ss("edge",!1)):(this.vl[f].$g("edge",this.gQ[f].axis.tick),this.vl[f].Ss("edge",this.gQ[f].axis.label),this.Zq[f].$g("edge",this.gQ[f].grid.tick),this.Zq[f].Ss("edge",this.gQ[f].grid.label)));this.Ki(k);this.Pz();return this};d.prototype.qGb=function(f){var g=this.LB();g.setData(f);this.lPb&&(f=1,g.eXa()===nR.jCa&&(g.iJa()===oR.KV?f=g.Geb():0<g.RX()&&
(f=g.ceb(g.RX()-1))),f=W.Vp(0,f,this.K6a,!1),this.Wt.y=!isNaN(f.Ya())&&isFinite(f.Ya())?f.Ya():1);null!=this.Wt.y&&(this.bm()?(g.oa().setX(this.Xt.y),g.oa().Qa(this.Wt.y-this.Xt.y)):(g.oa().setY(this.Xt.y),g.oa().$a(this.Wt.y-this.Xt.y)));this.pG(g.ga());this.Lb.Nb().ha();this.vl.x instanceof fQ&&this.vl.x.T7(g.RX());this.Zq.x instanceof fQ&&this.Zq.x.T7(g.RX());return this};d.prototype.npa=function(f,g){f=f.toLowerCase();if("x"!==f&&"y"!==f&&"z"!==f)return{};var h={};"x"===f?(h.unit=this.Yd,null!=
this.Ng?h.autominmax=this.Ng.autominmax:h.neatlimits=this.kPb,!0!==g["no-data"]&&(h.datasource=this.Ng,h.data=this.ja)):"y"===f&&(h.neatlimits=this.lPb);h.label=this.Ve[f].text.ia();g={x:$h.Ec,y:$h.lc};g=this.Lb.fb(g[f]);h.annotationsize="x"===f?g.se():g.Tk();h.min=this.Xt[f];h.max=this.Wt[f];h.axisticks=this.vl[f].ia();h.gridticks=this.Zq[f].ia();"x"===f&&(h.reversed=this.Lb.Nb().Ji());"y"===f&&(h.reversed=this.Lb.Nb().Xo());"x"===f&&(h.preciselimits=this.m9a.x);"y"===f&&(h.preciselimits=this.m9a.y);
return h};d.prototype.CLa=function(f,g,h){if(f===sH.Qj&&(g instanceof DH||g instanceof RH))"data"===h.name&&this.setData({data:g.toArray(!1,this.Yd)}),"min"===h.name&&!0===g.autominmax&&this.setData({min:g.qf(this.Yd)}),"max"===h.name&&!0===g.autominmax&&this.setData({max:g.Rf(this.Yd)});else return this;this.wo();return this};d.prototype.KJ=function(f,g,h){this.setData({data:g.toArray(!1,this.Yd),autominmax:this.Ng.autominmax,x:{min:!0===this.Ng.autominmax?g.qf(this.Yd):this.Xt.x,max:!0===this.Ng.autominmax?
g.Rf(this.Yd):this.Wt.x}});this.wo();return this};d.prototype.jXa=function(){for(var f=[],g=this.LB().NWa(),h=0;h<g.length;++h)!0===g[h].highlighted&&f.push(g[h].binnumber);return f};d.prototype.YNd=function(f,g){f=this.LB().mAb(f).map(function(h){return h.binnumber});this.Lza(f,g)};d.prototype.Lza=function(f,g){this.LB().Lza(f,g);return this};d.prototype.fp=function(f){if(null==f)return this;null!=f.crosshair&&(null!=f.crosshair.north&&(f.crosshair.north.textconverter=null),null!=f.crosshair.south&&
(f.crosshair.south.textconverter=null),null!=f.crosshair.east&&(f.crosshair.east.textconverter=null),null!=f.crosshair.west&&(f.crosshair.west.textconverter=null));VZ.prototype.fp.call(this,f);return this};d.prototype.NE=function(f,g){g=new Cl(g||x_.ya());f=g.B6(f);f.Fs("#widget",this);f.Kd("geotoolkit.widgets.Histogram","template");this.pb()};d.prototype.SJ=function(f){f=new Cl(f||x_.ya());return f.R7("template",this)};d.prototype.bm=function(){return this.Kg()===Rh.yb};d.prototype.v8=function(){var f=
this.Ve.x.text.ia(),g=this.Ve.y.text.ia();this.Ve.x.text.fa({text:g.text,textstyle:g.textstyle});ai.Yca(this.Ve.x.text,this.Ve.x.group,$h.Ec);this.Ve.y.text.fa({text:f.text,textstyle:f.textstyle});ai.Yca(this.Ve.y.text,this.Ve.y.group,$h.lc)};d.prototype.fa=function(f){f=jc(f);if(null==f)return this;this.setData(f);delete f.fillstyle;void 0!==f.backgroundfillstyle&&(f.fillstyle=f.backgroundfillstyle,delete f.backgroundfillstyle);VZ.prototype.fa.call(this,f);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRIaXN0b2dyYW0iOiJmVmEiLCJnZXRIaXN0b2dyYW0iOiJMQiIsImluaXRpYWxpemVUb29scyI6InBpIiwidXBkYXRlVG9vbHMiOiJFa2MiLCJnZXRCaW5zIjoiTldhIiwiZ2V0T3JpZW50YXRpb24iOiJLZyIsInJlZnJlc2hMYXlvdXQiOiJQeiIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldEhlYWRlck9wdGlvbnMiOiJMMiIsImdldFN0YXRpc3RpY3MiOiJHcSIsImdldE1heEZyZXF1ZW5jeSI6IkdlYiIsImdldE1pblZhbHVlIjoid2MiLCJnZXRNYXhWYWx1ZSI6IkhjIiwiZ2V0SGVhZGVyT3B0aW9ucyI6IkwxIiwic2V0QXhpc0RhdGFPcHRpb25zIjoiUzciLCJnZXRBeGlzRGF0YU9wdGlvbnMiOiJucGEiLCJvbkF4aXNDaGFuZ2VkIjoiQ0xhIiwiZ2V0SGlnaGxpZ2h0ZWRCaW5zIjoialhhIiwiaGlnaGxpZ2h0UmFuZ2UiOiJZTmQiLCJoaWdobGlnaHRCaW5zIjoiTHphIiwic2V0VG9vbHNPcHRpb25zIjoiZnAiLCJsb2FkVGVtcGxhdGUiOiJORSIsInNhdmVUZW1wbGF0ZSI6IlNKIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var A_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){Mf.call(this);this.zra()}D(d,Mf);L(d,"geotoolkit.widgets.templates.MultiHistogramsRegistry");d.prototype.zra=function(){function b(e,f){f.Yb("length",e.length);f.Yb("flip",e.flip);f.Yb("accumulative",e.accumulative);e=(new pk).fa(e);f.Ne("axis",e,"geotoolkit.axis.Axis");f.commit()}var c=[$h.Ec,$h.lc,$h.Rc];this.om("geotoolkit.widgets.MultiHistograms",{save:function(e,f){f.Yb("type","multihistogram");f.Ne("options",e.ia());var g=f.QQ("histograms","array"),h=e.f7b(),k;
for(k=0;k<h.length;k++)g.Ne(k,{hist:h[k],widget:e},"histogram");g.commit();g=f.QQ("groups","array");h=e.KNc();for(k=0;k<h.length;k++)g.Ne(k,{id:h[k],widget:e},"group");g.commit();f.commit()},load:function(e){var f=e.vk("#widget");f&&(f.fa(e.getValue("options")),e.Yx(function(g,h){"histograms"===g&&h.Yx(function(k,l){l.Kd("histogram")})}),e.Yx(function(g,h){"groups"===g&&h.Yx(function(k,l){l.Kd("group")})}));return f}});this.om("group",{save:function(e,f){var g=e.widget;e=e.id;var h={id:e,models:g.jfb(e,
!1,!0),location:g.$Oc(e)};f=f.Uz(h);g.sJ(e,h.location)&&f.Ne("axis",g.sJ(e,h.location),"axis");f.commit()},load:function(e){var f=e.vk("#widget"),g=e.getValue("models"),h=e.getValue("id"),k=e.getValue("location");e=e.Kd("axis","axis");f.Hyb(g,k,e,h)}});this.om("histogram",{save:function(e,f){var g=e.hist,h=g.kc();e=e.widget;h={id:h};f=f.Uz(h);f.Ne("shape",g,qR.Pa());e.sJ(g,c[0])&&f.Ne(c[0],e.sJ(g,c[0]),"axis");e.sJ(g,c[1])&&f.Ne(c[1],e.sJ(g,c[1]),"axis");e.sJ(g,c[2])&&f.Ne(c[2],e.sJ(g,c[2]),"axis");
f.commit()},load:function(e){var f=e.vk("#widget"),g=e.getValue("id"),h=e.Kd(qR.Pa(),"shape");g=f.fVa(h.ia(),{xaxis:null,yaxis:null},g);h=e.Kd("axis",c[0]);var k=e.Kd("axis",c[1]);e=e.Kd("axis",c[2]);h&&f.uxb(c[0],h,g);k&&f.uxb(c[1],k,g);e&&f.uxb(c[2],e,g)}});this.om("axis",{save:b,load:function(e){var f={};f.length=e.getValue("length");f.flip=e.getValue("flip");f.accumulative=e.getValue("accumulative");(e=e.Kd("geotoolkit.axis.Axis","axis"))&&(f=G(f,e.ia()));return f}})};var a=null;d.ya=function(){null==
a&&(a=new d);return a};return d}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIn0g");var B_=/*#__PURE__*/ta(/*#__PURE__*/{hoc:"histogramsselected",xlc:"binsselected",WKb:"axisselected",xka:"dataupdated"},2,"eyJIaXN0b2dyYW1zU2VsZWN0ZWQiOiJob2MiLCJCaW5zU2VsZWN0ZWQiOiJ4bGMiLCJBeGlzU2VsZWN0ZWQiOiJXS2IiLCJEYXRhVXBkYXRlZCI6InhrYSJ9"),C_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e){null==e&&(e={});var f=20,g=25,h=15,k=30;e.viewcachesize=e.viewcache||null!=e.viewcachesize?G(e.viewcachesize,{width:256,height:256}):null;e.border=G(e.border,{color:"transparent"},!0);f={bounds:e.bounds,border:e.border,north:null,south:null,west:null,east:null,axiswidth:40,axisheight:40,annotationssizes:{north:f+g,west:f+k+g,south:f+k+h+g,east:f+k}};f=G(e,f,!0);VZ.call(this,f);this.CT=
null;this.kZb=!1;this.nob=!0;this.pfa=[];this.lua={};this.lua[$h.lc]=f.annotationssizes.west;this.lua[$h.Rc]=f.annotationssizes.east;this.lua[$h.Ec]=f.annotationssizes.south;this.bb={};this.bb[$h.lc]={};this.bb[$h.Rc]={};this.bb[$h.Ec]={};this.io={};this.ig={};this.ig[$h.lc]={};this.ig[$h.Rc]={};this.ig[$h.Ec]={};this.ifa={};this.ifa[$h.lc]=(new ni).Em(0);this.ifa[$h.Rc]=(new ni).Em(0);this.ifa[$h.Ec]=(new ni).dm(0);this.m$={};this.m$[$h.Ec]=(new xm).Fd("south_layer");this.m$[$h.lc]=(new xm).Fd("West_layer");
this.m$[$h.Rc]=(new xm).Fd("east_layer");this.cGa=this.wTd.bind(this);this.Nod=this.WWc.bind(this);this.pi();this.Lb.$r(this.ifa[$h.lc],$h.lc);this.Lb.bD(0,this.ifa[$h.Rc],$h.Rc);this.Lb.bD(0,this.ifa[$h.Ec],$h.Ec);this.ra(new rf("white"));this.qa((new Y("white")).Zg({x:!1,y:!1}));this.Lb.skb();this.UF=f.viewcache;this.vu={};null!=f.viewcachesize&&(this.UF=!0,this.vu=f.viewcachesize);this.my=new ni;this.my.Ha(new U(0,0,1,1));this.my.Li(this.UF?new mi(this.vu.width,this.vu.height):null);this.wob=!0;
this.e4=null;this.DTb=new rf({color:"lightgrey"});this.xob=f.axiswidth;this.tob=f.axisheight;e=this.Lb.Nb();e.Xf(0,this.my);e.ql(!0);this.Vc=new Hk;e.Xf(0,(new ni).pa(this.Vc));this.Cd.ql(!0);this.PP=new xm;this.WBc=(new ni).sa(new U(0,0,1,1));this.my.Xf(0,this.HH());this.my.Xf(0,this.PP);this.my.Xf(0,this.WBc);this.ja=null;this.bk=WH.ya();this.re=$l.RQ(this.Lb,{location:$h.ue,text:"",textstyle:{font:a}});this.Lb.Dib();this.Pz();this.setOptions(f)}var a="16px Roboto",b="#e0e0e0",c="#efefef";D(d,VZ);
L(d,"geotoolkit.widgets.MultiHistograms");d.Ka=B_;d.prototype.KMd=function(){return this.WBc};d.prototype.pi=function(){if(null==this.m$)return this;VZ.prototype.pi.call(this);this.Lb.fb($h.Ec).pa((new ni).pa(this.m$[$h.Ec]));this.Lb.fb($h.lc).pa((new ni).pa(this.m$[$h.lc]));this.Lb.fb($h.Rc).pa((new ni).pa(this.m$[$h.Rc]));this.TAc=(new cT(this.m$[$h.Ec])).Rb(!1).wD(function(g){for(var h=g.length;0<=h&&g[h]!==this.Lb.Nb();h--)if(g[h]instanceof pk)return g[h];return[]}.bind(this)).addListener(bT.Sy,
function(g,h){this.Q0c($h.Ec,!0,!0,g,h);this.notify(d.Ka.WKb,this,{location:$h.Ec,histogram:this.io[this.e4]?this.io[this.e4].shape:null,group:this.bb[$h.Ec][this.e4]?this.e4:null})}.bind(this));this.JCc=(new cT(this.m$[$h.lc])).Rb(!1).wD(function(g){for(var h=g.length;0<=h&&g[h]!==this.Lb.Nb();h--)if(g[h]instanceof pk)return g[h];return[]}.bind(this)).addListener(bT.Sy,function(g,h){this.Q0c($h.lc,!0,!0,g,h);this.notify(d.Ka.WKb,this,{location:$h.lc,histogram:this.io[this.e4]?this.io[this.e4].shape:
null,group:this.bb[$h.lc][this.e4]?this.e4:null})}.bind(this));this.Gw.wD(function(g){for(var h=[],k=0;k<g.length;k++)g[k].histogram&&null!=this.io[g[k].histogram.kc()]&&h.push(g[k]);return h}.bind(this)).addListener(bT.Sy,function(g,h){g=h.getSelection();h=!1;var k,l=[],m=[];for(k=0;k<g.length;k++)if(0!==g[k].hittest.length){var n=g[k].histogram;l.push(n);this.O_d(n,g[k].hittest)&&(h=!0,this.tjc(n,!0),m.push(g[k].hittest))}h?this.notify(d.Ka.xlc,this,{histograms:l,bins:m}):(this.f$c(this.pfa),n&&
(this.lBa(this.pfa,!1),this.ygc(n),this.tjc(n,!0),this.t8(),this.notify(d.Ka.hoc,this,n)))}.bind(this));this.Un([(new QS(this.m$[$h.Ec],"southTools")).add([this.TAc]),(new QS(this.m$[$h.lc],"westTools")).add([this.JCc])]);var e=eS.Pa(),f=this.fb($h.Ec);this.CT=iS.ya().nO(e,{name:"southverticalscrollbar",modellimits:f.oa(),visiblelimits:f.wb()});e=function(g,h){g=this.fb($h.Ec);h=h.wb();this.CT.Ha(g.oa(),h)}.bind(this);this.CT.addListener(TR.fw,e).addListener(TR.Yn,e);this.CT.va(!0);this.Lb.$r(this.CT,
$h.jx);this.Un([this.CT.Mc()]);return this};d.prototype.t8=function(){var e=ff(this.PP).vc(function(k){return k instanceof qR&&!0===k.getParent().Ia()}).RO();e=0<e.length?e[e.length-1]:null;if(null!=e){this.lBa(e,!0);var f=this.nL(e)[0],g=e.kc();e=e.kc();var h;null!=(h=f.groupid[$h.Ec])&&null!=this.ig[$h.Ec][h]&&(e=h);null!=(h=f.groupid[$h.lc])&&null!=this.ig[$h.lc][h]&&(g=h);null!=(h=f.groupid[$h.Rc])&&null!=this.ig[$h.Rc][h]&&(g=h);null!=this.ig[$h.lc][g]?(h=this.ig[$h.lc][g],f=h.Oe()):null!=this.ig[$h.Rc][g]?
(h=this.ig[$h.Rc][g],f=h.Oe()):(f=new ik,h=(new pk(f)).Ha(new U(0,0,1,1)));null!=this.ig[$h.Ec][e]?(e=this.ig[$h.Ec][e],g=e.Oe()):(g=new ik,e=(new pk(g)).Ha(new U(0,0,1,1)));f=f.clone().Nj("major",b).Nj("minor",c).$g("minor",f.Yo("minor")).$g("edge",!1);g=g.clone().Nj("major",b).Nj("minor",c).$g("minor",g.Yo("minor")).$g("edge",!1);this.Vc.yg(Rh.rb,g);this.Vc.yg(Rh.yb,f);h=h.oa();e=e.oa();h=new U(e.ka(),h.ma(),e.na(),h.la());this.Vc.getParent().Ha(h)}};d.prototype.Di=function(){VZ.prototype.Di.call(this);
this.t8();return this};d.prototype.tjc=function(e,f,g){e=this.nL(e);for(var h=0;h<e.length;h++){var k=e[h].shape.kc(),l;for(l in this.ig)if(this.ig.hasOwnProperty(l)){var m=this.io[k].groupid[l];m&&this.ig[l][m]?(this.D$b(this.ig[l][m],l),f&&l!==g&&this.vKc(this.ig[l][m],l)):this.ig[l][k]?(this.D$b(this.ig[l][k],l),f&&l!==g&&this.vKc(this.ig[l][k],l)):this.D$b(null,l)}}return this};d.prototype.vKc=function(e,f){if(f===$h.Ec){var g=this.fb(f);e=e.getParent().ga();f=this.ifa[f].ga().da();f=new U(e.ka(),
e.la()+g.ga().da()-f,e.na(),e.la()-f);f.ma()>g.oa().ma()&&f.setY(g.oa().ma()-g.ga().da());this.CT.Ha(g.oa(),f)}};d.prototype.D$b=function(e,f){for(var g in this.ig[f])this.ig[f].hasOwnProperty(g)&&null!=this.ig[f][g]&&this.ig[f][g].getParent().ra(new rf("white"));null!=e&&(e.getParent().ra(this.DTb),this.fb(f).ha());return this};d.prototype.O_d=function(e,f){return!0===this.io[e.kc()].highlightable?(e.Lza(f,!0),!0):!1};d.prototype.Q0c=function(e,f,g,h,k){f=null!=f?f:!0;var l=this.ig[e];h=h instanceof
pk?h:k.getSelection();if(null!=h)for(var m in l)l.hasOwnProperty(m)&&l[m]===h&&this.e4!==m&&(this.f$c(this.pfa),this.lBa(this.pfa,!1),this.io[m]?this.ygc(m):this.bb[e][m]&&this.S3c(m),this.t8(),f&&this.tjc(this.e4,g,e));return this};d.prototype.f$c=function(e){e=this.nL(e);for(var f=0;f<e.length;f++)e[f].shape.Lza([],!0);return this};d.prototype.fVa=function(e,f,g){null==e&&(e={});e=new qR(e);g=null!=g?g.toString():this.ENc();e.Fd(g);e.on(ze.gf,this.cGa);e.on(lR.Ymb,this.cGa);e.on(lR.e2a,this.Nod);
this.io[g]={shape:e,highlightable:!1,groupid:{}};this.io[g].groupid[$h.lc]=null;this.io[g].groupid[$h.Rc]=null;this.io[g].groupid[$h.Ec]=null;var h=new ni;h.sa(new U(0,0,1,1));h.pa(e);var k=e.eb().mb();this.PP.pa(h);this.bk&&this.ja&&this.bk.bind(e,this.ja);this.lBa(null,!1).lBa(e,!0);if(f&&null===f.xaxis)var l=null;else{var m=new fQ(e.RX());m.$g("minor",!1);m.$g("edge",!0);m.Gj("major").setColor(k);m.Gj("minor").setColor(k);m.Gj("edge").setColor(k);h=e.$Q();h=null!=h?" ( "+h.cd()+" )":"";h=e.Ga()+
h;l=$l.bU(this.Lb,{location:$h.Ec,connect:!1,title:{text:h,visible:!0,textstyle:new Fi({color:"#757575"}),alignment:O.Se},annotationitemswrap:!1}).axis;l.yg(m);l.qpa().setColor(k);f&&null!=f.xaxis&&l.fa(f.xaxis)}f&&null===f.yaxis?h=null:(h=$l.bU(this.Lb,{location:$h.lc,connect:!1,title:{text:"Frequency",visible:!0,textstyle:new Fi({color:"#757575"}),alignment:O.Bd},annotationitemswrap:!1}).axis,m=new ik,m.Gj("major").setColor(k),h.yg(m),h.qpa().setColor(k),f&&null!=f.yaxis&&h.fa(f.yaxis));l&&(k=f?
f.xaxis:{},k=G({axis:l},k),this.aEb($h.Ec,k,e),this.ig[$h.Ec][g]=l);h&&(f=f?f.yaxis:{},f=G({axis:h},f),this.aEb($h.lc,f,e),this.ig[$h.lc][g]=h);this.IIe=e;this.t8();this.pb();return e};d.prototype.b_c=function(e){e=this.nL(e);for(var f=0;f<e.length;f++){var g=e[f].shape;this.c_c(g);this.bEb(g.kc());var h=this.pfa.indexOf(g);-1!==h&&this.pfa.splice(h,1);this.io[g.kc()]=null;this.PP.removeChild(g.getParent());this.bk&&this.ja&&this.bk.unbind(g,this.ja);g.za(lR.Ymb,this.cGa);g.za(ze.gf,this.cGa)}this.uG($h.lc);
this.uG($h.Rc);this.uG($h.Ec);this.t8();return this};d.prototype.nL=function(e){var f=null,g=[];if(void 0===e)return g;null===e&&(e=Object.keys(this.io));e=Array.isArray(e)?e:[e];for(var h=0;h<e.length;h++)"string"===typeof e[h]?f=this.io[e[h]]:e[h]instanceof qR&&(f=this.io[e[h].kc()]),f&&g.push(f),f=null;return g};d.prototype.lBa=function(e,f){e=this.nL(e);for(var g=0;g<e.length;g++){e[g].highlightable=f;var h=this.pfa.indexOf(e[g].shape);!0===f&&-1===h?this.pfa.push(e[g].shape):!1===f&&-1!==h&&
this.pfa.splice(h,1)}return this};d.prototype.iGd=function(){return this.pfa};d.prototype.jXa=function(e){e=this.nL(e);for(var f=[],g=0;g<e.length;g++){var h=e[g].shape;f.push(h.jXa())}return f};d.prototype.f7b=function(e){var f=[],g;for(g in this.io)this.io.hasOwnProperty(g)&&null!=this.io[g]&&(e?f.push(this.io[g].shape.kc()):f.push(this.io[g].shape));return f};d.prototype.KNc=function(){var e=[],f;for(f in this.bb)if(this.bb.hasOwnProperty(f))for(var g in this.bb[f])this.bb[f].hasOwnProperty(g)&&
null!=this.bb[f][g]&&e.push(g);return e};d.prototype.Tab=function(e,f){var g=VZ.prototype.Tab.call(this,f),h=g.group;f="number"==typeof f.length?e===$h.Ec?this.tob:this.xob:f.length;e===$h.Ec?h.dm(f):h.Em(f);e===$h.lc&&(this.Lb.removeItem(h,$h.lc),this.Lb.bD(0,h,$h.lc));return g};d.prototype.aEb=function(e,f,g){f=xb(f,{title:{visible:!0,textstyle:new Fi({color:"#757575"}),alignment:O.Oa}});var h=null!=f.axis?f.axis:f,k=VZ.prototype.Kw.call(this,h,e,null);h=k.axis;k=k.group;!f.tickgenerator||f.tickgenerator instanceof
Wi||h.Oe().fa(f.tickgenerator);null!=f.flip&&(e===$h.Ec||e===$h.ue?k.Rl(f.flip):k.ql(f.flip));var l="number"!==typeof f.length?e===$h.Ec?this.tob:this.xob:f.length;e===$h.Ec?k.dm(l):k.Em(l);e===$h.lc&&(this.Lb.removeItem(k,e),this.Lb.bD(0,k,e));this.Lb.xa();if(f.accumulative){h.Ha(new U(0,0,100,100));f=new ni;f.sa(new U(0,0,1,1));f.Ha(h.oa());this.PP.pa(f);this.Lb.connect(h,f);for(var m in this.io)this.io.hasOwnProperty(m)&&null!=this.io[m]&&this.io[m].shape.iJa()===oR.lMb&&(this.ig[e][m]=h)}else g&&
this.Pvd(e,h,g);this.uG(e);this.t8();return h};d.prototype.uxb=function(e,f,g){!1===f instanceof pk&&"object"==typeof f&&this.aEb(e,f,g)};d.prototype.Pvd=function(e,f,g){g&&(0!==this.nL(g).length?(this.Lb.connect(f,g.getParent()),this.ig[e][g.kc()]=f):"string"==typeof g?(this.Lb.connect(f,this.bb[e][g].sharedmodel),this.ig[e][g]=f,this.bb[e][g].axis=f):void 0!==g.groupid?(g=g.groupid,this.Lb.connect(f,this.bb[e][g].sharedmodel),this.ig[e][g]=f,this.bb[e][g].axis=f):g instanceof Ee&&(this.Lb.connect(f,
g),this.ig[e][g.kc()]=f),this.t8())};d.prototype.D5b=function(e){var f=[],g;if("string"==typeof e){for(g in this.ig)if(this.ig.hasOwnProperty(g)&&this.ig[g].hasOwnProperty(e)){var h={};h.axis=this.ig[g][e];h.id=e;h.location=g;f.push(h)}return f}if(e instanceof pk){for(g in this.ig)if(this.ig.hasOwnProperty(g))for(var k in this.ig[g])this.ig[g].hasOwnProperty(k)&&this.ig[g][k]===e&&(h={},h.axis=e,h.id=k,h.location=g,f.push(h));return f}return null};d.prototype.bEb=function(e){if(e=this.D5b(e))for(var f=
0;f<e.length;f++){var g=e[f];this.ig[g.location][g.id]=null;var h=g.axis;h&&(this.Lb.removeItem(h.getParent(),g.location),this.Lb.disconnect(h),this.uG(g.location))}return this};d.prototype.TXd=function(e,f){if(null!=e){var g=this.nL(e);if(this.ig.hasOwnProperty(f)&&this.ig[f])if(0!==g.length){e=g[0].shape.kc();var h=this.ig[f][e]}else if(null!=this.bb[f][e])h=this.ig[f][e];else if(null!=this.bb[f][e.groupid])h=this.ig[f][e.groupid];else return null;this.bEb(h);return this}return null};d.prototype.dispose=
function(){this.b_c(this.f7b());VZ.prototype.dispose.call(this)};d.prototype.uG=function(e,f){for(var g=this.Lb.fb(e),h=g.De().getIterator(),k=g.ga().clone(),l=g.ga().clone(),m=1,n={};h.wg();){var p=h.next();p.Ia()&&p instanceof ni&&(m=e===$h.Ec?m+p.se():m+p.Tk())}if(isNaN(m))return this;e===$h.Ec?(m>this.lua[e]&&!this.nob?(n[e]=this.lua[e],this.Ki(n),l=g.ga().clone(),this.kZb?g.Ha(k.$a(m)):g.Ha(l),this.kZb&&(this.CT.va(!0),this.CT.Ha(g.oa(),l))):this.nob?(n[e]=m,this.Ki(n),l=g.ga().clone(),g.Ha(l),
this.CT.va(!1)):(n[e]=this.lua[e],this.Ki(n),l.$a(this.lua[e]),g.Ha(l),this.CT.Ha(l,l)),f||(this.uG($h.lc,!0),this.uG($h.Rc,!0))):(e===$h.Rc&&this.CT.ia().size>m?n[e]=this.CT.ia().size:n[e]=m,this.Ki(n),l=g.ga().clone(),g.Ha(l),f||this.uG($h.Ec,!0));return this};d.prototype.ENc=function(){return ye.Mz()};d.prototype.wTd=function(e,f){var g=this.io[f.kc()].groupid[$h.Ec],h=this.io[f.kc()].groupid[$h.lc],k=this.io[f.kc()].groupid[$h.Rc];if(null!=this.ig[$h.Ec][f.kc()]){var l=f.$Q();l=null!=l?" ( "+
l.cd()+" ) ":"";l=f.Ga()+l;this.ig[$h.Ec][f.kc()].Fr(l)}this.os(f);g&&this.D1a(this.bb[$h.Ec][g],$h.Ec);h&&this.D1a(this.bb[$h.lc][h],$h.lc);k&&this.D1a(this.bb[$h.Rc][k],$h.Rc);this.notify(d.Ka.xka,this,{event:e,src:f});this.Lb.DV();this.t8();this.pb()};d.prototype.WWc=function(e,f,g){if(e=this.ig[$h.Ec][f.kc()])e.Oe().T7(g),this.t8(),this.pb()};d.prototype.os=function(e,f){var g=e.getParent().oa().clone(),h=e.oa().clone();f!==$h.Ec&&null!=f||e.getParent().Ha(new U(h.ka(),g.ma(),h.na(),g.la()));
if(f!==$h.Ec||null==f)e.eXa()===nR.jCa&&e.iJa()===oR.KV?(f=W.Vp(h.la(),h.ma()),h.setY(f.Ta()).$a(f.Ya()-f.Ta()),e.getParent().Ha(h)):e.getParent().Ha(new U(g.ka(),h.ma(),g.na(),h.la()))};d.prototype.D1a=function(e,f){var g=e.models,h=!1,k,l=null;for(k=0;k<g.length;k++){var m=g[k].shape;m instanceof qR&&m.eXa()===nR.jCa&&m.iJa()===oR.KV&&(h=!0);null==l?l=new U(m.oa()):l.union(m.oa())}h&&(k=W.Vp(l.la(),l.ma()),l.setY(k.Ta()).$a(k.Ya()-k.Ta()));e.sharedmodel.oa().Gi(l)||e.sharedmodel.Ha(l);for(k=0;k<
g.length;k++)m=g[k].shape,e=m.getParent().oa(),f===$h.Ec?m.getParent().Ha(new U(l.ka(),e.ma(),l.na(),e.la())):m.getParent().Ha(new U(e.ka(),l.ma(),e.na(),l.la())),m.getParent().ha()};d.prototype.Zrd=function(e,f){e=this.nL(e);if("string"!=typeof f)if(void 0!==f.groupid)f=f.groupid;else return null;for(var g in this.bb)if(this.bb.hasOwnProperty(g)&&this.bb[g][f]){for(var h=this.bb[g][f],k=0;k<e.length;k++){var l=e[k].shape,m=h.models.indexOf(this.io[l.kc()]);-1===m&&(h.models.push(this.io[l.kc()]),
e[k].groupid[g]=f,(l=this.ig[g][l.kc()])&&this.Lb.removeItem(l.getParent(),g))}this.D1a(h,g);this.uG(g);this.t8()}return this};d.prototype.c_c=function(e){e=this.nL(e);for(var f=0;f<e.length;f++){var g=e[f].groupid,h=e[f].shape,k;for(k in g)g.hasOwnProperty(k)&&null!=g[k]&&this.d_c(h,g[k])}return this};d.prototype.d_c=function(e,f){e=this.nL(e);if("string"!=typeof f)if(void 0!==f.groupid)f=f.groupid;else return null;for(var g in this.bb)if(this.bb.hasOwnProperty(g)&&this.bb[g][f]){for(var h=this.bb[g][f],
k=0;k<e.length;k++){var l=e[k].shape,m=h.models.indexOf(this.io[l.kc()]);-1!==m&&(h.models.splice(m,1),e[k].groupid[g]=null,this.os(l),(l=this.ig[g][l.kc()])&&this.Lb.$r(l.getParent(),g),0===this.jfb(f).length&&this.pib(f))}this.D1a(h,g);this.uG(g);this.t8()}return this};d.prototype.Hyb=function(e,f,g,h){var k=this.nL(e);f=f?f:$h.lc;var l,m;h=null!=h?h:this.ENc();for(m=0;m<k.length;m++){var n=k[m];if(null!=n.groupid[f])return null;var p=n.shape;null==l?l=new U(p.oa()):l.union(p.oa())}var q;e="";this.un();
for(m=0;m<k.length;m++){n=k[m];p=n.shape;if(q=this.ig[f][p.kc()])e=e+" "+q.mn(),this.Lb.removeItem(q.getParent(),f);n.groupid[f]=h}p=new ni;p.Ha(l);p.sa(new U(0,0,1,1));this.PP.pa(p);this.bb[f][h]={models:k,sharedmodel:p};null==g&&(g={});if(!g.hasOwnProperty("axis")){null==g.linestyle&&(g.linestyle=new Y);null==g.textstyle&&(g.textstyle=new Fi);null==g.baselinestyle&&(g.baselinestyle=new Y);g.tickgenerator instanceof Wi||!q||(l=q.Oe().clone(),g.tickgenerator=l.Ss("major",!0).fa(g.tickgenerator));
f!==$h.Ec||null!=g.title&&null!=g.title.text||(g.title=null==g.title?{}:g,g.title.text=e);q&&(g=xb(g,q.ia(),!0));var r=this.aEb(f,g,h)}this.In();this.bb[f][h].axis=r;this.ig[f][h]=r;this.D1a(this.bb[f][h],f);this.uG(f);return{groupid:h}};d.prototype.fa=function(e){this.setOptions(e);this.vu={};void 0!==e.viewcache&&(this.UF=e.viewcache);void 0!==e.viewcachesize&&(this.UF=!0,this.vu=e.viewcachesize,this.my.Li(this.UF?new mi(this.vu.width,this.vu.height):null));return this};d.prototype.setOptions=function(e){if(null==
e)return this;VZ.prototype.fa.call(this,e);null!=e.header&&this.L2(e.header);null==e.axiswidth||isNaN(e.axiswidth)||(this.xob=e.axiswidth);null==e.axisheight||isNaN(e.axisheight)||(this.tob=e.axisheight);null!=e.tools&&this.fp(e.tools);null!=e.annotationsgaps&&this.q3c(e.annotationsgaps);null!=e.autoannotationsize&&(this.nob=e.autoannotationsize);null!=e.annotationssizes&&null!=e.annotationssizes.south&&(this.lua[$h.Ec]=e.annotationssizes.south);this.Lb.xa();this.uG($h.lc);this.uG($h.Rc);this.uG($h.Ec);
return this};d.prototype.sJ=function(e,f){var g=null;if(null!=e){var h=this.nL(e);if(0!==h.length){var k=h[0].shape.kc();h=this.ig[f][k]}else if(null!=this.bb[f][e])k=e,h=this.ig[f][e];else if(null!=this.bb[f][e.groupid])k=e.groupid,h=this.ig[f][e.groupid];else return null}h&&(e=h.getParent(),g=h.ia(),f===$h.Ec?(g.length=e.se(),g.flip=e.Ji()):(g.length=e.Tk(),g.flip=e.Xo()),g.accumulative=this.io[k]&&this.io[k].shape.iJa()===oR.lMb?!0:!1);return g};d.prototype.qZ=function(e,f,g){if(null!=e){f=f?f:
$h.Ec;var h=this.nL(e);if(0!==h.length)e=h[0].shape.kc(),e=this.ig[f][e];else if(null!=this.bb[f][e])e=this.ig[f][e];else if(null!=this.bb[f][e.groupid])e=this.ig[f][e.groupid];else return this;null!=e&&(e.fa(g),h=e.getParent(),!g.tickgenerator||g.tickgenerator instanceof Wi||e.Oe().fa(g.tickgenerator),"number"==typeof g.length&&(f===$h.Ec?h.dm(g.length):h.Em(g.length)),"boolean"==typeof g.flip&&(f===$h.Ec?h.Rl(g.flip):h.ql(g.flip)))}return this};d.prototype.ia=function(){var e=VZ.prototype.ia.call(this);
e=G(e,this.getData());e.header=this.L1();e.axiswidth=this.xob;e.axisheight=this.tob;e.autoannotationsize=this.nob;e.tools=null!=e.tools?e.tools:{};e.tools.axisselection=this.E5b();e.tools.southscroll=this.y5b();return e};d.prototype.L2=function(e){if(null==e)return this;void 0!==e.title&&(this.re.text.fa(e.title),ai.Yca(this.re.text,this.re.group,$h.ue),this.Pz());return this};d.prototype.L1=function(){return{title:this.re.text.ia()}};d.prototype.m0d=function(e,f){e=this.D5b(e);if(null==f||isNaN(f)||
!e||0===e.length)return this;e=e[0];e.location===$h.Ec?e.axis.getParent().dm(f):e.axis.getParent().Em(f);return this};d.prototype.fp=function(e){if(!e)return this;VZ.prototype.fp.call(this,e);null!=e.axisselection&&this.n1c(e.axisselection);null!=e.southscroll&&this.e1c(e.southscroll,$h.Ec);return this};d.prototype.GU=function(){var e=VZ.prototype.GU.call(this);return e=G(e,{axisselection:this.E5b(),southscroll:this.y5b()})};d.prototype.n1c=function(e){null!==e.enabled&&(this.wob=e.enabled,this.TAc.Rb(this.wob),
this.JCc.Rb(this.wob));null!==e.highlightstyle&&(this.DTb=e.highlightstyle instanceof rf?e.highlightstyle:new rf(e.highlightstyle));return this};d.prototype.E5b=function(){var e={};e.enabled=this.wob;e.highlightstyle=this.DTb.ia();return e};d.prototype.e1c=function(e,f){var g=this.CT;null!=e.size&&"number"==typeof e.size&&g.Na({width:e.size});null!=e.visible&&(g.va(e.visible),this.kZb=e.visible,this.uG($h.Ec),this.uG($h.lc),this.uG($h.Rc));null!=e.options&&g.fa(e.options);this.fb(f).pb();return this};
d.prototype.y5b=function(){return this.CT.ia()};d.prototype.q3c=function(e){null!=e[$h.Ec]&&(this.ifa[$h.Ec]=e[$h.Ec],this.fb($h.Ec).pb());null!=e[$h.lc]&&(this.ifa[$h.lc]=e[$h.lc],this.fb($h.lc).pb());null!=e[$h.Rc]&&(this.ifa[$h.Rc]=e[$h.Rc],this.fb($h.Rc).pb());return this};d.prototype.Y6b=function(e){if("string"!=typeof e)if(e&&e.hasOwnProperty("groupid"))e=e.groupid;else return null;var f;for(f in this.bb)if(this.bb.hasOwnProperty(f)&&null!=this.bb[f][e]){var g=this.bb[f][e].models;var h=this.ig[f][e];
var k=f}return{models:g,axis:h,id:e,location:k}};d.prototype.pib=function(e){var f=this.Y6b(e);e=f.models;var g=f.axis,h=f.id;f=f.location;this.un();if(e){this.bEb(g);for(g=0;g<e.length;g++){e[g].groupid[f]=null;var k=e[g].shape;this.os(k,f);k.getParent().ha();this.ig[f][k.kc()]&&this.Lb.$r(this.ig[f][k.kc()].getParent(),f)}this.In();this.uG(f)}this.bb[f][h]=null;return this};d.prototype.TQc=function(e,f){var g=this.D5b(e)[0];e=g.id;g=g.location;var h=[];if(this.ig[g][e])for(var k in this.ig)if(this.ig.hasOwnProperty(k)&&
this.ig[g][k]===this.ig[g][e]){var l=this.io[k].shape.getParent().Ia();f&&!l||h.push(this.io[k].shape)}return h};d.prototype.Y1d=function(e,f){e=this.nL(e);for(var g,h,k=0;k<e.length;k++){var l=e[k];if(l){var m=l.shape.kc();if(!f&&!0===l.shape.getParent().Ia())for(h in l.shape.getParent().va(f),l.shape.Fg(f),this.ig)this.ig.hasOwnProperty(h)&&(g=l.groupid[h],this.ig[h][g]?0===this.jfb(g,!0).length&&this.Lb.removeItem(this.ig[h][g].getParent(),h):this.ig[h][m]&&0===this.TQc(m,!0).length&&this.Lb.removeItem(this.ig[h][m].getParent(),
h));else if(!0===f&&!1===l.shape.getParent().Ia()){for(h in this.ig)this.ig.hasOwnProperty(h)&&(g=l.groupid[h],this.ig[h][g]?0===this.jfb(g,!0).length&&this.Lb.$r(this.ig[h][g].getParent(),h):this.ig[h][m]&&0===this.TQc(m,!0).length&&this.Lb.$r(this.ig[h][m].getParent(),h));l.shape.getParent().va(f);l.shape.Fg(f)}}}this.uG($h.lc);this.uG($h.Rc);this.uG($h.Ec);this.t8();return this};d.prototype.tGb=function(e){if(null==e)return this.tGb($h.lc),this.tGb($h.Rc),this.tGb($h.Ec),this;for(var f in this.bb[e])this.bb[e].hasOwnProperty(f)&&
this.pib(f,e);return this};d.prototype.ygc=function(e){e=this.nL(e)[0].shape;this.PP.removeChild(e.getParent());this.PP.pa(e.getParent());this.lBa(e,!0);this.e4=e.kc();return this};d.prototype.S3c=function(e){e=this.Y6b(e).models;var f,g=[];for(f=0;f<e.length;f++)this.PP.removeChild(e[f].shape.getParent()),g.push(e[f].shape);for(f=0;f<e.length;f++)this.PP.pa(g.pop().getParent());e=e[0].shape.kc();this.lBa(e,!0);this.e4=e;return this};d.prototype.bind=function(e){if(null!=this.bk)for(var f in this.io)this.io.hasOwnProperty(f)&&
this.bk.bind(this.io[f],e)};d.prototype.unbind=function(e){if(null!=this.bk)for(var f in this.io)this.io.hasOwnProperty(f)&&this.bk.unbind(this.io[f],e)};d.prototype.setData=function(e){this.unbind(this.ja);this.ja=e;this.bind(this.ja);return this};d.prototype.getData=function(){return this.ja};d.prototype.eM=function(e,f){this.bk!==e&&(this.unbind(this.getData()),this.bk=e,!0!==f&&this.bind(this.getData()));return this};d.prototype.iU=function(){return this.bk};d.prototype.zLe=function(e,f){e=this.nL(e);
for(var g=[],h,k=0;k<e.length;k++){var l=e[k];h={};for(var m in this.ig)if(this.ig.hasOwnProperty(m)&&(h[m]=this.ig[m][l.shape.kc()],f)){var n=l.groupid[m];null!=n&&null!=this.ig[m][n]&&(h[m]=this.ig[m][n])}g.push(h)}return g};d.prototype.jfb=function(e,f,g){if("string"==typeof e)var h=e;else if(void 0!==e.groupid)h=e.groupid;else return null;e=[];var k=[],l;for(l in this.bb)this.bb.hasOwnProperty(l)&&null!=this.bb[l][h]&&(e=this.bb[l][h].models);for(l=0;l<e.length;l++)if(!f||e[l].shape.getParent().Ia())g?
k.push(e[l].shape.kc()):k.push(e[l].shape);return k};d.prototype.$Oc=function(e){return this.Y6b(e).location};d.prototype.QFd=function(e){var f={};e=this.io[e.kc()];for(var g in e.groupid)e.groupid.hasOwnProperty(g)&&null!=e.groupid[g]&&(f[g]=e.groupid[g]);return f};d.prototype.kGd=function(e){e=this.nL(e)[0];var f;null!=e&&(f=e.shape.getParent().oa().clone());return f};d.prototype.RFd=function(e){if("string"!=typeof e)if(void 0!==e.groupid)e=e.groupid;else return null;for(var f in this.bb)if(this.bb.hasOwnProperty(f)&&
null!=this.bb[f][e]){var g=this.bb[f][e].sharedmodel;g=g.oa().clone()}return g};d.prototype.NE=function(e,f){VZ.prototype.NE.call(this,e,f||A_.ya())};d.prototype.SJ=function(e){return VZ.prototype.SJ.call(this,e||A_.ya())};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRVbmRlcmxheUxheWVyIjoiS01kIiwiaW5pdGlhbGl6ZVRvb2xzIjoicGkiLCJhZGRIaXN0b2dyYW0iOiJmVmEiLCJyZW1vdmVIaXN0b2dyYW1zIjoiYl9jIiwic2V0SGlnaGxpZ2h0YWJsZUhpc3RvZ3JhbXMiOiJsQmEiLCJnZXRIaWdobGlnaHRhYmxlSGlzdG9ncmFtcyI6ImlHZCIsImdldEhpZ2hsaWdodGVkQmlucyI6ImpYYSIsImdldEhpc3RvZ3JhbXMiOiJmN2IiLCJnZXRHcm91cHNJZCI6IktOYyIsImFkZFRpdGxlIjoiVGFiIiwiYWRkQXhpc1RvIjoidXhiIiwiaW50ZXJuYWxSZW1vdmVBeGlzIjoiYkViIiwicmVtb3ZlQXhpc0Zyb20iOiJUWGQiLCJvbkJpbnNVcGRhdGVkIjoiV1djIiwiYWRkSGlzdG9ncmFtc1RvR3JvdXAiOiJacmQiLCJyZW1vdmVIaXN0b2dyYW1zRnJvbUFsbEdyb3VwIjoiY19jIiwicmVtb3ZlSGlzdG9ncmFtc0Zyb21Hcm91cCI6ImRfYyIsImNyZWF0ZUdyb3VwIjoiSHliIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0QXhpc09wdGlvbnMiOiJzSiIsInNldEF4aXNPcHRpb25zIjoicVoiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRIZWFkZXJPcHRpb25zIjoiTDIiLCJnZXRIZWFkZXJPcHRpb25zIjoiTDEiLCJzZXRBeGlzV2lkdGhPckhlaWdodCI6Im0wZCIsInNldFRvb2xzT3B0aW9ucyI6ImZwIiwiZ2V0VG9vbHNPcHRpb25zIjoiR1UiLCJzZXRBeGlzU2VsZWN0aW9uIjoibjFjIiwiZ2V0QXhpc1NlbGVjdGlvbk9wdGlvbnMiOiJFNWIiLCJzZXRBbm5vdGF0aW9uc1Njcm9sbEJhciI6ImUxYyIsImdldEFubm90YXRpb25TY3JvbGxCYXJPcHRpb25zIjoieTViIiwic2V0R2FwcyI6InEzYyIsInJlbW92ZUdyb3VwIjoicGliIiwic2V0SGlzdG9ncmFtc1Zpc2libGUiOiJZMWQiLCJyZW1vdmVBbGxHcm91cCI6InRHYiIsInNldEluRnJvbnRIaXN0b2dyYW0iOiJ5Z2MiLCJzZXRJbkZyb250R3JvdXAiOiJTM2MiLCJzZXREYXRhQmluZGluZyI6ImVNIiwiZ2V0RGF0YUJpbmRpbmciOiJpVSIsImdldFJlbGF0ZWRIaXN0b2dyYW1zQnlHcm91cCI6ImpmYiIsImdldExvY2F0aW9uT2ZHcm91cCI6IiRPYyIsImdldEdyb3VwSWRCeUhpc3RvZ3JhbSI6IlFGZCIsImdldEhpc3RvZ3JhbU1vZGVsTGltaXRzIjoia0dkIiwiZ2V0R3JvdXBNb2RlbExpbWl0cyI6IlJGZCIsImxvYWRUZW1wbGF0ZSI6Ik5FIiwic2F2ZVRlbXBsYXRlIjoiU0oifX19");var D_=/*#__PURE__*/ta(/*#__PURE__*/{Uka:"StateChanged"},2,"eyJTdGF0ZUNoYW5nZWQiOiJVa2EifSAg"),E_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){te.call(this);this.Xe=a;this.Up=!0;this.Vf=!1}D(d,te);d.Ka=D_;d.prototype.dispose=function(){var a=this;te.prototype.dispose.call(this);for(var b in a)a.hasOwnProperty(b)&&"object"===typeof a[b]&&(a[b]=null)};d.prototype.DJ=function(){return this.Xe};d.prototype.Vw=function(a){this.notify(D_.Uka,this,a);return this};d.prototype.Ia=function(){return this.Up};d.prototype.va=function(a){if(this.Up===a)return this;this.Up=a;this.Vw("Visible");return this};
d.prototype.aXa=function(){return this.Vf};d.prototype.Rb=function(a){if(this.Vf===a)return this;this.Vf=a;this.Vw("Enabled");return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRXaWRnZXQiOiJESiIsIm9uU3RhdGVDaGFuZ2VkIjoiVnciLCJnZXRWaXNpYmxlIjoiSWEiLCJzZXRWaXNpYmxlIjoidmEiLCJnZXRFbmFibGVkIjoiYVhhIiwic2V0RW5hYmxlZCI6IlJiIn19fSAg");var F_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.prototype.Ga=Fb;d.prototype.nb=Fb;d.prototype.me=Fb;d.prototype.Eb=Fb;d.prototype.cd=Fb;d.prototype.Ao=Fb;d.prototype.al=Fb;d.prototype.Jb=Fb;d.prototype.LH=Fb;d.prototype.Uy=Fb;d.prototype.ta=Fb;d.prototype.setOptions=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROYW1lIjoiR2EiLCJzZXROYW1lIjoibmIiLCJnZXRUZXh0IjoibWUiLCJzZXRUZXh0IjoiRWIiLCJnZXRTeW1ib2wiOiJjZCIsInNldFN5bWJvbCI6IkFvIiwiZ2V0QW5jaG9yIjoiYWwiLCJzZXRBbmNob3IiOiJKYiIsImdldFRhcmdldCI6IkxIIiwic2V0VGFyZ2V0IjoiVXkiLCJnZXRPcHRpb25zIjoidGEifX19");var G_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){te.call(this);this.ea=xb(c?c.options:null,{textstyle:new Fi,linestyle:{color:a,width:1,pixelsnapmode:{x:!0,y:!0}},fillstyle:b},!0);c=G(c,{name:"",text:"",target:null,anchor:null},!0);this.ic=c.name;this.Bb=c.text;this.bh=c.target;this.mk=this.bh.getRoot();this.j4=c.anchor;this.od=c.symbol;this.TYa(this.ea)}var a="#1565c0",b="#fdd835";D(d,te);mc(d,F_);L(d,"geotoolkit.widgets.overlays.Annotation");d.prototype.TYa=function(c){void 0!==c.textstyle&&(c.textstyle=Fi.Ra(c.textstyle));
void 0!==c.fillstyle&&(c.fillstyle=ug.fd(c.fillstyle));void 0!==c.linestyle&&(c.linestyle=Y.Ra(c.linestyle));this.ea=G(c,this.ea||{});return this};d.prototype.Ga=function(){return this.ic};d.prototype.nb=function(c){if(this.ic===c)return this;this.ic=c;this.notify(se.Qj,this);return this};d.prototype.me=function(){return this.Bb};d.prototype.Eb=function(c){if(this.Bb===c)return this;this.Bb=c;this.notify(se.Qj,this);return this};d.prototype.cd=function(){return this.od};d.prototype.Ao=function(c){if(this.od===
c)return this;this.od=c;this.notify(se.Qj,this,"Symbol");return this};d.prototype.al=function(){return this.j4};d.prototype.Jb=function(c){if(this.j4.Ex(c))return this;this.j4=c;this.notify(se.Qj,this);return this};d.prototype.LH=function(){return this.bh};d.prototype.Uy=function(c){if(this.bh===c)return this;this.bh=c;this.mk=c.getRoot();this.notify(se.Qj,this);return this};d.prototype.ta=function(){return this.ea};d.prototype.setOptions=function(c){this.TYa(c);this.notify(se.Qj,this,"Options");
return this};d.Ra=function(c){return oc(c,F_)?c:new d(c)};d.prototype.QLd=function(){return this.mk};d.prototype.iL=function(c){return this};d.prototype.QJ=function(c){return this};d.prototype.fa=function(c){if(null==c)return this;void 0!==c.text&&this.Eb(c.text);this.setOptions(c);return this};d.prototype.ia=function(){return G(this.ta(),{text:this.me()})};return d}(),2,"eyJmcm9tT2JqZWN0IjoiUmEiLCJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROYW1lIjoiR2EiLCJzZXROYW1lIjoibmIiLCJnZXRUZXh0IjoibWUiLCJzZXRUZXh0IjoiRWIiLCJnZXRTeW1ib2wiOiJjZCIsInNldFN5bWJvbCI6IkFvIiwiZ2V0QW5jaG9yIjoiYWwiLCJzZXRBbmNob3IiOiJKYiIsImdldFRhcmdldCI6IkxIIiwic2V0VGFyZ2V0IjoiVXkiLCJnZXRPcHRpb25zIjoidGEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var H_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){YR.call(this,b);this.HG=!1;this.Vk=a}D(d,YR);L(d,"geotoolkit.controls.tools.AnnotationEventArgs");d.prototype.cancel=function(){this.HG=!0;return this};d.prototype.Kk=function(){return this.HG};d.prototype.fb=function(){return this.Vk};d.prototype.pZ=function(a){this.Vk=a;return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0NhbmNlbGVkIjoiS2siLCJnZXRBbm5vdGF0aW9uIjoiZmIiLCJzZXRBbm5vdGF0aW9uIjoicFoifX19");var I_=/*#__PURE__*/function(){function d(a,b,c,e,f){a=null;e=e.contains(b.x,b.y);if(!1===e){a=(new $g).qa(f.linestyle).ra(f.fillstyle);var g=f.connectorsize||10;f=b.clone();var h=g*Math.tan(Math.PI/6);e=f.clone().setX(f.getX()-g).setY(f.getY()-h);h=f.clone().setX(f.getX()-g).setY(f.getY()+h);g=f.clone().setX(f.getX()-g);b=Math.atan2(c.getY()-b.getY(),c.getX()-b.getX())-Math.PI;b=X.Ui(b,f.getX(),f.getY());var k=b.rd(c);if(g.getX()<k.getX()&&k.getX()<f.getX()||g.getX()>k.getX()&&k.getX()>f.getX())c=b.Ma(g);b.Ma(e,
e);b.Ma(g,g);b.Ma(h,h);a.moveTo(c.getX(),c.getY()).lineTo(g.getX(),g.getY()).lineTo(e.getX(),e.getY()).lineTo(f.getX(),f.getY()).lineTo(h.getX(),h.getY()).lineTo(g.getX(),g.getY()).close()}return{geometry:a,clip:null}}return d}();var J_=function(){function d(a,b,c,e,f){var g=(new $g).qa(f.linestyle).ra(f.fillstyle),h=Math.abs(f.radius);e.ca()/2<h&&(h=e.ca()/2);e.da()/2<h&&(h=e.da()/2);var k=f.connectorsize;f=e.contains(b.x,b.y);var l=b.getX(),m=b.getY();b=c.getX();c=c.getY();if(f)g.moveTo(e.getX()+h,e.getY()).lineTo(e.na()-h,e.getY()),0<h&&g.arcTo(e.na(),e.la(),e.na(),e.la()+h,h),g.lineTo(e.na(),e.ma()-h),0<h&&g.arcTo(e.na(),e.ma(),e.na()-h,e.ma(),h),g.lineTo(e.getX()+h,e.getY()+e.da()),0<h&&g.arcTo(e.ka(),e.ma(),e.ka(),e.ma()-
h,h),g.lineTo(e.getX(),e.getY()+h),0<h&&g.arcTo(e.ka(),e.la(),e.ka()+h,e.la(),h),g.close();else{var n={position:"top",value:e.la(),$B:e.ka(),Ty:e.na(),JO:h,VR:h},p={position:"right",value:e.na(),$B:e.la(),Ty:e.ma(),JO:h,VR:h},q={position:"bottom",value:e.ma(),$B:e.na(),Ty:e.ka(),JO:h,VR:h};e={position:"left",value:e.ka(),$B:e.ma(),Ty:e.la(),JO:h,VR:h};n.next=p;p.next=q;q.next=e;e.next=n;h=k/2;var r=null;k=function(t,u,w){var y=u.zJb,z=Math.min(u.$B,u.Ty),x=Math.max(u.$B,u.Ty),C=u.$B<u.Ty?u.JO:u.VR,
A=u.$B<u.Ty?u.VR:u.JO,v=Math.min(u.wH,u.RN),B=Math.max(u.wH,u.RN),E=null,H=null;z+C<v&&B<x-A||(v<z+C&&(C=Math.max(v-z,0),v<z&&(E=y<z?z-v:null,v=z,C=null)),B>x-A&&(A=Math.max(x-B,0),B>x&&(H=y>x?B-x:null,B=x,A=null)),u.$B<u.Ty?(u.wH=v,u.JO=C,u.RN=B,u.VR=A):(u.wH=B,u.JO=A,u.RN=v,u.VR=C),y=function(F,I,J,K){return Math.min(I+J,K)},z=function(F,I,J,K){return Math.max(K,I-J)},null!=E&&("top"===u.position||"right"===u.position?(u.wH=null,u.$B=null,t.wH="left"===t.position?y(t,t.Ty,E,t.$B-t.JO):z(t,t.Ty,
E,t.$B+t.JO)):(u.RN=null,u.Ty=null,w.RN="left"===w.position?z(w,w.$B,E,w.Ty+w.VR):y(w,w.$B,E,w.Ty-w.VR))),null!=H&&("top"===u.position||"right"===u.position?(u.RN=null,u.Ty=null,w.RN="right"===w.position?y(w,w.$B,H,w.Ty-w.VR):z(w,w.$B,H,w.Ty+w.VR)):(u.wH=null,u.$B=null,t.wH="right"===t.position?z(t,t.Ty,H,t.$B+t.JO):y(t,t.Ty,H,t.$B-t.JO))),t.VR=u.JO,null==u.$B&&(t.Ty=null),w.JO=u.VR,null==u.Ty&&(w.$B=null))};r=[];Math.abs(c-n.value)<W.Tb?(r=n,r.zJb=l,r.S1b=b,r.wH=b-h,r.RN=b+h,k(e,n,p),r=[n,p,q,e]):
Math.abs(b-p.value)<W.Tb?(r=p,r.zJb=m,r.S1b=c,r.wH=c-h,r.RN=c+h,k(n,p,q),r=[p,q,e,n]):Math.abs(c-q.value)<W.Tb?(r=q,r.zJb=l,r.S1b=b,r.wH=b+h,r.RN=b-h,k(p,q,e),r=[q,e,n,p]):(r=e,r.zJb=m,r.S1b=c,r.wH=c+h,r.RN=c-h,k(q,e,n),r=[e,n,p,q]);b=function(t){g.moveTo(l,m);t=t[0];null!=t.RN&&("top"===t.position||"bottom"===t.position?g.lineTo(t.RN,t.value):g.lineTo(t.value,t.RN));var u=t,w=u.next;do u!==t&&null!=u.wH&&("top"===u.position||"bottom"===u.position?g.lineTo(u.wH,u.value):g.lineTo(u.value,u.wH)),0<
u.VR?"top"===u.position||"bottom"===u.position?g.arcTo(u.Ty,u.value,u.Ty,w.$B+("right"===w.position?1:-1)*w.JO,u.VR):g.arcTo(u.value,u.Ty,w.$B+("top"===w.position?1:-1)*w.JO,u.Ty,u.VR):null!=u.Ty&&("top"===u.position||"bottom"===u.position?g.lineTo(u.Ty,u.value):g.lineTo(u.value,u.Ty)),w!==t&&null!=w.RN&&("top"===w.position||"bottom"===w.position?g.lineTo(w.RN,w.value):g.lineTo(w.value,w.RN)),u=w,w=u.next;while(u!==t);"top"===t.position||"right"===t.position?t.$B+t.JO<t.wH&&("top"===t.position?g.lineTo(t.wH,
t.value):g.lineTo(t.value,t.wH)):t.$B+t.JO>t.wH&&("bottom"===t.position?g.lineTo(t.wH,t.value):g.lineTo(t.value,t.wH));g.lineTo(l,m);return g};b(r)}b=g.ga();c=null;!1===f&&null==a&&(null!=this.Fa()&&(b=b.clone().bd(this.Fa().ca())),c=(new Fd).moveTo(b.ka(),b.la()).lineTo(b.na(),b.la()).lineTo(b.na(),b.ma()).lineTo(b.ka(),b.ma()).lineTo(b.ka(),b.la()).moveTo(l-1,m-1).lineTo(l+1,m-1).lineTo(l+1,m+1).lineTo(l-1,m+1).lineTo(l-1,m-1).close());return{geometry:g,clip:c}}return d}();var K_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){this.tuc={}}L(d,"geotoolkit.widgets.overlays.annotationgeometry.Registry");d.prototype.$d=function(b){return this.tuc[b]};d.prototype.mja=function(b,c){this.tuc[b]=c;return this};var a=null;d.ya=function(){null==a&&(a=new d);return a};return d}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsiZ2V0R2VvbWV0cnkiOiIkZCIsInJlZ2lzdGVyR2VvbWV0cnkiOiJtamEifX19");var L_=/*#__PURE__*/ta(/*#__PURE__*/{umb:"GeometryChanged"},2,"eyJHZW9tZXRyeUNoYW5nZWQiOiJ1bWIifSAg"),M_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){var e=oc(c,F_)?c.ta():null;c=G(e||c,{annotation:oc(c,F_)?c:null,offset:null,frame:null,radius:0,connectorsize:1,orientation:Rh.rb,visible:!0,textstyle:new Fi({color:"black",alignment:"left",font:"12px Arial",baseLine:"top"}),linestyle:{color:a,width:1,pixelsnapmode:{x:!0,y:!0}},fillstyle:b,geometrytype:"rectangle-callouts",cssclass:"AnnotationShape"},!0);Zg.call(this,c);this.Vk=c.annotation;this.XWb=null;this.Vk instanceof te&&(this.XWb=function(f,
g,h){"Symbol"===h&&this.Oxb(g.cd());"Options"===h&&this.QDc(g.ta());this.lh().ha()}.bind(this),this.Vk.on(se.Qj,this.XWb));this.va(c.visible);this.Ib=c.offset;this.ema=c.frame;this.Fc=Math.abs(c.radius);this.ed=c.orientation;this.UQb=c.connectorsize;this.Tqb=c.geometrytype;this.Hg=null;this.Bb=(new ek({text:this.Vk.me(),ax:0,ay:0,width:150,height:50,textStyle:c.textstyle,alignment:O.Id,sizeIsInDeviceSpace:!0})).yc(O.Id).wk(ck.BM).ey(!0);this.oT=this.Ff=null;this.qQa=(new ni).bf(!0).pa([this.spb=(new ni).hd(!0).pa([this.Pna=
(new ni).hd(!0).sa(new U(0,0,16,16)).va(!1),this.Bb])]);this.spb.ge=function(){var f=this.ga();if(null==f||this.ed!==Rh.yb)return ni.prototype.ge.call(this);f=this.getParent().oa().da();return X.multiply(X.jf(0,f),X.Ui(-Math.PI/2,0,0))}.bind(this.spb);this.G5a=this.d4a=this.ela=this.b4a=this.Y8=this.Va=null;this.Oxb(this.Vk.cd());this.QDc(this.Vk.ta())}var a="#1565c0",b="#fdd835";D(d,Zg);L(d,"geotoolkit.widgets.overlays.AnnotationShape");d.Ka=L_;d.prototype.dispose=function(){this.Vk instanceof te&&
this.Vk.za(se.Qj,this.XWb);this.Oxb(null);if(null!=this.Hg){if(Array.isArray(this.Hg))for(var c=0;c<this.Hg.length;c++)this.Hg[c].dispose();else this.Hg.dispose();this.Hg=null}null!=this.qQa&&(this.qQa.dispose(),this.qQa=null);Zg.prototype.dispose.call(this)};d.prototype.fb=function(){return this.Vk};d.prototype.Kg=function(){return this.ed};d.prototype.setOrientation=function(c){if(this.ed===c)return this;this.ha();this.ed=c;this.spb.ed=c;c=this.Ib.clone();var e=this.ema.clone();this.ed===Rh.yb?
this.Ib.Da(c.y,-1*c.x):this.Ib.Da(-1*c.y,c.x);this.ema.setSize(e.height,e.width);this.lh().ha();return this};d.prototype.Eb=function(c){if(this.me()===c)return this;this.ha();this.Vk.Eb(c);this.lh().ha();return this};d.prototype.me=function(){return this.Vk.me()};d.prototype.Oxb=function(c){null!=this.Ff&&null!=this.oT&&(this.Ff.za(Bj.ak,this.oT),this.oT=null);this.Pna.rh().Ha(null).va(!1);this.Ff=null;if(null==c)return this;if("string"==typeof c||c instanceof Cj)this.JR(c);else if(c instanceof ni)this.Pna.pa(c).sa(new U(0,
0,c.ga().ca(),c.ga().da())).Ha(c.ga().clone()).va(!0);else{var e=c.width,f=c.height;null!=c.url&&"string"==typeof c.url?this.JR(c.url,e,f,c.keepaspectratio):null!=c.node&&c.node instanceof Ee&&(c.node instanceof Cj?this.JR(c.node,e,f,c.keepaspectratio):this.Pna.pa(c.node).sa(new U(0,0,e,f)).Ha(new U(0,0,e,f)).va(!0))}this.Pna.Ia()&&this.lh().ha();return this};d.prototype.JR=function(c,e,f,g){var h=null;this.Ff=h=c instanceof Cj?c.clone().yc(O.Id).Jb(0,0).e8(!1):new Cj({x:0,y:0,alignment:O.Id,url:c,
sizeisindevicespace:!1});this.Pna.pa(this.Ff);var k=function(){e=e||this.Ff.ca();f=f||this.Ff.ca();this.Pna.sa(new U(0,0,e,f)).Ha(new U(0,0,this.Ff.ca(),this.Ff.da())).va(!0);if(!1!==g&&(e!==this.Ff.ca()||f!==this.Ff.da())){var l=this.Ff.ca()/this.Ff.da(),m=e/f;l=m>l?new Ud(this.Ff.ca()*f/this.Ff.da(),f):new Ud(e,this.Ff.da()*e/this.Ff.ca());this.Ff.setSize(l.ca(),l.da());this.Pna.Ha(null)}this.lh().ha()}.bind(this);!1===h.loaded?(this.oT=function(){this.Ff.za(Bj.ak,this.oT);this.oT=null;k()}.bind(this),
this.Ff.on(Bj.ak,this.oT)):k()};d.prototype.cd=function(){return this.Vk.cd()};d.prototype.Ao=function(c){if(this.cd()===c)return this;this.ha();this.Vk.Ao(c);this.Oxb(c).lh().ha();return this};d.prototype.LH=function(){return this.Vk.LH()};d.prototype.Uy=function(c){if(this.LH()===c)return this;this.Vk.Uy(c);this.lh().ha();return this};d.prototype.fq=function(){return this.Ib};d.prototype.Ap=function(c){if(null!=this.Ib&&this.Ib.Ex(c,W.Tb))return this;this.ha();this.Ib=N.Ra(c);null!=this.Vk&&this.Vk.setOptions({offset:this.Ib});
this.lh().ha();return this};d.prototype.V1c=function(c){if(this.UQb===c)return this;this.ha();this.UQb=c;this.lh().ha();return this};d.prototype.aMc=function(){return this.UQb};d.prototype.al=function(){return this.Vk.al()};d.prototype.Jb=function(c){if(null!=this.al()&&this.al().Ex(c,W.Tb))return this;this.ha();this.Vk.Jb(c);this.lh().ha();return this};d.prototype.gj=function(c,e){var f=new Zj;if(c instanceof U)return e=[c.ka(),c.na(),c.na(),c.ka()],c=[c.la(),c.la(),c.ma(),c.ma()],f.select(this.getRoot(),
e,c,!0).filter(function(g){return!(g instanceof Ee)&&g.visual===this}.bind(this));c=this.wa().sc(c,c);return f.select(this.getParent(),c.x,c.y,e?e:10).filter(function(g){return!(g instanceof Ee)&&g.visual===this}.bind(this))};d.prototype.render=function(c){function e(l){-1===h.indexOf(this)&&h.push(this)}var f=null!=this.Sa()?c.bc(this.Sa()):c;if(c instanceof nk)null==this.G5a&&(this.lh(c.Ea()),this.G5a={path:this.Hg,textarea:this.qQa});else if(null==this.Va||null!=this.G5a)this.G5a=null,this.lh();
this.Yh(f);var g=c.fc(),h=g?[]:null;if(null!=this.Hg)if(Array.isArray(this.Hg))for(var k=0;k<this.Hg.length;k++)g?c.Hn(this.Hg[k],e.bind(this.Hg[k])):this.Hg[k].render(f);else this.Hg.render(f);this.qQa.render(f);f.fc()&&(c.ra(rf.zh),c.qa(null),c.Bc(this.HQb));this.yh(f);g&&0<h.length&&c.eV({visual:this,paths:h})};d.prototype.ga=function(){null==this.Va&&this.lh();return this.Va};d.prototype.lh=function(c){if(null!=this.G5a)return this;var e=this.LH(),f=this.al();if(null==this.getParent()||null==
f||null==e||null==e.wa()||null==this.Ib||null==this.ema)return this;if(e.getRoot()!==this.Vk.QLd())return this.va(!1);this.va(!0);this.Bb.Eb(this.Vk.me());var g=e.wa();e=this.wa();if(null!=c){var h=X.divide(c,this.wa());e=X.multiply(h,e);g=X.multiply(h,g)}f=g.Ma(f);g=this.ema.clone();g=new Ud(g.width/2,g.height/2);var k=f.clone().Da(f.getX()+this.Ib.getX(),f.getY()+this.Ib.getY());h=new U(k.x-g.width,k.y-g.height,k.x+g.width,k.y+g.height);g=h.clone().bd(-4);var l=new N(Number.NaN,Number.NaN),m=new N(Number.NaN,
Number.NaN);m=h.Gaa(f,k,l,m);k=0!==m?l:k;l=K_.ya().$d(this.Tqb);null==l&&(l=K_.ya().$d("rectangle-callouts"));m=G(this.ea,this.ia(),!0);m.annotation=this.Vk;l=l.call(this,c,f,k,h,m);this.Hg=null!=l?l.geometry:null;c=null;if(null!=this.Hg){m=Array.isArray(this.Hg)?this.Hg:[this.Hg];for(var n,p=0;p<m.length;p++)n=m[p].ga(),null!=e&&(n=e.wd(n),m[p].$d().transform(e.xc())),c=null==c?n:c.clone().union(n)}l=null!=l?l.clip:null;m=null;null!=l&&(m=new Ne(e?l.transform(e.xc()):l));this.ep(m);this.HQb=null!=
e?e.wd(h):h;this.Va=null!=c?c.union(this.HQb):this.HQb;this.Y8=h;this.ela=g;this.qQa.sa(g.clone()).Tc(null!=e?e.xc():null).Ha(new U(0,0,g.ca(),g.da()));e=this.Bb.jb();e=e.Lj();h=this.spb.oa();c=0;this.Pna.Ia()&&(c=this.Pna.ga().ca()+2);if(null!=h){switch(e){case Ai.tc:this.Bb.yc(O.Id).Jb(h.ka()+c,0);break;case Ai.Oa:this.Bb.yc(O.ee).Jb(h.hc()+c/2,0);break;case Ai.cc:this.Bb.yc(O.Nf).Jb(h.na(),0)}g.setX(g.getX()+c).Qa(g.ca()-c)}this.ed===Rh.rb?this.Bb.mda(g.ca(),g.da()):this.Bb.mda(g.da()-c,g.ca()+
c);this.d4a={"top-left":new N(this.ela.ka(),this.ela.la()),"top-right":new N(this.ela.na(),this.ela.la()),"bottom-right":new N(this.ela.na(),this.ela.ma()),"bottom-left":new N(this.ela.ka(),this.ela.ma())};this.b4a={anchor:f,offset:k,center:new N(this.Y8.hc(),this.Y8.Dc()),"top-left":new N(this.Y8.ka(),this.Y8.la()),"top-right":new N(this.Y8.na(),this.Y8.la()),"bottom-right":new N(this.Y8.na(),this.Y8.ma()),"bottom-left":new N(this.Y8.ka(),this.Y8.ma())};this.gXc();return this};d.prototype.gXc=function(){this.notify(d.Ka.umb,
this)};d.prototype.eMc=function(c){if(void 0===c)return this.b4a;var e={},f;for(f in this.b4a)this.b4a.hasOwnProperty(f)&&(e[f]=c.rd(this.b4a[f]));return e};d.prototype.oSc=function(c){if(void 0===c)return this.d4a;var e={},f;for(f in this.d4a)this.d4a.hasOwnProperty(f)&&(e[f]=c.rd(this.d4a[f]));return e};d.prototype.T6b=function(){return this.ema};d.prototype.jgc=function(c){if(null!=this.ema&&this.ema.AJc(c,W.Tb))return this;this.ha();this.ema=Ud.Ra(c);null!=this.Vk&&this.Vk.setOptions({frame:this.ema});
this.lh().ha();return this};d.prototype.Lx=function(){return this.Fc};d.prototype.bI=function(c){if(null==c)throw Error("radius can not be null");if(this.Fc===c)return this;this.ha();this.Fc=c;this.lh().ha();return this};d.prototype.r3c=function(c){if(this.Tqb===c)return this;this.ha();this.Tqb=c;this.lh().ha();return this};d.prototype.QDc=function(c){this.ea=c;this.fa(c);return this};d.prototype.ia=function(){var c=Zg.prototype.ia.call(this);c.annotation=this.fb();c.textstyle=this.Bb.jb();c.connectorsize=
this.aMc();c.geometrytype=this.Tqb;c.radius=this.Lx();c.frame=this.T6b();c.offset=this.fq();return c};d.prototype.fa=function(c){c=jc(c);if(null==c)return this;Zg.prototype.fa.call(this,c);void 0!==c.annotation&&(this.Vk=c.annotation);if(void 0!==c.textstyle){if(null!=c.textstyle){var e=c.textstyle.qba(),f=this.Bb.PB();f=f===ck.co;f===e&&(e=f?ck.CM:ck.co,this.Bb.wk(e))}this.Bb.kb(c.textstyle).xa()}void 0!==c.connectorsize&&this.V1c(c.connectorsize);void 0!==c.geometrytype&&this.r3c(c.geometrytype);
void 0!==c.radius&&this.bI(c.radius);void 0!==c.frame&&this.jgc(c.frame);void 0!==c.offset&&this.Ap(c.offset);return this};d.prototype.KLd=function(){return this.Ff.width};K_.ya().mja("none",function(){return null});return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiZmIiLCJnZXRPcmllbnRhdGlvbiI6IktnIiwic2V0VGV4dCI6IkViIiwiZ2V0VGV4dCI6Im1lIiwiZ2V0U3ltYm9sIjoiY2QiLCJzZXRTeW1ib2wiOiJBbyIsImdldFRhcmdldCI6IkxIIiwic2V0VGFyZ2V0IjoiVXkiLCJnZXRPZmZzZXQiOiJmcSIsInNldE9mZnNldCI6IkFwIiwic2V0Q29ubmVjdG9yU2l6ZSI6IlYxYyIsImdldENvbm5lY3RvclNpemUiOiJhTWMiLCJnZXRBbmNob3IiOiJhbCIsInNldEFuY2hvciI6IkpiIiwiaGl0VGVzdCI6ImdqIiwiZ2V0Qm91bmRzIjoiZ2EiLCJ1cGRhdGVHZW9tZXRyeSI6ImxoIiwib25HZW9tZXRyeUNoYW5nZWQiOiJnWGMiLCJnZXRDb250cm9sUG9pbnRzIjoiZU1jIiwiZ2V0VGV4dEZyYW1lIjoib1NjIiwiZ2V0RnJhbWUiOiJUNmIiLCJzZXRGcmFtZSI6ImpnYyIsImdldFJhZGl1cyI6Ikx4Iiwic2V0UmFkaXVzIjoiYkkiLCJzZXRHZW9tZXRyeVR5cGUiOiJyM2MiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var N_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f,g){var h;f instanceof E_?h=f:null!=f&&null!=f.annotationoverlay&&(h=f.annotationoverlay);null!=g&&(hb("second argument in AnnotationTool() is deprecated since 2021.1 (3.3), use first argument instead"),f=g);f&&void 0!==f.handles&&a(f.handles);f=xb(f,{annotationoverlay:h,name:"annotation",cancreate:!0,candelete:!0,canedit:!0,canmove:!0,annotationcontainer:null},!0);SR.call(this,f);this.$m({pointerdown:this.gd.bind(this),pointermove:[{callback:this.Ic.bind(this),object:null},
{callback:this.zca.bind(this),object:$a,enabled:!1}],pointerup:[{callback:this.Yc.bind(this),object:null},{callback:this.Yc.bind(this),object:$a,enabled:!1}],dblclick:this.NIc});this.eh=new Zj;this.uc=null;this.OPa=h;this.Xe=this.OPa.DJ();this.Pm=this.OPa.zE();this.Pm.pa([this.ab=new xm({name:"overlay-annotation-manipulator",dynamic_layer:!0})]);this.pd=new N(0,0);this.ei=new N(0,0);this.kg=new N(0,0);this.maa=new e({centerx:0,centery:0,radiusx:4,radiusy:4,linestyle:{color:"#1565c0",width:1,pixelsnapmode:{x:!0,
y:!0}},fillstyle:"#C1E3E8",visible:!1});this.Kb={anchor:this.maa.clone().ra("#8BE73D"),topleft:this.maa.clone(),topright:this.maa.clone(),bottomleft:this.maa.clone(),bottomright:this.maa.clone()};this.maa.ra(b);this.ab.pa([this.maa]);for(var k in this.Kb)this.Kb.hasOwnProperty(k)&&this.ab.pa(this.Kb[k]);this.xEa=!1;this.Md=this.$s=this.vPb=null;this.KOd(f.annotationcontainer);this.setOptions(f);this.Gyc=function(l,m,n){this.cha(!1);this.$h()}.bind(this);this.zk=Dc.tc}function a(f){void 0!==f["top-left"]&&
(hb("AnnotationTool parameter options.top-left deprecated since 2021.1 (3.3). Use parameter options.topleft instead"),f.topleft=f["top-left"],delete f["top-left"]);void 0!==f["top-right"]&&(hb("AnnotationTool parameter options.top-right deprecated since 2021.1 (3.3). Use parameter options.topright instead"),f.topright=f["top-right"],delete f["top-right"]);void 0!==f["bottom-left"]&&(hb("AnnotationTool parameter options.bottom-left deprecated since 2021.1 (3.3). Use parameter options.bottomleft instead"),
f.bottomleft=f["bottom-left"],delete f["bottom-left"]);void 0!==f["bottom-right"]&&(hb("AnnotationTool parameter options.bottom-right deprecated since 2021.1 (3.3). Use parameter options.bottomright instead"),f.bottomright=f["bottom-right"],delete f["bottom-right"])}var b="#fdd835",c=new X,e=function(){function f(g,h,k,l,m,n,p){g=G(g,{centerx:"number"==typeof g?g:0,centery:"number"==typeof h?h:0,radiusx:"number"==typeof k?k:10,radiusy:"number"==typeof l?l:10,visible:"boolean"==typeof m?m:!0,linestyle:n instanceof
Y?n:null,fillstyle:p instanceof rf?p:null},!0);h=new N(g.centerx,g.centery);k=new Ud(g.radiusx,g.radiusy);l=h.x-k.width;m=h.y-k.height;n=h.x+k.width;p=h.y+k.height;Pm.call(this,l,m,n,p,0,0,g.visible,g.linestyle,g.fillstyle);this.vw=!1;this.Wd=h;this.Fc=k}D(f,Pm);L(f,"geotoolkit.widgets.overlays.AnnotationTool.Handle");f.prototype.clone=function(){return new f({centerx:this.Wd.x,centery:this.Wd.y,radiusx:this.Fc.width,radiusy:this.Fc.height,visible:this.Ia(),linestyle:this.Fa(),fillstyle:this.eb()})};
f.prototype.ABd=function(){return this.vw};f.prototype.setActive=function(g){if(this.vw===g)return this;this.vw=g;this.ha();return this};f.prototype.aI=function(g){if(this.Wd.Ex(g,W.Tb))return this;this.ha();this.Wd.x=g.x;this.Wd.y=g.y;var h=Hd.sb(this.Fc.ca(),0,this.wa()),k=Hd.sb(0,this.Fc.da(),this.wa());g=this.Wd.x-h;var l=this.Wd.y-k;h=this.Wd.x+h;k=this.Wd.y+k;this.cb(g,l,h,k);this.xa();this.ha();return this};f.prototype.getCenter=function(){return this.Wd};f.prototype.render=function(g){g=null!=
this.Sa()?g.bc(this.Sa()):g;this.Yh(g);var h=Hd.sb(this.Fc.ca(),0,g.Ea()),k=Hd.sb(0,this.Fc.da(),g.Ea());g.ra(this.eb(),this.La);g.qa(this.Fa());g.Cq(this.Wd.x-h,this.Wd.y-k,2*h,2*k);this.yh(g)};return f}();D(d,SR);L(d,"geotoolkit.widgets.overlays.AnnotationTool");d.prototype.dispose=function(){this.Tca(null);this.Bk.removeEventListener("keydown",this.yEa);this.Ak.parentNode&&this.Ak.parentNode.removeChild(this.Ak);this.Ak=null;this.ab.dispose();SR.prototype.dispose.call(this)};d.prototype.setOptions=
function(f){f&&void 0!==f.handles&&a(f.handles);this.ea=G(f,this.ea);if(this.ea.hasOwnProperty("handles")&&null!=this.ea.handles){f=this.ea.handles;for(var g in f)f.hasOwnProperty(g)&&this.Kb.hasOwnProperty(g)&&this.Kb[g].fa(f[g])}return this};d.prototype.ta=function(){return this.ea};d.prototype.KOd=function(f){this.Ak=xc("div");this.Ak.style.position="absolute";this.Ak.style.display="none";this.Ak.style.border="0px solid transparent";this.Ak.style.backgroundColor="transparent";this.Ak.style.pointerEvents=
"none";this.Ak.style.overflow="unset";null!=f&&(this.LPb=$a.document.getElementById(f));null!=this.LPb?this.LPb.appendChild(this.Ak):$a.document.body.appendChild(this.Ak);this.Aj=xc("div");this.Aj.style.position="absolute";this.Aj.style.border="0px solid transparent";this.Aj.className="geotoolkit-inlinecontainer";this.Aj.style.pointerEvents="all";this.Ak.appendChild(this.Aj);this.Bk=xc("textarea");this.Bk.className="geotoolkit-inlineeditor";this.Bk.style.position="absolute";this.Bk.style.resize="none";
this.Bk.style.border="0px solid transparent !important";this.Bk.style.boxShadow="none";this.Bk.style.borderWidth="0px";this.Bk.style.borderColor="transparent";this.Bk.style.borderStyle="inset";this.Bk.style.outline="0px";this.Bk.style.fontFamily="sans-serif";this.Bk.style.fontSize="smaller";this.Bk.style.lineHeight="normal";this.Bk.style.backgroundColor=b;this.yEa=function(g){"Escape"===g.key||27===g.keyCode?this.HKa(!1):!0!==g.ctrlKey||"Enter"!==g.key&&13!==g.keyCode||this.HKa(!0)}.bind(this);this.Bk.addEventListener("keydown",
this.yEa);this.Aj.appendChild(this.Bk)};d.prototype.HKa=function(f){if(!1===this.xEa)return this;this.Ak.style.display="none";this.xEa=!1;!0===f&&null!=this.$s&&this.$s.Eb(this.Bk.value.replace(/\n/g,"<br/>"));return this};d.prototype.tsd=function(){null!=this.$s&&this.$s.lh();this.cha(!1);this.$h();return this};d.prototype.cha=function(f){if(null==this.uc)return this;if(null==this.$s)return this.Ak.style.display="none",this;var g=Ac(this.uc.Pw()),h=this.$s.getParent(),k=h.wa();h=k.Ua(h.wb());k=this.$s.oSc(c);
k=new U({x:k["top-left"].getX(),y:k["top-left"].getY(),width:k["bottom-right"].getX()-k["top-left"].getX(),height:k["bottom-right"].getY()-k["top-left"].getY()});var l=h.ka(),m=h.la();null==this.LPb&&(l+=g.x,m+=g.y);this.Ak.style.left=l+"px";this.Ak.style.top=m+"px";this.Ak.style.width=h.ca()+"px";this.Ak.style.height=h.da()+"px";if(this.$s.Kg()===Rh.rb)this.Aj.style.left=Math.round(k.getX()-h.ka())+"px",this.Aj.style.top=Math.round(k.getY()-h.la())+"px",this.Aj.style.width=Math.round(k.ca())+"px",
this.Aj.style.height=Math.round(k.da())+"px",this.Aj.style.transform="rotate(0deg)",this.Bk.style.width=Math.round(k.ca())+"px",this.Bk.style.height=Math.round(k.da())+"px";else{var n=this.$s.KLd();g=k.hc()-n/2;l=k.Dc()-n/2;m=k.da()-n;k=k.ca()+n;this.Aj.style.left=Math.round(g-m/2-h.ka())+"px";this.Aj.style.top=Math.round(l-k/2-h.la())+"px";this.Aj.style.width=Math.round(m)+"px";this.Aj.style.height=Math.round(k)+"px";this.Aj.style.transform="rotate(-90deg)";this.Bk.style.width=Math.round(m)+"px";
this.Bk.style.height=Math.round(k)+"px"}!1!==f&&(this.Ak.style.display="block",this.Bk.focus(),null!=this.OX()&&null!=this.OX().eb()&&null!=this.OX().eb().mb&&null!=this.OX().eb().mb()?this.Bk.style.backgroundColor=this.OX().eb().mb():this.Bk.style.backgroundColor=b);return this};d.prototype.hj=function(){this.ab.va(this.isEnabled());!1===this.isEnabled()&&(this.maa.va(!1),this.HKa(!1).Uca(null).ns(null).Tca(null));SR.prototype.hj.call(this)};d.prototype.$h=function(){if(null==this.$s)for(var f in this.Kb)this.Kb.hasOwnProperty(f)&&
this.Kb[f].va(!1);else{f=this.$s.wa();f=this.$s.eMc(f);for(var g in f){var h=g;-1!==g.indexOf("-")&&(h=g.replace("-",""));f.hasOwnProperty(g)&&this.Kb.hasOwnProperty(h)&&this.Kb[h].aI(f[g]).va(!0)}}};d.prototype.DJ=function(){return this.Xe};d.prototype.Tca=function(f){if(this.$s===f)return this;this.HKa(!0);var g=this.$s;this.$s=f;null!=g&&g.za(L_.umb,this.Gyc).lh();this.fireEvent("AnnotationChanged",new H_(this.$s,null));null!=this.$s&&(this.$s.lh().on(L_.umb,this.Gyc),this.OPa.u5d(this.$s));null==
this.$s&&this.ns(null);this.$h();return this};d.prototype.OX=function(){return this.$s};d.prototype.ns=function(f){if(this.Md===f)return this;null!=this.Md&&this.Md.setActive(!1);this.Md=f;null!=this.Md&&(this.HKa(!0),this.Md.setActive(!0));return this};d.prototype.Raa=function(){return this.vPb};d.prototype.Uca=function(f){if(this.vPb===f)return this;this.vPb=f;return this};d.prototype.hya=function(f){return this.Pm};d.prototype.NIc=function(f){if(!1===this.isEnabled()||null==this.$s)return this;
f.stopPropagation(!0,!0);this.uc=f.Ye();this.OPa.Wxa(this.$s.fb());return this};d.prototype.HR=function(){return this.xEa};d.prototype.Wxa=function(f){if(null==f)return this.xEa&&this.HKa(!0),this;if(f===this.$s&&!0===this.xEa)return this;this.xEa&&this.HKa(!0);this.Tca(f);this.Bk.value=this.$s.me().replace(/<br>/g,"\n").replace(/<br\/>/g,"\n");this.cha(!0);this.xEa=!0;return this};d.prototype.fWc=function(f,g,h){var k=null;if(this.Md)if(this.Md===this.Kb.anchor){k=this.hya(h);this.Uca(k);if(null==
k)return;f=this.Sd(k,h);this.$s.Uy(k).Jb(f)}else{var l=this.$s.T6b().clone();k=l.ca();l=l.da();var m=this.$s.fq().clone();m.Da(m.getX()+f/2,m.getY()+g/2);this.Md===this.Kb.topleft?(k-=f,l-=g):this.Md===this.Kb.topright?(k+=f,l-=g):this.Md===this.Kb.bottomleft?(k-=f,l+=g):this.Md===this.Kb.bottomright&&(k+=f,l+=g);var n=this.Kb,p=function(q,r){var t=n[q];n[q]=n[r];n[r]=t};0>=k&&(0>f&&(p("topright","topleft"),p("bottomright","bottomleft")),0<f&&(p("topleft","topright"),p("bottomleft","bottomright")));
0>=l&&(0>g&&(p("topright","bottomright"),p("topleft","bottomleft")),0<g&&(p("bottomright","topright"),p("bottomleft","topleft")));this.$s.Ap(m).jgc({width:k,height:l})}else k=this.$s.fq().clone(),k.x+=f,k.y+=g,this.$s.Ap(k);this.fireEvent("AnnotationEdited",new H_(this.$s,h));this.$s.lh();this.cha(!1);this.$h()};d.prototype.zca=function(f){if(!1!==this.Pd()&&!0===this.ea.canmove){f.stopPropagation(!0,!0);var g=this.Sd(this.Pm,f);g=this.Pm.wa().Ma(g);var h=g.x-this.kg.x,k=g.y-this.kg.y,l=this.Pm.fj();
if(g.getX()<l.ka()||g.getX()>l.na())h=0;if(g.getY()<l.la()||g.getY()>l.ma())k=0;this.fWc(h,k,f);this.kg=g.clone()}};d.prototype.Ic=function(f){var g=this.Sd(this.Pm,f);if(this.Pd()){if(!0===this.ea.canmove){f.stopPropagation(!0,!0);g=this.Pm.wa().Ma(g);var h=g.x-this.kg.x;var k=g.y-this.kg.y;this.fWc(h,k,f);this.kg=g.clone()}}else{h=this.hya(f);this.Uca(h);f=f.he();f=this.Pm.wa().sc(f);f=this.eh.select(this.Pm,f.x,f.y,2);k=h=null;for(var l=f.length-1;0<=l;l--)if(f[l]!==this.maa&&(f[l]instanceof e&&
(k=f[l]),f[l]instanceof M_)){h=f[l];break}this.maa.aI(g).va(null==h&&null===k&&null!==this.ea&&!0===this.ea.cancreate)}};d.prototype.Yc=function(f){var g=this.Sd(this.Pm,f);this.Dgb(g)&&this.pn(f)&&this.NIc(f);var h=this.eh.select(this.Pm,g.x,g.y,2);for(g=h.length-1;0<=g;g--)if(h[g]instanceof M_&&h[g]===this.OX()){var k=h[g];break}if(null!=k&&(k=k.gj(f.he(),5),null!=k&&0<k.length))for(g=0;g<k.length;g++){h=k[g];for(var l=0;l<h.paths.length;l++)h.paths[l].notify("click",h.paths[l])}this.Pd()&&this.stop(f)};
d.prototype.gd=function(f){if(this.ZJa()&f.Je().buttons||this.pn(f)){var g=f.he();g=this.Pm.wa().sc(g);g=this.eh.select(this.Pm,g.x,g.y,2);var h,k,l;for(l=g.length-1;0<=l;l--)g[l]!==this.maa&&(g[l]instanceof e&&(k=g[l]),g[l]instanceof M_&&null==h&&(h=g[l]));this.ns(k);null==k&&this.Tca(h);null!=this.$s?(this.start(f),f=this.Sd(this.Pm,f),this.Pm.wa().Ma(f,f),this.pd=f.clone(),this.kg=f.clone()):(null==this.Raa()&&this.Uca(this.hya(f)),null!=this.Raa()&&(f=this.Sd(this.Raa(),f),h=this.OPa.loa({target:this.Raa(),
anchor:f,text:"Anchor : "+f.toString()}),null!=h&&this.OPa.Tca(h)))}};d.prototype.start=function(f){f.stopPropagation();this.setActive(!0);SR.lock(f.Ye(),this);this.Bo(!0);return this};d.prototype.stop=function(){this.setActive(!1);SR.unlock(this);this.Bo(!1);return this};d.prototype.Bo=function(f){this.Rs("pointermove",f,$a);this.Rs("pointerup",f,$a);return this};d.prototype.ZJa=function(){return this.zk};d.prototype.xjb=function(f){this.zk=f;return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJhZGp1c3RIYW5kbGVzIjoidHNkIiwib25FbmFibGVkU3RhdGVDaGFuZ2VkIjoiaGoiLCJ1cGRhdGVIYW5kbGVzIjoiJGgiLCJnZXRXaWRnZXQiOiJESiIsInNldEFjdGl2ZUFubm90YXRpb24iOiJUY2EiLCJnZXRBY3RpdmVBbm5vdGF0aW9uIjoiT1giLCJnZXRBY3RpdmVUYXJnZXQiOiJSYWEiLCJzZXRBY3RpdmVUYXJnZXQiOiJVY2EiLCJmaW5kVGFyZ2V0IjoiaHlhIiwiaXNFZGl0aW5nIjoiSFIiLCJnZXRNb3VzZUJ1dHRvbnMiOiJaSmEiLCJzZXRNb3VzZUJ1dHRvbnMiOiJ4amIifX19");var O_=/*#__PURE__*/ta(/*#__PURE__*/{mmc:"CreateAnnotation",Lpc:"RemoveAnnotation",C2a:"EditAnnotation",uCa:"ChangeActiveAnnotation"},2,"eyJDcmVhdGVBbm5vdGF0aW9uIjoibW1jIiwiUmVtb3ZlQW5ub3RhdGlvbiI6IkxwYyIsIkVkaXRBbm5vdGF0aW9uIjoiQzJhIiwiQ2hhbmdlQWN0aXZlQW5ub3RhdGlvbiI6InVDYSJ9"),P_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c,e){E_.call(this,c);this.ed=Rh.rb;this.k4=this.V8a=this.ab=this.Hw=this.Pm=null;e=G(e,{overlay:null,cancreate:!0,candelete:!0,canedit:!0,canmove:!0});this.wXb=e.overlay;this.je(e);this.setOptions(e);this.$tb=function(){this.VZa()}.bind(this);this.Nb().on(ze.FD,this.$tb);$a.addEventListener("resize",this.$tb)}var a=new Ud(150,50),b=new Tg(-10,-10);D(d,E_);L(d,"geotoolkit.widgets.overlays.AnnotationOverlay");
K_.ya().mja("simple-arrow",I_);K_.ya().mja("rectangle-callouts",J_);d.Ka=O_;d.prototype.dispose=function(){this.Nb().za(ze.FD,this.$tb);this.V8a.dispose();this.Hw.dispose();this.Pm.dispose();$a.removeEventListener("resize",this.$tb);E_.prototype.dispose.call(this)};d.prototype.je=function(c){null==this.wXb&&(this.wXb=ff(this.DJ()).vc(function(e){return e instanceof xm}).vc(function(e){return"overlays"===e.Ga()}).ug());this.wXb.pa([this.Pm=(new xm({name:"overlay-annotations"})).pa([this.Hw=new xm({name:"overlay-annotation-shapes"})])]);
this.pi(c)};d.prototype.Nb=function(){return this.DJ().Nb()};d.prototype.zE=function(){return this.Pm};d.prototype.pi=function(){this.DJ().$b("overlay").add([this.V8a=(new QS(this.Pm)).Rb(!0).add([this.k4=(new N_(this)).Rb(!1).addListener("AnnotationChanged",function(c,e){this.notify(O_.uCa,this,e)}.bind(this)).addListener("AnnotationEdited",function(c,e){this.notify(O_.C2a,this,e)}.bind(this))])])};d.prototype.VZa=function(){ff(this.Hw).vc(function(c){return c instanceof M_}).select(function(c){c.lh()})};
d.prototype.Vw=function(c){E_.prototype.Vw.call(this,c);this.Pm.va(this.Ia());this.k4.Rb(this.aXa());return this};d.prototype.nya=function(c){return ff(this.Hw).vc(function(e){return e instanceof M_}).vc(function(e){return e.fb()===c}).ug()};d.prototype.setOptions=function(c){this.ea=G(c,this.ea);this.k4.setOptions(this.ea);return this};d.prototype.ta=function(){return this.ea};d.prototype.loa=function(c){if(null===c)throw Error("annotation can not be null");if(!0!==this.ea.cancreate)return null;
if(!1===oc(c,F_)){var e=G(c.options,{frame:a.clone(),offset:new N(b.getX()-a.ca()/2,b.getY()-a.da()/2)});c.options=e}e=new H_(c,null);this.notify(O_.mmc,this,e);if(e.Kk())return null;if(oc(c,F_)&&null!=this.nya(c))throw Error("annotation already exist");c=G_.Ra(c);this.Hw.pa([(new M_(c)).setOrientation(this.ed)]);return c};d.prototype.zvb=function(c){this.Hw.zvb(c);return this};d.prototype.jTb=function(){return this.Hw.jTb()};d.prototype.lvd=function(){this.k4.Tca(null);var c=this.Hw.ac(),e=this.Hw.Hj(),
f=this.Hw.Wo();this.Hw.ze(!0);this.Hw.xb(!1);for(--c;0<=c;c--){var g=this.Hw.gb(c);g instanceof M_&&this.Hw.removeChild(g)}this.Hw.ze(f);this.Hw.xb(e,!1);return this};d.prototype.nja=function(c){c=this.nya(c);if(null==c||!0!==this.ea.candelete)return this;var e=null;if(!1===this.Wo()&&(e=new H_(c.fb(),null),this.notify(O_.Lpc,this,e),e.Kk()))return this;this.k4.OX()===c&&this.k4.Tca(null);this.Hw.removeChild(c);!1===this.Wo()&&(e.pZ(this.OX()),this.notify(O_.uCa,this,e));return this};d.prototype.Wxa=
function(c){if(null==c)return this.k4.Wxa(null),this;c=this.nya(c);if(null==c||!0!==this.ea.canedit)return this;var e=new H_(c.fb(),null);this.notify(O_.C2a,this,e);if(e.Kk())return this;this.k4.Wxa(c);return this};d.prototype.G_d=function(c){this.nya(c);return this};d.prototype.jdb=function(c){var e=[];ff(this.Hw).vc(function(f){return f instanceof M_}).select(function(f){e.push(f.fb())});return Hg.zi(e,c)};d.prototype.OX=function(){var c=this.k4.OX();return null!=c?c.fb():null};d.prototype.Tca=
function(c){if(this.OX()===c)return this;var e=new H_(c,null);this.notify(O_.uCa,this,e);if(e.Kk())return this;c=this.nya(c);this.k4.Tca(c);e.pZ(this.OX());this.notify(O_.uCa,this,e);return this};d.prototype.u5d=function(c){this.Hw.lyb(c,Sh.RCa)};d.prototype.setOrientation=function(c){if(this.ed===c)return this;this.ed=c;ff(this.Hw).vc(function(e){return e instanceof M_}).RO().forEach(function(e){e.setOrientation(c)});return this};d.mja=function(c,e){K_.ya().mja(c,e)};d.$d=function(c){return K_.ya().$d(c)};
return d}(),2,"eyJyZWdpc3Rlckdlb21ldHJ5IjoibWphIiwiZ2V0R2VvbWV0cnkiOiIkZCIsInByb3RvdHlwZSI6eyJzIjowLCJjIjp7ImdldE1vZGVsIjoiTmIiLCJvblVwZGF0ZUdlb21ldHJ5IjoiVlphIiwib25TdGF0ZUNoYW5nZWQiOiJWdyIsImdldE9wdGlvbnMiOiJ0YSIsImFkZEFubm90YXRpb24iOiJsb2EiLCJfc2V0Wk9yZGVyIjoienZiIiwiX2dldFpPcmRlciI6ImpUYiIsImNsZWFyQW5ub3RhdGlvbnMiOiJsdmQiLCJyZW1vdmVBbm5vdGF0aW9uIjoibmphIiwiZWRpdEFubm90YXRpb24iOiJXeGEiLCJzY3JvbGxUb0Fubm90YXRpb24iOiJHX2QiLCJnZXRBbm5vdGF0aW9ucyI6ImpkYiIsImdldEFjdGl2ZUFubm90YXRpb24iOiJPWCIsInNldEFjdGl2ZUFubm90YXRpb24iOiJUY2EifX19");var Q_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){VR.call(this,a);this.Nm=b;this.Kj=c}D(d,VR);L(d,"geotoolkit.widgets.SelectionChangeEventArgs");d.prototype.kc=function(){return this.Nm};d.prototype.sr=function(){return this.Kj};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJZCI6ImtjIiwiZ2V0VHlwZSI6InNyIn19fSAg");var R_=/*#__PURE__*/ta(/*#__PURE__*/{jNb:"ItemChanged"},2,"eyJJdGVtQ2hhbmdlZCI6ImpOYiJ9");var S_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){this.zAa=a;this.options=b;this.direction=[];!0===b.vertical&&this.direction.push(Rh.rb);!0===b.horizontal&&this.direction.push(Rh.yb);this.actions={}}d.prototype.Zl=function(){return this.direction};d.prototype.ta=function(){return this.options};d.prototype.connect=function(a){if(this.zAa instanceof te)for(var b in this.actions)this.actions.hasOwnProperty(b)&&this.actions[b].connect(this.options.events,this.zAa,a)};d.prototype.disconnect=function(a){if(this.zAa instanceof
te)for(var b in this.actions)this.actions.hasOwnProperty(b)&&this.actions[b].disconnect(this.options.events,this.zAa,a)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREaXJlY3Rpb24iOiJabCIsImdldE9wdGlvbnMiOiJ0YSJ9fX0g");var T_=/*#__PURE__*/ta(/*#__PURE__*/{qea:"visiblerange",bta:"scale",ES:"model",cK:"custom"},2,"eyJWaXNpYmxlUmFuZ2UiOiJxZWEiLCJTY2FsZSI6ImJ0YSIsIk1vZGVsIjoiRVMiLCJDdXN0b20iOiJjSyJ9");var U_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){this.name=a}d.prototype.Ga=function(){return this.name};d.prototype.connect=function(a,b,c){if(b instanceof te)for(var e=0;e<a.length;++e)b.on(a[e],c)};d.prototype.disconnect=function(a,b,c){if(b instanceof te)for(var e=0;e<a.length;++e)b.on(a[e],c)};d.prototype.getData=function(a,b,c){return(c=c[this.Ga()])&&c.getdata?c.getdata.call(a,a,b):null};d.prototype.setData=function(a,b,c,e){return(e=e[this.Ga()])&&e.setdata?e.setdata.call(this,b,a,c):null};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROYW1lIjoiR2EifX19");var V_=/*#__PURE__*/function(){function d(){U_.call(this,T_.ES)}function a(c,e,f,g){var h=c.wa();h=null!=h?h:new X;var k=e.getParent(),l=k.wa();null!=l&&(f||(c=c.fj(),f=k.fj(),null!=c&&null!=f&&0<c.ca()&&0<c.da()&&0<f.ca()&&0<f.da()&&(g&&(c.la()!==f.la()||c.da()!==f.da())||!g&&(c.ka()!==f.ka()||c.ca()!==f.ca()))&&(h=X.Vd(c,f),h=X.multiply(h,h))),h=X.multiply(l.xc(),h));g=null;l=e.oa();e=e.ga();l&&0<l.ca()&&0<l.da()&&e&&0<e.ca()&&0<e.da()&&(g=X.Vd(l,e));null!=g&&(h=X.multiply(h,g.xc()));return h}var b="Object cannot be connected. It does not have method to get/set model limits";
D(d,U_);d.prototype.getData=function(c,e,f){return{limits:void 0!==c.oa?c.oa():null,source:c}};d.prototype.setData=function(c,e,f,g){g=g[this.Ga()];if(!g||!g.setdata){var h=c.ob();g=1;var k=0,l=1,m=0;null!=h&&(g=h.lb(),k=h.cf(),l=h.Ab(),m=h.Pe());h=c.oa();var n=e.limits;e=a(e.source,c,!0,f===Rh.rb);f===Rh.rb?(e&&(l=e.Ab(),m=e.Pe()),void 0!==c.VC&&c.VC()||c.Ha(new U(h.ka(),n.la(),h.na(),n.ma()))):f===Rh.yb&&(e&&(g=e.lb(),k=e.cf()),h.ka()===n.ka()&&h.na()===n.na()||void 0!==c.VC&&c.VC()||c.Ha(new U(n.ka(),
h.la(),n.na(),h.ma())));(f=c.ob())&&f.lb()===g&&f.Ab()===l?c.translate(k-f.cf(),m-f.Pe()):(f=new X(g,0,0,l,k,m),c.Tc(f))}};d.prototype.connect=function(c,e,f){if("function"!==typeof e.oa||"function"!==typeof e.Ha||"function"!==typeof e.Ha||!(e instanceof mg))throw new TypeError(b);U_.prototype.connect.call(this,c,e,function(g){f.call(e,g,e)})};d.prototype.disconnect=function(c,e,f){U_.prototype.disconnect.call(this,c,e,function(g){f.call(e,g,e)})};return d}();var W_=/*#__PURE__*/function(){function d(){U_.call(this,T_.qea)}D(d,U_);d.prototype.getData=function(a,b,c){var e=U_.prototype.getData.call(this,a,b,c);null==e&&"function"===typeof a.wb&&(a=a.wb(),null!=a&&(b=b===Rh.yb,e=c.orientation===Rh.rb?new Kd(b?a.ka():a.la(),b?a.na():a.ma()):new Kd(b?a.la():a.ka(),b?a.ma():a.na())));return e};return d}();var X_=/*#__PURE__*/function(){function d(){U_.call(this,T_.bta)}D(d,U_);d.prototype.getData=function(a,b,c){var e=U_.prototype.getData.call(this,a,b,c);null===e&&"function"===typeof a.ob&&(e=a.ob(),null!=e&&(a=b===Rh.yb,c=c.orientation===Rh.rb,e=a?new X(c?e.lb():e.Ab(),0,0,1,c?e.cf():e.Pe(),0):new X(1,0,0,c?e.Ab():e.lb(),0,c?e.Pe():e.cf())));return e};return d}();var Y_=/*#__PURE__*/function(){function d(){X_.call(this);this.ad=new X}D(d,X_);d.prototype.getData=function(a,b,c){return X_.prototype.getData.call(this,a.Nb(),b,c)};d.prototype.setData=function(a,b,c,e){e=e[this.Ga()];if((!e||!e.setdata)&&a.Nb()){var f=a.Nb().ob()?a.Nb().ob():new X;e=f.lb();var g=f.cf(),h=f.Ab();f=f.Pe();c===Rh.rb?(h=b.Ab(),f=b.Pe()):c===Rh.yb&&(e=b.lb(),g=b.cf());this.ad.Sb(e,0,0,h,g,f);a.fS(this.ad)}};d.prototype.connect=function(a,b,c){X_.prototype.connect.call(this,a,b.Nb(),function(e){c.call(b,
e,b)})};d.prototype.disconnect=function(a,b,c){X_.prototype.disconnect.call(this,a,b.Nb(),function(e){c.call(b,e,b)})};return d}();var Z_=/*#__PURE__*/function(){function d(){W_.call(this)}D(d,W_);d.prototype.getData=function(a,b,c){var e=W_.prototype.getData.call(this,a.Nb(),b,c);null==e&&"function"===typeof a.jqa&&(a=a.jqa(c?c.ignoremodellimits:!1),null!=a&&(b=b===Rh.yb,e=c.orientation===Rh.rb?new Kd(b?a.ka():a.la(),b?a.na():a.ma()):new Kd(b?a.la():a.ka(),b?a.ma():a.na())));return e};d.prototype.setData=function(a,b,c,e){e=e[this.Ga()];e&&e.setdata||(e=a.jqa(),null!=e&&(b=c===Rh.rb?new U(e.ka(),b.Ta(),e.na(),b.Ya()):new U(b.Ta(),e.la(),
b.Ya(),e.ma()),a.eJb(b)))};d.prototype.connect=function(a,b,c){W_.prototype.connect.call(this,a,b.Nb(),function(e){c.call(b,e,b)})};d.prototype.disconnect=function(a,b,c){W_.prototype.disconnect.call(this,a,b.Nb(),function(e){c.call(b,e,b)})};return d}();var $_=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){this.actions={};this.B2(new W_);this.B2(new X_);this.B2(new V_);this.B2(new U_(T_.cK));this.B2(new Y_,VZ.Pa());this.B2(new Z_,VZ.Pa())}function a(e,f){for(;null!=f;){if(e[f])return e[f];f=Mb(f)}return null}var b="*",c=null;d.prototype.B2=function(e,f){if(e){var g=e.Ga();void 0===this.actions[g]&&(this.actions[g]={});void 0===f&&(f=b);this.actions[g][f]=e}};d.prototype.jQc=function(e,f){return(e=this.actions[e])?(f=a(e,f))?f:e[b]:null};d.ya=function(){null==c&&(c=new d);
return c};return d}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsicmVnaXN0ZXJPcGVyYXRpb24iOiJCMiIsImdldE9wZXJhdGlvbiI6ImpRYyJ9fX0g");var a0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){te.call(this);this.options=G(a,{mode:[T_.qea],registry:null},!0);this.YTd=this.options.registry?this.options.registry:$_.ya();this.items=[];this.Jcb=this.vjc=!1}D(d,te);L(d,"geotoolkit.widgets.sync.ViewSynchronizer");d.prototype.connect=function(a,b){if(a instanceof te){b=G(b,{sender:!0,receiver:!0,vertical:!1,horizontal:!1,events:[ze.FD,ze.Jr],orientation:Rh.rb,typename:"function"===typeof a.Pa?a.Pa():""},!0);a=new S_(a,b);for(var c=this.options.mode,e=0;e<c.length;++e){var f=
this.YTd.jQc(c[e],b.typename);f&&(a.actions[f.Ga()]=f)}this.items.push(a);!0===b.sender&&a.connect(this.jXc.bind(this))}return this};d.prototype.send=function(a,b){a&&(void 0!==a.vertical&&this.zAc(a.vertical,Rh.rb,b),void 0!==a.horizontal&&this.zAc(a.horizontal,Rh.yb,b))};d.prototype.zAc=function(a,b,c){if(a){for(var e=0;e<this.items.length;++e)if(-1!==this.items[e].direction.indexOf(b)){var f=this.items[e].actions[c];f&&f.setData(this.items[e].zAa,a,b,this.items[e].options)}this.notify(R_.jNb,this,
{data:a,action:c,orientation:b})}};d.prototype.nM=function(a,b){if(this.vjc)return this;this.vjc=!0;a=this.indexOf(a);if(-1!==a){a=this.items[a];var c=a.actions[b];if(null!=c)for(var e=0;e<a.direction.length;++e){var f=c.getData(a.zAa,a.direction[e],a.options);if(f){for(var g=0;g<this.items.length;++g)if(this.items[g]!==a&&-1!==this.items[g].direction.indexOf(a.direction[e])){var h=this.items[g].actions[b];h&&h.setData(this.items[g].zAa,f,a.direction[e],this.items[g].options)}this.notify(R_.jNb,this,
{data:f,action:b,orientation:a.direction[e]})}}}this.vjc=!1;return this};d.prototype.jXc=function(a,b){if(!this.Jcb){this.Jcb=!0;a=this.options.mode;for(var c=0;c<a.length;++c)this.nM(b,a[c]);this.Jcb=!1}};d.prototype.indexOf=function(a){for(var b=-1,c=0;c<this.items.length;++c)if(this.items[c].zAa===a){b=c;break}return b};d.prototype.disconnect=function(a){a=this.indexOf(a);-1!==a&&(!0===this.items[a].options.sender&&this.items[a].disconnect(this.jXc.bind(this)),this.items.splice(a,1))};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzeW5jaHJvbml6ZSI6Im5NIn19fSAg");var b0=/*#__PURE__*/ta(/*#__PURE__*/{PLb:"curvetocurve",nmc:"curvetoreferenceline",OLb:"curvetobaseline"},2,"eyJDdXJ2ZVRvQ3VydmUiOiJQTGIiLCJDdXJ2ZVRvUmVmZXJlbmNlTGluZSI6Im5tYyIsIkN1cnZlVG9CYXNlTGluZSI6Ik9MYiJ9");var c0=/*#__PURE__*/ta(/*#__PURE__*/{qb:"top",Ed:"bottom"},2,"eyJUb3AiOiJxYiIsIkJvdHRvbSI6IkVkIn0g");var d0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(g,h){this.Xe=g;this.AB=g.hTc();this.ea=G(h,{enabled:!1,fillstyles:null});this.Tfa={}}function a(g,h){if(null!=g)for(var k in g)-1===h.indexOf(k)&&null!=g[k]&&(g[k].fillstyle instanceof rf&&g[k].fillstyle.dispose(),delete g[k])}function b(g){var h={},k;for(k in g){var l=g[k];h[k]=null==l?null:{filldirection:l.filldirection,fillstyle:ug.fd(l.fillstyle),filltype:l.filltype,id1:l.id1,id2:l.id2}}return h}function c(g,h,k){return(1-k)*g+k*h}function e(g){return g.reduce(function(h,
k){return k.length>h?k.length:h},Number.MIN_VALUE)}var f=.7;L(d,"geotoolkit.widgets.timeseries.AbstractDataProcessor");d.prototype.SXa=Fb;d.prototype.AXa=Fb;d.prototype.sNd=function(){for(var g=[],h=0;h<this.AB.Qo();++h)g.push(this.AB.get(h).getData().xd(1).toArray(!0));return g};d.prototype.fia=function(){return this.Tfa};d.prototype.r_d=function(g){for(var h=0;h<this.AB.Qo();++h){var k=this.AB.get(h);k=k.jh().curve.kc();this.Tfa[k]={x:g.x,y:g.y[h]}}return this};d.prototype.LMd=function(){var g,
h,k=[];for(g=0;g<this.AB.Qo();++g)k.push(this.AB.get(g).getData().xd(0).toArray());var l=e(k),m=[];for(h=0;h<l;++h)for(g=0;g<k.length;++g)isNaN(k[g][h])||-1!==m.indexOf(k[g][h])||m.push(k[g][h]);m.sort(function(t,u){return t-u});l=[];var n=this.sNd();for(g=0;g<n.length;++g){l[g]=[];var p=0;for(h=0;h<m.length;++h)if(l[g][h]=n[g][k[g].indexOf(m[h])],null!=l[g][h]){if(p<h){var q=h-p;if(1<q)for(q=p+1;q<h;++q){var r=(m[q]-m[p])/(m[h]-m[p]);l[g][q]=c(l[g][p],l[g][h],r)}}p=h}}return{x:m,y:l}};d.prototype.$Rd=
function(g){g=g.map(function(n){return this.Xe.Uw(n)}.bind(this));var h=this.AXa(g),k=g.some(function(n){return n.Yl().neatlimits}),l=g.some(function(n){return n.Yl().neatlimitscenteredonzero}),m=new Kd(h.la(),h.ma());!0===k&&(m=W.Vp(h.la(),h.ma(),!1,l));g.forEach(function(n){this.Xe.wgb(n,{min:m.Ta(),max:m.Ya(),autoscale:!1})}.bind(this));return this};d.prototype.NId=function(g){var h=g.map(function(m){return this.Xe.Uw(m).zl()}.bind(this));if(!0===this.ea.enabled)for(var k=1;k<g.length;++k){var l=
g[k];l=this.Xe.Uw(l);h[k].cb(l.hY().mcb)}return h};d.prototype.h_d=function(g){var h=this.NId(g);if(0===h.length||0===this.AB.Qo())return this;g.forEach(function(k){k=this.Xe.Uw(k);this.Xe.wgb(k,{min:k.hY().min,max:k.hY().max,autoscale:k.hY().Txb},!1)}.bind(this));return this};d.prototype.Msd=function(g){null==this.ea.fillstyles&&(this.ea.fillstyles={});if(null==this.ea.fillstyles[g]){var h=Y.Ra(this.Xe.mMc(g).linestyle).mb();h=xd.Ra(h).dC(f);this.ea.fillstyles[g]=h}return this};d.prototype.Vsd=function(g,
h){a(this.ea.fillstyles,g);for(var k=0;k<g.length;++k){var l=g[k],m=this.Xe.Uw(l),n=m.hY().mcb;m.setData(new TH(new LH({cols:[{type:"number",data:h.x},{type:"number",data:h.y[k]}]})));m.hY().mcb=n;n=g[k-1];var p=b(m.jh().fillstyles);this.Msd(l,this.ea);this.Xe.U0b(l,n,ug.fd(this.ea.fillstyles[l]),null!=n?b0.PLb:b0.OLb,c0.Ed);m.hY().BA=p}return this};d.prototype.g_d=function(g){var h=this.Xe.Uw(g).hY(),k;for(k in h.fillstyles){var l=h.fillstyles[k];null!=l?this.Xe.U0b(l.id1,l.id2,l.fillstyle,l.filltype,
k):this.Xe.w_a(g,k)}return this};d.prototype.Hra=function(){var g=this.Xe.H6();this.h_d(g);g.forEach(function(h){var k=this.Xe.Uw(h);k.setData(new TH(new LH({cols:[{type:"number",data:this.Tfa[h].x},{type:"number",data:this.Tfa[h].y}]})));this.g_d(h)}.bind(this));return this};d.prototype.apply=function(){if(0===this.AB.Qo())return this;var g=this.LMd();this.r_d(g);var h=this.Xe.H6();this.Vsd(h,this.SXa(g),this.ea);this.$Rd(h);return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9jZXNzZWREYXRhIjoiU1hhIiwiZ2V0TWF4Q3VydmVMaW1pdHMiOiJBWGEiLCJyZXZlcnQiOiJIcmEifX19");var e0=/*#__PURE__*/{dOa:"axispositionchanged",vNb:"legenditemchanged",NLb:"curveaxischanged",tOa:"dataset",Rmb:"limitsupdated",wNb:"legendvaluechanged"};var f0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f){null==f&&(f={});f=G(f,{id:"",point:new N(0,0),label:"",symbol:null,linestyle:null!=f.linestyle?f.linestyle:b.clone(),textbackground:null!=f.textbackground?f.textbackground:c.clone(),fillstyle:null!=f.fillstyle?f.fillstyle:e.clone(),textstyle:null!=f.textstyle?f.textstyle:a.clone(),symbolsize:10,timeseriesobject:null},!0);Ag.call(this,f);this.ea=f;this.ZUb=this.od=this.Ue=null;this.uic(this.ea.timeseriesobject);this.WTc();this.YTc()}var a=new Fi({font:"12px Arial",color:"black"}),
b=new Y({color:"black",width:1,pixelsnapmode:{x:!0,y:!0}}),c=new rf({color:"transparent"}),e=new rf({color:"transparent"});D(d,Ag);L(d,"geotoolkit.widgets.timeseries.Annotation");d.prototype.WTc=function(){this.Ue=new ek({sizeisindevicespace:!0});this.Ue.wk(ck.co);this.Ue.yc(O.ee)};d.prototype.YTc=function(){null!=this.ea.symbol&&(this.od=new Km({sizeisindevicespace:!0,painter:this.ea.symbol}),this.od.yc(O.Oa))};d.prototype.M7b=function(){null==this.ZUb&&(this.ZUb=function(){if(null!=this.Lwa){var f=
this.Lwa.jh();if(null!=f.curve&&null!=f.curve.getData()){var g=this.ea.point.getX(),h=f.curve,k=h.getData();h=k.xd(0).toArray();k=k.xd(1).toArray();g=h.indexOf(g);k=k[g];g=h[g];h=f.hAa.oa();k=f.hAa.Xo()?(k-h.la())/h.da():(h.ma()-k)/h.da();this.setOptions({point:new N(g,k)})}}}.bind(this));return this.ZUb};d.prototype.update=function(){var f=this.ea.point,g=this.wa(),h=.01,k=null!=this.ea.linestyle?this.ea.linestyle.ca():1;null!=g&&(h=g.pl(new Ud(0,5+k)).da());g=O.ee;.1<f.getY()&&(g=O.Se,h*=-1);null==
this.od&&null!=this.ea.symbol&&this.YTc();null!=this.od&&null!=this.ea.symbol?(this.od.Jb(f.clone()),this.od.YO(this.ea.symbol),this.od.qa(this.ea.linestyle),this.od.ra(this.ea.fillstyle),this.od.setSize(this.ea.symbolsize,this.ea.symbolsize)):this.od=null;null==this.Ue&&""!==this.ea.label&&this.WTc();null!=this.Ue&&""!==this.ea.label?(this.Ue.Eb(this.ea.label),this.Ue.Jb(f.clone().setY(f.getY()+h)),this.Ue.kb(this.ea.textstyle),this.Ue.ra(this.ea.textbackground),this.Ue.yc(g)):this.Ue=null;return this};
d.prototype.uic=function(f){null!=this.Lwa&&this.Lwa.za(e0.Rmb,this.M7b());this.Lwa=f;if(null!=this.Lwa)this.Lwa.on(e0.Rmb,this.M7b());return this};d.prototype.setOptions=function(f){if(null==f)return this;this.ea=G(f,this.ea);null!=f.timeseriesobject&&this.uic(f.timeseriesobject);this.update();return this};d.prototype.ta=function(){return this.ea};d.prototype.fa=function(f){f=jc(f);if(null==f)return this;Ag.prototype.fa.call(this,f);void 0!==f.point&&(this.ea.point=f.point);void 0!==f.label&&(this.ea.label=
f.label);void 0!==f.textstyle&&(this.ea.textstyle=f.textstyle);void 0!==f.textbackground&&(this.ea.textbackground=f.textbackground);void 0!==f.symbol&&(this.ea.symbol=f.symbol);void 0!==f.linestyle&&(this.ea.linestyle=f.linestyle);void 0!==f.fillstyle&&(this.ea.fillstyle=f.fillstyle);void 0!==f.symbolsize&&(this.ea.symbolsize=f.symbolsize);void 0!==f.timeseriesobject&&this.uic(f.timeseriesobject);this.update();return this};d.prototype.ia=function(){var f=Ag.prototype.ia.call(this);f.point=this.ea.point;
f.label=this.ea.label;f.textstyle=this.ea.textstyle;f.textbackground=this.ea.textbackground;f.symbol=this.ea.symbol;f.linestyle=this.ea.linestyle;f.fillstyle=this.ea.fillstyle;f.symbolsize=this.ea.symbolsize;f.timeseriesobject=this.ea.timeseriesobject;return f};d.prototype.render=function(f){null!=this.od&&this.od.render(f);null!=this.Ue&&this.Ue.render(f)};d.prototype.dispose=function(){null!=this.Lwa&&this.Lwa.za(e0.Rmb,this.M7b());Ag.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var g0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e){null==e&&(e={});e=G(e,{id:"",point:new N(0,0),text:"",textvisible:!0,linevisible:!0,linestyle:b,fillstyle:c,textstyle:a,alignment:O.ee,angle:0});Ag.call(this,e);this.ea=e;this.Tj=this.Ue=null;this.je()}var a=new Fi({font:"12px Arial",color:"black"}),b=new Y({color:"black",width:1,pixelsnapmode:{x:!0,y:!0}}),c=new rf({color:"transparent"});D(d,Ag);L(d,"geotoolkit.widgets.timeseries.AnnotationLine");d.prototype.setOptions=function(e){if(null==e)return this;this.ea=G(e,
this.ea);this.update();return this};d.prototype.ta=function(){return this.ea};d.prototype.fa=function(e){e=jc(e);if(null==e)return this;Ag.prototype.fa.call(this,e);void 0!==e.point&&(this.ea.point=e.point);void 0!==e.text&&(this.ea.text=e.text);void 0!==e.textvisible&&(this.ea.textvisible=e.textvisible);void 0!==e.linevisible&&(this.ea.linevisible=e.linevisible);void 0!==e.textstyle&&(this.ea.textstyle=e.textstyle);void 0!==e.linestyle&&(this.ea.linestyle=e.linestyle);void 0!==e.fillstyle&&(this.ea.fillstyle=
e.fillstyle);void 0!==e.alignment&&(this.ea.alignment=e.alignment);void 0!==e.angle&&(this.ea.angle=e.angle);this.update();return this};d.prototype.ia=function(){var e=Ag.prototype.ia.call(this);e.point=this.ea.point;e.text=this.ea.text;e.textvisible=this.ea.textvisible;e.linevisible=this.ea.linevisible;e.textstyle=this.ea.textstyle;e.linestyle=this.ea.linestyle;e.fillstyle=this.ea.fillstyle;e.alignment=this.ea.alignment;e.angle=this.ea.angle;return e};d.prototype.je=function(){var e=this.ea.point;
this.Ue=(new ek({text:this.ea.text,ax:e.getX(),ay:e.getY(),fillstyle:this.ea.fillstyle,textstyle:this.ea.textstyle,alignment:this.ea.alignment})).va(this.ea.textvisible);this.Ue.Tc(X.Ui(this.ea.angle,this.Ue.Wn(),this.Ue.Cm()));this.Tj=(new Bk({from:new N(e.getX(),0),to:new N(e.getX(),1),linestyle:this.ea.linestyle})).va(this.ea.linevisible).nb("annotation")};d.prototype.update=function(){var e=this.ea.point;null!=this.Ue&&(this.Ue.Eb(this.ea.text),this.Ue.Zn(e.getX()),this.Ue.mq(e.getY()),this.Ue.yc(this.ea.alignment),
this.Ue.kb(this.ea.textstyle),this.Ue.ra(this.ea.fillstyle),this.Ue.Tc(X.Ui(this.ea.angle,this.Ue.Wn(),this.Ue.Cm())),this.Ue.va(this.ea.textvisible));null!=this.Tj&&(this.Tj.Cr(new N(e.getX(),0),new N(e.getX(),1)),this.Tj.qa(this.ea.linestyle),this.Tj.va(this.ea.linevisible))};d.prototype.render=function(e){this.Tj&&this.ea.linevisible&&this.Tj.render(e);this.Ue&&this.ea.textvisible&&this.Ue.render(e)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var h0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=jc(a);this.Jpb=a.datapointindex;this.Isb=a.lineindex;this.aQb=a.barleft;this.$Pb=a.barbottom;this.Bob=a.barheight;this.sC=a.barwidth;this.Dob=a.barvalue;this.Bb=a.text;this.WZb=a.textax;this.XZb=a.textay;this.b_b=a.textwidth;this.wUa=a.textheight}L(d,"geotoolkit.widgets.timeseries.barmode.BarSeries");d.prototype.o0d=function(a){a=G(a,{datapointindex:this.Jpb,lineindex:this.Isb,barleft:this.aQb,barbottom:this.$Pb,barheight:this.Bob,barwidth:this.sC,barvalue:this.Dob,
text:this.Bb,textax:this.WZb,textay:this.XZb,textwidth:this.b_b,textheight:this.wUa},a,!0);this.Jpb=a.datapointindex;this.Isb=a.lineindex;this.aQb=a.barleft;this.$Pb=a.barbottom;this.Bob=a.barheight;this.sC=a.barwidth;this.Dob=a.barvalue;this.Bb=a.text;this.WZb=a.textax;this.XZb=a.textay;this.b_b=a.textwidth;this.wUa=a.textheight;return this};d.prototype.mJa=function(){return G({datapointindex:this.Jpb,lineindex:this.Isb,barleft:this.aQb,barbottom:this.$Pb,barheight:this.Bob,barwidth:this.sC,barvalue:this.Dob,
text:this.Bb,textax:this.WZb,textay:this.XZb,textwidth:this.b_b,textheight:this.wUa})};d.prototype.Mw=function(a){a=a.mJa();return this.Jpb===a.datapointindex&&this.Isb===a.lineindex&&this.Bob===a.barheight&&this.sC===a.barwidth&&this.Dob===a.barvalue};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRCYXJTZXJpZXMiOiJtSmEiLCJjb21wYXJlVG8iOiJNdyJ9fX0g");var i0=/*#__PURE__*/ta(/*#__PURE__*/{VEb:"micropositionChanged"},2,"eyJtaWNyb3Bvc2l0aW9uQ2hhbmdlZCI6IlZFYiJ9"),j0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){Ag.call(this,a);this.km=this.Lm=this.jm=this.Va=null;this.Dva={top:1,bottom:0}}D(d,Ag);L(d,"geotoolkit.widgets.timeseries.TimeSeriesShape");d.Ka=i0;d.prototype.wj=function(){var a=this.ga();if(null==a)return this;this.Va=new U(a.ka(),this.Dva.bottom,a.na(),this.Dva.top);this.jm=null;this.pq();return this};d.prototype.ge=function(){if(null!=this.jm)return this.jm;var a=this.ga();if(null==a)return null;var b=new U(a.ka(),0,a.na(),1);a.isEmpty()||
b.isEmpty()||(this.jm=X.Vd(b,a,!1,!1,!1));return this.jm};d.prototype.Sa=function(){var a=this.ob(),b=this.ge();return null==b?a:null==a?b:X.multiply(a,b)};d.prototype.uV=function(a,b){if(0<=a&&1>=a&&0<=b&&1>=b){var c=Math.min(a,b);a=Math.max(a,b)}else c=0,a=1;if(this.Dva.top!==a||this.Dva.bottom!==c)this.Dva.top=a,this.Dva.bottom=c,this.notify(d.Ka.VEb,this,null);this.xa();return this};d.prototype.Keb=function(){return{top:this.Dva.top,bottom:this.Dva.bottom}};d.prototype.rD=function(a,b){if(this.Lm===
a)return this;this.Lm=Y.Qe(this,this.Lm,a,b,this.tb());this.xa().ha(this.ga());return this};d.prototype.$p=function(){return this.Lm};d.prototype.tb=function(){null===this.km&&(this.km=function(a,b,c){return this.Lg()}.bind(this));return this.km};d.prototype.render=function(a){a=a.bc(new X);var b=this.ga();null!=b&&null!=this.Lm&&(a.ra(null),a.qa(this.Lm,b),a.Bc(b))};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVCb3VuZHMiOiJ3aiIsImdldENvbnRlbnRzVHJhbnNmb3JtIjoiZ2UiLCJnZXRXb3JsZFRyYW5zZm9ybSI6IlNhIiwic2V0TWljcm9Qb3NpdGlvbiI6InVWIiwiZ2V0TWljcm9Qb3NpdGlvbiI6IktlYiIsInNldEJvcmRlckxpbmVTdHlsZSI6InJEIiwiZ2V0Qm9yZGVyTGluZVN0eWxlIjoiJHAifX19");var k0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}var a="#6b6b6b",b={maximumfractiondigits:2,round:!0};L(d,"geotoolkit.widgets.timeseries.Util");d.S2a=0;d.V3a=1;d.N9b=function(){return{curveaxis:{visible:!1,compact:!1,position:"right",autolabelrotation:!1,autocoloraxis:!0,autocolorlabel:!0,titlevisible:!0,textcolor:a,axiscolor:a,labeltext:null,axiswidth:40,textwidth:20,font:"10px Arial",axisvisible:!0,titlerotateangle:-Math.PI/2,tickgeneratoroptions:{edge:{tickvisible:!0,labelvisible:!0},major:{tickvisible:!1,labelvisible:!1},
minor:{tickvisible:!1,labelvisible:!1}}}}};d.iMd=function(){return xb({id:null,name:"",curve:{data:null,properties:{linestyle:{},visible:!0,autoscale:!0,logarithmicscale:!1,min:null,max:null,neatlimits:!1,neatlimitscenteredonzero:!1,spline:!1,unit:"",values:{visible:!1,anchor:O.hg,offset:7,color:"#757575",font:"12px Roboto",format:new aj,fillstyle:rf.bo,linestyle:Y.bo}}},curvesymbol:{visible:!0,width:8,height:8,type:"circle",fillstyle:null},curvelimits:{visible:!0,margin:5,width:60,font:"bold 10px Arial"},
legenditem:{formatter:new aj(b),margintext:2,font:"bold 12px Arial",height:25,internalpadding:4,linestyle:new Y({color:"rgba(128, 128, 128, 1)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf({color:"rgba(250, 250, 250, 0.95)"}),fixedwidth:null,autocolorlabel:!0,labelcolor:a},tooltipitem:{formatter:new aj(b),margintext:4,font:"12px Arial",textcolor:"black",symbolsize:10,internalpadding:2,externalpadding:5,linestyle:null,fillstyle:null,fixedwidth:null,nanvisibility:!0}},d.N9b())};d.jMd=function(){return xb({id:null,
min:0,max:1,curveids:[],curveaxis:{visible:!0},sharelimits:!0},d.N9b())};d.b$b=function(c,e){for(var f=null,g=0;null==f;)-1===c.indexOf(e+g.toString())&&(f=e+g.toString()),g+=1;return f};d.zCb=function(c){switch(c){case "cross":c=an;break;case "diamond":c=bn;break;case "plus":c=Pn;break;case "square":c=Qn;break;case "star":c=Sn;break;case "triangle":c=Jm;break;default:c=$m}return c};d.ih=function(c,e,f){var g=c.xd(d.S2a),h=c.xd(d.V3a);c=g.toArray();h=h.toArray();var k=[],l=[];f-=e;for(var m=0;m<g.getLength();m++)l.push((h[m]-
e)/f),k.push((new hI(c[m],l[m],0,!0,m)).U2(h[m]));return{samples:k,PSd:l,indices:c,values:h}};d.findIndex=function(c,e,f){var g=0;--f;if(0<=f)for(var h=f;g<=h;){f=g+h>>1;if(1E-10>=Math.abs(c[f].ec()-e))return f;c[f].ec()<e?g=f+1:h=f-1}return~g};d.Fx=function(c,e,f){var g=0<c.length&&c[c.length-1].ec()<c[0].ec();g&&c.reverse();e=d.findIndex(c,e,c.length);0>e&&(e=~e);0<e&&e--;f=d.findIndex(c,f,c.length);0>f&&(f=~f,f>=c.length&&(f=c.length-1));f<c.length&&f++;g&&c.reverse();return new Kd(e,f)};d.Pcb=
function(c,e,f){null==f&&(f=!1);if(isNaN(c))return null;var g=W.findIndex(c,e,0,e.length-1,function(k,l){return Math.abs(k.ec()-l)<W.Tb?0:k.ec()<l?-1:1});if(0>g){var h=g=~g;if(!1===f)for(;h<e.length&&isNaN(e[h].getValue());)++h;--g;if(!1===f)for(;0<=g&&isNaN(e[g].getValue());)--g;g=0<=g&&h<e.length?e[g].ec()+e[h].ec()>2*c?g:h:0>g&&h<e.length?h:0<=g&&h>=e.length?g:0}return g};return d}(),2,"eyJnZXRVbmlxdWVJZCI6ImIkYiIsImdldFBhaW50ZXJCeVN0cmluZyI6InpDYiJ9");var l0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){ni.call(this,a);this.W7a=null;this.xSa={top:1,bottom:0}}D(d,ni);L(d,"geotoolkit.widgets.timeseries.TimeSeriesGroup");d.prototype.sa=function(a){ni.prototype.sa.call(this,a);this.wj();return this};d.prototype.wj=function(){this.W7a=null;this.pq();return this};d.prototype.JHd=function(a){if(!a)return null;var b=this.xSa.top,c=this.xSa.bottom,e=a.ka(),f=a.na(),g=a.la();a=a.ma();return new U(e,g+(a-g)*c,f,g+(a-g)*b)};d.prototype.ge=function(){var a=ni.prototype.ge.call(this);
if(null!==this.W7a)return this.W7a;var b=this.ga();if(null==b)return null;var c=this.JHd(b);null===c||c.isEmpty()||b.isEmpty()||(b=X.Vd(b,c,!1,!1,!1),this.W7a=null===a?b:X.multiply(b,a));return this.W7a};d.prototype.uV=function(a,b){if(0<=a&&1>=a&&0<=b&&1>=b){var c=Math.min(a,b);a=Math.max(a,b)}else c=0,a=1;if(this.xSa.top!==a||this.xSa.bottom!==c)this.xSa.top=a,this.xSa.bottom=c;this.xa();return this};d.prototype.xa=function(a,b){ni.prototype.xa.call(this,a,b);this.wj();return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRCb3VuZHMiOiJzYSIsInVwZGF0ZUJvdW5kcyI6IndqIiwiZ2V0Q29udGVudHNUcmFuc2Zvcm0iOiJnZSIsInNldE1pY3JvUG9zaXRpb24iOiJ1ViIsInVwZGF0ZVN0YXRlIjoieGEifX19");var m0=/*#__PURE__*/{dOa:"axispositionchanged",Z1a:"axisupdated"},n0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){te.call(this);this.ic=this.Nm=this.VPa=this.sI=this.A4a=this.vd=null;this.oCc=!1;this.je(c)}var a="curveaxisgroup",b=-1;D(d,te);L(d,"geotoolkit.widgets.timeseries.TimeSeriesObjectBase");d.Ka=m0;d.prototype.je=function(c){if(null==c||null==c.id)throw Error("TimeSeriesObject requires a unique id for initialization");c=xb(c,{});this.ea=xb(c,this.ea);this.Nm=this.ea.id;this.ic=this.ea.name;this.vd=(new pk).Fd(this.Nm);this.sI=
(new l0).Fd(a).Ha(new U(0,0,1,1)).pa(this.vd);c=isFinite(this.ea.curveaxis.titlerotateangle)?this.ea.curveaxis.titlerotateangle:b*Math.PI/2;this.VPa=(new l0).Fd(a).Ha(new U(0,0,1,1)).pa([this.A4a=(new ek({ax:.5,ay:.5,alignment:O.Oa})).wk(ck.co).rotate(c,.5,.5).Fd(this.Nm)]);this.qZ(this.ea.curveaxis);return this};d.prototype.kc=function(){return this.Nm};d.prototype.jh=function(){return{id:this.Nm,name:this.ic,axis:this.vd,Uxb:this.A4a,Dxa:this.sI,vVa:this.VPa,etd:this.ea.curveaxis.position}};d.prototype.DA=
function(){return this.vd};d.prototype.sJ=function(){return this.ea.curveaxis};d.prototype.qZ=function(c){null==c&&(c={});var e=this.ea.curveaxis.position,f=this.ea.curveaxis.axiswidth;c!==this.ea.curveaxis&&(c=xb(c,{}),this.ea.curveaxis=xb(c,this.ea.curveaxis));var g=this.ea.curveaxis,h=this.vd,k=this.Ho,l=this.A4a,m=this.sI;c=this.VPa;if(null==h)return this;var n=g.textcolor;null!=k&&(n=!0===g.autocolorlabel&&null!=k.Fa()?k.Fa().mb():g.textcolor);var p=m.Ia(),q="left"===g.position?O.we:O.Bd,r=null;
null!=g.title&&(null!=g.title.anchor&&(q=g.title.anchor),null!=g.title.offset&&(r=g.title.offset));h.lda(!0===g.compact&&g.titlevisible).J0a(new Fi({font:g.font,color:n})).iNa(q).vic(r);"left"===g.position?h.Qs(yf.cc):h.Qs(yf.tc);l.fa({textStyle:new Fi({font:g.font,color:n}),alignment:O.Oa}).va(g.titlevisible);h.Hm("left"===g.position?xf.cc:xf.tc);h.Rz(g.autolabelrotation);h.va(g.axisvisible);q=g.textcolor;null!=k&&(q=!0===g.autocoloraxis&&null!=k.Fa()?k.Fa().mb():g.axiscolor);g.baselinestyle?g.baselinestyle instanceof
Y?h.qpa().fa(g.baselinestyle.ia()):h.qpa().fa(g.baselinestyle):h.qpa().setColor(q);l.jb().setColor(n);null!=h.oa()&&h.Ha(h.oa().clone().Qa(g.axiswidth));m.Em(g.axiswidth);c.Em(g.textwidth);var t=h.Oe();l=t?h.XQ():null;if(g.tickgenerator instanceof Wi)t=g.tickgenerator;else if(q=this.oCc!==g.logarithmicscale)q=h.Oe(),(this.oCc=g.logarithmicscale)?(t=new sk,l=null):t=new ik,t.fa(q.ia());h.yg(t);t=h.Oe();var u=!0===g.autocoloraxis&&null!=k&&null!=k.Fa()?k.Fa().mb():g.axiscolor,w=n;t.mr().forEach(function(x){null!=
t.Gj(x)&&t.Gj(x).setColor(u);null!=t.nl(x)&&t.nl(x).setColor(w);if(null!=g.tickgeneratoroptions&&void 0!==g.tickgeneratoroptions.format){var C=g.tickgeneratoroptions.format;C instanceof Oi?t.RA(x,C):"function"===typeof C&&t.Hv(C)}});k=g.tickgeneratoroptions;l&&l.Peb()&&l.RXa()&&(k=xb(k,{}),k.edge={tickvisible:!1,labelvisible:!1});t.fa(k);var y=g.axisautolabelrotation?"auto":g.labelorientation,z=h.Oe();k=z.mr();"auto"===y?(h.Rz(!0),h.Bja(b*Math.PI/2)):y===Rh.yb?(h.Rz(!1),k.forEach(function(x){z.VO(x,
0)})):y===Rh.rb?(h.Rz(!1),k.forEach(function(x){z.VO(x,b*Math.PI/2)})):W.Hq(y)&&(h.Rz(!1),k.forEach(function(x){z.VO(x,y)}));h=null==this.J0?this.ea.curveaxis.visible:!1;m.va(h);m=c.Ia();c.va(!1===g.compact&&g.titlevisible&&g.visible&&h);e!==this.ea.curveaxis.position?this.notify(d.Ka.dOa,this,{id:this.Nm,oldposition:e,axisposition:this.ea.curveaxis.position}):(p!==this.ea.curveaxis.visible||f!==this.ea.curveaxis.axiswidth||m!==c.Ia())&&this.notify(d.Ka.Z1a,this,this);void 0!==g.microposition&&(e=
{top:void 0!==g.microposition.top?g.microposition.top:1,bottom:void 0!==g.microposition.bottom?g.microposition.bottom:0},this.sI.uV(1-e.top,1-e.bottom),this.VPa.uV(1-e.top,1-e.bottom));return this};d.prototype.dispose=function(){null!=this.vd&&this.vd.dispose();null!=this.A4a&&this.A4a.dispose();null!=this.sI&&this.sI.dispose();null!=this.VPa&&this.VPa.dispose();te.prototype.dispose.call(this)};d.prototype.pb=Hb;d.prototype.ia=function(){return{id:this.kc(),name:this.ic,curveaxis:this.sJ()}};d.prototype.fa=
function(c){void 0!==c.id&&(this.Nm=c.id);void 0!==c.name&&(this.ic=c.name);void 0!==c.curveaxis&&this.qZ(c.curveaxis);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJZCI6ImtjIiwiZ2V0QXhpcyI6IkRBIiwiZ2V0QXhpc09wdGlvbnMiOiJzSiIsInNldEF4aXNPcHRpb25zIjoicVoiLCJ1cGRhdGVMYXlvdXQiOiJwYiIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSJ9fX0g");var o0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c,e,f,g){zH.call(this);c=G(c,{data:c instanceof TH?c:null,scaledsamples:null,minwraplevel:0,maxwraplevel:0,conversion:e,interpolation:null!=f?f:null},!0);this.rT=[];this.Cy=[];this.Hkc=!0===g;this.data=c.data;this.timeStamp=-1;this.Ig=c.scaledsamples;this.qx=[];this.XY=c.minwraplevel;this.SY=c.maxwraplevel;this.ir=c.conversion;this.BY=c.interpolation;this.bH=!0;this.sva=0}var a=k0.S2a,b=k0.V3a;D(d,zH);L(d,"geotoolkit.widgets.timeseries.ScaledData");d.prototype.pV=function(c){this.bH=
!0;this.timeStamp=-1;this.ir=c;return this};d.prototype.setInterpolation=function(c){this.bH=!0;this.timeStamp=-1;this.BY=null!=c?c:null;return this};d.prototype.hs=function(){return this.data};d.prototype.uU=function(){return this.data.xd(a).qf()};d.prototype.oU=function(){return this.data.xd(a).Rf()};d.prototype.wc=function(){return this.data.xd(b).qf()};d.prototype.Hc=function(){return this.data.xd(b).Rf()};d.prototype.ih=function(){this.UN();return null!=this.Ig?this.Ig:[]};d.prototype.ek=function(c){this.UN();
return null!=this.Ig?this.Ig[c]:null};d.prototype.getLength=function(){this.UN();return null!=this.Ig?this.Ig.length:0};d.prototype.Lk=function(){return!0};d.prototype.Wh=function(){return vH.iC};d.prototype.Jaa=function(c){return null!=this.ir?this.ir.Dx(c):c};d.prototype.g1=function(c){return null!=this.ir?this.ir.reverse(c):c};d.prototype.hf=function(){return this.timeStamp};d.prototype.u6b=function(){return this.data.xd(a).hf()};d.prototype.UN=function(){if(this.u6b()!==this.timeStamp||!this.Ig){var c=
this.data.xd(a),e=this.data.xd(b);if(null==e||null==c||1>e.getLength()||1>c.getLength())this.Ig=[];else{null==this.Ig&&(this.Ig=[]);var f=this.qx.length,g,h=this.sva;if(this.bH)for(g=0;g<f;g++){var k=e.getValue(g);this.qx[g].setPosition(c.getValue(g));this.qx[g].setValue(k);this.qx[g].U2(k);this.qx[g].by(0);this.qx[g].fC(!0);this.qx[g].Bjb(g)}for(g=f;g<c.getLength();g++)k=e.getValue(g),this.qx.push(new hI(c.getValue(g),k,0,!0,g));f>c.getLength()&&this.qx.splice(c.getLength(),f-c.getLength());if(null!=
this.BY){if(g=new qI(this.qx),e=new qI,k=this.qx.length-h,this.bH&&(h=0,k=this.qx.length),0!==k&&this.BY.interpolate(h,k,g,e))if(this.sva=e.H7b(),f=e.ih(),this.bH)this.Ig=f,this.XY=e.Iz(),this.SY=e.NB();else{for(g=this.Ig.length-1;0<=g;g--)if(this.Ig[g].qr()===h){h=g;break}k=Math.min(this.Ig.length,f.length+h);for(g=h;g<k;g++)this.Ig[g]=f[g-h];if(g<this.Ig.length)this.Ig.splice(g,this.Ig.length-g);else for(g=k-h;g<f.length;g++)this.Ig.push(f[g]);this.XY=Math.min(this.XY,e.Iz());this.SY=Math.max(this.SY,
e.NB())}}else if(this.bH)for(h=0,this.Ig=[],g=0;g<this.qx.length;g++)this.Ig[g]=this.qx[g].clone();else for(g=h=this.Ig.length;g<this.qx.length;g++)this.Ig.push(this.qx[g].clone());if(null!=this.ir)for(g=h=this.bH?0:h;g<this.Ig.length;++g)k=this.ir.Dx(this.Ig[g].getValue()),this.Hkc&&isNaN(k)&&!isNaN(this.Ig[g].ZC())?this.Ig[g].setValue(0):this.Ig[g].setValue(k);if(this.bH){h=this.Cy?this.Cy.length:0;e=this.Ig.length;this.Cy=this.Cy||[];this.rT=this.rT||[];for(g=0;g<e;++g)this.Cy[g]=this.Ig[g].getValue(),
this.rT[g]=this.Ig[g].ec();h>e&&(this.Cy.splice(e,h-e),this.rT.splice(e,h-e))}else if(h=this.Cy?this.Cy.length:0,e=this.Ig.length,h<e)for(this.Cy=this.Cy||[],this.rT=this.rT||[],g=h;g<e;++g)this.Cy[g]=this.Ig[g].getValue(),this.rT[g]=this.Ig[g].ec();this.timeStamp=c.hf();this.bH=!1}}};d.prototype.KL=function(){return this.Cy};d.prototype.qR=function(){return this.rT};d.prototype.Fx=function(c,e){if(null==this.Ig&&(this.UN(),null==this.Ig))throw Error("scaled is empty");return this.o7b(this.Ig,c,e)};
d.prototype.o7b=function(c,e,f){if(null==c)throw Error("samples is empty");var g=0<c.length&&c[c.length-1].ec()<c[0].ec();g&&c.reverse();e=d.findIndex(c,e,c.length);0>e&&(e=~e);0<e&&e--;f=d.findIndex(c,f,c.length);0>f&&(f=~f,f>=c.length&&(f=c.length-1));f<c.length&&f++;g&&c.reverse();return new Kd(e,f)};d.findIndex=function(c,e,f){return k0.findIndex(c,e,f)};d.prototype.Iz=function(){return this.XY};d.prototype.R2=function(c){this.XY=c;return this};d.prototype.NB=function(){return this.SY};d.prototype.O2=
function(c){this.SY=c;return this};d.prototype.getValue=function(c){this.UN();var e=this.ih();return this.Zfb(c,e)};d.prototype.Zfb=function(c,e){this.UN();if(null==e||0===e.length||e[0].ec()>c||e[e.length-1].ec()<c||c<this.uU()||c>this.oU())return Number.NaN;if(e[0].ec()===c)return e[0].getValue();if(e[e.length-1].ec()===c)return e[e.length-1].getValue();for(var f=1;f<e.length;++f)if(!(e[f].ec()<c))return e[f].ec()===c?e[f].getValue():this.oKa(e,c,f-1,f);return Number.NaN};d.prototype.oKa=function(c,
e,f,g){if(e<c[f].ec()||e>c[g].ec())return Number.NaN;var h=c[g].getValue()-c[f].getValue();0===h?c=c[g].getValue():(g=c[g].ec()-c[f].ec(),c=c[f].getValue()+(e-c[f].ec())*h/g);return c};d.prototype.ia=function(){var c=zH.prototype.ia.call(this);c.data=this.data;c.scaledsamples=this.ih();c.minwraplevel=this.Iz();c.maxwraplevel=this.NB();c.conversion=this.ir;c.interpolation=this.BY;return c};d.prototype.fa=function(c){c=jc(c);if(null==c)return this;void 0!==c.data&&(this.data=c.data);void 0!==c.scaledsamples&&
(this.Ig=c.scaledsamples);void 0!==c.minwraplevel&&this.R2(c.minwraplevel);void 0!==c.maxwraplevel&&this.O2(c.maxwraplevel);void 0!==c.conversion&&this.pV(c.conversion);void 0!==c.interpolation&&(this.BY=c.interpolation);return this};d.prototype.Kia=function(){return this.hf()!==this.u6b()};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRDb252ZXJzaW9uIjoicFYiLCJnZXRTb3VyY2UiOiJocyIsImdldE1pblBvc2l0aW9uIjoidVUiLCJnZXRNYXhQb3NpdGlvbiI6Im9VIiwiZ2V0TWluVmFsdWUiOiJ3YyIsImdldE1heFZhbHVlIjoiSGMiLCJnZXRTYW1wbGVzIjoiaWgiLCJnZXRTYW1wbGUiOiJlayIsImlzRm9yd2FyZE9ubHkiOiJMayIsImdldERhdGFPcmRlciI6IldoIiwiY29udmVydFZhbHVlRnJvbVNvdXJjZSI6IkphYSIsImNvbnZlcnRWYWx1ZVRvU291cmNlIjoiZzEiLCJnZXREYXRhVGltZVN0YW1wIjoidTZiIiwiZ2V0VmFsdWVBcnJheSI6IktMIiwiZ2V0UG9zaXRpb25BcnJheSI6InFSIiwiZ2V0SW5kZXhSYW5nZSI6IkZ4IiwiZ2V0TWluV3JhcExldmVsIjoiSXoiLCJzZXRNaW5XcmFwTGV2ZWwiOiJSMiIsImdldE1heFdyYXBMZXZlbCI6Ik5CIiwic2V0TWF4V3JhcExldmVsIjoiTzIiLCJnZXRWYWx1ZUludGVybmFsIjoiWmZiIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiaXNPdXRkYXRlZCI6IktpYSJ9fX0g");var p0=/*#__PURE__*/ta(/*#__PURE__*/{Td:"updated",VOa:"limitschanged"},2,"eyJVcGRhdGVkIjoiVGQiLCJMaW1pdHNDaGFuZ2VkIjoiVk9hIn0g"),q0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f){f=G(f,{data:null!=f.data?f.data:null,linestyle:null!=f.linestyle?f.linestyle:{},markervisible:null!=f.markervisible?f.markervisible:!1,curvevisible:null!=f.curvevisible?f.curvevisible:!0,marker:null!=f.marker?f.marker:null,decimationSpacing:"number"===typeof f.decimationSpacing?f.decimationSpacing:1,spline:null!=f.spline?f.spline:!1,values:null!=f.values?f.values:null});j0.call(this,f);this.fGa=this.Utb=this.ot=this.Eu=this.Pi=
this.$i=this.ja=this.Va=null;this.Cw=AI.oP;this.mv=!0;this.FJ=oI.Kh;this.lD=this.Hf=null;this.gLa=this.JEb=!1;this.setData(f.data);this.R7a=f.markervisible;this.kRb=f.curvevisible;this.j3b(f.marker);this.Hld=1<=f.decimationSpacing?f.decimationSpacing:1;this.UAc=f.spline;this.Cb=f.values.visible;this.kla=f.values.anchor||O.hg;this.urd=(new ek({textstyle:f.values.textstyle||{color:f.values.color,font:f.values.font},padding:f.values.padding||2,alignment:this.kla})).nu(!0).ra(f.values.fillstyle).qa(f.values.linestyle);
this.CFa=f.values.offset;this.Twc=f.values.offsetx;this.Uwc=f.values.offsety;this.Jod=f.values.format}function a(f,g,h){return null==g?f.xd(h):"string"===typeof g?f.EA(g):"number"===typeof g?f.xd(g):oc(g,CH)?g:null}var b=k0.S2a,c=k0.V3a,e=1E-5;D(d,j0);L(d,"geotoolkit.widgets.timeseries.TimeSeriesLine");d.Ka=p0;d.prototype.F1a=function(f,g){f||(f=this.ga());void 0===g&&(g=!0);this.iI(f,g);this.Wy();this.wj();return this};d.prototype.qf=function(){return this.$i};d.prototype.P2=function(f){this.$i!==
f&&(this.$i=f,this.F1a());return this};d.prototype.Rf=function(){return this.Pi};d.prototype.N2=function(f){this.Pi!==f&&(this.Pi=f,this.F1a());return this};d.prototype.gS=function(f){this.Cw=f;return this};d.prototype.YJ=function(f){this.mv=f;return this};d.prototype.ih=function(){var f=this.aYa();return f?f.ih():[]};d.prototype.$Xa=function(){var f=this.aYa(),g=f.ih();return{values:f.KL(),indices:f.qR(),samples:g}};d.prototype.getData=function(){return this.ja};d.prototype.setData=function(f){null!=
this.ja&&(this.ot&&(this.ot.za(sH.Qj,this.CKa()),this.ot=null),this.Eu&&(this.Eu.za(sH.Qj,this.m7b()),this.Eu=null));var g=b,h=c;this.ja=null;f instanceof LH||f instanceof TH?this.ja=f:null!=f&&(f=G(f,{depths:null,values:null,datatable:null,name:null},!0),this.ja=f.datatable,g=f.indices,h=f.values);if(null!=this.ja){this.Eu=a(this.ja,g,0);this.ot=a(this.ja,h,1);if(null==this.Eu||null==this.ot)throw Error("Wrong input parameters. indices or values are not specified.");if(this.ot)this.ot.on(sH.Qj,this.CKa());
if(this.Eu)this.Eu.on(sH.Qj,this.m7b())}this.Wy();this.F1a();return this};d.prototype.bY=function(){return this.FJ};d.prototype.tZ=function(f){if(f){var g=f.toLowerCase();if("linear"===g)f=oI.Kh;else if("middlestep"===g)f=oI.J8;else if("endstep"===g)f=oI.MV;else if("startstep"===g)f=oI.xM;else throw Error("Interpolation type "+f+" is not defined!");f!==this.FJ&&(this.FJ=f,this.bn=!0,this.ha())}return this};d.prototype.iI=function(f,g){var h=this.ga();if(!h)return this;null!==this.ja&&(this.bn|=!f||
g,this.ha(f));return this};d.prototype.GHb=function(f){this.gLa!==f&&(this.gLa=f,this.bn=!0,this.ha());return this};d.prototype.yJa=function(){return this.gLa};d.prototype.gZa=function(){return this.JEb};d.prototype.o0a=function(f){this.JEb!==f&&(this.JEb=f,this.bn=!0,this.ha());return this};d.prototype.Shc=function(f){this.Hf=f;this.lD=new BI(this.Hf);this.lD.YJ(this.mv);this.lD.gS(this.Cw);return this};d.prototype.aYa=function(f){"undefined"===typeof f&&(f=this.mv);return!0===f?this.lD:this.Hf};
d.prototype.iKb=function(f){f=f.Ea();var g=this.mv;this.lD.rIb(f);this.lD.YJ(g);this.lD.gS(this.Cw);this.lD.ih()};d.prototype.Wy=function(){if(null!=this.ja&&(null==this.Hf||this.Hf.hs()!==this.ja||this.bn)){var f=this.$i;var g=this.Pi,h=this.Keb(),k=h.bottom;h=h.top;f=this.JEb?f>=e?new yI(1,10,f,g,k,h,e,new zI(f,g)):g>=e?new yI(1,10,e,g,k,h,e,new zI(e,g)):new yI(1,10,Number.NaN,Number.NaN,k,h,e,new zI(Number.NaN,Number.NaN)):new zI(f,g);g=new IH;this.FJ===oI.J8?g.m6(new pI(oI.J8)):this.FJ===oI.MV?
g.m6(new pI(oI.MV)):this.FJ===oI.xM&&g.m6(new pI(oI.xM));k=this.ja;0===g.LU.length&&(g=null);null!=this.Hf&&this.Hf.hs()===k?this.Hf.pV(f).setInterpolation(g):(f=new o0(k,f,g,this.gZa()&&this.yJa()),this.Shc(f));this.lD.O7();this.bn=!1}};d.prototype.rFb=function(){this.F1a()};d.prototype.m7b=function(){null==this.Utb&&(this.Utb=function(f,g,h){f=null!=h?h.name:null;"unit"===f&&this.rFb()}.bind(this));return this.Utb};d.prototype.CKa=function(){null==this.fGa&&(this.fGa=function(f,g,h){f=null!=h?h.name:
null;"unit"===f&&this.rFb()}.bind(this));return this.fGa};d.prototype.wj=function(){this.Va=null;if(null!=this.ja&&!1!==this.Ia()){var f=(this.Hf.wc()-this.$i)/(this.Pi-this.$i),g=(this.Hf.Hc()-this.$i)/(this.Pi-this.$i);this.Va=new U(this.Hf.uU(),f,this.Hf.oU(),g);j0.prototype.wj.call(this)}};d.prototype.ga=function(){return null!=this.Va?this.Va.lock():null};d.prototype.pf=function(f){if(!this.Ia())return!1;var g=this.ga();if(!g)return!0;var h=g.ca(),k=g.da();if(k<=Number.MIN_VALUE&&h<=Number.MIN_VALUE)return!1;
if(k>Number.MIN_VALUE&&h>Number.MIN_VALUE)return Ag.j2(g,this.ob(),f.eg());(h=this.ob())&&(g=h.Ua(g));var l=f.eg();f=Math.max(l.ka(),g.ka());h=Math.min(l.na(),g.na());k=Math.max(l.la(),g.la());g=Math.min(l.ma(),g.ma());return!(h<f||g<k)};d.prototype.n2c=function(f){this.kRb=f;return this};d.prototype.yDd=function(){return this.kRb};d.prototype.render=function(f){j0.prototype.render.call(this,f);if(!(!1===this.Ia()||null==this.Fa()||null==this.ja||0>=this.ja.Fh())){f=null!=this.Sa()?f.bc(this.Sa()):
f;var g=this.Fa();f.qa(g);var h=f.mg(),k=f.Ea(),l=f.pLa(g);h=U.g7(h,l,l);var m=k.wd(h);this.Wy();this.iKb(f);var n=this.aYa();k=n.KL();h=n.qR();l=n.ih();if(null!=k&&null!=h&&null!=l){var p=-1,q=-1,r;n=n.Fx(m.ka(),m.na());m=n.Ta();n=n.Ya();if(this.kRb){for(r=m;r<n;r++)isNaN(k[r])&&-1===p||(-1===p&&(p=r),isNaN(k[r])&&(this.UAc?(p=new io(h.slice(p,q+1),k.slice(p,q+1)),p.qa(g),p.render(f)):f.Um(h,k,p,q),p=q+1),q=r);-1!==p&&-1!==q&&p!==q&&(this.UAc?(r=Array.prototype.slice.call(h,p,q+1),q=Array.prototype.slice.call(k,
p,q+1),p=new io(r,q),p.qa(g),p.render(f)):f.Um(h,k,p,q))}if(!1!==(this.R7a||this.Cb)&&(g=this.kla,q=this.Twc,p=this.Uwc,null==this.Twc&&null==this.Uwc&&null!=this.CFa&&(r=Number(this.CFa),p=q=0,ok.zv(g)?q=r:ok.cw(g)&&(q=-r),ok.NA(g)?p=r:ok.cD(g)&&(p=-r)),q=Math.sign(q)*Hd.sb(q,0,f.Ea()),p=Math.sign(p)*Hd.sb(0,p,f.Ea()),this.getParent()&&this.getParent().getParent()&&this.getParent().getParent().Xo()&&(p*=-1,ok.NA(g)?g=ok.zv(g)?O.hg:ok.cw(g)?O.Ah:O.Se:ok.cD(g)&&(g=ok.zv(g)?O.Id:ok.cw(g)?O.Nf:O.ee)),
this.R7a||this.Cb))for(r=m;r<n;r++)0===r%this.Hld&&(this.R7a&&this.wVb.Jb(h[r],k[r]).render(f),this.Cb&&(m=l[r].Ehb,this.urd.Jb(h[r]+q,k[r]+p).yc(g).Eb(this.Jod.format(m)).render(f)))}}};d.prototype.j3b=function(f){f=G(f,{alignment:O.Oa,width:7,height:7,sizeIsInDeviceSpace:!0,painter:an,linestyle:new Y({color:"black"}),fillstyle:new rf({color:"black"})});this.KIe={width:f.width,height:f.height};this.wVb=new Km(f);return this};d.prototype.yHd=function(){return{visible:this.R7a,shape:this.wVb}};d.prototype.P2d=
function(f){f.hasOwnProperty("visible")&&(this.R7a=f.visible);f.hasOwnProperty("marker")&&(f.marker instanceof Km?this.wVb=f.marker:this.j3b(f.marker));this.ha();return this};d.prototype.Oya=function(){return this.Eu};d.prototype.vYa=function(){return this.ot};d.prototype.dispose=function(){this.te()||(null!=this.ja&&(this.ot&&(this.ot.za(sH.Qj,this.CKa()),this.ot=null),this.Eu&&(this.Eu.za(sH.Qj,this.m7b()),this.Eu=null)),j0.prototype.dispose.call(this))};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVTYW1wbGVzIjoiRjFhIiwiZ2V0TWluIjoicWYiLCJzZXRNaW4iOiJQMiIsImdldE1heCI6IlJmIiwic2V0TWF4IjoiTjIiLCJzZXRPcHRpbWl6YXRpb25UeXBlIjoiZ1MiLCJzZXRPcHRpbWl6YXRpb24iOiJZSiIsImdldFNhbXBsZXMiOiJpaCIsImdldFNhbXBsZXNFeHQiOiIkWGEiLCJnZXRJbnRlcnBvbGF0aW9uVHlwZSI6ImJZIiwic2V0SW50ZXJwb2xhdGlvblR5cGUiOiJ0WiIsInVwZGF0ZUZyb21EYXRhIjoiaUkiLCJzZXREcmF3T3V0T2ZSYW5nZVZhbHVlcyI6IkdIYiIsImdldERyYXdPdXRPZlJhbmdlVmFsdWVzIjoieUphIiwiaXNMb2dhcml0aG1pY1NjYWxlIjoiZ1phIiwic2V0TG9nYXJpdGhtaWNTY2FsZSI6Im8wYSIsInVwZGF0ZVNjYWxlZERhdGEiOiJXeSIsInVwZGF0ZUJvdW5kcyI6IndqIiwiZ2V0Qm91bmRzIjoiZ2EiLCJjaGVja0NvbGxpc2lvbiI6InBmIiwic2V0Q3VydmVWaXNpYmxlIjoibjJjIiwiZ2V0Q3VydmVWaXNpYmxlIjoieURkIiwiY3JlYXRlTWFya2VyIjoiajNiIn19fSAg");var r0=/*#__PURE__*/ta(/*#__PURE__*/{hx:"change"},2,"eyJDaGFuZ2UiOiJoeCJ9"),s0=/*#__PURE__*/function(){function d(a){te.call(this);this.ja=null;this.setData(a)}D(d,te);L(d,"geotoolkit.widgets.timeseries.TimeSeriesTooltipObject");d.Ka=r0;d.prototype.setData=function(a){null==a&&(a={});this.ja=G(a,{id:a.id,color:a.color,name:a.name,indextext:a.indextext,valuetext:a.valuetext,unittext:a.unittext});this.notify(d.Ka.hx,this,null);return this};d.prototype.getData=function(){return this.ja};return d}();var t0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b,c){null!=c&&(hb("second argument in geotoolkit.widgets.timeseries.TimeSeriesTooltipLegendItem() is deprecated since 2021.1 (3.3), use first argument instead"),b=c);null==b&&(b={});b=G(b,{visual:b instanceof s0?b:null,formatter:null,margintext:2,font:"12px Arial",textcolor:"black",symbolsize:0,height:20,internalpadding:4,externalpadding:4,valuevisible:!0,linestyle:new Y({color:"rgba(0, 0, 0, 0)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf({color:"rgba(0, 0, 0, 0)"}),
fixedwidth:0,nanvisibility:!0,formatdatahandler:null,singlerow:!1},!0);gR.call(this,b.visual);this.od=null;this.Or=b.formatter;this.Ffa=b.margintext;this.QM=b.font;this.ic="";this.c_b=b.textcolor;this.fE=b.symbolsize;this.CEa=b.externalpadding;this.td=b.height;this.Ri=0;this.Rwb=b.valuevisible;this.dma=b.fixedwidth;this.bFa=b.internalpadding;this.FWb=b.nanvisibility;this.WSb=this.zKc.bind(this);this.cUa=b.singlerow;this.je();a.call(this,b)}function a(b){b=jc(b);if(null==b)return this;void 0!==b.visual&&
this.Uz(b.visual);void 0!==b.height&&(this.td=b.height);b.formatter&&(this.Or=b.formatter);null!=b.margintext&&(this.Ffa=b.margintext);null!=b.font&&(this.QM=b.font);null!=b.textcolor&&(this.c_b=b.textcolor);null!=b.symbolsize&&(this.fE=b.symbolsize);null!=b.externalpadding&&(this.CEa=b.externalpadding);null!=b.internalpadding&&(this.bFa=b.internalpadding);void 0!==b.fixedwidth&&(this.dma=b.fixedwidth);void 0!==b.valuevisible&&(this.Rwb=b.valuevisible);void 0!==b.nanvisibility&&(this.FWb=b.nanvisibility);
b.formatdatahandler&&(this.WSb=b.formatdatahandler);void 0!==b.singlerow&&(this.cUa=b.singlerow);this.lh();return this}D(d,gR);L(d,"geotoolkit.widgets.timeseries.TimeSeriesTooltipLegendItem");d.prototype.je=function(){this.hd(!0);this.bf(!1);this.MKa();this.lh()};d.prototype.ia=function(){var b=gR.prototype.ia.call(this);b.visual=this.Kd();b.height=this.td;b.formatter=this.Or;b.margintext=this.Ffa;b.font=this.QM;b.textcolor=this.c_b;b.symbolsize=this.fE;b.externalpadding=this.CEa;b.internalpadding=
this.bFa;b.fixedwidth=this.dma;b.valuevisible=this.Rwb;b.nanvisibility=this.FWb;b.formatdatahandler=this.WSb;b.singlerow=this.cUa;return b};d.prototype.fa=function(b){gR.prototype.fa.call(this,b);a.call(this,b);return this};d.prototype.setOptions=function(b){return this.fa(b)};d.prototype.MKa=function(){this.Wf=10;var b=[];this.rh();b.push(this.od=new Km({alignment:O.Oa,width:this.fE,height:this.fE,sizeIsInDeviceSpace:!0}));b.push(this.ic=new ek);b.push(this.Ri=new ek);this.pa(b)};d.prototype.V4b=
function(b){return null!=this.Or?this.Or.format(b):b};d.prototype.zKc=function(b){return{id:b.id,name:b.name,symbol:b.symbol,valuetext:this.V4b(b.valuetext),additionaltext:b.additionaltext||"",unittext:b.unittext}};d.prototype.lh=function(){var b=0,c=0,e=this.WSb(this.Kd().getData()),f=null!=this.od&&null!=e.symbol?this.fE:0,g=new Fi({color:this.c_b,font:this.QM}),h=this.CEa+this.bFa,k=null!=e.additionaltext&&""!==e.additionaltext,l=null!=e.unittext&&""!==e.unittext;if(null!=this.ic){var m=e.name;
this.cUa&&(m+=" - "+e.valuetext+e.additionaltext,m+=l?k?" ":" (":"",m+=e.unittext,m+=l?")":"");var n=sg.measureText(m,g);var p=f>n.da()?f:n.da();c+=p;b=n.ca();this.ic.fa({text:m,ax:h+f+(0!==f?this.Ffa:0),ay:h+p/2,textstyle:g});this.ic.yc(O.Bd)}null!=this.od&&null!=e.symbol&&(this.od.fa({ax:h+f/2,ay:h+c/2,alignment:O.Oa,width:f,height:f,sizeIsInDeviceSpace:!0,painter:e.symbol.wba().Pa(),linestyle:e.symbol.Fa(),fillstyle:e.symbol.eb()}),b+=this.Ffa+f);c+=this.Ffa;this.Ri.va(this.cUa?!1:this.Rwb);null==
this.Ri||!0!==this.Rwb||this.cUa||(m="",e.valuetext&&(m+=e.valuetext+e.additionaltext),m+=l?k?" ":" (":"",m+=e.unittext,m+=l?")":"",n=sg.measureText(m,g),p=n.da(),b=n.ca()>b?n.ca():b,this.Ri.fa({text:m,ax:h,ay:h+c+p/2,textstyle:g}),c+=n.da(),this.Ri.yc(O.Bd));!1===this.FWb&&isNaN(e.valuetext)?this.va(!1):this.va(!0);b=null!=this.dma?this.dma-2*(this.CEa+this.bFa):b;b+=2*(this.CEa+this.bFa);c=this.cUa?c+(this.CEa+this.bFa):c+2*(this.CEa+this.bFa);this.Em(b).dm(c).bf(!0);this.notify(fR.hx,this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJmb3JtYXREYXRhIjoiektjIiwidXBkYXRlR2VvbWV0cnkiOiJsaCJ9fX0g");var u0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b,c){null!=c&&(hb("second argument in geotoolkit.widgets.timeseries.TimeSeriesLineLegendItem() is deprecated since 2021.1 (3.3), use first argument instead"),b=c);null==b&&(b={});b=G(b,{visual:b instanceof n0?b:null,formatter:null,margintext:2,font:"9px Arial",height:20,internalpadding:4,linestyle:new Y({color:"rgba(128, 128, 128, 0.5)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf({color:"rgba(250, 250, 250, 0.95)"}),fixedwidth:null,labelcolor:null},!0);gR.call(this,
b.visual);this.Ue=this.od=this.Tj=this.nla=null;this.M4=[];this.oH=null;this.td=b.height;this.Ffa=b.margintext;this.QM=b.font;this.Wf=b.internalpadding;this.ci=b.linestyle;this.dma=b.fixedwidth;this.nsb=b.labelcolor;this.Or=b.formatter;this.je();a.call(this,b)}function a(b){b=jc(b);if(null==b)return this;void 0!==b.visual&&this.Uz(b.visual);null!=b.height&&(this.td=b.height);void 0!==b.formatter&&(this.Or=b.formatter);null!=b.margintext&&(this.Ffa=b.margintext);null!=b.font&&(this.QM=b.font);null!=
b.internalpadding&&(this.Wf=b.internalpadding);void 0!==b.linestyle&&(this.ci=Y.Ra(b.linestyle));void 0!==b.fillstyle&&this.ra(b.fillstyle);void 0!==b.fixedwidth&&(this.dma=b.fixedwidth);void 0!==b.labelcolor&&(this.nsb=b.labelcolor);this.lh();return this}D(d,gR);L(d,"geotoolkit.widgets.timeseries.TimeSeriesLineLegendItem");d.prototype.je=function(){this.hd(!0);this.bf(!0);this.MKa();this.lh();this.Kd().on(e0.wNb,this.Ke())};d.prototype.ia=function(){var b=gR.prototype.ia.call(this);b.visual=this.Kd();
b.formatter=this.Or;b.margintext=this.Ffa;b.font=this.QM;b.height=this.td;b.internalpadding=this.Wf;b.fixedwidth=this.dma;b.labelcolor=this.nsb;return b};d.prototype.fa=function(b){var c=G(b,{});c.linestyle=null;c.fillstyle=null;gR.prototype.fa.call(this,c);a.call(this,b);return this};d.prototype.setOptions=function(b){return this.fa(b)};d.prototype.MKa=function(){var b=[];this.rh();this.nla=new ho;b.push(this.nla);this.Tj=new Bk;b.push(this.Tj);this.od=(new Km).va(!1);b.push(this.od);b.push(this.Ue=
new ek);this.pa(b)};d.prototype.V4b=function(b){return null!=this.Or?this.Or.format(b):b};d.prototype.lh=function(){var b=this.td,c=b,e=this.Wf,f=e/2,g=2*e,h=this.Kd(),k=h.jh(),l=this.Kd().Yl().unit instanceof Wd?this.Kd().Yl().unit.cd():this.Kd().Yl().unit,m=k.name,n=null==this.Kd().Yl()||null==this.Kd().Yl().unit?"":l,p=null==k.curve?null:h.dHd();l=null==k.curve?null:k.curve.yHd();var q=null==k.curve?null:k.curve.Fa().mb();null==k.curve||k.curve.Fa().clone();var r=k.BA;k=new Fi({color:"black",font:this.QM});
p=this.V4b(p);var t=null!=n&&""!==n,u=null!=h.q5b()&&""!==h.q5b();m+=null==p?"":" "+p+(u||!t?"":" (")+h.q5b();m+=u?" ":"";m+=null==n?"":n;m+=t?")":"";h=null!=this.dma?this.dma:sg.measureText(m,k).ca()+c+g+2*this.Ffa;this.Em(h).dm(b).bf(!0);this.nla.cb(new U(f,f,h-f,b-f)).qa(this.ci).ra(this.eb());var w=1;this.M4.forEach(function(y){w=this.dl(y);this.removeChild(y)}.bind(this));this.M4=[];null!=r&&(f=(b-g+1)/2,h=null,n=0,h=null==r.top?null:r.top.fillstyle,h=(new ho({left:e,top:e+f*n,width:c-g,height:f})).qa(null).ra(h),
this.Xf(w,h),this.M4.push(h),n=1,h=null==r.bottom?null:r.bottom.fillstyle,g=(new ho({left:e,top:e+f*n,width:c-g,height:f})).qa(null).ra(h),this.Xf(w,g),this.M4.push(g));null!=this.Tj&&this.Tj.Cr({from:new N(e,b/2),to:new N(c-e,b/2)}).qa(new Y({color:q}));null!=this.od&&(null==l||!0!==l.visible?this.od.va(!1):this.od.fa(l.shape.ia()).yc(O.Oa).Jb(c/2,b/2).va(!0));null!=this.Ue&&(this.Ue.fa({text:m,ax:c+this.Ffa,ay:b/2,textstyle:k}),this.Ue.yc(O.Bd));null==this.nsb?this.Ue.jb().setColor(q):this.Ue.jb().setColor(this.nsb)};
d.prototype.Ke=function(){null==this.oH&&(this.oH=function(b,c,e){this.lh()}.bind(this));return this.oH};d.prototype.dispose=function(){null!=this.Kd()&&this.Kd().za(e0.wNb,this.Ke());gR.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJ1cGRhdGVHZW9tZXRyeSI6ImxoIiwiZ2V0VXBkYXRlTWV0aG9kIjoiS2UifX19");var v0=/*#__PURE__*/ta(/*#__PURE__*/{qb:"top",uw:"value",Ed:"bottom"},2,"eyJUb3AiOiJxYiIsIlZhbHVlIjoidXciLCJCb3R0b20iOiJFZCJ9"),w0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){te.call(this);a=G({},{value:null!=a?a:Number.MIN_VALUE,originalCurve:null!=b?b:null,type:null!=c?c:d.wPa.uw});this.Hod=this.qB=null;this.Ri=a.value;this.Kj=a.type;this.t5=a.originalCurve;this.twc=this.km=this.mtc=this.ja=null;if(null!=this.t5)this.t5.on(p0.VOa,this.tb());this.pM()}D(d,te);L(d,"geotoolkit.widgets.timeseries.ReferenceLine");d.wPa=v0;d.prototype.pM=function(){var a=this.t5.qf(),b=this.t5.Rf(),c=this.oa();this.twc=
c.clone();c=new U(c.ka(),a,c.na(),b);c=U.g7(c,2,2);a=(b=b<=a)?c.ma():c.la();b=b?c.la():c.ma();switch(this.Kj){case d.wPa.qb:this.Ri=b;break;case d.wPa.Ed:this.Ri=a}a=c.ka();c=c.na();null==this.ja?(this.ja=new LH({cols:[{type:"number",data:[a,c]},{type:"number",data:[this.Ri,this.Ri]}]}),this.mtc=new TH(this.ja)):(this.ja.qib(0,2),this.ja.Y0b([[a,this.Ri],[c,this.Ri]]));this.qB=this.Va=null};d.prototype.ih=function(){var a=this.oa();null!=a&&a.Gi(this.twc)||this.pM();null==this.qB&&null!=this.ja&&
(a=k0.ih(this.ja,this.t5.qf(),this.t5.Rf()),this.qB=a.samples,this.Hod=a.PSd);return this.qB};d.prototype.wj=function(){this.Va=null;if(null!=this.ja&&null!=this.t5){var a=this.ja.xd(k0.S2a),b=this.ja.xd(k0.V3a),c=this.t5.qf(),e=this.t5.Rf(),f=(b.qf()-c)/(e-c);b=(b.Rf()-c)/(e-c);this.Va=new U(a.qf(),f,a.Rf(),b)}};d.prototype.ga=function(){null==this.Va&&this.wj();return null!=this.Va?this.Va.lock():null};d.prototype.getData=function(){return this.mtc};d.prototype.oa=function(){return this.t5.getParent().oa()};
d.prototype.tb=function(){null==this.km&&(this.km=function(a,b,c){this.qB=null;this.pM()}.bind(this));return this.km};d.prototype.dispose=function(){null!=this.t5&&this.t5.za(p0.VOa,this.tb());te.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTYW1wbGVzIjoiaWgiLCJ1cGRhdGVCb3VuZHMiOiJ3aiIsImdldEJvdW5kcyI6ImdhIiwiZ2V0TW9kZWxMaW1pdHMiOiJvYSIsImdldEludmFsaWRhdGVNZXRob2QiOiJ0YiJ9fX0g");var x0=/*#__PURE__*/ta(/*#__PURE__*/{IS:"single",K3:"dual",Mv:"positive",cv:"negative",w3a:"positiveandnegative"},2,"eyJTaW5nbGUiOiJJUyIsIkR1YWwiOiJLMyIsIlBvc2l0aXZlIjoiTXYiLCJOZWdhdGl2ZSI6ImN2IiwiUG9zaXRpdmVBbmROZWdhdGl2ZSI6InczYSJ9"),y0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f,g,h){this.dXd=f;this.samples=new e(f);this.Gs=-1;this.hcb=h;this.fca=g;this.ae=!0;this.minValue=0;this.maxValue=1;this.$Vc=-1E-10;this.NVc=1+1E-10}function a(f,g,h,k){this.wi=new b(f,g);this.fk=new b(h,k);this.empty=!1}function b(f,g){this.nq=f;this.RC=this.Jt=g;this.Yp=null}function c(f,g,h,k,l){f=G(f,{curve1:f instanceof q0?f:null,curve2:g instanceof q0||g instanceof w0?g:null,fillstyle:h instanceof
rf?h:null,positivefillstyle:k instanceof rf?k:null,negativefillstyle:l instanceof rf?l:null,filltype:null});j0.call(this,f);null==f.filltype&&(f.filltype=null!=f.negativefillstyle?null!=f.positivefillstyle?c.ij.K3:c.ij.cv:null!=f.positivefillstyle?c.ij.Mv:c.ij.IS);switch(f.filltype){case c.ij.IS:null==f.fillstyle&&(f.fillstyle=null);null==f.negativefillstyle&&(f.negativefillstyle=f.fillstyle);null==f.positivefillstyle&&(f.positivefillstyle=f.fillstyle);break;case c.ij.K3:null==f.fillstyle&&(f.fillstyle=
null);null==f.negativefillstyle&&(f.negativefillstyle=null);null==f.positivefillstyle&&(f.positivefillstyle=null);break;case c.ij.cv:null==f.negativefillstyle&&(f.negativefillstyle=null!=f.fillstyle?f.fillstyle:null);null==f.positivefillstyle&&(f.positivefillstyle=f.negativefillstyle);null==f.fillstyle&&(f.fillstyle=f.negativefillstyle);break;case c.ij.Mv:null==f.positivefillstyle&&(f.positivefillstyle=null!=f.fillstyle?f.fillstyle:null),null==f.negativefillstyle&&(f.negativefillstyle=f.positivefillstyle),
null==f.fillstyle&&(f.fillstyle=f.positivefillstyle)}this.aE=f.positivefillstyle;this.cH=f.negativefillstyle;this.fA=null==f.filltype?null:f.filltype;this.ra(null!=f.fillstyle?f.fillstyle:null);this.IP=f.curve1;this.Gla=f.curve2;this.cg(this.cH,ze.ib,this.tb());this.cg(this.aE,ze.ib,this.tb());this.aXc=function(m,n,p){null!==this.IP&&n===this.IP&&(m=this.IP.Keb(),this.uV(m.top,m.bottom))}.bind(this);this.IP.on(i0.VEb,this.aXc);f=this.IP.Keb();this.uV(f.top,f.bottom)}D(c,j0);L(c,"geotoolkit.widgets.timeseries.TimeSeriesFill");
c.ij=x0;b.prototype={reset:function(){this.nq=null;this.RC=this.Jt=-1;this.Yp=null}};a.prototype={je:function(f,g,h,k){this.wi.nq=f;this.wi.Jt=g;this.wi.RC=g;this.fk.nq=h;this.fk.Jt=k;this.fk.RC=k;this.empty=!1},NA:function(f,g){f=-1===this.wi.Jt?this.wi.nq.y:f[this.wi.Jt];g=-1===this.fk.Jt?this.fk.nq.y:g[this.fk.Jt];return f<=g},zv:function(f,g){f=-1===this.wi.Jt?this.wi.nq.x:f[this.wi.Jt];g=-1===this.fk.Jt?this.fk.nq.x:g[this.fk.Jt];return f<=g},reset:function(){this.empty=!0;this.wi.reset();this.fk.reset()}};
var e=function(){function f(g){this.qB=g;this.Fi=g.length;this.Mh=1>this.Fi?1:g[g.length-1].ec()<g[0].ec()?-1:1;this.fIe=1>this.Fi?0:g[0].ec();this.bJe=1>this.Fi?0:g[g.length-1].ec()}f.prototype.getLength=function(){return this.Fi};f.prototype.get=function(g){return 1===this.Mh?this.qB[g]:this.qB[this.Fi-1-g]};return f}();d.f8b=function(f,g,h){var k=g.x;g=g.y;var l=h.x,m=h.y;h=m-g;0!==h&&(l-=k,m=g+(f-k)*h/l);return m};d.prototype={kr:function(){return this.Gs},ajb:function(f){this.Gs!==f&&(this.Gs=
f,-1!==this.Gs&&(this.Jv=this.samples.get(this.Gs).ec(),this.vv=this.samples.get(this.Gs+1).ec(),this.Gr=this.getValue(this.Gs),this.SC=this.getValue(this.Gs+1)))},sa:function(f,g){this.minValue=f;this.maxValue=g},getValue:function(f){return isNaN(this.samples.get(f).getValue())?Number.NaN:this.samples.get(f).getValue()},Ea:function(){return this.fca},reset:function(f,g,h){this.hcb=0;this.next(f,g);0<this.Gs&&!isNaN(this.samples.get(this.Gs-1).getValue())&&this.ajb(this.Gs-1)},next:function(f,g){var h=
!0;this.jq=null;if(!this.ae)return h;if(-1===this.Gs){var k=k0.Fx(this.dXd,f,g).Ta();this.Gs=k-1}if(-1<this.Gs&&this.samples.get(this.Gs).ec()>g)return this.ae=!1,h;for(g=this.Gs+1;g<this.samples.Fi-1;g++)if(!(this.samples.get(g+1).ec()<f))if(isNaN(this.samples.get(g).getValue())||isNaN(this.samples.get(g+1).getValue()))h=!1;else return this.ajb(g),h;this.ae=!1;return h},VJa:function(f){var g=this.Jv,h=this.Gr,k=this.vv,l=this.SC;if(f<g||f>k)throw Error("Target depth should be inside Samples range ["+
g+" <= "+f+" => "+k);var m=l-h;0!==m&&(k-=g,l=h+(f-g)*m/k);return new N(f,l)},ujb:function(f){this.jq=this.VJa(f)},mUc:function(f){return!(f.vv<this.Jv||f.Jv>this.vv)},intersect:function(f){var g=null!=this.jq?this.jq.x:this.Jv,h=null!=this.jq?this.jq.y:this.Gr,k=null!=f.jq?f.jq.x:f.Jv,l=null!=f.jq?f.jq.y:f.Gr;g=this.q3b(g,h,this.vv,this.SC,k,l,f.vv,f.SC);return null!=g?(this.jq=g,f.jq=g,!0):!1},q3b:function(f,g,h,k,l,m,n,p){if(f===h&&l===n)return f=Math.min(g,k),g=Math.max(g,k),k=Math.min(m,p),m=
Math.max(m,p),g<=k||m<=f?null:new N(l,(g+k)/2);var q=(p-m)*(h-f)-(n-l)*(k-g);if(0!==q){var r=((h-f)*(g-m)-(k-g)*(f-l))/q;if(r<this.$Vc||r>this.NVc)return null;r=((n-l)*(g-m)-(p-m)*(f-l))/q;return r<this.$Vc||r>this.NVc?null:new N(f+r*(h-f),g+r*(k-g))}return null}};c.prototype.eR=function(){return this.fA};c.prototype.rV=function(f){this.fA=f;this.KJ();return this};c.prototype.zU=function(){return this.aE};c.prototype.xV=function(f,g){if(this.aE===f)return this;this.aE=ug.Su(this,this.aE,f,g,this.tb());
this.xa().ha();return this};c.prototype.xU=function(){return this.cH};c.prototype.vV=function(f,g){if(this.aE===f)return this;this.cH=ug.Su(this,this.cH,f,g,this.tb());this.xa().ha();return this};c.prototype.TAa=function(f,g,h){var k=this.IP.ih(),l=this.Gla.ih(),m=new d(k,this.getParent().ge(),0),n=new d(l,this.getParent().ge(),0);m.reset(g,h,0);n.reset(g,h,0);for(var p=null;m.ae&&n.ae;){for(var q=!0;m.ae&&n.ae&&q;){for(;m.ae&&m.vv<n.Jv;)m.next(g,h);for(q=!1;n.ae&&n.vv<m.Jv;)n.next(g,h),q=!0}if(!m.ae||
!n.ae)break;if(null==p||!0===p.empty)m.Jv!==n.Jv?m.Jv<n.Jv?(m.ujb(n.Jv),null==p?p=new a(m.jq,m.kr(),null,n.kr()):p.je(m.jq,m.kr(),null,n.kr())):(n.ujb(m.Jv),null==p?p=new a(null,m.kr(),n.jq,n.kr()):p.je(null,m.kr(),n.jq,n.kr())):null==p?p=new a(null,m.kr(),null,n.kr()):p.je(null,m.kr(),null,n.kr());else{m.intersect(n)&&(p.wi.Yp=m.jq,p.fk.Yp=n.jq,this.gMa(f,p,k,l),p=new a(m.jq,m.kr()+1,n.jq,n.kr()+1));if(m.vv===n.vv){p.wi.RC=m.kr()+1;p.fk.RC=n.kr()+1;q=m.next(g,h);var r=n.next(g,h);q=!q||!r}else if(m.vv<
n.vv){if(p.wi.RC=m.kr()+1,r=m.vv,(q=!m.next(g,h))||!m.ae)p.fk.Yp=n.VJa(r)}else if(p.fk.RC=n.kr()+1,r=n.vv,(q=!n.next(g,h))||!n.ae)p.wi.Yp=m.VJa(r);q&&(p.empty||this.gMa(f,p,k,l),p.reset())}}null==p||p.empty||this.gMa(f,p,k,l)};c.prototype.gMa=function(f,g,h,k){if(this.Fa()&&this.Fa().hi()){var l=this.Fa(),m=this.eb(),n=this.xU(),p=this.zU();this.Lf=null;this.hMa(f,g,h,k);this.Lf=l;this.w2=this.q2=this.fillStyle=null;this.hMa(f,g,h,k);this.fillStyle=m;this.q2=n;this.w2=p}else this.hMa(f,g,h,k)};c.prototype.hMa=
function(f,g,h,k){var l=new N(0,0),m=new e(h),n=new e(k);k=new N(Number.NaN,Number.POSITIVE_INFINITY);h=new N(Number.NaN,Number.POSITIVE_INFINITY);f.qa(this.Fa());f.beginPath();null!=g.wi.nq?(l.x=g.wi.nq.x,l.y=g.wi.nq.y):(l.x=m.get(g.wi.Jt).ec(),l.y=m.get(g.wi.Jt).getValue(),l.y<k.y&&(k.x=l.x,k.y=l.y));f.moveTo(l.x,l.y);var p;for(p=null!=g.wi.nq?g.wi.Jt:g.wi.Jt+1;p<=g.wi.RC;p++){var q=m.get(p);l.x=q.ec();l.y=q.getValue();null!=g.wi.nq&&g.wi.nq.x>l.x||null!=g.wi.Yp&&g.wi.Yp.x<l.x||(l.y<k.y&&(k.x=l.x,
k.y=l.y),f.lineTo(l.x,l.y))}null!=g.wi.Yp&&(l.x=g.wi.Yp.x,l.y=g.wi.Yp.y,f.lineTo(l.x,l.y));null!=g.fk.Yp&&(l.x=g.fk.Yp.x,l.y=g.fk.Yp.y,f.lineTo(l.x,l.y));for(p=g.fk.RC;p>=g.fk.Jt;p--)m=n.get(p),l.x=m.ec(),l.y=m.getValue(),null!=g.fk.nq&&g.fk.nq.x>l.x||null!=g.fk.Yp&&g.fk.Yp.x<l.x||(l.y<h.y&&(h.x=l.x,h.y=l.y),f.lineTo(l.x,l.y));null!=g.fk.nq&&(l.x=g.fk.nq.x,l.y=g.fk.nq.y,f.lineTo(l.x,l.y));f.closePath();isNaN(k.x)&&isNaN(h.x)?l=this.eb():this.fA===c.ij.IS?l=this.cR(0):(l=void 0,isNaN(k.x)&&(null==
g.wi.nq||null==g.wi.Yp?l=null:(k.x=h.x,k.y=d.f8b(h.x,g.wi.nq,g.wi.Yp))),isNaN(h.x)&&(null==g.fk.nq||null==g.fk.Yp?l=null:(h.x=k.x,h.y=d.f8b(k.x,g.fk.nq,g.fk.Yp))),void 0===l&&(l=k.y<=h.y?this.cR(-1):this.cR(1)));l&&(f.ra(l,this.ga()),f.Si(),f.Gv(null));this.Lf&&f.stroke()};c.prototype.ga=function(){var f=null!=this.IP?this.IP.ga():null,g=null!=this.Gla?this.Gla.ga():null,h=Math.min(null!=f?f.ka():Number.POSITIVE_INFINITY,null!=g?g.ka():Number.POSITIVE_INFINITY);f=Math.max(null!=f?f.na():Number.NEGATIVE_INFINITY,
null!=g?g.na():Number.NEGATIVE_INFINITY);return isFinite(h)&&isFinite(f)?(g=this.Keb(),new U(h,g.bottom,f,g.top)):null};c.prototype.cR=function(f){return 0===f?this.eb():-1===f?this.fA===c.ij.Mv?null:this.cH:this.fA===c.ij.cv?null:this.aE};c.prototype.render=function(f){j0.prototype.render.call(this,f);f=null!=this.Sa()?f.bc(this.Sa()):f;var g=f.mg(),h=f.Ea();0!==h.J6()&&(g=U.g7(g,2,0),g=h.wd(g),this.IP instanceof q0?this.IP.Wy():this.IP.pM(),this.Gla instanceof q0?this.Gla.Wy():this.Gla.pM(),h=g.ka(),
g=g.na(),this.TAa(f,h,g))};c.prototype.dispose=function(){null!=this.IP&&this.IP.za(i0.VEb,this.aXc);j0.prototype.dispose.call(this)};return c}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGaWxsVHlwZSI6ImVSIiwic2V0RmlsbFR5cGUiOiJyViIsImdldFBvc2l0aXZlRmlsbFN0eWxlIjoielUiLCJzZXRQb3NpdGl2ZUZpbGxTdHlsZSI6InhWIiwiZ2V0TmVnYXRpdmVGaWxsU3R5bGUiOiJ4VSIsInNldE5lZ2F0aXZlRmlsbFN0eWxlIjoidlYiLCJnZXRCb3VuZHMiOiJnYSJ9fX0g");var z0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(h){var k=k0.iMd();k=xb(h,k);n0.call(this,k);this.FW=this.Ho=this.V_b=null;this.Rt={top:null,bottom:null};this.M4={top:null,bottom:null};this.qFa=this.od=this.aua=null;this.Yrc="";this.VYb=this.Eu=this.ot=this.J0=this.aVb=this.fGa=this.Utb=this.wy=null;this.Tva={Txb:!0,min:null,max:null,mcb:null,BA:{top:null,bottom:null}};this.je(k);this.Tva.mcb=this.zl(!0)}function a(h,k,l){return null==k?h.xd(l):"string"===typeof k?h.EA(k):"number"===typeof k?h.xd(k):oc(k,CH)?k:null}var b="#6b6b6b",c=new aj({maximumfractiondigits:2}),e=k0.S2a,f=k0.V3a,g=-1;D(d,n0);L(d,"geotoolkit.widgets.timeseries.TimeSeriesObject");d.prototype.je=function(h){if(null==this.Tva)return this;n0.prototype.je.call(this,h);if(null==h||null==h.id)throw Error("TimeSeriesObject requires a unique id for initialization");h=xb(h,{});this.ea=xb(h,this.ea);this.V_b=this.ea.uri;this.updating=0;h={markervisible:this.ea.curve.properties.markervisible,marker:this.ea.curve.properties.marker,decimationSpacing:this.ea.curve.properties.decimationspacing,
spline:this.ea.curve.properties.spline,values:this.ea.curve.properties.values};this.Ho=(new q0(h)).Fd(this.kc()).nb(this.ic);this.FW=(new ni).ql(!0).va(!1);this.od=(new Km).Fg(!1);this.aua=(new l0).dm("100%").pa((new pk).nb("curvelimitsaxis").Fd(this.kc())).nb("curvelimitsgroup");h=new s0({color:null,name:this.ic,indextext:"",valuetext:"",unittext:""});this.BBc=new t0(h);this.qFa=new u0(this);this.setData(this.ea.curve.data);this.W_a(this.ea.curve.properties);this.Tjb(this.ea.curvesymbol);this.U_a(this.ea.curvelimits);
this.qZ(this.ea.curveaxis);this.qjb(this.ea.legenditem);this.XIb(this.ea.tooltipitem);return this};d.prototype.F7c=function(h){this.J0=h;this.LNa();return this};d.prototype.pb=function(){var h=this.ea.curve.properties.neatlimits&&!0!==this.ea.curve.properties.neatlimitscenteredonzero;h&&this.LNa()};d.prototype.mDb=function(){return this.J0};d.prototype.CKa=function(){null==this.fGa&&(this.fGa=function(h,k,l){h=null!=l?l.name:null;"unit"===h&&null!=this.ot&&null!=this.ot.Xa()&&(this.ea.curve.properties.unit=
this.ot.Xa().cd(),this.Skb(),this.LNa(),this.Ho.ha())}.bind(this));return this.fGa};d.prototype.JZc=function(h,k,l){this.Rt[h]=k;this.M4[h]=l;this.Tva.BA[h]=null==k?null:{filldirection:k.filldirection,fillstyle:ug.fd(k.fillstyle),filltype:k.filltype,id1:k.id1,id2:k.id2};this.qFa.lh();return this};d.prototype.getData=function(){return this.ea.curve.data};d.prototype.setData=function(h){if(null==h)return this;var k=this.ea.curve.data;this.ea.curve.data=h;null!=this.wy&&(this.wy.za(KH.nI,this.qm()),
this.wy.za(KH.nC,this.CU()),this.wy.za(KH.vM,this.qm()),this.wy.za(KH.oC,this.DU()),this.wy.za(KH.yk,this.Ke()),this.wy.za(uH.Zs,this.qm()),this.wy.za(SH.lp,this.Ke()),this.ot&&(this.ot.za(sH.Qj,this.CKa()),this.ot=null),this.VYb=null);h=e;var l=f,m=null;if(null!=this.ea.curve.data){var n=this.ea.curve.data;if(n instanceof LH||n instanceof TH)m=n,n={};l=G(n,{indices:h,values:l,datatable:m},!0);m=l.datatable;h=l.indices;l=l.values;if(m){this.Eu=a(m,h,0);this.ot=a(m,l,1);if(null==this.Eu||null==this.ot)throw Error("Wrong input parameters. indices or values are not specified.");
this.Tva.mcb=this.zl(!0);this.wy=new TH(m);this.VYb=a(this.wy,l,1);this.Eu.Im("ms");this.ot.Im(null);this.wy.on(KH.nI,this.qm());this.wy.on(KH.nC,this.CU());this.wy.on(KH.vM,this.qm());this.wy.on(KH.oC,this.DU());this.wy.on(KH.yk,this.Ke());this.wy.on(uH.Zs,this.qm());this.wy.on(SH.lp,this.Ke());this.ot.on(sH.Qj,this.CKa())}}null!=this.Ho&&this.Ho.setData({indices:h,values:l,datatable:this.wy});this.LNa();this.notify(e0.tOa,this,{old:k,"new":m});return this};d.prototype.jh=function(){return G(n0.prototype.jh.call(this),
{curve:this.Ho,Zj:this.od,fWa:this.aua,BA:this.Rt,Dzb:this.M4,gRd:this.qFa,NJb:this.BBc,hAa:this.FW})};d.prototype.W_a=function(h){null==h&&(h={});h!==this.ea.curve.properties&&(h=xb(h,{}),this.ea.curve.properties=xb(h,this.ea.curve.properties),this.ea.curve.properties=xb(this.ea.curve.properties,{barmode:{enabled:!1,fillstyle:this.Ho.Fa().mb(),linestyle:this.Ho.Fa().clone(),barwidth:20,barvalues:{formatter:c,margins:{left:0,top:10},rotationangle:0,textstyle:null}}}));var k=this.ea.curve.properties,
l=this.jh();null!=l&&(l=l.curve,h=Zd.ya().Xa(h.unit),null==h||null==this.ot||null!=this.ot.Xa()&&this.ot.Xa().PA(h)||(this.ot.Im(h),this.VYb.Im(h)),(k.hasOwnProperty("markervisible")||k.hasOwnProperty("marker"))&&l.P2d({visible:k.markervisible,marker:k.marker}),"boolean"===typeof k.visible&&l.va(k.visible),void 0!==k.name&&l.nb(k.name),"boolean"===typeof k.curvevisible&&l.n2c(k.curvevisible),this.LNa(),void 0!==k.linestyle&&(null!=l.Fa()&&l.sk(l.Fa(),ze.ib,this.O7b()),null!=k.linestyle?(h=Y.Ra(k.linestyle),
l.qa(h)):l.qa(null),null!=l.Fa()&&(l.cg(l.Fa(),ze.ib,this.O7b()),this.O7b().call(this))),void 0!==k.microposition&&(h={top:void 0!==k.microposition.top?k.microposition.top:1,bottom:void 0!==k.microposition.bottom?k.microposition.bottom:0},l.uV(h.top,h.bottom),this.aua.uV(1-h.top,1-h.bottom)),void 0!==k.logarithmicscale&&l.o0a(k.logarithmicscale),void 0!==k.interpolationtype&&l.tZ(k.interpolationtype),void 0!==k.borderlinestyle&&l.rD(k.borderlinestyle,!(k.borderlinestyle instanceof Y)),null!=k.autoscale&&
(this.Tva.Txb=k.autoscale),this.Tva.min=k.min,this.Tva.max=k.max,this.Skb());this.Ho.ha();return this};d.prototype.Skb=function(){var h=this.jh();if(null!=this.sJ().labeltext)h=this.sJ().labeltext;else{if(null==h)return this;h=h.curve;if(null==h)return this;h=[h.Ga()];var k=this.ot?this.ot.Xa():null,l=this.ot?this.ot.eTc():null;null!=k&&""!==k.cd()?(h.push(" ("),h.push(k.cd()),h.push(")")):null!=l&&""!==l.cd()&&(h.push(" ("),h.push(l.cd()),h.push(")"));h=h.join("")}null!=h&&(k=this.jh(),null!=k&&
(null!=k.axis&&k.axis.Fr(h),null!=k.Uxb&&k.Uxb.fa({text:h})));return this};d.prototype.zl=function(h){var k=this.Eu,l=this.ot;if(null==k||null==l)return new U;var m=new U(k.qf(),l.qf(),k.Rf(),l.Rf());if(!0===h)return m;if(this.ea.curve.properties.neatlimits&&!1!==this.ea.curve.properties.neatlimits.enable){var n=this.ea.curve.properties.neatlimits.min;var p=this.ea.curve.properties.neatlimits.max;if("number"!==typeof n||Number.isNaN(n))n=l.qf();if("number"!==typeof p||Number.isNaN(p))p=l.Rf()}l=this.ea.curve.properties.neatlimits&&
!1!==this.ea.curve.properties.neatlimits.enable&&!0!==this.ea.curve.properties.neatlimitscenteredonzero&&!0===this.ea.curve.properties.autoscale;h=this.jh();if(l){null==this.Rea?this.Rea=new zk({orientation:Rh.rb,neatlimits:!0,preciselimits:!0===this.ea.curve.properties.neatlimits.precise,logarithmic:!0===this.ea.curve.properties.logarithmicscale}):(this.Rea.RXa()!==this.ea.curve.properties.neatlimits.precise||this.Rea.X7b()!==this.ea.curve.properties.logarithmicscale)&&this.Rea.setOptions({preciselimits:!0===
this.ea.curve.properties.neatlimits.precise,logarithmic:!0===this.ea.curve.properties.logarithmicscale});isFinite(n)||isFinite(p)||(n=-.5,p=.5);var q=(l=this.Ho&&this.Ho.getParent()?this.Ho.getParent().uL():null)&&0<l.da()?l.da():null;null!=h&&null!=h.axis?(h.axis.Ev(this.Rea),q&&(!0===this.ea.curve.properties.logarithmicscale&&(n=W.log10(n,null,!0),p=W.log10(p,null,!0)),h.axis.Zjc(n,p,l.da()))):q&&this.Rea.Jh(n,p,{size:q});return!0===this.ea.curve.properties.logarithmicscale?m.cb(k.qf(),Math.pow(10,
this.Rea.qf()),k.Rf(),Math.pow(10,this.Rea.Rf())):m.cb(k.qf(),this.Rea.qf(),k.Rf(),this.Rea.Rf())}null!=h&&null!=h.axis&&h.axis.Ev(null);return!1!==this.ea.curve.properties.neatlimits?(n=W.Vp(n,p,!1,this.ea.curve.properties.neatlimitscenteredonzero),m.cb(k.qf(),n.Ta(),k.Rf(),n.Ya())):m};d.prototype.LNa=function(){var h=this.ea.curve.properties;if(null!=this.Ho){if(null!=this.FW){var k=this.FW.Xo(),l=new U(this.FW.oa());if(null!=this.J0&&this.J0.$Cb()){var m=this.J0.qf();var n=this.J0.Rf();l.cb(l.ka(),
m,l.na(),n)}else!0===h.autoscale?(m=this.zl(),null!=m&&(!isFinite(m.getY())||isNaN(m.getY())||!isFinite(m.da())||isNaN(m.da())||0>=m.da()?(l.setY(-.5),l.$a(1)):(l.setY(m.getY()),l.$a(m.da())),k=!1)):isNaN(h.min)||null==h.min||isNaN(h.max)||null==h.max||(l.cb(l.ka(),h.min,l.na(),h.max),k=h.max<=h.min?!0:!1);m=this.zl();h.logarithmicscale&&m.getY()===l.getY()&&m.da()===l.da()&&(h=l.getY(),m=h+l.da(),0!==l.getY()?(l.setY(W.log10(h)),l.$a(W.log10(m)-W.log10(h))):l.$a(W.log10(m)));l.Gi(this.FW.oa())||
this.FW.Ha(l);this.FW.Xo()!==k&&(this.FW.ql(k),this.FW.ha());this.Ho.P2(k?l.ma():l.la());this.Ho.N2(k?l.la():l.ma());k=this.jh();null!=k&&null!=k.axis&&(k.axis.Bja(g*Math.PI/2),k.axis.Ha(l));this.Ho.notify(p0.VOa,this.Ho,null)}this.notify(e0.Rmb,this,this)}};d.prototype.Yl=function(){var h=this.jh();if(null!=h){var k={id:h.id},l=h.curve;k.name=l.Ga();var m=null==this.FW?null:this.FW.oa();k.autoscale=this.ea.curve.properties.autoscale;k.neatlimits=this.ea.curve.properties.neatlimits;k.neatlimitscenteredonzero=
this.ea.curve.properties.neatlimitscenteredonzero;k.visible=l.Ia();k.unit=this.ea.curve.properties.unit;k.flip=null==this.FW?null:this.FW.Xo();k.max=null==m?null:k.flip?m.la():m.ma();k.min=null==m?null:k.flip?m.ma():m.la();k.axisposition=h.etd;k.linestyle=this.Ho.Fa();k.microposition=this.ea.curve.properties.microposition;k.interpolationtype=this.ea.curve.properties.interpolationtype;k.logarithmicscale=this.ea.curve.properties.logarithmicscale;k.borderlinestyle=this.ea.curve.properties.borderlinestyle;
k.barmode=this.ea.curve.properties.barmode;return k}return null};d.prototype.Tjb=function(h){null==h&&(h={});h!==this.ea.curvesymbol&&(this.ea.curvesymbol=xb(h,this.ea.curvesymbol));h=this.ea.curvesymbol;var k=h.painter||k0.zCb(h.type),l=ug.fd(this.Ho.Fa().mb());null!=h.fillstyle&&(l=h.fillstyle);this.od.fa({alignment:O.Oa,width:h.width,height:h.height,sizeIsInDeviceSpace:!0,fillstyle:l});this.od.YO(k);return this};d.prototype.kSc=function(){return this.ea.curvesymbol};d.prototype.o6b=function(){return this.ea.curvelimits};
d.prototype.U_a=function(h){null==h&&(h={});h!==this.ea.curvelimits&&(h=xb(h,{}),this.ea.curvelimits=xb(h,this.ea.curvelimits));h=this.ea.curvelimits;var k=null!=this.Ho&&null!=this.Ho.Fa()&&null!=this.Ho.Fa().mb()?this.Ho.Fa().mb():"rgba(0, 0, 0, 0)";this.aua.Em(h.width).va(h.visible);var l=this.aua.gb(0);l.nV(null);l=l.Oe();l.Nj("edge",null);l.Nj("major",null);l.Nj("minor",null);l.zo("major",null);l.zo("minor",null);l.zo("edge",new Fi({font:h.font,color:k}));this.notify(e0.NLb,this,this.aua);return this};
d.prototype.O7b=function(){null==this.aVb&&(this.aVb=function(){this.qZ({});this.U_a({});this.qjb({});this.Tjb({})}.bind(this));return this.aVb};d.prototype.L7b=function(){return this.ea.legenditem};d.prototype.qjb=function(h){null==h&&(h={});h!==this.ea.legenditem&&(h=xb(h,{}),h=xb(h,{}),this.ea.legenditem=xb(h,this.ea.legenditem));!0===this.ea.legenditem.autocolorlabel?this.ea.legenditem.labelcolor=null:this.ea.legenditem.labelcolor||(this.ea.legenditem.labelcolor=b);this.qFa.setOptions(this.ea.legenditem);
this.notify(e0.vNb,this,this.qFa);return this};d.prototype.XIb=function(h){null==h&&(h={});h!==this.ea.tooltipitem&&(h=xb(h,{}),this.ea.tooltipitem=xb(h,this.ea.tooltipitem));this.BBc.setOptions(this.ea.tooltipitem);return this};d.prototype.R9b=function(){return this.ea.tooltipitem};d.prototype.Sgc=function(h){this.$nd=h;this.notify(e0.wNb,this);return this};d.prototype.dHd=function(){return this.$nd};d.prototype.ffc=function(h){this.Yrc=h||"";return this};d.prototype.q5b=function(){return this.Yrc};
d.prototype.hY=function(){return this.Tva};d.prototype.dispose=function(){null!=this.qFa&&this.qFa.dispose();null!=this.aua&&this.aua.dispose();null!=this.od&&this.od.dispose();null!=this.M4&&["top","bottom"].forEach(function(h){null!=this.M4[h]&&null!=this.M4[h].dispose&&this.M4[h]instanceof y0&&this.M4[h].dispose()}.bind(this));null!=this.wy&&(this.wy.za(KH.nI,this.qm()),this.wy.za(KH.nC,this.CU()),this.wy.za(KH.vM,this.qm()),this.wy.za(KH.oC,this.DU()),this.wy.za(KH.yk,this.Ke()),this.wy.za(uH.Zs,
this.qm()),this.wy.za(SH.lp,this.Ke()),this.ot&&(this.ot.za(sH.Qj,this.CKa()),this.ot=null),this.wy=null);null!=this.Ho&&this.Ho.dispose();n0.prototype.dispose.call(this)};d.prototype.qm=function(){null==this.Rca&&(this.Rca=function(){this.updating++;this.state={Uia:this.Wya(),QEb:this.CXa(),yr:this.wc(),wr:this.Hc()}}.bind(this));return this.Rca};d.prototype.CU=function(){null==this.Pca&&(this.Pca=function(h,k,l){0<this.updating&&this.updating--;if(this.Lk()){if(0===l.from)return h=this.Wya(),this.GZ(h,
this.state.Uia,h,h,this.wc()!==this.state.yr||this.Hc()!==this.state.wr);if(l.from+l.count===this.Eu.getLength())return this.GZ(this.Wya(),this.CXa(),this.state.Uia,this.state.QEb,this.wc()!==this.state.yr||this.Hc()!==this.state.wr,!0)}return 0===this.updating?this.GZ():this}.bind(this));return this.Pca};d.prototype.DU=function(){null==this.Qca&&(this.Qca=function(h,k,l){0<this.updating&&this.updating--;if(this.Lk()){if(0===l.from)return this.GZ(this.state.Uia,this.Wya(),this.state.Uia,this.state.Uia,
this.wc()!==this.state.yr||this.Hc()!==this.state.wr);if(l.from===this.Eu.getLength())return h=this.CXa(),this.GZ(h,this.state.QEb,h,h,this.wc()!==this.state.yr||this.Hc()!==this.state.wr)}return 0===this.updating?this.GZ():this}.bind(this));return this.Qca};d.prototype.Ke=function(){null==this.qw&&(this.qw=function(h,k,l){0<this.updating&&this.updating--;if(0!==this.updating)return this;if(h===KH.yk)return h=this.Wya(),l=this.CXa(),this.GZ(h,l,h,l,!0),this;if(l&&null!=this.state)switch(l.type){case "updated":if(0===
l.count)return this;if(this.Lk())return h=l.index,l=Math.min(l.index+l.count,this.Eu.getLength()-1),h=this.Eu.getValue(h),l=this.Eu.getValue(l),this.GZ(h,l,h,l,this.wc()!==this.state.yr||this.Hc()!==this.state.wr),this;break;case "added":if(0===l.count)return this;if(this.Lk())return 0===l.index?(l=this.Wya(),this.GZ(l,this.state.Uia,l,l,this.wc()!==this.state.yr||this.Hc()!==this.state.wr)):this.GZ(this.Wya(),this.CXa(),this.state.Uia,this.state.QEb,this.wc()!==this.state.yr||this.Hc()!==this.state.wr,
l.index+l.count===this.Eu.getLength());break;case "removed":if(this.Lk()){if(0===l.index)return this.GZ(this.state.Uia,this.Wya(),this.state.Uia,this.state.Uia,this.wc()!==this.state.yr||this.Hc()!==this.state.wr,!1,!0,!1);if(l.index===this.Eu.getLength())return l=this.CXa(),this.GZ(l,this.state.QEb,l,l,this.wc()!==this.state.yr||this.Hc()!==this.state.wr,!1,!1,!0);h=l.index;l=Math.min(l.index+l.count,this.Eu.getLength()-1);h=this.Eu.getValue(h);l=this.Eu.getValue(l);return this.GZ(h,l,h,l,this.qf()!==
this.state.yr||this.Rf()!==this.state.wr)}}return this.GZ()}.bind(this));return this.qw};d.prototype.GZ=function(h,k,l,m,n,p,q,r){q=null;null==n&&(n=!0);null==p&&(p=!1);r=this.ea.curve.properties;p?(q=new U(0,m,1,k),n&&!0!==r.autoscale&&(q=this.zl())):this.Lk()&&isFinite(l)&&isFinite(m)&&isFinite(h)&&isFinite(k)?(h=h<m?h:Math.min(m,h),k=k<m?k:Math.max(m,k),q=new U(0,h,1,k)):(h=isNaN(l)?h:Math.min(l,h),k=isNaN(m)?k:Math.max(m,k),isFinite(h)&&isFinite(k)&&(q=new U(0,h,1,k)));!0===r.autoscale&&this.LNa();
h=!p||n;this.Ho&&(q&&!q.isEmpty()&&this.Ho&&null!=this.Ho.Sa()&&this.Ho.Sa().Ua(q,q),this.Ho.F1a(q,h));return this};d.prototype.wc=function(){if(null!=this.J0&&this.J0.$Cb())return this.J0.qf();var h=this.ea.curve.properties;return!0===h.autoscale?(h=this.zl(),h.la()):Math.min(h.min,h.max)};d.prototype.Hc=function(){if(null!=this.J0&&this.J0.$Cb())return this.J0.Rf();var h=this.ea.curve.properties;return!0===h.autoscale?(h=this.zl(),h.ma()):Math.max(h.min,h.max)};d.prototype.Wya=function(){return this.Eu?
this.Eu.qf():Number.NaN};d.prototype.CXa=function(){return this.Eu?this.Eu.Rf():Number.NaN};d.prototype.Lk=function(){return this.Eu&&this.Eu.Wh()===vH.iC};d.prototype.ia=function(){var h=n0.prototype.ia.call(this);h.uri=this.V_b;h.curve={};h.curve.properties=this.Yl();h.curvesymbol=this.kSc();h.curvelimits=this.o6b();h.legenditem=this.L7b();h.tooltipitem=this.R9b();return h};d.prototype.fa=function(h){n0.prototype.fa.call(this,h);void 0!==h.uri&&(this.V_b=h.uri);void 0!==h.curve&&(void 0!==h.curve.data&&
this.setData(h.curve.data),void 0!==h.curve.properties&&this.W_a(h.curve.properties));void 0!==h.curvesymbol&&this.Tjb(h.curvesymbol);void 0!==h.curvelimits&&this.U_a(h.curvelimits);void 0!==h.legenditem&&this.qjb(h.legenditem);void 0!==h.tooltipitem&&this.XIb(h.tooltipitem);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVMYXlvdXQiOiJwYiIsInNldEN1cnZlT3B0aW9ucyI6IldfYSIsImdldEN1cnZlT3B0aW9ucyI6IllsIiwic2V0U3ltYm9sT3B0aW9ucyI6IlRqYiIsImdldFN5bWJvbE9wdGlvbnMiOiJrU2MiLCJnZXRDdXJ2ZUxpbWl0c0dyb3VwT3B0aW9ucyI6Im82YiIsInNldEN1cnZlTGltaXRzR3JvdXBPcHRpb25zIjoiVV9hIiwiZ2V0TGVnZW5kT3B0aW9ucyI6Ikw3YiIsInNldExlZ2VuZE9wdGlvbnMiOiJxamIiLCJzZXRUb29sdGlwT3B0aW9ucyI6IlhJYiIsImdldFRvb2x0aXBPcHRpb25zIjoiUjliIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var A0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c,e){c=xb(c,{renderingorder:b,highlightingmethod:a,barvaluevisibility:30},!0);j0.call(this,c);this.Va=null;this.Bb=(new ek).eda(!0).nu(!0).fsa(!0).esa(!0).xb(!1);this.nrb=a;this.Tub=b;this.Tuc=[];this.Ttb=null;this.Lc=[];this.jod=this.kod=0;this.YHe=this.WWb=null;this.E4a=c.barvaluevisibility;this.ea=c;this.Dma=[];this.jqb=[];this.UIb(e);this.fa(c)}function a(c,e,f){return{linestyle:e,fillstyle:f}}function b(c){return c}D(d,j0);L(d,"geotoolkit.widgets.timeseries.barmode.TimeSeriesBar");
d.prototype.fa=function(c){c=jc(c);if(null==c)return this;j0.prototype.fa.call(this,c);this.ea=xb(c,this.ea,!0);this.m6c(this.ea.renderingorder);this.F3c(this.ea.highlightingmethod);this.u1c(this.ea.barvaluevisibility);this.ha();return this};d.prototype.ia=function(){var c=j0.prototype.ia.call(this);return xb(this.ea,c)};d.prototype.u1c=function(c){this.E4a="boolean"===typeof c?!0===c?0:Infinity:c;this.ea.barvaluevisibility=c;this.ha();return this};d.prototype.fCd=function(){return this.ea.barvaluevisibility};
d.prototype.UIb=function(c){if(null!=c&&c.some(function(e){return!(e instanceof z0)}))return this;null!=this.Lc&&this.Lc.forEach(function(e){null!=e.vYa()&&e.vYa().za(sH.Qj,this.YWa);null!=e.Oya()&&e.Oya().za(sH.Qj,this.YWa)}.bind(this));this.raa=c||[];this.Lc=this.raa.map(function(e){return e.jh().curve});null!=this.Lc&&(this.Lc.forEach(function(e){if(null!=e.vYa())e.vYa().on(sH.Qj,this.YWa);if(null!=e.Oya())e.Oya().on(sH.Qj,this.YWa)}.bind(this)),this.jod=this.kod=0);this.ha();return this};d.prototype.m6c=
function(c){null==c&&(this.Tub=b);if("function"===typeof c)return this.Tub=c,this.ea.renderingorder=this.Tub,this.ha(),this;this.ha();return this};d.prototype.XQc=function(){return this.Tub};d.prototype.F3c=function(c){null==c&&(this.nrb=a);if("function"===typeof c)return this.nrb=c,this.ea.highlightingmethod=this.nrb,this.ha(),this;this.ha();return this};d.prototype.WNc=function(){return this.nrb};d.prototype.ga=function(){return null!=this.Va?this.Va.lock():null};d.prototype.render=function(c){j0.prototype.render.call(this,
c);if(!1!==this.Ia()&&null!=this.Lc&&0!==this.Lc.length){c=null!=this.Sa()?c.bc(this.Sa()):c;var e=Infinity===this.E4a?0:this.E4a;e=c.mg().clone().bd(e,e);var f=c.Ea();e=f.wd(e);f=this.nWd(c,e);var g=c.Ea();null!=this.WWb&&this.WWb.o1(g)||(this.Dma=[],this.WWb=g);this.JYd(c,f);this.uZd(c,f,e)}};d.prototype.Cia=function(c){this.Tuc=c;this.ha();return this};d.prototype.TNc=function(c,e){return this.Tuc.find(function(f){return null!=f&&f.lineindex===c&&f.datapointindex===e})};d.prototype.dispose=function(){this.te()||
(null!=this.Lc&&this.Lc.forEach(function(c){null!=c.vYa()&&c.vYa().za(sH.Qj,this.YWa);null!=c.Oya()&&c.Oya().za(sH.Qj,this.YWa)}.bind(this)),j0.prototype.dispose.call(this))};d.prototype.YWa=function(){return this.Ttb=null==this.Ttb?function(){this.ha()}:this.Ttb};d.prototype.nJb=function(c,e){e=new N(e.textax,e.textay);if(0===this.Dma.length)return this.Dma.push(e),!0;var f,g=!0;for(f=this.Dma.length-1;0<=f;--f){var h=Hd.xh(e.getX()-this.Dma[f].getX(),e.getY()-this.Dma[f].getY(),c.Ea());if(h<=this.E4a){g=
!1;break}}!0===g&&this.Dma.push(e);return g};d.prototype.zHd=function(c,e){return 0===e?(c[e+1]-c[e])/2:c[e]-c[e-1]};d.prototype.JYd=function(c,e){e.forEach(function(f){if(null!=f){var g=[];f.forEach(function(p,q){this.LWd.push({order:q,value:p.mJa().barvalue,height:p.mJa().barheight})}.bind({LWd:g}));g=this.XQc()(g);for(var h=0;h<g.length;++h){var k=g[h],l=k.order;k=f[l].mJa();var m=this.raa[l].Yl().barmode.linestyle,n=this.raa[l].Yl().barmode.fillstyle;m=Y.Ra(m).clone();n=ug.fd(n).clone();l=this.TNc(l,
k.datapointindex);null!=l&&(n=this.WNc()(l,m,n),m=Y.Ra(n.linestyle),n=ug.fd(n.fillstyle));c.qa(m);c.ra(n);c.Bc(k.barleft,k.barbottom,k.barwidth,k.barheight)}}}.bind(this));return this};d.prototype.uZd=function(c,e,f){c.kb(new Fi);this.jqb.forEach(function(g){this.kMa(c,g,g.lineindex,f)}.bind(this));this.Dma=this.jqb.map(function(g){return new N(g.textax,g.textay)}).concat(this.Dma);this.jqb=[];e.forEach(function(g){if(null!=g)for(var h=0;h<g.length;++h){var k=g[h].mJa();this.nJb(c,k)&&this.kMa(c,
k,h,f)}}.bind(this));return this};d.prototype.kMa=function(c,e,f,g){var h=this.raa[f].Yl().barmode.barvalues.formatter,k=h.format(e.barvalue),l=this.raa[f].Yl().barmode.barvalues.margins;h=l.left*Math.abs(c.bq().lb());l=l.top*Math.abs(c.bq().Ab());h+=e.barleft+e.barwidth/2;l+=e.barheight;var m=this.raa[f].Yl().barmode.barvalues.textstyle;m=Fi.Ra(m);m=m instanceof Fi?m:new Fi;f=this.raa[f].Yl().barmode.barvalues.rotationangle;f*=Math.PI/180;this.Bb.Eb(k).kb(m).Jb(h,l).rotate(f,h,l).render(c);this.Bb.rotate(-f,
h,l);c=this.E4a*Math.abs(c.bq().lb());h>g.na()-2*c&&this.jqb.push(e)};d.prototype.eCd=function(c,e){var f=sg.measureText(e,this.Bb.jb());e=f.ca()*Math.abs(c.bq().lb());c=f.da()*Math.abs(c.bq().Ab());return new Ud(e,c)};d.prototype.nWd=function(c,e){for(var f=[],g=0;g<this.Lc.length;++g)if(!0===this.raa[g].Yl().barmode.enabled){var h=this.Lc[g];h.Wy();h.iKb(c);var k=h.aYa();h=k.KL();var l=k.qR(),m=k.ih();if(null==h||null==l||null==m)break;var n=-1,p=-1,q=0,r=h.length-1;null!=e&&(r=k.Fx(e.ka(),e.na()),
q=r.Ta(),r=r.Ya());for(;q<r;q++)isNaN(h[q])&&-1===n||(-1===n&&(n=q),isNaN(h[q])&&(n=p+1),p=q);if(-1!==n&&-1!==p&&n!==p)for(q=n;q<=p;++q){n=this.zHd(l,q);r=this.raa[g].Yl().barmode.barwidth;r="number"===typeof r?r*Math.abs(c.bq().lb()):n;r=Math.min(r,n);null==f[q]&&(f[q]=[]);n=new h0({datapointindex:q,lineindex:g,barleft:l[q]-r/2,barbottom:0,barwidth:r,barheight:h[q],barvalue:m[q].ZC()});r=n.mJa();k=this.raa[g].Yl().barmode.barvalues.formatter;k=k.format(r.barvalue);var t=this.raa[g].Yl().barmode.barvalues.margins,
u=this.eCd(c,k),w=t.left*Math.abs(c.bq().lb());t=t.top*Math.abs(c.bq().Ab());w+=r.barleft+r.barwidth/2;t+=r.barheight;n.o0d({text:k,textax:w,textay:t,textwidth:u.ca(),textheight:u.da()});f[q][g]=n}}return f};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRCYXJWYWx1ZVZpc2liaWxpdHkiOiJ1MWMiLCJnZXRCYXJWYWx1ZVZpc2liaWxpdHkiOiJmQ2QiLCJzZXRUaW1lU2VyaWVzT2JqZWN0cyI6IlVJYiIsInNldFJlbmRlcmluZ09yZGVyIjoibTZjIiwiZ2V0UmVuZGVyaW5nT3JkZXIiOiJYUWMiLCJzZXRIaWdobGlnaHRpbmdNZXRob2QiOiJGM2MiLCJnZXRIaWdobGlnaHRpbmdNZXRob2QiOiJXTmMiLCJnZXRCb3VuZHMiOiJnYSIsImhpZ2hsaWdodEJhcnMiOiJDaWEiLCJnZXRIaWdobGlnaHRCYXIiOiJUTmMifX19");var B0=/*#__PURE__*/ta(/*#__PURE__*/{aZ:"onVisibleRangeChanged",WZa:"onVisibleRangeChanging",$Wc:"onCursorChanged",gha:"beforeSelectionChange",Sy:"onSelectionChanged",VWc:"onAnnotationLineClick",UWc:"onAnnotationClick"},2,"eyJvblZpc2libGVSYW5nZUNoYW5nZWQiOiJhWiIsIm9uVmlzaWJsZVJhbmdlQ2hhbmdpbmciOiJXWmEiLCJvbkN1cnNvckNoYW5nZWQiOiIkV2MiLCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2UiOiJnaGEiLCJvblNlbGVjdGlvbkNoYW5nZWQiOiJTeSIsIm9uQW5ub3RhdGlvbkxpbmVDbGljayI6IlZXYyIsIm9uQW5ub3RhdGlvbkNsaWNrIjoiVVdjIn0g");var C0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){null==a&&(a={});null!=a.manipulatorlayer&&(hb("parameter options.manipulatorlayer in GroupTool() is deprecated since 2021.1 (3.3), use parameter options.layer instead"),a.layer=a.manipulatorlayer);a=G(a,{name:"groupTool"});SR.call(this,a);this.$m({pointerdown:this.gd.bind(this),pointermove:this.Ic.bind(this),pointerup:this.Yc.bind(this)});this.bb=a.group;this.eh=new Zj;this.uB=new wQ(null,this.ab);this.uB.Sb(this.ab.Sa());this.uB.register(this.bb.Pa(),new uQ)}D(d,SR);
L(d,"geotoolkit.widgets.timeseries.GroupTool");d.prototype.gd=function(a){var b=a.ub(),c=this.pn(a),e=c?this.wY():this.wU();this.UP=!1;var f=null,g=this.Sd(this.ab,a),h=this.eh.select(this.ab,g.x,g.y,e);if(h&&0<h.length)for(c=h.length-1;1<=c;c--){var k=h[c];if("function"===typeof k.rJ){f=k.rJ();f.ns(k);f.setPosition(g.x,g.y);this.ve=f;this.UP=!0;a.stopPropagation(!0);return}}g=this.Sd(b,a);b=this.eh.select(b,g.x,g.y,e);b=null==b?null:b.filter(function(l){return l===this.bb}.bind(this));g=this.Sd(this.ab,
a);if(b&&0<b.length)for(c=b.length-1;0<=c;c--)if(f=this.uB.rJ(b[c])){f.Gm(b[c]);f.setPosition(g.x,g.y);this.uB.dM(f);this.ve=f;this.UP=!0;a.stopPropagation(!0);return}this.ve=f;this.uB.dM(null)};d.prototype.Ic=function(a){if(this.ve){var b=this.Sd(this.ab,a);this.ve.move(b.x,b.y);this.ve.Gb().ha();a.stopPropagation(!0,!0)}};d.prototype.Yc=function(a){this.ve&&(a.stopPropagation(!0),this.ve.setPosition(null),this.ve=null)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlRG93biI6ImdkIiwib25Nb3VzZU1vdmUiOiJJYyIsIm9uTW91c2VVcCI6IlljIn19fSAg");var D0=/*#__PURE__*/ta(/*#__PURE__*/{kp:"outside",Ok:"inside"},2,"eyJPdXRzaWRlIjoia3AiLCJJbnNpZGUiOiJPayJ9");var E0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){d0.call(this,a,b);this.hTa=[]}D(d,d0);L(d,"geotoolkit.widgets.timeseries.PercentDataProcessor");d.prototype.SXa=function(a){var b=a.x;a=a.y.map(function(f){return f.slice(0)});var c;this.hTa=[];for(var e=0;e<a[0].length;++e){this.hTa[e]=a[0][e];for(c=1;c<a.length;++c)this.hTa[e]+=isNaN(a[c][e])?0:a[c][e];a[0][e]=100*a[0][e]/this.hTa[e];for(c=1;c<a.length;++c)a[c][e]=isNaN(a[c][e])?0:a[c][e],a[c][e]=100*a[c][e]/this.hTa[e]+(isNaN(a[c-1][e])?0:a[c-1][e])}return{x:b,
y:a}};d.prototype.AXa=function(a){var b=Number.MAX_VALUE,c=0;a.forEach(function(e){e=e.getData();b=Math.min(b,e.xd(0).qf());c=Math.max(c,e.xd(0).Rf())});return new U(b,0,c,100)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9jZXNzZWREYXRhIjoiU1hhIiwiZ2V0TWF4Q3VydmVMaW1pdHMiOiJBWGEifX19");var F0=/*#__PURE__*/ta(/*#__PURE__*/{olb:"advanced",ILb:"compact",lPa:"simple"},2,"eyJBZHZhbmNlZCI6Im9sYiIsIkNvbXBhY3QiOiJJTGIiLCJTaW1wbGUiOiJsUGEifSAg");var G0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){al.call(this,a)}D(d,al);d.prototype.cb=function(a){if(!a)throw Error("Invalid layout area");al.prototype.cb.call(this,a);return this};d.prototype.getIterator=function(a){a=0<this.aN.length||null===a?this.aN:a;return Array.isArray(a)?Hg.zi(a):a};d.prototype.Bl=function(a,b){var c=null!==this.zp()?this.zp():a;b=this.getIterator(b);return null===b?a:!c||0>=c.ca()?null:c};d.prototype.zc=function(a,b){var c=this.zp()?this.zp():a;a=this.getIterator(b);if(!a||!c||0>=c.ca())return this;
a.forEach(function(e){e.sa(c)});return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRSZWN0IjoiY2IiLCJnZXRQcmVmZXJyZWRTaXplIjoiQmwiLCJsYXlvdXQiOiJ6YyJ9fX0g");var H0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){d0.call(this,a,b)}D(d,d0);L(d,"geotoolkit.widgets.timeseries.StackDataProcessor");d.prototype.SXa=function(a){var b=a.x;a=a.y.map(function(f){return f.slice(0)});for(var c=1;c<a.length;++c)for(var e=0;e<a[c].length;++e)a[c][e]=isNaN(a[c][e])?0:a[c][e],a[c][e]+=isNaN(a[c-1][e])?0:a[c-1][e];return{x:b,y:a}};d.prototype.AXa=function(a){var b=Number.MAX_VALUE,c=0,e=Number.MAX_VALUE,f=0;a.forEach(function(g){g=g.getData();b=Math.min(b,g.xd(0).qf());e=Math.min(e,g.xd(1).qf());
c=Math.max(c,g.xd(0).Rf());f=Math.max(f,g.xd(1).Rf())});return new U(b,e,c,f)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9jZXNzZWREYXRhIjoiU1hhIiwiZ2V0TWF4Q3VydmVMaW1pdHMiOiJBWGEifX19");var I0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){var c=k0.jMd();xb(b,c);n0.call(this,c);this.Jj=[];this.Yd=null}var a=-1;D(d,n0);L(d,"geotoolkit.widgets.timeseries.TimeSeriesObjectGroup");d.prototype.je=function(b){n0.prototype.je.call(this,b);this.qZ(this.ea.curveaxis);this.cKb();this.Rkb();return this};d.prototype.P2=function(b){this.ea.min=b;this.cKb();this.xkc();this.Rkb();return this};d.prototype.qf=function(){return this.ea.min};d.prototype.N2=function(b){this.ea.max=b;this.cKb();this.xkc();this.Rkb();return this};
d.prototype.Rf=function(){return this.ea.max};d.prototype.M4d=function(b){this.ea.sharelimits=b;this.cKb();this.xkc();this.Rkb();return this};d.prototype.$Cb=function(){return this.ea.sharelimits};d.prototype.xkc=function(){this.Jj.forEach(function(b){b.LNa()})};d.prototype.qZ=function(b){n0.prototype.qZ.call(this,b);this.Rkb();return this};d.prototype.checkValidity=function(b){if(Array.isArray(b)){for(var c=!1,e=0;e<b.length&&(c=this.checkValidity(b[e]),!1!==c);e++);return c}if(null==b||null==b.mDb||
null!=b.mDb())return!1;null==this.Yd&&null!=b.Yl&&null!=b.Yl()&&(this.Yd=b.Yl().unit);return this.Yd instanceof Wd?this.Yd.PA(b.Yl().unit):b.Yl().unit instanceof Wd?b.Yl().unit.PA(this.Yd):Zd.ya().Xa(this.Yd).PA(b.Yl().unit)};d.prototype.Ne=function(b){var c=this.checkValidity(b);if(!1===c)return this;if(Array.isArray(b))for(c=0;c<b.length;c++)this.Ne(b[c]);null!=b&&b instanceof z0&&-1===this.Jj.indexOf(b)&&(b.F7c(this),this.Jj.push(b),b.qZ({}));this.Skb();return this};d.prototype.xGb=function(b){if(Array.isArray(b))for(var c=
b.length;-1<c;c--)this.xGb(b[c]);b instanceof z0&&-1!==this.Jj.indexOf(b)&&(c=this.Jj.indexOf(b),b.F7c(null),this.Jj.splice(c,1),b.qZ({}));this.Skb();return this};d.prototype.get=function(){return this.Jj};d.prototype.PXd=function(){this.xGb(this.Jj);return this};d.prototype.Skb=function(){var b=null;b=this.jh();if(null!=this.sJ().labeltext)b=this.sJ().labeltext;else{if(null==b)return this;var c=[];this.Jj.forEach(function(f){f=f.jh();null!=f&&null!=f.curve&&null!=f.curve.Ga&&c.push(f.curve.Ga())});
b=c.join(", ");var e=this.Yd instanceof Wd?this.Yd.cd():this.Yd;null!=this.Yd&&(b+=" ("+e+")")}null!=b&&(e=this.jh(),null!=e&&(null!=e.axis&&e.axis.Fr(b),null!=e.Uxb&&e.Uxb.fa({text:b})));return this};d.prototype.Rkb=function(){var b=this.qf(),c=this.Rf(),e=this.jh();null!=e&&(e.Dxa.ql(b<c),e.axis.Bja(a*Math.PI/2));return this};d.prototype.cKb=function(){var b=this.jh();null!=b&&(b.Dxa.Ha(new U(0,this.qf(),1,this.Rf())),b.axis.Ha(new U(0,this.qf(),1,this.Rf())));return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRNaW4iOiJQMiIsImdldE1pbiI6InFmIiwic2V0TWF4IjoiTjIiLCJnZXRNYXgiOiJSZiIsInNldFNoYXJlTGltaXRzIjoiTTRkIiwiZ2V0U2hhcmVMaW1pdHMiOiIkQ2IiLCJzZXRBeGlzT3B0aW9ucyI6InFaIiwiYWRkT2JqZWN0IjoiTmUiLCJyZW1vdmVPYmplY3QiOiJ4R2IifX19");var J0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){VR.call(this,a);this.Hd=b}D(d,VR);L(d,"geotoolkit.controls.tools.scroll.VisibleRangeChangeEventArgs");d.prototype.kqa=function(){return this.Hd};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRWaXNpYmxlUmFuZ2UiOiJrcWEifX19");var K0=/*#__PURE__*/B0,L0=/*#__PURE__*/c0,M0=/*#__PURE__*/b0,N0=/*#__PURE__*/D0,O0=/*#__PURE__*/F0,P0=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(z){KZ.call(this,z);this.Gu=Ri.lg();this.Kqb=Qi.lg();this.zmd=b(this.Kqb,g,this.Gu);this.tvb=this.eaa=this.Qga=this.m7a=this.pab=null;this.nc=a();this.AB=new Fo;this.$qb=new Fo;this.rab=new Fo;this.jRb=this.iRb=this.hRb=this.UUb=this.YPb=this.WPb=this.LTb=this.MTb=this.qfa=null;this.DDa=[];this.NPa=[];this.Nwb=this.Owb=this.lm=this.Apb=this.RTa=null;this.xN=this.nc.stack;this.SI=this.nc.percent;this.oh=this.OS=null;this.QYb=c;this.MA();this.pi();
var x=this.nc.tooltips.tooltipoptions;x.visual=new s0;this.z6a=new t0(x);this.MDa=new A0(this.OS);this.x$=this.d0=null;this.Mnd=function(){this.xa();this.Di();this.ha()}.bind(this);this.setOptions(z);this.FN.getData().add(this.z6a)}function a(){return xb({automodellimitsmode:!0,cursor:{linestyle:new Y({color:"rgba(237, 28, 36, 0.75)",width:1,pattern:vg.ZZ})},margin:[8,8,8,8],title:{visible:!0,height:40,text:"",font:y,color:m,padding:[0,0,0,0],centered:!1},legends:{alignwithcentermodel:!0,direction:nl.zG,
height:25,position:D0.kp,visible:!0,width:100,linestyle:null,fillstyle:null,margintext:5,marginbottom:5,autocolorlabel:!0,legendoptions:{formatter:new aj({maximumfractiondigits:2,round:!0}),margintext:2,font:"bold 12px Arial",height:25,internalpadding:4,linestyle:new Y({color:"rgba(128, 128, 128, 1)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf({color:"rgba(250, 250, 250, 0.95)"}),fixedwidth:null,labelcolor:m}},lastupdatedate:{visible:!0,followcursor:!1,font:"bold "+w,color:m,formatter:g},
curve:{linestyle:{},visible:!0,autoscale:!0,min:null,max:null,neatlimits:!1,neatlimitscenteredonzero:!1,unit:""},curvelimits:{visible:!0,margin:5,width:60,font:"bold "+w},curvesymbol:{visible:!0,width:8,height:8,type:"circle"},modelgrid:{horizontaltickgenerator:(new ik).Nj("major",new Y(p.major)).Nj("minor",new Y(p.minor)).Nj("edge",new Y(p.edge)).oIb(20),verticaltickgenerator:(new fj(0,0)).Nj("major",new Y(p.major)).Nj("minor",new Y(p.minor)).Nj("edge",new Y(p.edge)).$g("edge",!1).$g("minor",!1).$g("major",
!1),horizontalvisibility:{major:!0,minor:!1,edge:!1},verticalvisibility:{major:!1,minor:!1,edge:!1}},modelaxis:{visible:!0,tickgenerator:null,baselinestyle:new Y(m)},southaxis:{visible:!0,height:20,font:"bold "+w,color:m,tickgenerator:(new fj(0,0)).$g("edge",!1).Ss("edge",!0).Nj("major",null).$g("minor",!1).Ss("minor",!1)},visiblerange:{visible:!0,height:20,font:"bold "+w,color:m,formatter:g},scrollbar:{type:F0.olb,visible:!0,height:30,options:{font:"bold "+u,color:m,tickgenerator:null,formatter:"M j, Y",
scrollbar:{autohide:!1}}},viewcache:!0,intervalbuttons:{visible:!0,intervals:{"1h":36E5,"8h":288E5,"1d":864E5,"1w":6048E5,"1m":2592E6}},scrolltonowbutton:{visible:!1},tooltips:{visible:!0,linestyle:new Y({color:"rgba(175,175,175,0.5)",width:3}),fillstyle:new rf({color:"rgba(255,255,255, 0.85)"}),symbollinestyle:new Y({color:"rgba(225,225,225, 0.95)",width:2}),selectionradius:30,tooltipoptions:{formatter:new aj({maximumfractiondigits:2,round:!0}),margintext:4,font:"12px Arial",textcolor:"black",symbolsize:10,
internalpadding:2,externalpadding:5,linestyle:null,fillstyle:null,fixedwidth:null,nanvisibility:!0,index:{visible:!1,textcolor:"black",symbol:null,name:"Time",indextext:"",unittext:""},singlerow:!1}},cursorselectionlimit:25,timezone:Li.UTC,stack:{enabled:!1,fillstyles:null},percent:{enabled:!1,fillstyles:null,tooltip:{showoriginalvalue:!1}}},k0.N9b(),!0)}function b(z,x,C){return z.Fyb({format:x,locale:C})}function c(z,x,C){x=xb(x,{});C=xb(C,{});var A=z.Uw(C.id);null!=C.id&&null!=A&&(C=A.Yl(),null!=
C&&null!=C.linestyle&&(C.linestyle instanceof Y?C.linestyle.Qa(C.linestyle.ca()-1):(null!=C.linestyle.width&&--C.linestyle.width,this.wgb(A,C))));A=z.Uw(x.id);null!=x.id&&null!=A&&(C=A.Yl(),null!=C&&null!=C.linestyle&&(C.linestyle instanceof Y?C.linestyle.Qa(C.linestyle.ca()+1):(null!=C.linestyle.width&&(C.linestyle.width+=1),this.wgb(A,C))))}var e=function(){function z(x){ud.call(this,x);this.Uv=qe.ya()}D(z,ud);z.prototype.Ym=function(x,C){return"data"===x.attributeName&&C instanceof d};z.prototype.$F=
function(x){for(var C=x.H6(),A=[],v=0;v<C.length;v++)x.GAb(C[v]).Qha().eq()>v+1?A[v]=x.GAb(C[v]).Qha().xd(v+1).data.data:A[v]=A[v-1].slice();return A};z.prototype.apply=function(x){for(var C=x.H6(),A=[],v=[],B=0;B<this.wya().length;B++){A[B]=new LH({cols:[{type:"number",data:x.GAb(C[B]).Qha().xd(0).data.data},{type:"number",data:this.wya()[B]}]});v[B]=new TH(A[B]);var E=x.Uw(C[B]);null!=E&&E.setData(v[B])}};return z}(),f=1,g="M j, Y H:i:s",h="curveaxisgroup",k=36E5,l=864E5,m="#6b6b6b",n=2E6,p={major:{color:"#c4c4c4",
width:1,pixelsnapmode:{x:!0,y:!0}},minor:{color:"#ededed",width:1,pixelsnapmode:{x:!0,y:!0}},edge:{color:"#c4c4c4",width:1,pixelsnapmode:{x:!0,y:!0}}},q="Arial",r={small:"9px",medium:"10px",large:"14px"},t=5,u=r.small+" "+q,w=r.medium+" "+q,y=r.large+" "+q;D(d,KZ);L(d,"geotoolkit.widgets.TimeSeriesWidget");pe.ya().YH(e);d.Ka=K0;Object.defineProperty(d,"Events",{get:function(){hb("geotoolkit.widgets.TimeSeriesWidget.Events is deprecated since 2020.1 (3.1) use geotoolkit.widgets.timeseries.Events instead.");
return B0},set:Hb});d.tnc=L0;Object.defineProperty(d,"FillDirection",{get:function(){hb("geotoolkit.widgets.TimeSeriesWidget.FillDirection is deprecated since 2020.1 (3.1) use geotoolkit.widgets.timeseries.FillDirection instead.");return c0},set:Hb});d.ij=M0;Object.defineProperty(d,"FillType",{get:function(){hb("geotoolkit.widgets.TimeSeriesWidget.FillType is deprecated since 2020.1 (3.1) use geotoolkit.widgets.timeseries.FillType instead.");return b0},set:Hb});d.Joc=N0;Object.defineProperty(d,"LegendPosition",
{get:function(){hb("geotoolkit.widgets.TimeSeriesWidget.LegendPosition is deprecated since 2020.1 (3.1) use geotoolkit.widgets.timeseries.LegendPosition instead.");return D0},set:Hb});d.jqc=O0;Object.defineProperty(d,"ScrollBarType",{get:function(){hb("geotoolkit.widgets.TimeSeriesWidget.ScrollBarType is deprecated since 2020.1 (3.1) use geotoolkit.widgets.timeseries.ScrollBarType instead.");return F0},set:Hb});d.prototype.eS=function(z){this.Gu!==z&&(this.Gu=z,this.m7a=this.pab=null,this.zmd=b(this.Kqb,
g,this.Gu));return this};d.prototype.O6=function(){return this.Gu};d.prototype.u$c=function(){var z=this.nc.intervalbuttons.intervals,x=Object.keys(z),C=[];x.forEach(function(A){C.push({text:A,onClick:function(v){this.EYb=z[A];this.H9d(z[A]);1<Math.abs(z[A]-(this.kqa().Ya()-this.kqa().Ta()))?v.setState(ZZ.dnb):v.setState(ZZ.M8)}.bind(this)})}.bind(this));x={layout:new ll,toggle:!0,buttons:C};null==this.pQ?this.pQ=new b_(x):this.pQ.MA(x);x={layout:new xl,buttons:[{text:"Now",toggle:!0,styles:{pressed:{textstyle:(new Fi({font:"bold 8px Arial"})).setColor("white"),
linestyle:new Y({color:"429529",width:3}),fillstyle:new rf("#50b432")}},onClick:function(A){this.I_d()}.bind(this)}]};null==this.dQ?this.dQ=new b_(x):this.dQ.MA(x)};d.prototype.MA=function(){this.u$c();this.Sc=(new ni).pa([this.cnd=(new ni).Zc("gridandaxesgroup").pa([(new ni).ql(!0).Zc("gridandaxesgroup").pa([this.V4=new Hk(this.nc.modelgrid.horizontaltickgenerator,this.nc.modelgrid.verticaltickgenerator)]),this.mtb=(new pk).setOrientation(Rh.yb)]),this.Nwb=new ni,this.rt=(new ni).ql(!0).Li(!0===
this.nc.viewcache?new mi:null),this.Owb=new ni,this.ab=(new ni).Fd("manipulator_layer").pa([this.Dwa=(new ni).ql(!0)]),this.Aea=new ni,this.zta=new ni,this.HH().pa(this.JRb=(new ni).pa([(new ni).de(new jl).pa([this.TS=(new ni).hd(!0).de(new ll).bf(!0)])]))]);this.mtb.Hm(xf.Ed);this.hd(!0).de(new jl).pa([this.Q_=(new ni).hd(!0).Zc("layoutgroup").de(new jl).pa([this.$I=(new ni).Ha(new U(0,0,1,1)).Zc("titlelayoutgroup").pa([this.re=(new ek({text:"",ax:0,ay:.5,alignment:O.Bd})).hBa({visible:!0}),this.lFa=
new ek({text:"",ax:1,ay:.5,alignment:O.we})]),this.Gk=(new $l({model:this.Sc,south:[this.Jvb=(new pk).Hm(xf.qb).setOrientation(Rh.yb)]})).Dr(new Gm),this.qab=(new ni).hd(!0).Zc("rangelayoutgroup").pa([(new ni).Ha(new U(0,0,1,1)).pa([this.fWb=new ek({text:"min",ax:0,ay:.5,alignment:O.Bd}),this.QVb=new ek({text:"max",ax:1,ay:.5,alignment:O.we})])]),this.R9a=(new ni).hd(!0)])]);this.FN=(new tR({data:new Fo,linestyle:Y.Ra(this.nc.tooltips.linestyle),fillstyle:ug.fd(this.nc.tooltips.fillstyle),autosize:!0,
sizeisindevicespace:!0})).de(new Al).va(!1).bf(!0);this.pa(this.FN);this.FN.pb();this.qab.pa([this.pQ,this.dQ]);this.$ta=[];this.Zta=[];this.Gk.fb($h.ue).va(!1);this.Gk.fb($h.lc).va(!0);this.Gk.fb($h.Rc).va(!0);this.Gk.fb($h.lc).Em(0);this.Gk.fb($h.Rc).Em(0);this.Jvb.nV(null);return this.Q_};d.prototype.pi=function(){null!=this.pQ&&this.Un(this.pQ.b2());null!=this.dQ&&this.Un(this.dQ.b2());this.Un(this.JN=(new UU({layer:this.rt,mode:SU.Aa})).addListener(TU.aV,function(z,x){if(z=x.wb())z=new Kd(z.ka(),
z.na()),this.CBa(z),this.rt.Mf(),z=new J0(B0.aZ,z),this.Jxa(B0.aZ,this,z)}.bind(this)));this.Apb=(new VS(this.ab,"cursor")).Yra(null).Vja(this.nc.cursor.linestyle).addListener(RR.Oz,function(z,x){this.FN.va(!1);null!=this.lm&&this.lm.Nja(1).Uja(1)}.bind(this)).addListener(RR.Xia,function(z,x){null!=this.lm&&this.lm.Nja(2).Uja(5)}.bind(this)).addListener(SS.Ry,function(z,x){this.FN.va(!1);var C=x.ec().getX();isNaN(C)?this.Dwa.va(!1):this.Dwa.va(this.nc.curvesymbol.visible);this.nc.lastupdatedate.followcursor&&
(isNaN(C)?this.lFa.Eb(""):this.lFa.Eb(this.XSb(C)));this.uIb(x.ec(),x.he());this.gKb(x.ec(),x.he());this.xad(x.ec(),x.he());this.notify(B0.$Wc,this,z.ec())}.bind(this)).addListener(RR.Vw,function(){this.Apb.isEnabled()||(this.FN.va(!1),this.Dwa.va(!1),this.lFa.Eb(this.XSb(this.Sc.oa().na())))}.bind(this));this.RTa=(new kU(this.ab)).nb("rubberband").Rb(!1).setMode(LS.yb).Vca(!0).addListener(RR.Vw,function(z){z.isEnabled()?(this.iQ.Rb(!1),this.lm.Rb(!1),this.JN.Rb(!1)):(this.iQ.Rb(!0),this.JN.Rb(!0))}.bind(this)).addListener(iU.gw,
function(z,x){z=x.getArea();z=new Kd(z.ka(),z.na());this.CBa(z);z=new J0(B0.aZ,z);this.Jxa(B0.aZ,this,z)}.bind(this));this.Un((new QS(this.ab,"manipulatorTools")).add([this.Apb,this.RTa]));this.Un(this.lm=(new cT).nb("picking").addListener(bT.GO,function(z,x){function C(I){return I instanceof ek||I instanceof pk}var A=x.getSelection(),v=this.H6(),B=0,E={line:null,fill:null,legend:null,axis:null};for(B=A.length-1;0<=B;--B)if(A[B]instanceof q0)null==E.line&&0<=v.indexOf(A[B].kc())&&(E.line=A[B].kc());
else if(A[B]instanceof y0){var H=null;null!=A[B].IP&&A[B].IP instanceof q0?H=A[B].IP:null!=A[B].Gla&&A[B].Gla instanceof q0&&(H=A[B].Gla);null==E.fill&&null!=H&&0<=v.indexOf(H.kc())&&(E.fill=H.kc())}else if(A[B]instanceof u0){if(null==E.legend&&0<=v.indexOf(A[B].Kd().jh().id)){E.legend=A[B].Kd().jh().id;var F="legend"}}else A[B]instanceof f0?(E.annotation=A[B].ta().id,this.notify(B0.UWc,this,A[B].ta().id)):A[B]instanceof g0?this.notify(B0.VWc,this,A[B].ta().id):null==E.axis&&A[B]instanceof ni&&A[B].kc()===
h?(H=ff(A[B]).vc(C).ug(),null!=H&&0<=v.indexOf(H.kc())&&(E.axis=H.kc())):A[B]instanceof pk&&"curvelimitsaxis"===A[B].name&&null==E.axis&&0<=v.indexOf(A[B].kc())&&(E.axis=A[B].kc());v=E.legend||E.line||E.fill||E.axis||E.annotation;if(null==v&&(A=A.filter(function(I){return I instanceof UR||I instanceof b_}),0<A.length))return;this.RSd({id:v,type:F});null!=E.line&&this.xad(z.Sd(this.ab,x),x.he())}.bind(this)));this.Un(this.iQ=(new bU).nb("panning").r8c(n).addListener(aU.QE,function(z,x){if(!0===x.Je().ctrlKey){x=
x.pZa()?x.Zl().y:null;if(null==x)return;z=this.kqa();if(!z)return;z=new Kd(z.Ta()+x,z.Ya()-x)}else x=x.pZa()?x.Zl().y:x.Zl().x*n*-10,z=this.kqa(),z=new Kd(z.Ta()+x,z.Ya()+x);null!=z&&(this.CBa(z),this.rt.Mf(),z=new J0(B0.aZ,z),this.Jxa(B0.aZ,this,z))}.bind(this)));return this};d.prototype.xad=function(z,x){if(null!=z&&null!=x&&!1!==this.nc.tooltips.visible){var C,A=z.getX(),v=null!=this.eaa&&null!=this.dAb(this.eaa),B=new N(this.Sc.fj().getX()+this.Sc.fj().ca()/2,this.Sc.fj().getY()+this.Sc.fj().da()/
2),E=this.nc.tooltips.tooltipoptions.index;this.z6a.va(E.visible);if(!0===E.visible){var H=z.getX();this.z6a.Kd().setData({textcolor:E.textcolor,symbol:E.symbol,name:E.name,indextext:E.indextext,valuetext:H,unittext:E.unittext,singlerow:this.nc.tooltips.tooltipoptions.singlerow});this.z6a.lh()}var F=this.nc.cursorselectionlimit,I=this.nc.tooltips.selectionradius;this.AB.getIterator().forEach(function(K){var M=K.kc(),P=K.jh().curve,R=K.jh().Zj,Q=K.jh().NJb;if(!0===P.Ia()&&null!=P.getData()){var V=
P.$Xa();C=V.samples;H=k0.Pcb(A,C,!0);if(null!==H&&(R.qa(null),null!=C[H]&&(null==this.eaa||v||this.eaa===M))){V=P.wa();var Z=new N(C[H].ec(),C[H].getValue());Z=V.Ma(Z);V=x.getX()-Z.getX();Z=x.getY()-Z.getY();Z=Math.sqrt(V*V+Z*Z);Math.abs(V)<F&&Z<I||isNaN(Z)?(V="",null!=K.Yl()&&null!=K.Yl().unit&&(V=K.Yl().unit instanceof Wd?K.Yl().unit.cd():K.Yl().unit),Q.Kd().setData({id:M,textcolor:P.Fa().mb(),symbol:R,name:P.Ga(),indextext:"",valuetext:this.ZC(P.kc(),C,H),additionaltext:this.wQc(P.kc(),H,K.R9b().formatter),
unittext:V}),Q.lh(),this.nc.curvesymbol.visible&&R.qa(Y.Ra(this.nc.tooltips.symbollinestyle)),this.FN.va(!0)):Q.va(!1)}}}.bind(this));z=this.FN.ga().clone();E=16;var J=4;x=new N(Math.round(x.getX()),Math.round(x.getY()));x.getX()<B.getX()?z.setX(x.getX()-this.Sc.ga().getX()+E):z.setX(x.getX()-this.FN.ga().ca()-J);x.getY()<B.getY()?z.setY(x.getY()-this.Sc.ga().getY()+E):z.setY(x.getY()-this.FN.ga().da()-J);this.FN.sa(z);this.FN.pb()}};d.prototype.uIb=function(z,x){if(null==z||null==x||!1===this.nc.curvesymbol.visible)return this;
var C=z.getX(),A,v,B;this.AB.getIterator().forEach(function(E){var H=E.jh();E=H.curve;var F=H.hAa;if(E instanceof q0&&E.Ia()&&null!=E.getData()){H=H.Zj;var I=E.$Xa();I=I.samples;if(isNaN(C)||null==I||1>I.length)this.nc.curvesymbol.visible&&H.va(!1);else{A=k0.Pcb(C,I,!0);B=I[A].getValue();var J=this.nc.cursorselectionlimit,K=E.wa(),M=new N(I[A].ec(),I[A].getValue());K=K.Ma(M);K=x.getX()-K.getX();v=F.Xo()?(B-F.oa().la())/F.oa().da()*this.Dwa.oa().da():(F.oa().ma()-B)/F.oa().da()*this.Dwa.oa().da();
Math.abs(K)<J&&this.nc.curvesymbol.visible&&null!=I[A]&&!isNaN(I[A].ec())&&null!=v&&!isNaN(v)?(H.va(!0),F=new N(I[A].ec(),B),null!=E.Sa()&&(F=E.Sa().Ma(F,F)),H.Zn(F.getX()),H.mq(F.getY())):H.va(!1)}}}.bind(this));return this};d.prototype.gKb=function(z,x){if(null!=z&&null!=x){var C=z.getX(),A,v;this.AB.getIterator().forEach(function(B){var E=B.jh();E=E.curve;if(E instanceof q0&&E.Ia()&&null!=E.getData()){var H=E.$Xa();v=H.samples;if(isNaN(C)||null==v||1>v.length)this.nc.legends.visible&&(B.Sgc(null),
B.ffc(null));else{A=k0.Pcb(C,v,!0);H=this.nc.cursorselectionlimit;var F=this.rt.wa(),I=new N(v[A].ec(),v[A].getValue());F=F.Ma(I);F=x.getX()-F.getX();Math.abs(F)<H&&this.nc.legends.visible?(B.Sgc(this.ZC(E.kc(),v,A)),B.ffc(this.wQc(E.kc(),A,B.L7b().formatter))):(B.Sgc(null),B.ffc(null))}}}.bind(this));this.DF&&this.DF.pb()}};d.prototype.N_d=function(z){if((null==z||-1!==this.H6().indexOf(z))&&this.eaa!==z){var x=this.eaa;this.eaa=z;this.tvb=null;this.EWc({id:z},{id:x})}};d.prototype.RSd=function(z){z=
xb(z,{});var x=new Q_(B0.gha,z.id,z.type);this.notify(B0.gha,this,x);if(!x.tEb()){x=this.eaa;var C=this.tvb;this.eaa=z.id;this.tvb=z.type;this.EWc(z,{id:x,type:C})}};d.prototype.EWc=function(z,x){z=xb(z,{});var C=new Q_(B0.Sy,z.id,z.type);this.notify(B0.Sy,this,C);C.tEb()||"function"==typeof this.QYb&&this.QYb(this,z,x)};d.prototype.TOd=function(z){if(z===F0.ILb||z===F0.olb||z===F0.lPa)switch(z){case F0.ILb:z="geotoolkit.controls.tools.scroll.CompactHorizontalScroll";break;case F0.olb:z=hS.Pa();break;
case F0.lPa:z=cS.Pa()}this.qQ&&this.qQ.Pa()===z||(null!=this.qQ&&(this.Dy(this.qQ.Mc()),this.qQ=null,this.R9a.rh()),this.qQ=iS.ya().nO(z,{name:"scroll",modellimits:this.Sc.oa(),visiblelimits:this.Sc.oa()}),null!=this.qQ&&(this.R9a.pa(this.qQ),this.qQ.Mc().addListener(TR.Yn,function(x,C){x=C.wb();x=new Kd(x.ka(),x.na());x=new J0(B0.WZa,x);this.Jxa(B0.WZa,this,x)}.bind(this)).addListener(TR.fw,function(x,C){x=C.wb();x=new Kd(x.ka(),x.na());x=new J0(B0.aZ,x);this.Jxa(B0.aZ,this,x)}.bind(this)).addListener(TR.mFb,
function(x,C){x=C.wb();x=new Kd(x.ka(),x.na());x=new J0(B0.aZ,x);this.Jxa(B0.aZ,this,x)}.bind(this)).addListener(TR.lFb,function(x,C){x=C.wb();x=new Kd(x.ka(),x.na());x=new J0(B0.WZa,x);this.Jxa(B0.WZa,this,x)}.bind(this)),this.Un(this.qQ.Mc()),this.Di()))};d.prototype.Jxa=function(z,x,C){z!==B0.aZ&&this.notify(z,x,C);C.tEb()||(this.CBa(C.kqa()),z===B0.aZ&&this.notify(z,x,C))};d.prototype.MOd=function(z){var x=null;null!=this.DF&&(x=z?null:this.DF.ga());this.kYd();this.DF=(new tR({data:this.rab,linestyle:Y.Ra(this.nc.legends.linestyle),
fillstyle:ug.fd(this.nc.legends.fillstyle)})).Zc("legendlayoutgroup").de((new ol).setDirection(this.nc.legends.direction));this.DF.va(this.nc.legends.visible);this.nc.legends.position===D0.kp?this.Q_.Xf(1,this.DF):(this.JRb.pa(this.DF),null!=x?this.DF.sa(x.clone()):this.DF.sa(new U(0,0,this.nc.legends.width,this.nc.legends.height)),this.DF.getParent().pa(this.Dsb=(new ni).hd(!0).nb("legendManipulator")),this.f6a=new C0({layer:this.Dsb,group:this.DF}),x=this.$b("panning"),null!=x?(z=x.jza(),x=z.Ifb(x),
z.vo(x,this.f6a)):this.Un(this.f6a))};d.prototype.kYd=function(){if(null!=this.DF){null!=this.f6a&&(this.f6a.dispose(),this.f6a=null);var z=this.DF.getParent();null!=z&&(null!=this.Dsb&&(z.removeChild(this.Dsb),this.Dsb=null),null!=this.DF&&(z.removeChild(this.DF),this.DF=null))}};d.prototype.ia=function(){return this.ta()};d.prototype.ta=function(){var z=this.nc;null==this.x$?delete z.modeloffsets:this.x$.modeloffsets={left:this.x$.ka(),right:this.x$.na()};return z};d.prototype.fa=function(z){return this.setOptions(z)};
d.prototype.setOptions=function(z){var x=!1,C=!1;var A=!0;if(null!=z){z=xb(z,{});if(null!=z.model)z.model!==this.Qga&&(null!==this.Qga&&this.Sc.removeChild(this.Qga),this.Qga=z.model,x=!0);else if(null===this.Qga){x=new Date;var v=new Date;x.setMonth(x.getMonth()-1);this.Qga=(new ni).Ha(new U(x.getTime(),0,v.getTime(),1));x=!0}z.modeloffsets&&this.n5c(z.modeloffsets);"boolean"===typeof z.automodellimitsmode&&(this.nc.automodellimitsmode=z.automodellimitsmode);z.margin instanceof Array&&4===z.margin.length&&
(this.nc.margin=z.margin);"boolean"===typeof z.viewcache&&(this.nc.viewcache=z.viewcache);z.alignaxis!==this.nc.alignaxis&&(C=!0,this.nc.alignaxis=z.alignaxis);null!=z.legends&&(A=this.nc.legends.position!==z.legends.position);v=xb(this.nc,{});this.nc=xb(z,v)}else z={};var B=v=0;this.hd(this.nc.automodellimitsmode);x&&(this.Sc.Ha(this.Qga.oa()),this.Sc.Xf(this.Sc.dl(this.ab),this.Qga));this.Q_.Na({top:this.nc.margin[0],right:this.nc.margin[1],bottom:this.nc.margin[2],left:this.nc.margin[3]});this.nc.title.visible||
this.nc.lastupdatedate.visible?(this.$I.va(!0),this.$I.Na({left:this.nc.title.padding[3],top:this.nc.title.padding[0],right:this.nc.title.padding[1],height:this.nc.title.height}),v+=this.nc.title.height):this.$I.va(!1);this.re.va(this.nc.title.visible).Eb(this.nc.title.text).kb(new Fi({font:this.nc.title.font,color:this.nc.title.color}));this.re.Zn(0);this.re.yc(O.Bd);this.lFa.va(this.nc.lastupdatedate.visible).kb(new Fi({font:this.nc.lastupdatedate.font,color:this.nc.lastupdatedate.color}));this.MOd(A);
this.DF.Na({left:0,right:0});this.nc.legends.visible&&this.nc.legends.position===D0.kp&&(this.DF.Na({left:0,top:v,height:this.nc.legends.height}),v+=this.nc.legends.height+this.nc.legends.marginbottom);this.FN.qa(Y.Ra(this.nc.tooltips.linestyle)).ra(ug.fd(this.nc.tooltips.fillstyle));void 0!==this.nc.modelgrid.horizontaltickgenerator&&null==this.qfa?this.V4.yg("Horizontal",this.nc.modelgrid.horizontaltickgenerator):null!=this.qfa&&this.nc.modelgrid.horizontaltickgenerator.constructor==={}.constructor&&
this.V4.yg("Horizontal",this.nc.modelgrid.horizontaltickgenerator);void 0!==this.nc.modelgrid.verticaltickgenerator&&((this.nc.modelgrid.verticaltickgenerator instanceof fj||this.nc.modelgrid.verticaltickgenerator instanceof Ek)&&this.nc.modelgrid.verticaltickgenerator.a3(this.nc.timezone),this.V4.yg("Vertical",this.nc.modelgrid.verticaltickgenerator));this.mtb.va(this.nc.modelaxis.visible);null==this.nc.modelaxis.tickgenerator&&(A=new fj,A.eS(this.Gu),A.Ss("edge",!1),A.Ss("major",!1),A.Ss("minor",
!1),A.zo("edge",null),A.zo("major",null),A.zo("minor",null),A.Nj("edge",null),A.Nj("major",new Y(m)),this.nc.modelaxis.tickgenerator=A);(this.nc.modelaxis.tickgenerator instanceof fj||this.nc.modelaxis.tickgenerator instanceof Ek)&&this.nc.modelaxis.tickgenerator.a3(this.nc.timezone);this.mtb.yg(this.nc.modelaxis.tickgenerator);this.mtb.nV(this.nc.modelaxis.baselinestyle,!1===this.nc.modelaxis.baselinestyle instanceof Y);this.R9a.va(this.nc.scrollbar.visible);this.TOd(this.nc.scrollbar.type);this.nc.scrollbar.visible&&
(this.R9a.Na({left:0,bottom:0,right:0,height:this.nc.scrollbar.height}),B+=this.nc.scrollbar.height,this.nc.scrollbar.options&&(this.nc.scrollbar.options.size=this.nc.scrollbar.options.size||this.nc.scrollbar.height));null==this.nc.scrollbar.tickgenerator?(A=new fj,A.eS(this.Gu),this.nc.scrollbar.tickgenerator=A):A=this.nc.scrollbar.tickgenerator;A instanceof fj&&(A.$ra("edge",this.nc.scrollbar.options.formatter),A.$ra("major",this.nc.scrollbar.options.formatter));A.nl("major").yo(this.nc.scrollbar.options.font);
A.nl("edge").yo(this.nc.scrollbar.options.font);A.nl("major").setColor(this.nc.scrollbar.options.color);A.nl("edge").setColor(this.nc.scrollbar.options.color);A.Gj("major").setColor(this.nc.scrollbar.options.color);A.Gj("edge").setColor(this.nc.scrollbar.options.color);A.Ss("minor",!1);null!=this.qQ.yg&&((this.nc.scrollbar.tickgenerator instanceof fj||this.nc.scrollbar.tickgenerator instanceof Ek)&&this.nc.scrollbar.tickgenerator.a3(this.nc.timezone),this.qQ.yg(this.nc.scrollbar.tickgenerator));this.qQ&&
this.qQ.setOptions&&this.nc.scrollbar.options&&this.qQ.setOptions(this.nc.scrollbar.options);this.m7a=this.pab=null;this.qab.va(this.nc.visiblerange.visible);this.nc.visiblerange.visible?(this.qab.Na({left:0,bottom:B,right:0,height:this.nc.visiblerange.height}),B+=this.nc.visiblerange.height,null!=this.pQ&&this.pQ.b2().Rb(!0),null!=this.dQ&&this.dQ.b2().Rb(!0)):(this.qab.Na({left:0,bottom:B,right:0,height:0}),null!=this.pQ&&this.pQ.b2().Rb(!1),null!=this.dQ&&this.dQ.b2().Rb(!1));this.fWb.kb(new Fi({font:this.nc.visiblerange.font,
color:this.nc.visiblerange.color}));this.QVb.kb(new Fi({font:this.nc.visiblerange.font,color:this.nc.visiblerange.color}));this.z6a.setOptions(this.nc.tooltips.tooltipoptions.index);A=this.AB.getIterator();A.forEach(function(E){null!=z.curvelimits&&E.U_a(z.curvelimits);null!=z.curvesymbol&&E.Tjb(z.curvesymbol);null!=z.curveaxis&&E.qZ(z.curveaxis);null!=z.tooltips&&null!=z.tooltips.tooltipoptions&&E.XIb(z.tooltips.tooltipoptions);null!=z.curvelimits&&null!=z.curvelimits.visible&&E.U_a({visible:z.curvelimits.visible});
null!=z.legends&&null!=z.legends.legendoptions&&(!0===this.nc.legends.autocolorlabel?z.legends.legendoptions.labelcolor=null:null==this.nc.legends.legendoptions.labelcolor&&(z.legends.legendoptions.labelcolor=m),E.qjb(z.legends.legendoptions))}.bind(this));this.Dwa.va(this.nc.curvesymbol.visible);this.TS.Na({width:this.p6b()});C&&this.i0d(this.nc.alignaxis);this.uxa();this.Gk.Na({left:0,top:v,right:0,bottom:B});this.nc.southaxis.visible?(this.Gk.fb($h.Ec).va(!0),this.Gk.fb($h.Ec).dm(this.nc.southaxis.height)):
this.Gk.fb($h.Ec).va(!1);this.TS.Na({left:this.nc.curvelimits.margin,top:this.nc.curvelimits.margin,bottom:this.nc.curvelimits.margin});null!=this.nc.southaxis.tickgenerator&&(A=this.nc.southaxis.tickgenerator,A.zo("major",new Fi({font:this.nc.southaxis.font,color:this.nc.southaxis.color,alignment:"center"})),A.zo("edge",A.nl("major")));(this.nc.southaxis.tickgenerator instanceof fj||this.nc.southaxis.tickgenerator instanceof Ek)&&this.nc.southaxis.tickgenerator.a3(this.nc.timezone);this.Jvb.yg(this.nc.southaxis.tickgenerator);
this.Jvb.va(this.nc.southaxis.visible);!0===this.nc.viewcache?null==this.rt.es()&&this.rt.Li(new mi):null!=this.rt.es()&&this.rt.Li(null);x&&this.CBa(new Kd(this.Qga.oa().ka(),this.Qga.oa().na()));this.nc.intervalbuttons=G(z.intervalbuttons,this.nc.intervalbuttons);this.nc.intervalbuttons.visible?this.pQ.va(!0):this.pQ.va(!1);this.nc.scrolltonowbutton.visible?this.dQ.va(!0):this.dQ.va(!1);void 0!==z.selectionstrategy&&(this.QYb=z.selectionstrategy);this.yBa(z.stack);this.sBa(z.percent);this.s1c(z.barmode);
this.u$c();this.rt.Mf();this.Q_.pb();this.Gk.pb();this.XBa();return this};d.prototype.wgb=function(z,x,C){if(!1!==C){var A=z.hY().Txb;var v=z.hY().min;var B=z.hY().max}z.W_a(x);!1!==C&&(z.hY().Txb=A,z.hY().min=v,z.hY().max=B);return this};d.prototype.yBa=function(z){if(null==z)return this;z.enabled=!0===z.enabled;if(this.xN.enabled===z.enabled)return this;this.xN=G(z,this.xN);if(!1===this.xN.enabled&&null!=this.oh)return this.oh.Hra(),this.oh=null,this;this.oh=new H0(this,this.xN);this.oh.apply();
return this};d.prototype.oLd=function(){return this.xN};d.prototype.sBa=function(z){if(null==z)return this;z.enabled=!0===z.enabled;if(this.SI.enabled===z.enabled)return this;this.SI=xb(z,this.SI);if(!1===this.SI.enabled&&null!=this.oh)return this.oh.Hra(),this.oh=null,this;this.oh=new E0(this,this.SI);this.oh.apply();return this};d.prototype.aJd=function(){return this.SI};d.prototype.s1c=function(z){this.OS=xb(z,this.OS);this.rt.gb(0)instanceof A0||this.rt.Xf(0,this.MDa);this.akc();this.MDa.fa(this.OS);
return this};d.prototype.dCd=function(){return this.OS};d.prototype.Cia=function(z){if(null==z)return this.MDa.Cia([]),this;z=Array.isArray(z)?z:[z];this.MDa.Cia(z);return this};d.prototype.i0d=function(z){z?(this.N_a(this.Gk.fb($h.lc),new G0),this.N_a(this.Gk.fb($h.Rc),new G0),this.m2c(new G0)):(this.N_a(this.Gk.fb($h.lc),new ll),this.N_a(this.Gk.fb($h.Rc),new ll),this.m2c(new ll))};d.prototype.N_a=function(z,x){for(var C,A=0;A<z.ac();++A)C=z.gb(A),x.add(C);z.de(x);return this};d.prototype.m2c=function(z){for(var x,
C=0;C<this.TS.ac();++C)x=this.TS.gb(C),z.add(x);this.TS.de(z);return this};d.prototype.H6=function(){var z=[];this.rt.Df().forEach(function(x){"function"===typeof x.kc&&null!=x.kc()&&z.push(x.kc())});return z};d.prototype.Uw=function(z){if(null==z)return null;var x=this.AB.getIterator();x=x.filter(function(C){return C.jh().curve.kc()===z});return null==x||0===x.length?null:x[0]};d.prototype.GAb=function(z){if(null==z)return null;z=this.Uw(z);return null!=z?z.getData():null};d.prototype.p6b=function(){var z=
0;this.AB.getIterator().forEach(function(x){z+=x.o6b().width});return z};d.prototype.xxb=function(z,x,C,A,v){return this.bUc(z,x,C,A,null,v)};d.prototype.bUc=function(z,x,C,A,v,B){null!=A&&void 0!==A.id&&hb("geotoolkit.widgets.TimeSeriesWidget.insertCurve(properties.id) is deprecated since 2020 (3.0). Use geotoolkit.widgets.TimeSeriesWidget.insertCurve(id) instead.");void 0!==z.properties&&void 0!==z.properties.id&&hb("geotoolkit.widgets.TimeSeriesWidget.insertCurve(name.properties.id) is deprecated since 2020 (3.0). Use geotoolkit.widgets.TimeSeriesWidget.insertCurve(id) instead.");
B=G(z,{name:"string"===typeof z?z:"",id:null!=B?B:"",uri:null!=x?x:"",data:null!=C?C:null,properties:null!=A?A:{},position:"number"===typeof v?v:null},!0);z=!0===this.xN.enabled;x=!0===this.SI.enabled;z&&this.yBa({enabled:!1,fillstyles:this.xN.fillstyles});x&&this.sBa({enabled:!1,fillstyles:this.SI.fillstyles});B=this.VGc(B,!1);z&&this.yBa({enabled:!0,fillstyles:this.xN.fillstyles});x&&this.sBa({enabled:!0,fillstyles:this.SI.fillstyles});this.uxa();this.Q_.pb();this.Gk.pb();this.rt.Mf();this.XBa();
return B};d.prototype.Vrd=function(z){return this.cUc(z)};d.prototype.cUc=function(z){if(!Array.isArray(z))return-1;var x=[];this.Gk.un();this.TS.un();this.Q_.un();for(var C=0;C<z.length;C++){var A=G(z[C],{name:"",id:"",uri:"",data:null,properties:{},position:null},!0);A=this.VGc(A,!0);x.push(A)}this.Gk.In();this.TS.In();this.uxa();this.Q_.In();this.Q_.pb();this.Gk.pb();this.rt.Mf();this.XBa();return 0<x.length?x:-1};d.prototype.VGc=function(z,x){var C=G(this.nc.curve,{},!0);z.properties=G(z.properties,
C,!0);if(null!=z.data&&!(z.data instanceof TH))throw Error('Data must be of type "geotoolkit.data.DataTableView" only.');z.id||(z.properties.id?z.id=z.properties.id:(z.id=z.uri,z.properties.id=z.id));C=z.id;var A=this.H6();0>A.indexOf(C)&&(this.zHc(z,x),this.akc());return C};d.prototype.zHc=function(z,x,C){var A=z.data,v=G(this.nc.curveaxis,{},!0);void 0!==z.properties.axisposition&&(v.position=z.properties.axisposition);void 0!==z.properties.axisautolabelrotation&&(v.autolabelrotation=z.properties.axisautolabelrotation);
void 0!==z.properties.titlerotateangle&&(v.titlerotateangle=z.properties.titlerotateangle);void 0!==z.properties.labelorientation&&(v.labelorientation=z.properties.labelorientation);void 0!==z.properties.title&&(v.title=z.properties.title);void 0!==z.properties.axisvisible&&(v.visible=z.properties.axisvisible);void 0!==z.properties.tickgeneratoroptions&&(v.tickgeneratoroptions=G(v.tickgeneratoroptions,z.properties.tickgeneratoroptions));void 0!==z.properties.microposition&&(v.microposition=z.properties.microposition);
z.properties.logarithmicscale&&(v.logarithmicscale=z.properties.logarithmicscale);v=new z0({id:z.id,uri:z.uri,name:z.name,curve:{data:A,properties:z.properties},curvesymbol:z.curvesymbol||this.nc.curvesymbol,curvelimits:this.nc.curvelimits,curveaxis:v,legenditem:this.nc.legends.legendoptions,tooltipitem:this.nc.tooltips.tooltipoptions});x&&v.ze(!0);v.on(m0.dOa,this.iAb());v.on(m0.Z1a,this.jAb());v.on(e0.vNb,this.POc());v.on(e0.NLb,this.jMc());v.on(e0.tOa,this.kMc());v.setData(A);v.jh().hAa.Ha(this.Sc.oa());
A=(new ni).Fd(z.id);this.rt.pa(A);A.pa(v.jh().hAa);C||(A.pa(v.jh().curve),this.Dwa.pa(v.jh().Zj),this.wgb(v,z.properties),"number"===typeof z.position?(this.AB.vo(z.position,v),this.FN.getData().vo(z.position,v.jh().NJb)):(this.AB.add(v),this.FN.getData().add(v.jh().NJb)),this.TS.Na({width:this.p6b()}).pa(v.jh().fWa),this.Gk.connect(v.jh().fWa.gb(0),v.jh().hAa,Rh.rb,!1),this.TS.De().add(v.jh().fWa),this.Q_.pb());A=v.jh().axis;var B=v.jh().Dxa,E=v.jh().vVa;void 0===z.properties.axisposition&&(z.properties.axisposition=
this.nc.curveaxis.position);if("left"===z.properties.axisposition){var H=this.$ta;var F=$h.lc}else"right"===z.properties.axisposition&&(H=this.Zta,F=$h.Rc);H&&H.push(z.properties.id);"left"===z.properties.axisposition?(this.Gk.bD(0,B,F),this.Gk.bD(0,E,F)):(this.Gk.$r(B,F),this.Gk.$r(E,F));this.Gk.connect(A,v.jh().hAa,Rh.rb,!1);C||(C=v.jh().gRd,"number"===typeof z.position?this.rab.vo(z.position,C):this.rab.add(C),z=this.H6(),null!=z&&1===z.length&&this.kjb(z[0]));x&&v.ze(!1);return v};d.prototype.AKa=
function(){null==this.MTb&&(this.MTb=function(){var z=this.qfa;var x=this.V4.getParent();if(null!=this.qfa&&(z=this.Uw(z),null!=z&&null!=z.jh()&&(z=z.jh().hAa,null!=z))){var C=x.oa();x.Ha(new U(C.ka(),z.oa().la(),C.na(),z.oa().ma()))}}.bind(this));return this.MTb};d.prototype.sMc=function(){null==this.LTb&&(this.LTb=function(z,x,C){null!=C.old&&C.old.za(uH.Td,this.AKa());if(null!=C["new"])C["new"].on(uH.Td,this.AKa())}.bind(this));return this.LTb};d.prototype.iAb=function(z,x,C){null==this.WPb&&(this.WPb=
function(A,v,B){if(null!=v&&null!=B){v=v.jh();A=v.Dxa;v=v.vVa;if("left"===B.oldposition){var E=this.$ta;var H=$h.lc}else"right"===B.oldposition&&(E=this.Zta,H=$h.Rc);E&&E.splice(E.indexOf(B.id),1);if("left"===B.axisposition){E=this.$ta;var F=$h.lc}else"right"===B.axisposition&&(E=this.Zta,F=$h.Rc);E&&E.push(B.id);this.Gk.removeItem(A,H);this.Gk.removeItem(v,H);F===$h.lc?(this.Gk.bD(0,A,F),this.Gk.bD(0,v,F)):F===$h.Rc&&(this.Gk.$r(A,F),this.Gk.$r(v,F));this.uxa();this.Q_.pb();this.Gk.pb();this.rt.Mf()}}.bind(this));
return this.WPb};d.prototype.jAb=function(z,x,C){null==this.YPb&&(this.YPb=function(A,v,B){this.uxa();this.Q_.pb();this.Gk.pb();this.TS.pb();this.rt.Mf();this.XBa()}.bind(this));return this.YPb};d.prototype.POc=function(z,x,C){null==this.UUb&&(this.UUb=function(){this.DF.pb()}.bind(this));return this.UUb};d.prototype.jMc=function(z,x,C){null==this.hRb&&(this.hRb=function(){this.TS.pb();this.Gk.DV()}.bind(this));return this.hRb};d.prototype.kMc=function(z,x,C){null==this.iRb&&(this.iRb=function(A,
v,B){this.rt.ha();this.ha();A=B.old;B=B["new"];null!=A&&A.za(uH.Td,this.q6b());if(null!=B)B.on(uH.Td,this.q6b())}.bind(this));return this.iRb};d.prototype.q6b=function(){null==this.jRb&&(this.jRb=function(){this.rt.ha()}.bind(this));return this.jRb};d.prototype.kjb=function(z){if(null==this.V4||this.qfa===z)return this;var x=this.V4.getParent();x.Ha(new U(0,0,1,1));null!=this.qfa&&(x=this.Uw(this.qfa),null!=x&&null!=x.jh()&&(x.za(e0.tOa,this.sMc()),x.getData().za(uH.Td,this.AKa()),x.jh().curve.za(p0.VOa,
this.AKa())),this.qfa=null);this.qfa=z;null!=z?(x=this.Uw(z),null!=x&&null!=x.jh()&&(this.AKa().call(this),x.on(e0.tOa,this.sMc()),x.getData().on(uH.Td,this.AKa()),x.jh().curve.on(p0.VOa,this.AKa()),null!=this.V4&&null!=x.jh().axis&&(z=x.jh().axis.Oe().clone(),z.Nj("major",new Y(p.major)).Nj("minor",new Y(p.minor)).Nj("edge",new Y(p.edge)),z.$g("major",this.nc.modelgrid.horizontalvisibility.major).$g("minor",this.nc.modelgrid.horizontalvisibility.minor).$g("edge",this.nc.modelgrid.horizontalvisibility.edge),
this.V4.yg(Rh.yb,z)))):this.V4.yg(Rh.yb,this.nc.modelgrid.horizontaltickgenerator);this.V4.Oe(Rh.rb).$g("major",this.nc.modelgrid.verticalvisibility.major).$g("minor",this.nc.modelgrid.verticalvisibility.minor).$g("edge",this.nc.modelgrid.verticalvisibility.edge);this.Di();return this};d.prototype.U0b=function(z,x,C,A,v){C=G(z,{id1:"string"===typeof z?z:null,id2:x,fillstyle:null!=C?C:null,filltype:null!=A?A:null,filldirection:null!=v?v:c0.Ed});if(null!=C.id1&&null!=C.fillstyle&&null!=C.filltype&&
null!=C.filldirection){var B=null,E=null;C.fillstyle=ug.fd(C.fillstyle);switch(C.filldirection){case c0.qb:E=C.fillstyle;break;case c0.Ed:B=C.fillstyle;break;default:return}this.w_a(C.id1,C.filldirection);switch(A){case b0.PLb:z=this.Urd(z,x,null,B,E);break;case b0.nmc:z=this.$Cc(z,x,null,B,E);break;case b0.OLb:z=this.$Cc(z,Number.MAX_VALUE,null,B,E,C.filldirection);break;default:return}x=this.Uw(C.id1);x.JZc(v,C,z);this.rt.Mf()}};d.prototype.w_a=function(z,x){z=G(z,{curveId:"string"===typeof z?z:
null,filldirection:x});if(null!=z.curveId)if(null==z.filldirection)this.w_a(z.curveId,c0.qb),this.w_a(z.curveId,c0.Ed);else{var C=this.Uw(z.curveId);if(null!=C){var A=C.jh();null!=A&&null!=A.Dzb&&null!=A.Dzb[x]&&(A.Dzb[x].dispose(),this.rt.removeChild(A.Dzb[x]),C.JZc(z.filldirection,null,null))}}};d.prototype.lMc=function(z){z=G(z,{curveId:"string"===typeof z?z:null});z=this.Uw(z.curveId);return null!=z?z.jh().BA:null};d.prototype.xDd=function(z,x){z=G(z,{curveId:"string"===typeof z?z:null,filldirection:x});
if(null==z.curveId)return null;x=this.Uw(z.curveId);return null!=x&&null!=x.jh().BA[z.filldirection]?x.jh().BA[z.filldirection].fillstyle:null};d.prototype.Urd=function(z,x,C,A,v){x=G(z,{id1:"string"===typeof z?z:null,id2:"string"===typeof x?x:null,fillstyle:null!=C?C:null,positivefillstyle:null!=A?A:null,negativefillstyle:null!=v?v:null},!0);if(null==x.id1||null==x.id2)return null;z=this.Uw(x.id1).jh();C=this.Uw(x.id2).jh();if(null==z||null==C)return null;x=new y0(z.curve,C.curve,x.fillstyle,x.positivefillstyle,
x.negativefillstyle);z=this.rt.dl(z.curve);this.rt.Xf(z,x);return x};d.prototype.$Cc=function(z,x,C,A,v,B){x=G(z,{id1:"string"===typeof z?z:null,value:"number"===typeof x?x:null,fillstyle:null!=C?C:null,filldirection:null!=B?B:null,positivefillstyle:null!=A?A:null,negativefillstyle:null!=v?v:null},!0);if(null==x.id1||null==x.value)return null;z=this.Uw(x.id1).jh();if(null==z)return null;C=new w0(x.value,z.curve,x.filldirection);x=new y0(z.curve,C,x.fillstyle,x.positivefillstyle,x.negativefillstyle);
z=this.rt.dl(z.curve);this.rt.Xf(z,x);return x};d.prototype.YXd=function(z){var x=null,C,A=this.Uw(z);if(null==A)return this;for(C=0;C<this.$ta.length&&null==x;++C)if(this.$ta[C]===z||this.$ta[C]instanceof Array&&0<=this.$ta[C].indexOf(z))x=$h.lc,this.$ta.splice(C,1);for(C=0;C<this.Zta.length&&null==x;++C)if(this.Zta[C]===z||this.Zta[C]instanceof Array&&0<=this.Zta[C].indexOf(z))x=$h.Rc,this.Zta.splice(C,1);if(!x)return this;null!=A.jh&&(z=A.jh(),null!=z.Dxa&&this.Gk.removeItem(z.Dxa,x),null!=z.vVa&&
this.Gk.removeItem(z.vVa,x));this.uxa();return this};d.prototype.uxa=function(){for(var z=this.nc.alignaxis,x=[$h.lc,$h.Rc],C,A,v,B=0;B<x.length;++B){C=this.Gk.fb(x[B]);A=this.hTc();A=A.getIterator().filter(function(H){H=H.sJ().labelorientation;return"number"===typeof H&&0!==H});0<A.length?C.bf(!1):C.bf(!0);for(var E=A=0;E<C.ac();++E)v=C.gb(E),v.Ia()&&(A=z?Math.max(A,v.Tk()):A+v.Tk());C.Em(A)}x=z=0;this.Gk.fb($h.lc).Ia()&&(z=this.Gk.fb($h.lc).Tk());this.Gk.fb($h.Rc).Ia()&&(x=this.Gk.fb($h.Rc).Tk());
z=null==z?0:z;x=null==x?0:x;this.R9a.Na({left:z,right:x});this.nc.legends.position===D0.kp&&(!0===this.nc.legends.alignwithcentermodel?this.DF.Na({left:z,right:x}):this.DF.Na({left:0,right:0}));return this};d.prototype.XZc=function(z){if(null!=z){var x=!0===this.xN.enabled,C=!0===this.SI.enabled;x&&this.yBa({enabled:!1,fillstyles:this.xN.fillstyles});C&&this.sBa({enabled:!1,fillstyles:this.SI.fillstyles});var A=z;z instanceof Array||(A=[z]);var v=null,B=!1;for(z=0;z<A.length;++z)v=this.Uw(A[z]),A[z]===
this.qfa&&(this.kjb(null),B=!0),null!=v&&null!=v.mDb()&&v.mDb().xGb(v);v=function(I){null!=I&&(this.rab.getIterator().forEach(function(J){I===J.Kd()&&this.rab.remove(J)}.bind(this)),this.FN.getData().getIterator().forEach(function(J){I.jh().NJb===J&&this.FN.getData().remove(J)}.bind(this)))}.bind(this);var E=function(I){var J=this.H6(),K,M=[c0.qb,c0.Ed];J.forEach(function(P){K=this.lMc(P);M.forEach(function(R){null==K||null==K[R]||K[R].id2!==I&&K[R].id1!==I||this.w_a(K[R].id1,K[R].filldirection)}.bind(this))}.bind(this))}.bind(this),
H=!1;for(z=0;z<A.length;++z){var F=this.Uw(A[z]);null!=F&&(H=F.jh(),this.Gk.disconnect(H.fWa.gb(0)),this.Gk.disconnect(H.axis),E(A[z]),this.YXd(A[z]),F.getData().za(uH.Td,this.q6b()),F.za(m0.dOa,this.iAb()),F.za(m0.Z1a,this.jAb()),F.za(e0.vNb,this.POc()),F.za(e0.NLb,this.jMc()),F.za(e0.tOa,this.kMc()),this.rt.removeChild(H.curve.getParent()),this.rt.Mf(),this.Dwa.removeChild(H.Zj),this.TS.De().remove(H.fWa),this.TS.removeChild(H.fWa),this.TS.Na({width:this.p6b()}),this.eaa===A[z]&&(this.tvb=this.eaa=
null),H=!0,v(F),F.dispose(),this.AB.remove(F))}B&&(A=this.H6(),0<A.length&&this.kjb(A[0]));H&&(this.Q_.pb(),this.Gk.pb(),this.XBa());x&&this.yBa({enabled:!0,fillstyles:this.xN.fillstyles});C&&this.sBa({enabled:!0,fillstyles:this.SI.fillstyles});this.akc()}return this};d.prototype.mMc=function(z){return null==z||null==this.Uw(z)?null:this.Uw(z).Yl()};d.prototype.pb=function(z){KZ.prototype.pb.call(this,z);this.AB.getIterator().forEach(function(x){x.pb()})};d.prototype.oQe=function(z,x){if(null==z||
null==x)return this;!0===this.nc.legends.autocolorlabel?x.labelcolor=null:null==this.nc.legends.legendoptions.labelcolor&&(x.labelcolor=m);z.setOptions(x);return this};d.prototype.puc=function(z){if("function"===typeof this.nc.visiblerange.formatter)return this.nc.visiblerange.formatter(z);null==this.pab&&(this.pab=b(this.Kqb,this.nc.visiblerange.formatter,this.Gu));return this.pab.format(new Date(z))};d.prototype.XSb=function(z){if("function"===typeof this.nc.lastupdatedate.formatter)return this.nc.lastupdatedate.formatter(z);
null==this.m7a&&(this.m7a=b(this.Kqb,this.nc.lastupdatedate.formatter,this.Gu));return this.m7a.format(new Date(z))};d.prototype.n5c=function(z){this.x$=kg.Qe(this,this.x$,z,!0,this.Mnd);null!=this.d0&&(z=this.Sc.oa().clone().setX(this.d0.ka()).Qa(this.d0.ca()),this.Sc.Ha(z),this.d0=null);this.xa();this.Di();this.ha();return this};d.prototype.THd=function(){return null==this.x$?null:{left:this.x$.ka(),right:this.x$.na()}};d.prototype.pq=function(){KZ.prototype.pq.call(this);this.gad();return this};
d.prototype.gad=function(){if(null==this.x$){if(null!=this.d0){var z=this.Sc.oa().clone().setX(this.d0.ka()).Qa(this.d0.ca());this.Sc.Ha(z);this.d0=null}return this}z=this.Sc.wa();var x=this.x$.convert(),C=Hd.sb(x.left,0,z),A=Hd.sb(x.width,0,z),v=Hd.sb(0,x.top,z);x=Hd.sb(0,x.height,z);z=this.Sc.oa().clone();null!=this.d0&&z.setX(this.d0.ka()).Qa(this.d0.ca());this.d0=z;z=z.clone().setX(z.ka()-C).Qa(z.ca()+A).setY(z.la()-v).$a(z.da()+x);this.Sc.Ha(z);return this};d.prototype.Di=function(){this.gad();
var z=this.Sc.oa(),x=this.Sc.wb(),C=this.Jvb.Oe();if(C instanceof fj){C.eS(this.Gu);var A=x.na()-x.ka();A<=k?(C.$ra("major","H:i:s"),C.$ra("edge","H:i:s")):A<=l?(C.$ra("major","H:i"),C.$ra("edge","H:i")):(C.$ra("major","M j, Y"),C.$ra("edge","M j, Y"))}this.fWb.Eb(this.puc(x.ka()));this.QVb.Eb(this.puc(x.na()));this.nc.lastupdatedate.followcursor&&this.Apb.isEnabled()||this.lFa.Eb(this.XSb(z.na()));null!=this.qQ&&this.qQ.Ha(z,x);x=this.V4.getParent().oa();this.V4.getParent().Ha(new U(z.ka(),x.la(),
z.na(),x.ma()));this.Owb.Ha(z);this.Nwb.Ha(z);this.XBa()};d.prototype.XBa=function(){var z=!1,x=this.JRb,C=X.Vd(this.Sc.fj(),this.Sc.wb()),A=this.Sc.fj().clone();C.Ua(A,A);A.Gi(x.ga())||(x.sa(A),z=!0);C=new U(0,0,this.Sc.fj().ca(),this.Sc.fj().da());C.Gi(x.oa())||(x.Ha(C),z=!0);!0===z&&this.Gk.DV()};d.prototype.xXd=function(){this.cnd.Mf();this.Owb.Mf();this.Nwb.Mf();this.rt.Mf();this.ab.Mf();this.Aea.Mf();this.zta.Mf();this.JRb.Mf();return this};d.prototype.Wm=function(){var z=this.Sc.oa();return new Kd(z.ka(),
z.na())};d.prototype.vj=function(z){var x=new U(this.Sc.oa());if(x.ka()!==z.Ta()||x.na()!==z.Ya())x.setX(z.Ta()),x.Qa(z.Ya()-z.Ta()),this.Sc.Ha(x),this.d0=null,this.Di(),this.rt.Mf();return this};d.prototype.kqa=function(){var z=this.Sc.wb();return new Kd(z.ka(),z.na())};d.prototype.CBa=function(z){if(null==z)return this;z.getSize()<f&&(z.Ta()+f<this.Sc.oa().na()?z.vj(z.Ta(),z.Ta()+f):z.Ya()-f>this.Sc.oa().ka()?z.vj(z.Ya()-f,z.Ya()):z.vj(this.Sc.oa().ka(),this.Sc.oa().na()));var x=new U(this.Sc.oa());
x.setX(z.Ta());x.Qa(z.Ya()-z.Ta());this.Gk.fy(x);null!=this.EYb&&1<Math.abs(this.EYb-(z.Ya()-z.Ta()))&&(this.pQ.Kjc(ZZ.dnb),this.EYb=null);this.Di();return this};d.prototype.dF=function(z){this.Gk.dF(z,0);this.Di();return this};d.prototype.Gt=function(z){this.Gk.Gt(z,1);this.Di();this.rt.Mf();return this};d.prototype.Hda=function(){this.Gt(1.25);return this};d.prototype.Ida=function(){this.Gt(.8);return this};d.prototype.s1=function(){var z=this.Sc.oa();this.CBa(new Kd(z.ka(),z.na()));return this};
d.prototype.RSc=function(){return k0.b$b(this.DDa,"annotation_")};d.prototype.MMd=function(){var z=k0.b$b(this.NPa,"annotation_line_collection_");this.NPa.push(z);return z};d.prototype.Lrd=function(z){null==z&&(z={});z.id=this.RSc();this.Aea.pa([new g0(z)]);this.DDa.push(z.id);return z.id};d.prototype.Mrd=function(z){if(!Array.isArray(z))return null;for(var x=this.MMd(),C=new ni({id:x}),A=0;A<z.length;A++){var v=z[A]||{};v.id=x+"_"+A;C.pa([new g0(v)])}this.zta.pa(C);return x};d.prototype.QXd=function(z){return this.nja(z)};
d.prototype.RXd=function(z){if(null==z)return this;var x=this.YKc(z);null!=x&&(this.zta.removeChild(x),x.dispose(),-1!==this.NPa.indexOf(z)&&this.NPa.splice(this.NPa.indexOf(z),1));return this};d.prototype.XId=function(z){return z&&z.replace(/_\d+$/,"")};d.prototype.Ozd=function(z,x){return this.Wxa(z,x)};d.prototype.loa=function(z){var x=null;if(null==z||null==z.curveid||null==z.time)return x;var C=this.Uw(z.curveid);if(null==C||!(C instanceof z0))return x;var A=z.time;if(isNaN(A))return x;var v=
C.jh();if(null==v.curve||null==v.curve.getData())return x;x=v.curve;v=x.$Xa();var B=v.samples;A=k0.Pcb(A,B);v=B[A].getValue();A=B[A].ec();v=(x.getParent().oa().ma()-v)/x.getParent().oa().da()*this.Aea.oa().da();x={};B=this.RSc();x.id=B;x.point=new N(A,v);x.label=z.label;x.textstyle=z.textstyle;x.symbol=k0.zCb(z.symbol);x.linestyle=z.linestyle;x.textbackground=z.textbackground;x.fillstyle=z.fillstyle;x.symbolsize=z.symbolsize;x.timeseriesobject=C;z=new f0({id:B});this.Aea.pa(z);this.DDa.push(x.id);
z.setOptions(x);return x.id};d.prototype.Wxa=function(z,x){if(null==z)return"";var C=this.dAb(z);null!=C&&(null!=x.symbol&&(x.symbol=k0.zCb(x.symbol)),C.setOptions(x));return z};d.prototype.nja=function(z){if(null==z)return this;var x=this.dAb(z);null!=x&&(this.Aea.removeChild(x),x.dispose(),-1!==this.DDa.indexOf(z)&&this.DDa.splice(this.DDa.indexOf(z),1));return this};d.prototype.dAb=function(z){if(null==z)return null;var x=this.DDa.indexOf(z),C;if(-1<x&&null!=this.Aea.gb(x)&&this.Aea.gb(x).ta().id===
z)return this.Aea.gb(x);x=0;for(C=this.Aea.ac();x<C;x++){var A=this.Aea.gb(x);if(A instanceof g0&&A.ta().id===z)return A}return null};d.prototype.YKc=function(z){if(null==z)return null;var x=this.NPa.indexOf(z),C;if(-1<x&&null!=this.zta.gb(x)&&this.zta.gb(x).ia().id===z)return this.zta.gb(x);x=0;for(C=this.zta.ac();x<C;x++){var A=this.zta.gb(x);if(A instanceof ni&&A.ia().id===z)return A}return null};d.prototype.RBd=function(z){return this.$Kc(z)};d.prototype.$Kc=function(z){var x={id:z},C=this.dAb(z);
null==C&&(C=this.QBd(z));null!=C&&(x=G(x,C.ia()));return x};d.prototype.QBd=function(z){var x=null,C=this.XId(z);if(C=this.YKc(C))for(var A=C.ac(),v=0;v<A;++v){var B=C.gb(v);B instanceof g0&&z===B.ta().id&&(x=B)}return x};d.prototype.lh=function(){var z=3;if(null!=this.pQ){var x=Math.max(this.fWb.ca(),150);this.pQ.sa(new U(x,z,x+this.pQ.Tk(),z+this.pQ.se()))}null!=this.dQ&&(x=this.qab.oa().ca()-Math.max(this.QVb.ca()-this.dQ.Tk(),150),this.dQ.sa(new U(x,z,x+this.dQ.Tk(),z+this.dQ.se())))};d.prototype.hTc=
function(){return this.AB};d.prototype.h0c=function(z){if(this.nc.title.visible){var x=this.lFa.getBoundingBox(z);if(null!=x){x=this.lFa.Ia()?x.ca():0;var C=0<x?t:0;z=z.Ea().transform(this.$I.ga()).ca();var A=this.nc.title.centered;A?(A=sg.measureText(this.re.me(),this.re.jb()).ca(),x=z-x-C,C=z-A,C=0<C?C/2:0,z=C/z,z=0>z?0:z,this.re.Zn(z),z=x-C):(this.re.Zn(0),z=z-x-C);this.re.va(0<z);this.re.Qa(z)}}};d.prototype.render=function(z){this.h0c(z);this.lh();KZ.prototype.render.call(this,z)};d.prototype.Fe=
function(z,x){this.h0c(z);this.lh();KZ.prototype.Fe.call(this,z,x)};d.prototype.Jud=function(z,x,C){var A=!0===this.xN.enabled,v=!0===this.SI.enabled;A&&this.yBa({enabled:!1,fillstyles:this.xN.fillstyles});v&&this.sBa({enabled:!1,fillstyles:this.SI.fillstyles});var B=ff(this.rt).vc(function(H){return"function"===typeof H.kc&&H.kc()===z}).ug(),E=ff(this.rt).vc(function(H){return"function"===typeof H.kc&&H.kc()===C}).ug();this.rt.lyb(B,x,E);A&&this.yBa({enabled:!0,fillstyles:this.xN.fillstyles});v&&
this.sBa({enabled:!0,fillstyles:this.SI.fillstyles});return this};d.prototype.H9d=function(z,x){x||(x=this.Sc.wb());x=x.na();z=x-z;z=new J0(B0.WZa,new Kd(z,x));this.Jxa(B0.aZ,this,z);return this};d.prototype.I_d=function(){var z=this.Wm(),x=this.kqa(),C=z.Ya();z=z.Ya()-(x.Ya()-x.Ta());this.CBa(new Kd(z,C));return this};d.prototype.ZC=function(z,x,C){if(!0===this.xN.enabled)return this.oh.fia()[z].y[C];if(!0===this.SI.enabled){var A=0;Object.keys(this.oh.fia()).forEach(function(v){A+=this.oh.fia()[v].y[C]}.bind(this));
return z=this.oh.fia()[z].y[C]/A*100}return x[C].ZC()};d.prototype.wQc=function(z,x,C){C=C||{format:function(A){return A}};return null!=this.SI.tooltip&&!0===this.SI.tooltip.showoriginalvalue?"% ("+C.format(this.oh.fia()[z].y[x]):""};d.prototype.akc=function(){var z=this.AB.getIterator().toArray();if(0===z.length)return this.MDa.UIb(null),this;this.MDa.UIb(z);return this};d.prototype.Hyb=function(z,x,C,A,v){C=G(z,{id:null!=z?z:"",curveids:null!=x?x:[],curveaxis:null!=v?v:{},min:null!=C?C:null,max:null!=
A?A:null},!0);z=C.id;x=null;var B=[];C.curveids.forEach(function(J){J=this.Uw(J);null!=J&&B.push(J)}.bind(this));if(null==C.min){var E=Number.MAX_VALUE;B.forEach(function(J){null!=J&&null!=J.Yl&&null!=J.Yl().min&&J.Yl().min<E&&(E=J.Yl().min)});C.min=E!==Number.MAX_VALUE?E:0}if(null==C.max){var H=Number.MIN_VALUE;B.forEach(function(J){null!=J&&null!=J.Yl&&null!=J.Yl().max&&J.Yl().max>H&&(H=J.Yl().max)});C.max=H!==Number.MIN_VALUE?H:1}var F=[];this.$qb.getIterator().forEach(function(J){F.push(J.kc())});
if(0>F.indexOf(z))x=new I0(C),x.Ne(B),this.$qb.add(x),x.on(m0.dOa,this.iAb()),x.on(m0.Z1a,this.jAb());else return null;C=x.jh().Dxa;A=x.jh().vVa;x=x.sJ();if("left"===x.position)var I=$h.lc;else"right"===x.position&&(I=$h.Rc);"left"===x.position?(this.Gk.bD(0,C,I),this.Gk.bD(0,A,I)):(this.Gk.$r(C,I),this.Gk.$r(A,I));this.uxa();this.Q_.pb();this.Gk.pb();this.TS.pb();this.rt.Mf();this.XBa();return z};d.prototype.pib=function(z){z=this.JNc(z);if(null==z)return this;var x=z.sJ(),C=z.jh().Dxa,A=z.jh().vVa;
if("left"===x.position)var v=$h.lc;else"right"===x.position&&(v=$h.Rc);this.Gk.removeItem(C,v);this.Gk.removeItem(A,v);z.PXd();this.$qb.remove(z);z.za(m0.dOa,this.iAb());z.za(m0.Z1a,this.jAb());this.uxa();this.Gk.pb();this.XBa();return this};d.prototype.JNc=function(z){if(null==z)return null;var x=this.$qb.getIterator();x=x.filter(function(C){return C.kc()===z});return null==x||0===x.length?null:x[0]};d.prototype.dNd=function(){return this.Owb};d.prototype.cNd=function(){return this.Nwb};d.prototype.pAd=
function(z){null==z&&(z={});var x=this.getRoot(),C=x.ga(),A=Zd.ya().Xa("px");A=zj.ya().IH("A4",A,vj.Nmb);A={paperformat:A,top:.5,bottom:.5,left:.5,right:.5,units:"in",orientation:"Landscape",scaling:"FitBoth",keepaspectratio:!0,continuous:!1};A={footer:null,header:null,output:"PDF Output",save:!1,printsettings:A,limits:null,scale:1};var v=G(z,A,!0);z=new oj(x,C);z.sa(C);z=[z];C=new qj(z,new im(C.ca(),C.da()));C=new em(C,v.header,v.footer,!0);var B=new mF;Array.isArray(v.embededfonts)&&(z=v.embededfonts,
z.forEach(function(H){B.Xoa(H.subType,H.fontName,H.fontWeight,H.fontStyle,H.fontBase64EncodedFile,H.encoding)}));v.imagecompression&&B.Kja(v.imagecompression.mode,v.imagecompression.quality,v.imagecompression.speed||CE.N3);null!=v.streamcompression&&B.Sja(v.streamcompression);z=oc(v.pdfstream,np)?v.pdfstream:new vp;x=this.$b("cursor");var E=this.ta().scrollbar.visible;x&&(this.setOptions({scrollbar:{visible:!1}}),x.setPosition(new N(NaN,NaN)));return B.SIa(C,v.printsettings,z).then(function(H){H.save(v.output,
v.save);E&&this.setOptions({scrollbar:{visible:!0}});return H}.bind(this),function(H){throw H;})};d.prototype.gj=function(z,x){if(0===this.AB.Qo())return[];x=x||this.AB.get(0).jh().curve.wa();var C=x.rd(z),A=[];this.AB.getIterator().forEach(function(v){var B=v.kc(),E=v.jh().curve,H=v.jh().Zj,F=E.$Xa().samples,I=k0.Pcb(C.getX(),F,!0),J;if(null!=I&&!0===E.Ia()&&null!=E.getData())if(null!=v.Yl()&&null!=v.Yl().unit&&(J=v.Yl().unit instanceof Wd?v.Yl().unit.cd():v.Yl().unit),0===F.length)A.push({id:B,
curve:E,color:E.Fa().mb(),symbol:H,name:E.Ga(),index:I,position:null,value:null,originalvalue:null,unit:" ("+J+")"});else{v=F[I].ZC();if(!0===this.SI.enabled||this.xN.enabled)v=this.oh.fia()[E.kc()].y[I];A.push({id:B,curve:E,color:E.Fa().mb(),symbol:H,name:E.Ga(),index:I,position:F[I].ec(),value:F[I].getValue(),originalvalue:v,unit:" ("+J+")"})}}.bind(this));return A};d.prototype.dispose=function(){this.kjb(null);this.XZc(this.H6());this.MDa.dispose();KZ.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRMb2NhbGUiOiJlUyIsImdldExvY2FsZSI6Ik82IiwiaW5pdGlhbGl6ZUxheW91dCI6Ik1BIiwiaW5pdGlhbGl6ZVRvb2xzIjoicGkiLCJzZWxlY3RDdXJ2ZUJ5SWQiOiJOX2QiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRPcHRpb25zIjoidGEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJzZXRTdGFja01vZGUiOiJ5QmEiLCJnZXRTdGFja01vZGUiOiJvTGQiLCJzZXRQZXJjZW50TW9kZSI6InNCYSIsImdldFBlcmNlbnRNb2RlIjoiYUpkIiwic2V0QmFyTW9kZSI6InMxYyIsImdldEJhck1vZGUiOiJkQ2QiLCJoaWdobGlnaHRCYXJzIjoiQ2lhIiwiZ2V0Q3VydmVzIjoiSDYiLCJnZXRUaW1lU2VyaWVzT2JqZWN0QnlJZCI6IlV3IiwiZ2V0RGF0YUJ5SWQiOiJHQWIiLCJhZGRDdXJ2ZSI6Inh4YiIsImluc2VydEN1cnZlIjoiYlVjIiwiYWRkQ3VydmVzIjoiVnJkIiwiaW5zZXJ0Q3VydmVzIjoiY1VjIiwiY3JlYXRlVGltZVNlcmllc09iamVjdCI6InpIYyIsInNldEhvcml6b250YWxHcmlkQ3VydmVSZWZlcmVuY2UiOiJramIiLCJhZGRGaWxsIjoiVTBiIiwicmVtb3ZlQ3VydmVGaWxsIjoid19hIiwiZ2V0Q3VydmVGaWxscyI6ImxNYyIsImdldEN1cnZlRmlsbFN0eWxlIjoieERkIiwicmVtb3ZlQ3VydmUiOiJYWmMiLCJnZXRDdXJ2ZVByb3BlcnRpZXMiOiJtTWMiLCJ1cGRhdGVMYXlvdXQiOiJwYiIsInNldE1vZGVsT2Zmc2V0cyI6Im41YyIsImdldE1vZGVsT2Zmc2V0cyI6IlRIZCIsInVwZGF0ZVNjZW5lVHJhbnNmb3JtYXRpb24iOiJwcSIsInJlYnVpbGRMYXllcnMiOiJ4WGQiLCJnZXRSYW5nZSI6IldtIiwic2V0UmFuZ2UiOiJ2aiIsImdldFZpc2libGVSYW5nZSI6ImtxYSIsInNldFZpc2libGVSYW5nZSI6IkNCYSIsInRyYW5zbGF0ZU1vZGVsIjoiZEYiLCJzY2FsZU1vZGVsIjoiR3QiLCJ6b29tSW4iOiJIZGEiLCJ6b29tT3V0IjoiSWRhIiwiZml0VG9Cb3VuZHMiOiJzMSIsImFkZEFubm90YXRpb25MaW5lIjoiTHJkIiwiYWRkQW5ub3RhdGlvbkxpbmVDb2xsZWN0aW9uIjoiTXJkIiwicmVtb3ZlQW5ub3RhdGlvbkxpbmUiOiJRWGQiLCJyZW1vdmVBbm5vdGF0aW9uTGluZUNvbGxlY3Rpb24iOiJSWGQiLCJlZGl0QW5ub3RhdGlvbkxpbmUiOiJPemQiLCJhZGRBbm5vdGF0aW9uIjoibG9hIiwiZWRpdEFubm90YXRpb24iOiJXeGEiLCJyZW1vdmVBbm5vdGF0aW9uIjoibmphIiwiZ2V0QW5ub3RhdGlvbkxpbmVQcm9wZXJ0aWVzIjoiUkJkIiwiZ2V0QW5ub3RhdGlvblByb3BlcnRpZXMiOiIkS2MiLCJyZW5kZXJBc3luYyI6IkZlIiwiY2hhbmdlVmlzdWFsT3JkZXIiOiJKdWQiLCJjcmVhdGVHcm91cCI6Ikh5YiIsInJlbW92ZUdyb3VwIjoicGliIiwiZ2V0R3JvdXBCeUlkIjoiSk5jIiwiZ2V0VmlzdWFsRnJvbnRMYXllciI6ImROZCIsImdldFZpc3VhbEJhY2tMYXllciI6ImNOZCIsImV4cG9ydFRvUERGIjoicEFkIiwiaGl0VGVzdCI6ImdqIn19fSAg");export {JZ,KZ,LZ,MZ,NZ,OZ,PZ,QZ,RZ,SZ,TZ,UZ,VZ,WZ,XZ,YZ,ZZ,$Z,b_,a_,d_,e_,f_,g_,h_,i_,j_,k_,l_,m_,o_,p_,q_,r_,s_,t_,u_,v_,w_,x_,y_,z_,A_,B_,C_,D_,E_,F_,G_,H_,I_,J_,K_,L_,M_,N_,O_,P_,Q_,R_,S_,T_,U_,V_,W_,X_,Y_,Z_,$_,a0,b0,c0,d0,e0,f0,g0,h0,i0,j0,k0,l0,m0,n0,o0,p0,q0,r0,s0,t0,u0,v0,w0,x0,y0,z0,A0,B0,C0,D0,E0,F0,G0,H0,I0,J0,K0,L0,M0,N0,O0,P0};