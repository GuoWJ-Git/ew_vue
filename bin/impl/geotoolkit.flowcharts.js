/* eslint-disable */
import {L,Fb,mc,oc,mg,X,ni,ho,rf,Y,D,ze,N,xd,jc,hb,O,Ai,ek,ck,U,Ud,Cg,Io,G,rb,Zj,Yn,Um,$m,io,Ee,xc,Ac,$a,Cl,Mf,mi,uk,pk,xf,yf,Rh,$l,$h,jl,xm,Wc,Dl,Qm,Fd,$g,ta} from './geotoolkit.base.js';import {Zk} from './geotoolkit.http.js';import {sE,ZD} from './geotoolkit.svg.js';import {nQ,qQ,lQ,WR,oQ,$R,SR,wQ,hQ,cS,TR,eS,QS,bU,aU,cT,bT,LS,CS,YS,RR} from './geotoolkit.controls.js';import {KZ} from './geotoolkit.widgets.js';var ca,ha=ha||{};ha.scope={};ha.WDc=function(d){var a=0;return function(){return a<d.length?{done:!1,value:d[a++]}:{done:!0}}};ha.uJe=function(d){return{next:ha.WDc(d)}};ha.obd=!1;ha.N9d=!1;ha.O9d=!1;ha.jAe=!1;ha.noc=!1;ha.defineProperty=ha.obd||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,a,b){if(d==Array.prototype||d==Object.prototype)return d;d[a]=b.value;return d};
ha.I1=function(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<d.length;++a){var b=d[a];if(b&&b.Math==Math)return b}return function(){throw Error("Cannot find global object");}()};ha.global=ha.I1(this);ha.TMb="function"===typeof Symbol&&"symbol"===typeof Symbol("x");ha.FDe=!ha.noc||ha.TMb;ha.$cc={};ha.wdc={};ha.Chd="$jscp$";
function aaa(d,a){var b=ha.wdc[a];if(null==b)return d[a];b=d[b];return void 0!==b?b:d[a]}ha.LYc=function(d,a,b,c){a&&(ha.noc?ha.aWd(d,a,b,c):ha.bWd(d,a,b,c))};ha.bWd=function(d,a,b,c){b=ha.global;d=d.split(".");for(c=0;c<d.length-1;c++){var e=d[c];if(!(e in b))return;b=b[e]}d=d[d.length-1];c=b[d];a=a(c);a!=c&&null!=a&&ha.defineProperty(b,d,{configurable:!0,writable:!0,value:a})};
ha.aWd=function(d,a,b,c){var e=d.split(".");d=1===e.length;c=e[0];c=!d&&c in ha.$cc?ha.$cc:ha.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in c))return;c=c[g]}e=e[e.length-1];b=ha.TMb&&"es6"===b?c[e]:null;a=a(b);null!=a&&(d?ha.defineProperty(ha.$cc,e,{configurable:!0,writable:!0,value:a}):a!==b&&(ha.wdc[e]=ha.TMb?ha.global.Symbol(e):ha.Chd+e,e=ha.wdc[e],ha.defineProperty(c,e,{configurable:!0,writable:!0,value:a})))};ha.oNe=function(){};
ha.LYc("Symbol",function(d){function a(f){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+e++,f)}function b(f,g){this.lbd=f;ha.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})}if(d)return d;b.prototype.toString=function(){return this.lbd};var c="jscomp_symbol_",e=0;return a},"es6","es3");ha.qNe=function(){};
ha.LYc("Symbol.iterator",function(d){if(d)return d;d=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),b=0;b<a.length;b++){var c=ha.global[a[b]];"function"===typeof c&&"function"!=typeof c.prototype[d]&&ha.defineProperty(c.prototype,d,{configurable:!0,writable:!0,value:function(){return ha.NQd(ha.WDc(this))}})}return d},"es6","es3");ha.pNe=function(){};
ha.NQd=function(d){d={next:d};d[Symbol.iterator]=function(){return this};return d};var Y2=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}L(d,"geotoolkit.flowcharts.commands.ICommand");d.prototype.sg=Fb;d.prototype.pS=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoic2ciLCJ1bmRvIjoicFMifX19");var Z2=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){this.KDb=[]}d.prototype.on=function(a){this.KDb.push(a)};d.prototype.za=function(a){this.KDb=this.KDb.filter(function(b){return b!==a})};d.prototype.Lkb=function(a){this.KDb.slice(0).forEach(function(b){return b(a)})};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvZmYiOiJ6YSIsInRyaWdnZXIiOiJMa2IifX19");var $2=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){this.MD=0;this.o_a=this.qra=null}d.prototype.enqueue=function(a){a={value:a};var b=this.o_a;this.o_a?(this.o_a=a,b.qra=a):this.o_a=this.qra=a;this.MD++};d.prototype.rIc=function(){var a=this.qra.value;this.qra=this.qra.qra;this.qra||(this.o_a=null);this.MD--;return a};d.prototype.OVd=function(){if(this.qra)return this.qra.value};d.prototype.isEmpty=function(){return null===this.o_a};d.prototype.Qo=function(){return this.MD};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJkZXF1ZXVlIjoickljIiwicGVlayI6Ik9WZCIsImdldENvdW50IjoiUW8ifX19");var a3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.flatten=function(a){return a.reduce(function(b,c){return b.concat(Array.isArray(c)?d.flatten(c):c)},[])};d.xA=function(a,b,c,e,f){null==f?(a.push(c),b.push(e)):(a.splice(f,0,c),b.splice(f,0,e))};d.yGb=function(a,b,c,e){null==e&&(e=1);a.splice(c,e);b.splice(c,e)};d.v_a=function(a,b,c){for(var e=[],f=[],g=0;g<a.length;g++)if(2>e.length)e.push(a[g]),f.push(b[g]);else{var h=e.length;!c&&d.C0c(e[h-2],f[h-2],e[h-1],f[h-1],a[g],b[g])||c&&d.UDc(e[h-2],f[h-2],a[g],b[g],e[h-
1],f[h-1],a[g],b[g],.5,!1)?(e[h-1]=a[g],f[h-1]=b[g]):(e.push(a[g]),f.push(b[g]))}return{x:e,y:f}};d.C0c=function(a,b,c,e,f,g){return 1>Math.abs((b-e)*(a-f)-(b-g)*(a-c))};d.UDc=function(a,b,c,e,f,g,h,k,l,m){void 0===l&&(l=0);void 0===m&&(m=!0);if((Math.abs(a-c)<d.EPSILON||Math.abs(f-h)<d.EPSILON)&&Math.abs(b-e)<d.EPSILON&&Math.abs(g-k)<d.EPSILON){if((0<b-e===0<g-k||!m)&&Math.abs((a-c)/(b-e)-(f-h)/(g-k))<.05*l)return!0}else if((Math.abs(b-e)<d.EPSILON||Math.abs(g-k)<d.EPSILON)&&Math.abs(a-c)>d.EPSILON&&
Math.abs(f-h)>d.EPSILON){if((0<a-c===0<f-h||!m)&&Math.abs((b-e)/(a-c)-(g-k)/(f-h))<.05*l)return!0}else if(!m||0<b-e===0<g-k&&0<a-c===0<f-h)return Math.abs((b-e)/(a-c)-(g-k)/(f-h))<.05*l||Math.abs((a-c)/(b-e)-(f-h)/(g-k))<.05*l;return!1};d.findIndex=function(a,b){if(null==this)throw new TypeError('"this" is null or not defined');a=Object(a);var c=a.length>>>0;if("function"!==typeof b)throw new TypeError("predicate must be a function");for(var e=b,f=0;f<c;){var g=a[f];if(b.call(e,g,f,a))return f;f++}return-1};
d.find=function(a,b){if(null==this)throw new TypeError('"this" is null or not defined');a=Object(a);var c=a.length>>>0;if("function"!==typeof b)throw new TypeError("predicate must be a function");for(var e=b,f=0;f<c;){var g=a[f];if(b.call(e,g,f,a))return g;f++}};d.M3=9007199254740991;d.WOa=-9007199254740991;d.EPSILON=1E-14;return d}(),1,"eyJhZGRQb2ludCI6InhBIiwicmVtb3ZlUG9pbnQiOiJ5R2IiLCJyZW1vdmVDb2xpbmVhclBvaW50cyI6InZfYSIsInNhbWVMaW5lIjoiQzBjIiwiYXBwcm94aW1hdGVMaW5lIjoiVURjIiwiTUFYX0lOVCI6Ik0zIiwiTUlOX0lOVCI6IldPYSJ9");var b3=/*#__PURE__*/function(){function d(){this.reset()}d.prototype.reset=function(){this.IOa=this.J2a=0;this.YZ=a3.M3};return d}();var c3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}L(d,"geotoolkit.flowcharts.shapes.IComponent");d.prototype.rR=Fb;d.prototype.Xpa=Fb;d.prototype.aO=Fb;d.prototype.nia=Fb;d.prototype.Hz=Fb;d.prototype.Tra=Fb;d.prototype.$d=Fb;d.prototype.Ix=Fb;d.prototype.YC=Fb;d.prototype.oBa=Fb;d.prototype.Eb=Fb;d.prototype.c3=Fb;d.prototype.JA=Fb;d.prototype.xya=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm90b3R5cGVJZCI6InJSIiwiZ2V0UHJvdG90eXBlTmFtZSI6IlhwYSIsImdldENhdGVnb3J5IjoiYU8iLCJnZXRTZWFyY2hLZXl3b3JkcyI6Im5pYSIsImdldERlZmF1bHRTaXplIjoiSHoiLCJzZXREZWZhdWx0U2l6ZSI6IlRyYSIsImdldEdlb21ldHJ5IjoiJGQiLCJnZXRPdXRsaW5lIjoiSXgiLCJnZXRMaW5rUG9pbnRzIjoiWUMiLCJzZXRMaW5rUG9pbnRzIjoib0JhIiwic2V0VGV4dCI6IkViIiwic2V0VXJsIjoiYzMiLCJnZXRVcmwiOiJKQSIsImdldERlZmF1bHRJY29uU2l6ZSI6Inh5YSJ9fX0g");var d3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}L(d,"geotoolkit.flowcharts.shapes.connectors.ILink");mc(d,c3);d.prototype.zdb=Fb;d.prototype.dP=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb25uZWN0aW9ucyI6InpkYiIsInVwZGF0ZUxpbmtzIjoiZFAifX19");var e3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){void 0===b&&(b=10);this.RB=a;this.xtd=b;this.UM=[];this.Haa=this.Oca=0;this.eka=[]}d.prototype.bJa=function(a,b){var c=new $2,e=~~(a.getX()/this.RB);a=~~(a.getY()/this.RB);var f=~~(b.getX()/this.RB);b=~~(b.getY()/this.RB);0>e&&(e=0);e>=this.Haa&&(e=this.Haa-1);0>a&&(a=0);a>=this.Oca&&(a=this.Oca-1);c.enqueue({ky:a,ZA:e});this.eka[a][e].YZ=0;this.eka[a][e].IOa=-100;this.eka[a][e].YZ=-100;var g={state:!1};d.std(c,this.UM,f,b,this.eka,0,g);if(g.state){var h=[];c=b;for(g=
f;;){h.push({ky:c,ZA:g});if(c===a&&g===e)break;g=this.eka[c][g];c=g.IOa;g=g.J2a}}d.smc&&this.VVd(this.eka,e,a,f,b,h);return h};d.prototype.CZ=function(a,b,c){this.tpd=b?b:[];this.And=c?c:[];b=a.ga();this.Oca=Math.max(1,Math.ceil(b.da()/this.RB));this.Haa=Math.max(1,Math.ceil(b.ca()/this.RB));if(null===this.UM||this.Oca!==this.UM.length||null===this.UM[0]||this.Haa!==this.UM[0].length)for(this.UM=[],this.eka=[],b=0;b<this.Oca;b++)for(this.UM[b]=[],this.eka[b]=[],c=0;c<this.Haa;c++)this.eka[b][c]=new b3,
this.UM[b][c]=1;else for(b=0;b<this.Oca;b++)for(c=0;c<this.Haa;c++)this.eka[b][c].reset(),this.UM[b][c]=1;for(b=0;b<a.ac();b++)this.FYc(a.gb(b),this.xtd)};d.prototype.VVd=function(a,b,c,e,f,g){for(b=0;b<a.length;b++)for(c=0;c<a[0].length;c++)this.UM[b][c]!==d.Z3a&&(this.UM[b][c]+=a[b][c].YZ)};d.prototype.FYc=function(a,b,c){if(oc(a,c3)&&-1===this.And.indexOf(a)&&"class-text"!==a.rR()){var e=a instanceof mg&&a.ob()?a.ob().clone():new X;c&&e.lu(c);oc(a,c3)&&this.WVd(a,e,0<=this.tpd.indexOf(a)?5*b:b);
if(a instanceof ni)for(c=0;c<a.ac();c++)this.FYc(a.gb(c),b,e);else oc(a,d3)}};d.prototype.WVd=function(a,b,c){a=a.ga().clone();var e=b.Ua(a).bd(this.RB,this.RB);b=Math.max(0,Math.min(Math.floor(e.ka()/this.RB),this.Haa));var f=Math.max(0,Math.min(Math.floor(e.la()/this.RB),this.Oca));a=Math.max(0,Math.min(Math.ceil(e.na()/this.RB),this.Haa));for(e=Math.max(0,Math.min(Math.ceil(e.ma()/this.RB),this.Oca));f<this.Oca&&f<e;f++)for(var g=b;g<this.Haa&&g<a;g++)this.UM[f][g]+=c};d.prototype.EPe=function(a,
b,c){};d.prototype.Zcc=function(a,b,c){b=~~(b/this.RB);a=~~(a/this.RB);0>a||a>=this.Haa||0>b||b>=this.Oca||(this.UM[b][a]+=c)};d.prototype.CPe=function(a,b,c,e,f){a=~~a;b=~~b;c=~~c;e=~~e;var g=e-b,h=c-a;if(0>g){g=-g;var k=-1}else k=1;if(0>h){h=-h;var l=-1}else l=1;g<<=1;h<<=1;this.Zcc(a,b,f);var m;if(h>g)for(m=g-(h>>1);a!==c;)0<=m&&(b+=k,m-=h),this.Zcc(a,b,f),a+=l,m+=g;else for(m=h-(g>>1);b!==e;)0<=m&&(a+=l,m-=g),this.Zcc(a,b,f),b+=k,m+=h};d.std=function(a,b,c,e,f,g,h){for(;0<a.Qo();){g=a.rIc();var k=
g.ky,l=g.ZA;g=-100!==f[k][l].YZ?f[k][l].YZ:0;k===e&&l===c&&(h.state=!0);0<k&&b[k-1][l]!==d.Z3a&&g+b[k-1][l]<f[k-1][l].YZ&&(f[k-1][l].YZ=g+b[k-1][l],f[k-1][l].J2a=l,f[k-1][l].IOa=k,a.enqueue({ky:k-1,ZA:l}));k+1<b.length&&b[k+1][l]!==d.Z3a&&g+b[k+1][l]<f[k+1][l].YZ&&(f[k+1][l].YZ=g+b[k+1][l],f[k+1][l].J2a=l,f[k+1][l].IOa=k,a.enqueue({ky:k+1,ZA:l}));0<l&&b[k][l-1]!==d.Z3a&&g+b[k][l-1]<f[k][l-1].YZ&&(f[k][l-1].YZ=g+b[k][l-1],f[k][l-1].J2a=l,f[k][l-1].IOa=k,a.enqueue({ky:k,ZA:l-1}));l+1<b[0].length&&b[k][l+
1]!==d.Z3a&&g+b[k][l+1]<f[k][l+1].YZ&&(f[k][l+1].YZ=g+b[k][l+1],f[k][l+1].J2a=l,f[k][l+1].IOa=k,a.enqueue({ky:k,ZA:l+1}))}};d.smc=0;d.Z3a=-1;return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaW5kUGF0aCI6ImJKYSJ9fX0g");var f3=/*#__PURE__*/function(){function d(a,b,c){void 0===c&&(c=!0);ho.call(this,a?a.oa():new ho);this.h6d=c;this.zrd=new rf({color:"rgba(0, 0, 0, 0.8)"});this.fa({linestyle:new Y({color:"rgba(150, 150, 150, 0.4)",width:1,pixelsnapmode:!0}),fillstyle:new rf({color:"rgba(0, 200, 0, 0.05)"})});this.OK=b;this.qIb(a)}D(d,ho);L(d,"geotoolkit.flowcharts.shapes.PathGrid");d.prototype.qIb=function(a){if(a!==this.YN){this.YN&&(this.YN.za(ze.Jr,function(){this.sa(this.YN.oa());this.CZ(this.YN)}.bind(this)),this.YN.za(ze.Do,
function(){this.CZ(this.YN)}.bind(this)),this.YN.za(ze.ip,function(){this.CZ(this.YN)}.bind(this)),this.YN.za(ze.jK,function(){this.CZ(this.YN)}.bind(this)));if(this.YN=a)a.on(ze.Jr,function(){this.sa(this.YN.oa())}.bind(this)),a.on(ze.Do,function(){this.CZ(this.YN)}.bind(this)),a.on(ze.ip,function(){this.CZ(this.YN)}.bind(this)),a.on(ze.jK,function(){this.CZ(this.YN)}.bind(this));this.sa(this.YN.oa());this.CZ(this.YN)}};d.prototype.CZ=function(a){};d.prototype.DPe=function(a,b){var c=a.be().slice();
a=a.He().slice();b.tda(c,a,c.length);this.path=this.OK.bJa(new N(c[0],a[0]),new N(c[c.length-1],a[a.length-1]))};d.prototype.WYd=function(a){a=this.Sa()?a.bc(this.Sa()):a;a.BX();var b=this.ga();a.qa(this.Fa());for(var c=b.ka();c<b.na();c+=this.OK.RB)a.Xc(c,b.la(),c,b.ma());for(c=b.la();c<b.ma();c+=this.OK.RB)a.Xc(b.ka(),c,b.na(),c);a.KX()};d.prototype.rec=function(a){if(!a.fc()){a=this.Sa()?a.bc(this.Sa()):a;a.BX();a.ra(this.eb());a.qa(null);var b=this.ga(),c=a3.WOa,e=this.OK.UM;e.forEach(function(n){n.forEach(function(p){c=
Math.max(c,p)})});for(var f=255/c,g=0;g<this.OK.Oca;g++)for(var h=0;h<this.OK.Haa;h++)if(e[g][h]){if(0>e[g][h])a.ra(this.zrd);else{var k=Math.min(e[g][h]*f,255),l=255-k,m=255-k;a.ra(new rf({color:new xd(k,m,l,1)}))}a.Bc(b.ka()+h*this.OK.RB,b.la()+g*this.OK.RB,this.OK.RB,this.OK.RB)}a.KX()}};d.prototype.eZd=function(a){if(this.path){a=this.Sa()?a.bc(this.Sa()):a;a.BX();a.ra(new rf({color:"rgba(0, 200, 0, 1)"}));a.qa(new Y({color:"transparent"}));for(var b=this.ga(),c=0,e=this.path;c<e.length;c++){var f=
e[c];a.Bc(b.ka()+f.ZA*this.OK.RB,b.la()+f.ky*this.OK.RB,this.OK.RB,this.OK.RB)}a.KX()}};d.prototype.render=function(a){a.fc()||(ho.prototype.render.call(this,a),this.rec(a),this.eZd(a),this.h6d&&this.WYd(a))};return d}();var g3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.Mz=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;a="x"===a?b:b&3|8;return a.toString(16)})};return d}(),1,"eyJuZXdHdWlkIjoiTXoifSAg");var h3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=jc(a);ni.call(this,a);this.mu=[];this.mu.length=5;this.hd(!1);this.XOd();this.fa(a)}D(d,ni);mc(d,c3);L(d,"geotoolkit.flowcharts.shapes.DiagramVisual");d.prototype.r3=function(){if(this.Rp&&!this.jCc){var a=this.ga();if(a){this.jCc=!0;this.mu[0]=a.kd();this.mu[1]=a.fg();this.mu[2]=a.yf();this.mu[3]=a.dg();this.mu[4]=a.getCenter();var b=this.wa();if(b)for(var c=0;c<this.mu.length;c++)this.mu[c]=b.Ma(this.mu[c]);b=N.xf(this.mu[0],this.mu[1]);c=N.xf(this.mu[0],this.mu[3]);
this.Rp.setSize(b,c);b=a.getCenter();c=O.Oa;switch(this.Rp.jb().Lj()){case Ai.Nv:case Ai.tc:b=a.vXa();c=O.Bd;break;case Ai.jp:case Ai.cc:b=a.lKa();c=O.we;break;case Ai.Oa:b=a.getCenter(),c=O.Oa}this.Rp.Jb(b);this.Rp.yc(c);this.jCc=!1}}};d.prototype.XOd=function(){if(!this.Rp){var a=new ek({text:""});a.jb().ce("center");a.jb().m0a(1);this.DEBUG&&a.fa({fillstyle:new rf({color:"rgba(0,255,0, 0.2)"}),linestyle:new Y({color:"rgba(0, 0, 255, 1)"})});a.ey(!0);if(this.ga()){var b=this.ga();a.Jb(b.getCenter());
a.setSize(b.width,b.height)}a.wk(ck.BM);a.Fd("TEXT_SHAPE");this.qic(a)}};d.prototype.Ba=function(a){this.hW=a.hW;this.Fm(a.Uc?a.Uc.clone():null);this.Ala=a.Ala;this.vla=a.vla;this.Jla=a.Jla.clone();this.xT=a.xT?a.xT.slice():[];this.dN=a.dN?a.dN.slice().map(function(b){return new N(b.getX(),b.getY())}):null;this.mo=a.mo?a.mo.clone():null;a.Rp&&this.qic(a.Rp.clone());this.sa(this.Uc&&this.Uc.ga()?this.Uc.ga():new U(0,0,1,1));this.c3(a.Pga);this.Fd(g3.Mz());return this};d.prototype.xa=function(a,b){null!=
this.Uc&&this.Uc.xa(a,b);ni.prototype.xa.call(this,a,b);this.ZSd!==this.wa()&&(this.notify("StateUpdated",this),this.ZSd=this.wa());return this};d.prototype.xec=function(a){this.Rp&&(a.uh(a.Ea().Ua(this.ga())),a.filter(this.Rp)&&this.Rp.render(a))};d.prototype.Yh=function(a,b){var c=this;b?null!=this.Uc?this.Uc.Fe(a,function(){ni.prototype.Yh.call(c,a,b)}):ni.prototype.Yh.call(c,a,b):(null!=this.Uc&&this.Uc.render(a),ni.prototype.Yh.call(this,a))};d.prototype.yh=function(a,b){var c=null!=this.Sa()?
a.bc(this.Sa()):a;c.save();this.xec(a);b?ni.prototype.yh.call(this,c,function(){c.restore();b()}):(ni.prototype.yh.call(this,c),c.restore())};d.prototype.rR=function(){return this.Ala};d.prototype.Xpa=function(){return this.hW};d.prototype.aO=function(){return this.vla};d.prototype.nia=function(){return this.xT};d.prototype.Tra=function(a){this.Jla=a?a:new Ud(50,50);return this};d.prototype.Hz=function(){return this.Jla};d.prototype.$d=function(){return this.Uc};d.prototype.oBa=function(a){this.dN=
a;return this};d.prototype.YC=function(){return this.dN};d.prototype.Ix=function(){return this.mo};d.prototype.xya=function(){hb("DiagramVisual.getDefaultIconSize() is deprecated since 2022 (v3.4)")};d.prototype.c3=function(a){this.Pga=a;return this};d.prototype.JA=function(){return this.Pga};d.prototype.bl=function(){return this.Rp};d.prototype.Eb=function(a){var b=!1;"string"===typeof a&&a!==this.bl().me()&&(this.bl().Eb(a),b=!0);a.hasOwnProperty("text")&&a.text!==this.bl().me()&&(this.bl().Eb(a.text),
b=!0);void 0!==a.style&&(this.bl().kb(a.style),b=!0);b&&(this.r3(),this.ha(this.bl().ga()));return this};d.prototype.me=function(){return{text:this.bl()?this.bl().me():null,style:this.bl()?this.bl().jb():null}};d.ZAd=function(a,b){void 0===b&&(b=!0);if(isNaN(a)||!isFinite(a))return a;b=b?360:2*Math.PI;return a-Math.floor(a/b)*b};d.lKd=function(a,b){var c=b.getX()-a.getX();a=b.getY()-a.getY();return Math.atan2(a,c)};d.prototype.Fm=function(a){this.Uc!==a&&(null!=this.Uc&&this.Uc.rf(null),this.Uc=a,
null!=this.Uc&&this.Uc.rf(this))};d.prototype.qic=function(a){this.Rp&&this.za(ze.jK,this.r3.bind(this));if(this.Rp=a)a.Fd("TEXT_SHAPE"),this.r3(),this.on(ze.jK,this.r3.bind(this))};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;ni.prototype.fa.call(this,a);void 0!==a.prototypename&&(this.hW=a.prototypename,this.nb(a.prototypename));void 0!==a.geometry&&this.Fm(a.geometry);void 0!==a.text&&this.Eb(a.text);void 0!==a.prototypeid&&(this.Ala=a.prototypeid);void 0!==a.category&&(this.vla=a.category);
void 0!==a.defaultsize&&(this.Jla=a.defaultsize);void 0!==a.searchkeywords&&(this.xT=a.searchkeywords);void 0!==a.linkpoints&&(this.dN=a.linkpoints);void 0!==a.outline&&(this.mo=a.outline);this.Uc&&a.hasOwnProperty("geometry")&&this.Uc.fa(a.geometry);this.sa(this.Uc&&this.Uc.ga()?this.Uc.ga():new U(0,0,1,1));void 0!==a.url&&this.c3(a.url);void 0===a.id&&(this.kc()||this.Fd(g3.Mz()));return this};d.prototype.ia=function(){var a=ni.prototype.ia.call(this);this.Uc&&(a.geometry=this.Uc.ia());a.prototypename=
this.hW;a.prototypeid=this.Ala;a.category=this.vla;a.defaultsize=this.Jla;a.searchkeywords=this.xT;a.linkpoints=this.dN?this.dN.slice().map(function(b){return new N(b.getX(),b.getY())}):null;a.outline=this.Ix();a.text=this.me();a.url=this.Pga;return a};d.Xhe=new Ud(50,50);return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInVwZGF0ZVN0YXRlIjoieGEiLCJwcmVSZW5kZXJpbmciOiJZaCIsInBvc3RSZW5kZXJpbmciOiJ5aCIsImdldFByb3RvdHlwZUlkIjoiclIiLCJnZXRQcm90b3R5cGVOYW1lIjoiWHBhIiwiZ2V0Q2F0ZWdvcnkiOiJhTyIsImdldFNlYXJjaEtleXdvcmRzIjoibmlhIiwic2V0RGVmYXVsdFNpemUiOiJUcmEiLCJnZXREZWZhdWx0U2l6ZSI6Ikh6IiwiZ2V0R2VvbWV0cnkiOiIkZCIsInNldExpbmtQb2ludHMiOiJvQmEiLCJnZXRMaW5rUG9pbnRzIjoiWUMiLCJnZXRPdXRsaW5lIjoiSXgiLCJnZXREZWZhdWx0SWNvblNpemUiOiJ4eWEiLCJzZXRVcmwiOiJjMyIsImdldFVybCI6IkpBIiwic2V0VGV4dCI6IkViIiwiZ2V0VGV4dCI6Im1lIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var i3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){h3.call(this,a||{});this.fi=[]}D(d,h3);L(d,"geotoolkit.flowcharts.shapes.edit.VirtualGroupVisual");d.prototype.H6c=function(a){var b;if(this.fi)for(b=0;b<this.fi.length;b++)this.fi[b].za(ze.FD,this.QKa.bind(this)),this.fi[b].za(ze.CD,this.QKa.bind(this));this.fi=a?a:[];for(b=0;b<this.fi.length;b++)this.fi[b].on(ze.FD,this.QKa.bind(this)),this.fi[b].on(ze.CD,this.QKa.bind(this));this.QKa();return this};d.prototype.Tw=function(){return this.fi};d.prototype.QKa=function(){this.Va=
null;this.notify(ze.CD,this,this.ga());return this};d.prototype.ga=function(){if(!this.Va){if(!this.fi||!this.fi.length)return new U;for(var a,b=0;b<this.fi.length;b++)a=(a=this.fi[b].ob?this.fi[b].ob():null)?a.Ua(this.fi[b].ga()):this.fi[b].ga(),this.Va?this.Va.union(a):this.Va=a.clone()}return this.Va};d.prototype.ob=function(){return null};d.prototype.wa=function(){return this.kub&&this.kub.wa&&this.kub.wa()?this.kub.wa():new X};d.prototype.Tc=function(a){a||(a=new X);this.ha();for(var b=0;b<this.fi.length;b++)this.fi[b].Tc(X.multiply(a,
this.fi[b].ob()?this.fi[b].ob():new X));this.QKa();this.ha()};d.prototype.W3d=function(a){this.kub=a};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTaGFwZXMiOiJINmMiLCJnZXRTaGFwZXMiOiJUdyJ9fX0g");var j3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}function a(){b||(b=Zk.ya().hR());return b}var b;L(d,"geotoolkit.flowcharts.shapes.ResourceLoader");d.CVc=function(c){if(d.B7a.get(c))return d.B7a.get(c);var e=new Cg(function(f,g){d.bVb.Cx(c)?f(d.bVb.get(c)):a().get(c).then(function(h){d.bVb.put(c,h.data);d.B7a.remove(c);f(h.data)},function(h){d.B7a.remove(c);g(h)})});d.B7a.put(c,e);return e};d.bVb=new Io;d.B7a=new Io;return d}(),2,"eyJsb2FkVGV4dCI6IkNWYyJ9");var k3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{islinkpointsrelative:!0},!0);h3.call(this,a);this.$G=!1;void 0!==a.islinkpointsrelative&&(this.mva=a.islinkpointsrelative);void 0!==a.svgdata&&this.setData(a.svgdata);void 0!==a.justdeserialized&&(this.iVc=a.justdeserialized);void 0!==a.referencesize&&(this.qna=a.referencesize)}D(d,h3);L(d,"geotoolkit.flowcharts.shapes.SvgDiagramVisual");d.prototype.setData=function(a){this.CZb=a;this.$G=!1;if(a)try{this.oYc(a)}catch(b){hb("FlowCharts.SvgDiagramVisual: could not parse SVG data",
a)}};d.prototype.Ba=function(a){this.mva=a.mva;this.$G=a.$G;this.Uc||this.Fm(a.Uc?a.Uc.clone():new ni);a.CZb&&this.setData(a.CZb);this.dN=a.mva?a.b9b().slice().map(function(b){return new N(b.getX(),b.getY())}):this.YC()?a.YC().slice().map(function(b){return new N(b.getX(),b.getY())}):null;this.qna=a.qna?a.qna.clone():this.Jla?this.Jla.clone():new Ud(100,100);return this};d.prototype.wVc=function(a){this.JA()?j3.CVc(this.JA()).then(function(b){this.te()||(this.oYc(b),a&&a())}.bind(this)).catch(function(b){rb("SvgVisual plugin: url '"+
this.JA()+"' can not be resolved ("+b+")");a&&a(b)}.bind(this)):(rb("SvgVisual plugin: url is not defined"),a&&a())};d.prototype.oYc=function(a){var b=new sE;b.parse(this.$d(),a);b=this.$d().ga();this.sa(b);this.Rp&&this.ga()&&(this.Rp.Jb(this.ga().getCenter()),this.Rp.setSize(b.width,b.height));a=0!==b.ca()?this.Jla.width/b.width:1;b=0!==b.da()?this.Jla.height/b.height:1;var c=this.ob()?this.ob().clone():new X;this.iVc||(this.Tc(X.jf(c.cf(),c.Pe()).Wp(X.Cl(a,b))),this.iVc=!1);this.$G=!0;this.notify("StateUpdated",
this,this.ga())};d.prototype.c3=function(a){a!==this.JA()&&(this.Uc||(this.Uc=new ni),h3.prototype.c3.call(this,a),this.$G=!1,this.wVc());return this};d.prototype.render=function(a){this.$G&&h3.prototype.render.call(this,a)};d.prototype.Fe=function(a,b){var c=this;this.$G?h3.prototype.Fe.call(this,a,b):this.wVc(function(){h3.prototype.Fe.call(c,a,b)})};d.prototype.y7b=function(){return this.mva};d.prototype.b9b=function(){if(this.mva)return h3.prototype.YC.call(this);var a=this.ga();return this.YC().map(function(b){return new N((b.getX()-
a.getX())/a.ca(),(b.getY()-a.getY())/a.da())})};d.prototype.YC=function(){if(this.mva){var a=h3.prototype.YC.call(this);a&&a.length||(a=d.Cyd);for(var b=[],c=this.$G?this.ga():new U(0,0,this.qna.width,this.qna.height),e=0;e<a.length;e++){var f=a[e];b.push(new N(c.getX()+c.ca()*f.getX(),c.getY()+c.da()*f.getY()))}return b}return h3.prototype.YC.call(this)};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;h3.prototype.fa.call(this,a);void 0!==a.islinkpointsrelative&&(this.mva=a.islinkpointsrelative);
void 0!==a.svgdata&&this.setData(a.svgdata);void 0!==a.referencesize?this.qna=a.referencesize:this.qna||(this.qna=a.defaultsize);return this};d.prototype.ia=function(){var a=h3.prototype.ia.call(this)||{};a.referencesize=this.qna;a.islinkpointsrelative=this.mva;a.svgdata=this.CZb;return a};d.Cyd=[new N(.5,0),new N(.5,1),new N(0,.5),new N(1,.5)];return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldFVybCI6ImMzIiwicmVuZGVyQXN5bmMiOiJGZSIsImdldElzTGlua1BvaW50c1JlbGF0aXZlIjoieTdiIiwiZ2V0UmVsYXRpdmVMaW5rUG9pbnRzIjoiYjliIiwiZ2V0TGlua1BvaW50cyI6IllDIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var l3=/*#__PURE__*/function(){function d(a,b,c,e){void 0===c&&(c=new Ud(20,20));nQ.call(this,a+2,b-2,c);this.$Aa(new rf({color:"rgba(100, 100, 100, 0.1)"}));this.h0a(new rf({color:"rgba(100, 100, 100, 0.0)"}));this.rUa=new k3({prototypeId:"class-cursors",prototypeName:"RotateCursor",category:"cursors",searchKeywords:[],defaultSize:c,geometry:(new ni).nb("svg_lazy_group"),linkPoints:[],svgData:'<?xml version="1.0" encoding="UTF-8"?>\n<svg  x="0px" y="0px" viewBox="0 0 286.374 286.374" >\n<path style="clip-rule:evenodd;fill:#00aad4;fill-rule:evenodd" d="m 227.925,196.882 58.449,-62.644 -34.15,0 C 247.63,69.222 191.474,17.898 125.288,17.898 56.09,17.898 0,73.989 0,143.187 c 0,69.198 56.09,125.289 125.289,125.289 30.037,0 57.592,-10.592 79.171,-28.215 l -31.934,-31.935 c -13.276,9.643 -29.565,15.403 -47.237,15.403 -44.484,0 -80.543,-36.059 -80.543,-80.543 0,-44.484 36.058,-80.544 80.543,-80.544 41.455,0 75.562,31.327 80.018,71.594 l -35.272,0 z M 89.491,143.187 c 0,19.77 16.027,35.797 35.797,35.797 19.77,0 35.796,-16.027 35.796,-35.797 0,-19.77 -16.026,-35.797 -35.796,-35.797 -19.769,0 -35.797,16.027 -35.797,35.797 z"/>\n</svg>',url:e});
this.rUa.bl().Eb("");this.rUa.Ax(function(){this.ha()}.bind(this))}D(d,nQ);L(d,"geotoolkit.flowcharts.shapes.edit.handles.RotateHandle");d.prototype.render=function(a){a=this.Sa()?a.bc(this.Sa()):a;var b=a.bq().xD(this.jba()),c=this.al().clone(),e=new U(c.getX()-b.ca()/2,c.getY()-b.da()/2,c.getX()+b.ca()/2,c.getY()+b.da()/2);e.cb(c.getX()-b.ca()/2,c.getY()-b.da()/2,c.getX()+b.ca()/2,c.getY()+b.da()/2);a.qa(new Y({color:"transparent"}));a.ra(this.Uzb());b=new U(e);b.bd(-3,-3);a.Cq(b.getX(),b.getY(),
b.ca(),b.da());b=this.rUa.ob()?this.rUa.ob():new X;b.TA(e.getX(),e.getY());this.rUa.Tc(b);this.rUa.render(a)};return d}();var m3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){qQ.call(this);this.Kb=[];this.oab=new i3;this.eh=new Zj;this.oab.on(ze.CD,this.yKc.bind(this));this.oab.on(ze.FD,this.yKc.bind(this));qQ.prototype.Gm.call(this,this.oab)}D(d,qQ);L(d,"geotoolkit.flowcharts.shapes.edit.VisualPluginAdapter");d.prototype.Gm=function(a){a=a3.flatten([a]);this.oab.H6c(a);this.oab.W3d(0<a.length?a[0].getParent():this.mc());this.Yba()?this.$h():this.je();this.ns(this.Kb[0]);return this};d.prototype.yKc=function(){this.$h()};d.prototype.Eba=
function(){return this.Gb().ga()};d.prototype.tn=function(a){this.$h();for(var b=0;b<this.Kb.length;b++)this.Kb[b].va(a)};d.prototype.Ql=function(){this.Kb=[];var a=this.Eba();this.Kb.push((new lQ(a)).gm({x:1,y:1,width:0,height:0}).$Aa(new rf("transparent")));this.Kb.push(new l3(a.na(),a.la()));this.Kb.push((new nQ(0,0)).gm({x:1,y:1,width:-1,height:-1}));this.Kb.push((new nQ(0,0)).gm({x:0,y:1,width:1,height:-1}));this.Kb.push((new nQ(0,0)).gm({x:0,y:0,width:1,height:1}));this.Kb.push((new nQ(0,0)).gm({x:1,
y:0,width:-1,height:1}));this.Kb.push((new nQ(0,0)).gm({x:1,y:0,width:-1,height:0}));this.Kb.push((new nQ(0,0)).gm({x:0,y:0,width:1,height:0}));this.Kb.push((new nQ(0,0)).gm({x:0,y:1,width:0,height:-1}));this.Kb.push((new nQ(0,0)).gm({x:0,y:0,width:0,height:1}));for(a=0;a<this.Kb.length;a++)this.mc().pa(this.Kb[a]),this.Kb[a].cC(this);this.$h();this.setStyle({main:{linestyle:new Y({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf("transparent")},corners:{linestyle:new Y({color:"rgba(48, 144, 199, 1)",
width:1,pixelsnapmode:{x:!0,y:!0}})}});return!0};d.prototype.Vtd=function(a,b,c,e,f,g){var h=0,k=(a-c)*(f-c)+(b-e)*(g-e);a=(a-c)*(g-e)-(b-e)*(f-c);if(0!==k||0!==a)h=Math.atan2(a,k);return h};d.prototype.Wxb=function(a,b){var c=6,e=this.Gb();if(e instanceof mg){var f=e.wa().clone();e.ob()&&f.Wp(e.ob());f=f.Ua(e.ga());var g=f.clone();g.bd(c,c);g=this.eh.select(e.getRoot(),g,c,!0).filter(function(h){return h!==e&&h instanceof h3}).map(function(h){return e.wa().Ua(h.ob().Ua(h.ga()))});return this.H6d(new N(a,
b),f,g,c)}return new N(a,b)};d.prototype.H6d=function(a,b,c,e){void 0===e&&(e=8);if(!c||0===c.length)return a;var f=b.ma(),g=b.la(),h=b.ka();b=b.na();for(var k=0,l=0,m=0;m<c.length;m++){var n=c[m];Math.abs(n.ma()-f)<e?l=n.ma()-f:Math.abs(n.ma()-g)<e?l=n.ma()-g:Math.abs(n.la()-f)<e?l=n.la()-f:Math.abs(n.la()-g)<e&&(l=n.la()-g);Math.abs(n.ka()-h)<e?k=n.ka()-h:Math.abs(n.ka()-b)<e?k=n.ka()-b:Math.abs(n.na()-h)<e?k=n.na()-h:Math.abs(n.na()-b)<e&&(k=n.na()-b)}return new N(a.getX()+k,a.getY()+l)};d.prototype.wo=
function(a,b){b=this.Wxb(a,b);a=b.getX();b=b.getY();var c=this.Nw();if(!c)return this;var e=this.Gb();if(c instanceof l3){var f=this.ec(),g=c=e.ga(),h=e.wa(),k=this.mc().wa().xc();e instanceof i3&&(g=e.Tw()[0].ga(),h=e.Tw()[0].wa());if(a===this.ec().getX()&&b===this.ec().getY())return this;h=X.multiply(k,h);f=k.Ma(f);k=k.Ma(new N(a,b));g=h.Ma(g.getCenter());g=this.Vtd(f.getX(),f.getY(),g.getX(),g.getY(),k.getX(),k.getY());c=X.Ui(g,c.hc(),c.Dc());e.ob()?e.Tc(X.multiply(e.ob(),c)):e.Tc(c);e.ha();this.setPosition(a,
b);return this}if(!c.Ph())return this;this.xFb(a,b);this.$h();this.setPosition(a,b);e.ha();return this};d.prototype.xFb=function(a,b){var c=this.ec();if(c&&(c.getX()!==a||c.getY()!==b)){for(var e=this.Gb(),f=e instanceof i3?e.Tw():[e],g=0;g<f.length;g++){e=f[g];var h=e.ga(),k=h.clone(),l=e.getParent().wa().xc(),m=new N(c.getX(),c.getY()),n=new N(a,b);l.Ma(m,m);l.Ma(n,n);l=e.ob()?e.ob():new X;var p=l.xc();m=p.Ma(m);n=p.Ma(n);p=n.getX()-m.getX();m=n.getY()-m.getY();n=this.Nw().Ph();k.setX(h.x+n.x*p);
k.setY(h.y+n.y*m);k.Qa(h.width+n.width*p);k.$a(h.height+n.height*m);e.Tc(X.multiply(l,X.Vd(h,k,!1,!1,!1)))}e instanceof i3&&e.QKa()}};d.prototype.setStyle=function(a){function b(f){return f instanceof rf?G({},{fillstyle:f.ia()}):G({},{fillstyle:f})}function c(f){return f instanceof Y?G({},{linestyle:f.ia()}):G({},{linestyle:f})}var e={};void 0!==a.main&&(void 0!==a.main.linestyle&&(e=G(e,c(a.main.linestyle))),void 0!==a.main.fillstyle&&(e=G(e,b(a.main.fillstyle))),this.Kb[0].fa(e));e={};if(void 0!==
a.corners)for(void 0!==a.corners.linestyle&&(e=G(e,c(a.corners.linestyle))),void 0!==a.corners.fillstyle&&(e=G(e,b(a.corners.fillstyle))),a=2;a<this.Kb.length;++a)this.Kb[a].fa(e);return this};d.prototype.$h=function(){if(this.Yba()){var a=this.Eba();if(a){var b=this.Gb().wa(),c=this.mc().wa().xc(),e=b.Ua(a);a=e.kd();a.Da(a.getX()-this.Kb[1].jba().ca()/2-3,a.getY()-this.Kb[1].jba().da()/2-3);e=c.Ua(e);this.Kb[0].cb(e);this.Kb[1].Jb(c.Ma(a));this.Kb[2].Jb(new N(e.ka(),e.la()));this.Kb[3].Jb(new N(e.na(),
e.la()));this.Kb[4].Jb(new N(e.na(),e.ma()));this.Kb[5].Jb(new N(e.ka(),e.ma()));this.Kb[6].Jb(new N(e.ka(),e.Dc()));this.Kb[7].Jb(new N(e.na(),e.Dc()));this.Kb[8].Jb(new N(e.hc(),e.la()));this.Kb[9].Jb(new N(e.hc(),e.ma()));var f=this.Gb();if(f instanceof i3&&0<f.Tw().length){a=1===f.Tw().length?f.Tw()[0].ga():f.ga();e=[a.kd(),a.fg(),a.yf(),a.dg(),a.vXa(),a.lKa(),a.oYa(),a.pdb()];b=1===f.Tw().length?f.Tw()[0].wa():f.wa();c=X.multiply(c,b);this.Kb[0].cb(a);this.Kb[0].Tc(c);f=b.Pc(0,0).clone();var g=
b.Pc(1,0).clone(),h=b.Pc(0,1).clone();b=N.xf(f,g);f=N.xf(f,h);a=a.clone();b>a3.EPSILON&&f>a3.EPSILON&&(b=1/b*(this.Kb[1].jba().ca()/2+2),f=1/f*(this.Kb[1].jba().da()/2+2),a.bd(b,f));this.Kb[1].Jb(c.Ma(a.kd()));for(a=2;a<Math.min(this.Kb.length,e.length+2);a++)this.Kb[a].Jb(c.Ma(e[a-2]))}}}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTaGFwZSI6IkdtIiwiZ2V0U2hhcGVCb3VuZHMiOiJFYmEiLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6InRuIiwib25Jbml0aWFsaXplIjoiUWwiLCJvbk1vdmUiOiJ3byJ9fX0g");var n3=/*#__PURE__*/ta(/*#__PURE__*/{cpc:0,Cnb:1,cMb:2},2,"eyJOb0xpbmtzIjoiY3BjIiwiU2luZ2xlTGluayI6IkNuYiIsIkRvdWJsZUxpbmsiOiJjTWIifSAg");var o3=/*#__PURE__*/ta(/*#__PURE__*/{Line:0,fv:1},2,"eyJTdGVwIjoiZnYifSAg");var p3=/*#__PURE__*/ta(/*#__PURE__*/{gP:0,jp:1},2,"eyJCZWdpbiI6ImdQIiwiRW5kIjoianAifSAg");var q3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e){this.ru=a;this.KR=b;this.ME=c;this.eLa=e;this.AAa=null}L(d,"geotoolkit.flowcharts.shapes.connectors.LinkConnection");d.prototype.ld=function(){return this.ru};d.prototype.Xya=function(){return this.KR};d.prototype.kHd=function(){return this.ME};d.prototype.lHd=function(){return this.eLa};d.prototype.kfb=function(){return this.ru?this.ru.kc():null};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRWaXN1YWwiOiJsZCIsImdldE1vZGVsUG9pbnQiOiJYeWEiLCJnZXRMaW5rU2lkZSI6ImtIZCIsImdldExpbmtWaXN1YWwiOiJsSGQiLCJnZXRSZWxhdGVkVmlzdWFsSWQiOiJrZmIifX19");var r3=/*#__PURE__*/ta(/*#__PURE__*/{vOa:"Disconnected",p2a:"Connected"},2,"eyJEaXNjb25uZWN0ZWQiOiJ2T2EiLCJDb25uZWN0ZWQiOiJwMmEifSAg");var s3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){Yn.call(this,a);this.zyd=new Y("rgba(100, 100, 100, 1)",3);this.xyd=new rf("rgba(100, 100, 100, 1)");this.uFa=n3.Cnb;this.vX=0;this.xva=o3.fv;this.xT=[];this.dN=[new N(0,0),new N(0,0)];this.l9c=10;this.k9c=8;this.No=[null,null];this.je(a)}D(d,Yn);mc(d,d3);L(d,"geotoolkit.flowcharts.LinkVisual");d.prototype.rR=function(){return this.Ala};d.prototype.Xpa=function(){return this.hW};d.prototype.aO=function(){return this.vla};d.prototype.nia=function(){return this.xT};d.prototype.Hz=
function(){var a=this.ga();return new Ud(a.ca(),a.da())};d.prototype.Tra=function(a){return this};d.prototype.Eb=function(a){return this};d.prototype.$d=function(){return this};d.prototype.YC=function(){var a=this.be().length-1;this.dN[0].Da(this.be()[0],this.He()[0]);this.dN[1].Da(this.be()[a],this.He()[a]);return[this.dN[0],this.dN[1]]};d.prototype.oBa=function(a){return this};d.prototype.Ix=function(){return this.mo};d.prototype.xya=function(){return this.Spb};d.prototype.c3=function(a){this.Pga=
a;return this};d.prototype.JA=function(){return this.Pga};d.prototype.bl=function(){hb("LinkVisual.getTextShape() is deprecated since 2022 (v3.4)");return null};d.prototype.R7b=function(){return this.xva};d.prototype.Ugc=function(a){this.xva=a;return this};d.prototype.Nfc=function(a){this.oEa=a;return this};d.prototype.ILd=function(){return{width:this.l9c,height:this.k9c}};d.prototype.J4c=function(a){this.uFa=null===a||void 0===a?n3.cpc:a;return this};d.prototype.ZOc=function(){return this.uFa};d.prototype.zKa=
function(){return this.vX};d.prototype.P0a=function(a){if(null===a||void 0===a||0>a)a=0;this.vX!==a&&(this.ha(),this.vX=a,this.ha());return this};d.prototype.ga=function(){var a=Yn.prototype.ga.call(this).clone(),b=this.Fa()?this.Fa().ca()/2:.5;a.bd(a.ca()<a3.EPSILON?1E-5:b,a.da()<a3.EPSILON?1E-5:b);this.vX&&a.bd(this.vX,this.vX);return a};d.prototype.je=function(a){a&&(this.hW=a.prototypeName,this.Uc=a.geometry,this.Ala=a.prototypeId,this.vla=a.category,this.Spb=a.defaultIconSize,this.xT=a.searchKeywords,
this.dN=a.linkPoints,this.mo=a.outline,this.Pga=a.url,this.Ugc(a.linkType),a.geometry instanceof Yn&&this.fa(a.geometry.ia()),this.nb(a.prototypeName),this.uFa=null!=a.linkingMode?a.linkingMode:n3.Cnb,this.vX=a.tubingWidth,this.wj());this.Mwc=function(){this.dP(!0)}.bind(this);this.Fd(a&&a.id?a.id:g3.Mz())};d.prototype.clone=function(){var a=new d({prototypeName:this.hW,geometry:this.Uc?this.Uc.clone():null,prototypeId:this.Ala,category:this.vla,defaultIconSize:this.Spb,searchKeywords:this.xT?this.xT.slice():
[],linkPoints:this.dN?this.dN.slice():null,outline:this.mo?this.mo.clone():null,linkingMode:this.uFa,tubingWidth:this.vX,url:this.Pga,linkType:this.xva});a.Nfc(this.oEa);return a};d.prototype.oa=function(){for(var a=a3.M3,b=a3.M3,c=a3.WOa,e=a3.WOa,f=this.be(),g=this.He(),h=0;h<f.length;h++)a>f[h]&&(a=f[h]),b>g[h]&&(b=g[h]),c<f[h]&&(c=f[h]),e<g[h]&&(e=g[h]);return new U(a,b,c,e)};d.prototype.render=function(a){Yn.prototype.render.call(this,a);this.VYd(a)};d.prototype.VYd=function(a){a=this.Sa()?a.bc(this.Sa()):
a;this.Yh(a);this.uFa!==n3.Cnb&&this.uFa!==n3.cMb||this.A_c(a,!1);this.uFa===n3.cMb&&this.A_c(a,!0);this.yh(a)};d.prototype.A_c=function(a,b){var c=this.wa()?this.wa():new X,e=c.xc(),f=this.be(),g=this.He(),h=b?c.Pc(f[0],g[0]).clone():c.Pc(f[f.length-1],g[g.length-1]).clone();b=b?c.Pc(f[1],g[1]).clone():c.Pc(f[f.length-2],g[g.length-2]).clone();c=Math.atan2(h.getY()-b.getY(),h.getX()-b.getX());b=this.l9c+this.Fa().ca()/2;f=this.k9c+this.Fa().ca()/2;b=[-b,0,-b];f=[-f/2,0,f/2];c=X.Ui(c,0,0);h=X.jf(h.getX(),
h.getY());c.lu(h).lu(e).tda(b,f,b.length);this.Ts?this.Ts.fa({x:b,y:f,fillstyle:{color:this.Fa()?this.Fa().mb():"gray"},linestyle:this.Fa()}):this.Ts=new Um({x:b,y:f,fillstyle:{color:this.Fa()?this.Fa().mb():"gray"},linestyle:this.Fa()});this.Ts.render(a)};d.prototype.XVa=function(a,b,c){if(!c||!a)return!1;if(null!==b&&void 0!==b){if(this.No[b]){var e=this.No[b].AAa;this.vha(b)}a.on("StateUpdated",this.Mwc);this.No[b]=new q3(a,c,b,this);this.No[b].AAa=e;this.dP(!0);this.notify(r3.p2a,this,{linkSide:b,
visual:a,modelPoint:c});return!0}return!1};d.prototype.zdb=function(){return this.No};d.prototype.vha=function(a){if(null!==a){var b=this.No[a];if(!b)return;if(!b.ru){this.No[a]=null;this.notify(r3.vOa,this,{linkSide:a});return}this.No[p3.gP]&&this.No[p3.jp]&&this.No[p3.gP].ru===this.No[p3.jp].ru||b.ru.za("StateUpdated",this.Mwc);this.No[a]=null;this.notify(r3.vOa,this,{linkSide:a})}this.dP(!0)};d.prototype.f6b=function(a){for(var b=[],c=0,e=this.No;c<e.length;c++){var f=e[c];f&&f.kfb()===a.kc()&&
b.push(f.ME===p3.gP?0:this.be().length-1)}return b};d.prototype.dP=function(a){if(!this.cab){this.cab=!0;for(var b=!1,c=0;c<this.No.length;c++){var e=this.No[c];if(e&&e.ru&&e.KR){var f=e.ru.wa().Ua(e.ru.ga());if(a||!f.Gi(e.AAa,1))b||this.ha(),b=this.getParent()?this.getParent().wa().rd(e.ru.wa().Ma(e.KR)):e.ru.ob()?e.ru.ob().Ma(e.KR):e.KR,this.xb(!1),this.sAa(e.ME,b),this.xb(!0),e.AAa=f,b=!0}}b&&(this.ha(),this.xa());this.cab=!1}};d.prototype.sAa=function(a,b){var c=this.be().slice(),e=this.He().slice(),
f=a3.xA,g=a3.yGb,h=(a=a===p3.gP)?0:c.length-1,k=a?Math.min(3,c.length-1):Math.max(0,c.length-1-3),l=this.wa(),m=l.xc(),n=this.oEa?this.oEa.Nb().wa():new X,p=n.xc(),q=this.rn.rd(b),r=q.getX();q=q.getY();p=X.multiply(p,l);if(this.xva===o3.Line)c[h]=r,e[h]=q;else{l=c[k];k=e[k];var t=l+(r-l)/2,u=k+(q-k)/2;if(this.oEa)if(this.userTouched)for(h=2<c.length?c[a?2:c.length-3]:c[a?0:c.length-1],r=2<e.length?e[a?2:e.length-3]:e[a?0:e.length-1],2<c.length&&g(c,e,a?0:c.length-2,2),b=this.oEa.bJa(p.Pc(h,r),b,[],
[this]),h=0;h<b.length;h++)g=m.Ma(n.Ma(b[h])),f(c,e,g.x,g.y,a?0:void 0);else if((p=a?this.oEa.bJa(b,p.Ma(new N(c[c.length-1],e[e.length-1])),this.No[0]?[this.No[0].ru]:[],[this]):this.oEa.bJa(p.Ma(new N(c[0],e[0])),b,this.No[1]?[this.No[1].ru]:[],[this]))&&2<=p.length)for(c=[],e=[],a=0;a<p.length;a++)b=m.Ma(n.Ma(p[a])),f(c,e,b.getX(),b.getY());else{m=Math.min(3,c.length-1);for(n=0;n<m;n++)g(c,e,a?h:h-n);Math.abs(l-b.x)>Math.abs(l-b.y)?(f(c,e,t,k,a?h:void 0),f(c,e,t,q,a?h:void 0)):(f(c,e,l,u,a?h:void 0),
f(c,e,r,u,a?h:void 0))}}c=a3.v_a(c,e,!1);this.ne(c.x,c.y);this.wj()};d.prototype.pbb=function(a,b,c){if(!a||!a.wa()||oc(a,d3))return null;var e=a.YC();if(e)for(var f=0;f<e.length;f++){var g=e[f];if(N.xf(a.wa().Ma(g),a.wa().Ma(a.ob().rd(b)))<c)return g}return null};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm90b3R5cGVJZCI6InJSIiwiZ2V0UHJvdG90eXBlTmFtZSI6IlhwYSIsImdldENhdGVnb3J5IjoiYU8iLCJnZXRTZWFyY2hLZXl3b3JkcyI6Im5pYSIsImdldERlZmF1bHRTaXplIjoiSHoiLCJzZXREZWZhdWx0U2l6ZSI6IlRyYSIsInNldFRleHQiOiJFYiIsImdldEdlb21ldHJ5IjoiJGQiLCJnZXRMaW5rUG9pbnRzIjoiWUMiLCJzZXRMaW5rUG9pbnRzIjoib0JhIiwiZ2V0T3V0bGluZSI6Ikl4IiwiZ2V0RGVmYXVsdEljb25TaXplIjoieHlhIiwic2V0VXJsIjoiYzMiLCJnZXRVcmwiOiJKQSIsImdldFRleHRTaGFwZSI6ImJsIiwiZ2V0TGlua1R5cGUiOiJSN2IiLCJzZXRMaW5rVHlwZSI6IlVnYyIsImdldFN5bWJvbFNpemUiOiJJTGQiLCJzZXRMaW5raW5nTW9kZSI6Iko0YyIsImdldExpbmtpbmdNb2RlIjoiWk9jIiwiZ2V0VHViaW5nV2lkdGgiOiJ6S2EiLCJzZXRUdWJpbmdXaWR0aCI6IlAwYSIsImdldEJvdW5kcyI6ImdhIiwiY29ubmVjdFRvIjoiWFZhIiwiZ2V0Q29ubmVjdGlvbnMiOiJ6ZGIiLCJkaXNjb25uZWN0RnJvbSI6InZoYSIsImdldENvbm5lY3RlZEluZGV4ZXMiOiJmNmIiLCJ1cGRhdGVMaW5rcyI6ImRQIiwibW92ZUxpbmtIYW5kbGUiOiJzQWEiLCJjYW5Db25uZWN0IjoicGJiIn19fSAg");var t3=/*#__PURE__*/function(){function d(a,b,c){this.eLa=a;this.Dm=b;this.$Gb=c}return d}();var u3=/*#__PURE__*/{Fka:0,ynb:1,il:2,unc:4,kqc:8,q2a:12};var v3=/*#__PURE__*/function(){function d(a){a=G(a,{x:0,y:0,size:new Ud(7,7),painter:$m,isindevicespace:!0});nQ.call(this,a)}L(d,"geotoolkit.flowcharts.shapes.edit.handles.LinkHandle");D(d,nQ);return d}();var w3=/*#__PURE__*/function(){function d(a,b,c,e,f){nQ.call(this,a,b,c);this.cca=e;this.Mca=f;this.wnd=!1;this.xnd=new rf("rgba(255, 0, 0, 1)");this.$Aa(new rf("rgba(255, 197, 113, 1)"))}D(d,nQ);L(d,"geotoolkit.flowcharts.shapes.edit.handles.LinkSplitHandle");d.prototype.render=function(a){a=this.Sa()?a.bc(this.Sa()):a;var b=a.Ea().pl(this.jba()),c=this.al();b=new U(c.getX()-b.ca()/2,c.getY()-b.da()/2,c.getX()+b.ca()/2,c.getY()+b.da()/2);a.ra(this.wnd?this.xnd:this.Uzb());a.qa(this.n5b());a.tk([b.ka(),b.hc(),
b.na(),b.hc()],[b.Dc(),b.la(),b.Dc(),b.ma()],0,3)};d.prototype.Ph=function(){return nQ.prototype.Ph.call(this)};d.prototype.gm=function(a){nQ.prototype.gm.call(this,a);return this};return d}();var x3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){this.eLa=a;this.ME=b}d.prototype.iFd=function(){return 0};d.prototype.TGd=function(){return this.eLa.be().length-1};d.prototype.vac=function(){return this.ME===p3.gP};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGaXJzdEluZGV4IjoiaUZkIiwiZ2V0TGFzdEluZGV4IjoiVEdkIiwiaXNGaXJzdCI6InZhYyJ9fX0g");var y3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){qQ.call(this);this.Pk=null;this.Kb=[];this.cN=[];this.kHa=[];this.dT=8;this.a0=[];this.Mma=[];this.$sc=10;this.eh=new Zj;this.RHa=!1;this.ede=this.sce=20;this.sF=null}var a=a3.yGb,b=a3.xA;L(d,"geotoolkit.flowcharts.shapes.edit.LinksAdapter");D(d,qQ);d.prototype.eWc=function(c,e,f){this.Bia();this.Ql(!1);this.Xca("default");this.sF=null};d.prototype.Cbc=function(c,e,f){c instanceof WR&&(this.sF=c.Ye());this.Pk&&(this.Bia(),this.Ql(!1));this.U0a();this.RHa=!1};d.prototype.U0a=
function(){this.Pk=this.Gb().clone();if(this.Pk instanceof Yn||this.Pk instanceof io)this.Pk.nb("CLONE-"+this.Gb().Ga()),this.Pk.ra(this.Gb().eb()),this.Pk.qa(this.Gb().Fa()),this.Pk.va(!0),this.Pk.ne(this.Gb().be(),this.Gb().He()),this.Pk.Tc(this.Gb().ob().clone()),this.Pk.userTouched=this.Gb().userTouched,this.Gb().getParent().pa(this.Pk),this.Pk.wj();this.Gb().va(!1)};d.prototype.Bia=function(){if(this.Pk){this.Pk.va(!1);if(this.Gb()){var c=this.Pk.be(),e=this.Pk.He();c=a3.v_a(c,e,!1);this.Gb().ne(c.x,
c.y);this.Gb().userTouched=this.Pk.userTouched;this.Gb().wj()}this.Gb().getParent().removeChild(this.Pk)}this.Pk=null;this.Gb().va(!0)};d.prototype.Wxb=function(c,e){c=new N(c,e);c=this.eh.select(this.Gb().getRoot(),c.getX(),c.getY(),4).filter(function(f){return f!==this.Gb()&&f!==this.Pk&&!oc(f,d3)&&oc(f,c3)}.bind(this));this.ghc(c)};d.prototype.ghc=function(c){c||(c=[]);if(this.Xsd(this.a0,c)||0===c.length&&0===this.a0.length)return this;this.a0=c;var e=this.mc();this.Mma.forEach(function(l){return e.removeChild(l)});
this.Mma=[];for(c=0;c<this.a0.length;c++){var f=this.a0[c];var g=X.multiply(f.wa(),e.wa().xc());if(f.YC()&&Array.isArray(f.YC())){var h=f.YC();for(f=0;f<h.length;f++){var k=h[f];g&&(k=g.Ma(k));k=new v3({x:k.x,y:k.y});this.Mma.push(k);e.pa(k)}}}return this};d.prototype.Dbc=function(c,e,f){if(this.Pk){e=this.Gb().be().slice();var g=this.Gb().He().slice(),h=c.cca?c.cca:this.cN[0],k=c.Mca?c.Mca:this.cN[1],l=c,m=this.Pk.wa().xc();h=m.Ma(h.wa().Ma(h.al()));l=m.Ma(l.wa().Ma(l.al()));k=m.Ma(k.wa().Ma(k.al()));
k=1E-7>Math.abs(h.getY()-l.getY())&&1E-7>Math.abs(l.getY()-k.getY());if(c.Ph().$Gb===u3.il){for(h=c.cca;h;h=h.cca)if(h.Ph().$Gb&u3.q2a){var n=h;break}for(h=c.Mca;h;h=h.Mca)if(h.Ph().$Gb&u3.q2a){var p=h;break}if(!n||!p)return;c=m.Ma(n.wa().Ma(n.al()));m=m.Ma(n.wa().Ma(p.al()));k?(this.Xca("n-resize"),0!==n.Ph().Dm&&p.Ph().Dm===e.length-1?(a(e,g,n.Ph().Dm,p.Ph().Dm-n.Ph().Dm),b(e,g,m.getX(),f.getY(),n.Ph().Dm),b(e,g,c.getX(),f.getY(),n.Ph().Dm)):0===n.Ph().Dm&&p.Ph().Dm!==e.length-1?(a(e,g,n.Ph().Dm+
1,p.Ph().Dm-n.Ph().Dm),b(e,g,m.getX(),f.getY(),n.Ph().Dm+1),b(e,g,c.getX(),f.getY(),n.Ph().Dm+1)):(a(e,g,n.Ph().Dm,p.Ph().Dm-n.Ph().Dm),n.cca||b(e,g,m.getX(),m.getY(),n.Ph().Dm),b(e,g,m.getX(),f.getY(),n.Ph().Dm),b(e,g,c.getX(),f.getY(),n.Ph().Dm),p.Mca||b(e,g,c.getX(),c.getY(),n.Ph().Dm))):(this.Xca("e-resize"),0!==n.Ph().Dm&&p.Ph().Dm===e.length-1?(a(e,g,n.Ph().Dm,p.Ph().Dm-n.Ph().Dm),b(e,g,f.getX(),m.getY(),n.Ph().Dm),b(e,g,f.getX(),c.getY(),n.Ph().Dm)):0===n.Ph().Dm&&p.Ph().Dm!==e.length-1?(a(e,
g,n.Ph().Dm+1,p.Ph().Dm-n.Ph().Dm),b(e,g,f.getX(),m.getY(),n.Ph().Dm+1),b(e,g,f.getX(),c.getY(),n.Ph().Dm+1)):(a(e,g,n.Ph().Dm,p.Ph().Dm-n.Ph().Dm),n.cca||b(e,g,m.getX(),m.getY(),n.Ph().Dm),b(e,g,f.getX(),m.getY(),n.Ph().Dm),b(e,g,f.getX(),c.getY(),n.Ph().Dm),p.Mca||b(e,g,c.getX(),c.getY(),n.Ph().Dm)));this.Pk.userTouched=!0}f=a3.v_a(e,g,!1);this.Pk.ne(f.x,f.y);this.Pk.wj()}};d.prototype.KFc=function(){var c;for(c=0;c<this.Kb.length;c++)this.Kb[c].cC(null),this.mc().removeChild(this.Kb[c]);this.ghc(null);
this.Kb=[];this.kHa=[];this.cN=[]};d.prototype.uad=function(c,e,f){if(e&&c){var g=c.Ph(),h=g.Dm;if(!(0>h||h>=this.Gb().be().length)){var k=this.Gb().be(),l=this.Gb().He(),m=0===h?k[h]:(k[h]+k[h-1])/2,n=0===h?l[h]:(l[h]+l[h-1])/2;switch(g.$Gb){case u3.unc:case u3.kqc:c.Jb(f.Ma(e.Pc(k[h],l[h]).clone()));c.va(!1);break;case u3.Fka:c.Jb(f.Ma(e.Pc((k[h-1]+m)/2,(l[h-1]+n)/2)).clone());c.va(!1);break;case u3.il:c.Jb(f.Ma(e.Pc(m,n)).clone());break;case u3.ynb:c.Jb(f.Ma(e.Pc((k[h]+m)/2,(l[h]+n)/2)).clone()),
c.va(!1)}}}};d.prototype.$h=function(c){var e=c.ga(),f=c.be(),g=c.He(),h,k=null!=c.ob()?c.ob():new X,l=c.wa();if(!l)return this;var m=this.mc().wa().xc();for(h=0;h<this.Kb.length;h++){var n=this.Kb[h];var p=n.Ph();p.eLa=c;n instanceof w3&&this.xva!==o3.Line?this.uad(n,l,m):n instanceof v3?(p=p.ME===p3.gP?0:f.length-1,p=l.Pc(f[p],g[p]),n.Jb(m.transform(p))):n instanceof oQ&&(n.Cr({from:new N(e.ka(),e.la()),to:new N(e.na(),e.ma())}),n.Tc(k))}return this};d.prototype.JKa=function(){for(var c=0;c<this.Kb.length;c++)this.Kb[c].va(!1)};
d.prototype.Ql=function(c){void 0===c&&(c=!0);this.KFc();var e=this.Gb();this.xva=e.R7b();var f=e.ga(),g=e.be(),h=e.He();this.Kb.push((new oQ(f.ka(),f.la(),f.na(),f.ma())).gm(new x3(e,-1)));c&&this.ns(this.Kb[0]);if(this.xva===o3.fv){var k=new Ud(this.dT,this.dT);for(c=1;c<g.length;c++){var l=(g[c]+g[c-1])/2;var m=(h[c]+h[c-1])/2;f=q?q:(new w3(g[c-1],h[c-1],k)).gm(new t3(e,c-1,u3.unc));f.va(!1);q||(this.Kb.push(f),this.kHa.push(f));var n=(new w3((g[c-1]+l)/2,(h[c-1]+m)/2,k)).gm(new t3(e,c,u3.Fka));
n.va(!1);this.Kb.push(n);this.kHa.push(n);var p=(new w3(l,m,k)).gm(new t3(e,c,u3.il));this.Kb.push(p);this.kHa.push(p);m=(new w3((g[c]+l)/2,(h[c]+m)/2,k)).gm(new t3(e,c,u3.ynb));m.va(!1);this.Kb.push(m);this.kHa.push(m);l=(new w3(g[c],h[c],k)).gm(new t3(e,c,u3.kqc));l.va(!1);this.Kb.push(l);this.kHa.push(l);q||(f.cca=r,f.Mca=n);n.cca=f;n.Mca=p;p.cca=n;p.Mca=m;m.cca=p;m.Mca=l;l.cca=m;q&&(q.Mca=n);var q=l;var r=m}}r=g.length-1;q=0;for(f=[0,1];q<f.length;q++)c=f[q],c=(new v3({x:g[c*r],y:h[c*r],size:new Ud(this.dT,
this.dT)})).gm(new x3(e,c)),this.Kb.push(c),this.cN.push(c);for(c=1;c<this.Kb.length;c++)this.mc().pa(this.Kb[c]),this.Kb[c].cC(this);this.setStyle({main:{linestyle:new Y({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf("transparent")},corners:{linestyle:new Y({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}})}});this.$h(this.Gb());this.mc().ha();return!0};d.prototype.Gm=function(c){qQ.prototype.Gm.call(this,c);this.je();return this};d.prototype.tn=
function(c){this.Yba()||this.Ql(!0);this.$h(this.Gb());c||(this.Bia(),this.JKa(),this.Xca("default"))};d.prototype.Kbb=function(c,e,f,g){this.cN[e].setActive(!1);if(this.a0&&0<this.a0.length){var h;for(h=0;h<this.a0.length;h++){var k=this.a0[h];if(!k.getParent())return;var l=k.getParent().wa().xc();l=c.pbb(k,l.Pc(f,g),this.$sc);for(var m=0;m<this.Mma.length;m++){var n,p=l&&this.Mma[m].al().Ex(n=k.Sa().Ma(l));this.Mma[m].setActive(p);p&&this.Pk&&this.Pk.sAa(e,n)}if(l&&(this.cN[e].setActive(!0),c.XVa(k,
e,l))){c.dP();return}}}c.vha(e)};d.prototype.wo=function(c,e){var f=this.Nw();if(!f)return this;var g=this.ec();if(g.getX()===c&&g.getY()===e)return this;this.RHa=!0;this.JKa();var h=this.Pk?this.Pk:this.Gb();if(!(h instanceof mg))return this;h.ha();var k=h.wa().xc();g=k.Ma(g);k=k.Pc(c,e).clone();if(f instanceof w3&&this.xva!==o3.Line)this.Dbc(f,g,k);else if(f instanceof v3)this.Wxb(c,e),f=f.Ph(),null!=f&&null!=f.ME&&(h&&h.sAa(f.ME,h.ob().Ma(k)),this.Kbb(f.eLa,f.ME,c,e));else for(this.Xca("move"),
this.Bia(),c=X.jf(k.getX()-g.getX(),k.getY()-g.getY()),h.ob()?h.Tc(X.multiply(h.ob(),c)):h.Tc(c),c=0,e=[0,1];c<e.length;c++)c=e[c],f=this.cN[c].wa().Ma(this.cN[c].al()),this.Kbb(this.Gb(),this.cN[c].Ph().ME,f.getX(),f.getY());this.$h(this.Gb());h.ha();return this};d.prototype.setStyle=function(c){function e(h){return h instanceof rf?G({},{fillstyle:h.ia()}):G({},{fillstyle:h})}function f(h){return h instanceof Y?G({},{linestyle:h.ia()}):G({},{linestyle:h})}var g={};void 0!==c.main&&(void 0!==c.main.linestyle&&
(g=G(g,f(c.main.linestyle))),void 0!==c.main.fillstyle&&(g=G(g,e(c.main.fillstyle))),this.Kb[0].fa(g));g={};if(void 0!==c.corners)for(void 0!==c.corners.linestyle&&(g=G(g,f(c.corners.linestyle))),void 0!==c.corners.fillstyle&&(g=G(g,e(c.corners.fillstyle))),c=1;c<this.Kb.length;++c)this.Kb[c].fa(g);return this};d.prototype.Xsd=function(c,e){if(!c&&!e)return!0;if(!c||!e||c.length!==e.length)return!1;var f;for(f=0;f<c.length;f++)if(c[f].kc()!==e[f].kc())return!1;return!0};d.prototype.Wca=function(c){hb("LinksAdapter.setCursor() is deprecated since 2022 (v3.4)");
return this};d.prototype.Xca=function(c){null!=this.sF&&$R.fl(this.sF,{cursor:c});return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTaGFwZSI6IkdtIiwib25Nb3ZlIjoid28iLCJzZXRDdXJzb3IiOiJXY2EiLCJzZXRDdXJzb3JJbnRlcm5hbCI6IlhjYSJ9fX0g");var z3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];Yn.call(this,b);this.zyd=new Y("rgba(100, 100, 100, 1)",3);this.xyd=new rf("rgba(100, 100, 100, 1)");this.vX=0;this.xT=[];this.dN=[new N(0,0),new N(0,0)];this.No=[null,null];this.je(a);this.created=!1}D(d,Yn);mc(d,d3);L(d,"geotoolkit.flowcharts.shapes.connectors.PolylineVisual");d.prototype.rR=function(){return this.Ala};d.prototype.Xpa=function(){return this.hW};d.prototype.aO=function(){return this.vla};
d.prototype.nia=function(){return this.xT};d.prototype.Hz=function(){var a=this.ga();return new Ud(a.ca(),a.da())};d.prototype.Tra=function(a){return this};d.prototype.Fm=function(a){this.Uc=a};d.prototype.Eb=function(a){return this};d.prototype.$d=function(){return this};d.prototype.YC=function(){for(var a=[],b=this.be(),c=this.He(),e=0;e<b.length;e++)a.push(new N(b[e],c[e]));return a};d.prototype.oBa=function(a){return this};d.prototype.Ix=function(){return this.mo};d.prototype.xya=function(){return this.Spb};
d.prototype.c3=function(a){this.Pga=a;return this};d.prototype.JA=function(){return this.Pga};d.prototype.qic=function(a){this.Rp=a;return this};d.prototype.bl=function(){return this.Rp};d.prototype.zKa=function(){return this.vX};d.prototype.P0a=function(a){if(!a||0>a)a=0;this.vX!==a&&(this.ha(),this.vX=a,this.ha())};d.prototype.ga=function(){var a=Yn.prototype.ga.call(this).clone(),b=this.Fa()?this.Fa().ca()/2:.5;a.bd(a.ca()<a3.EPSILON?1E-5:b,a.da()<a3.EPSILON?1E-5:b);this.zKa()&&a.bd(this.vX,this.vX);
return a};d.prototype.je=function(a){a&&(this.hW=a.prototypeName,this.Uc=a.geometry,this.Ala=a.prototypeId,this.vla=a.category,this.Spb=a.defaultIconSize,this.xT=a.searchKeywords,this.oBa(a.linkPoints),this.mo=a.outline,this.Pga=a.url,this.pj=a.polygon,(a.geometry instanceof Yn||a.geometry instanceof Um)&&this.fa(a.geometry.ia()),this.nb(a.prototypeName),this.P0a(a.tubingWidth),this.wj());this.on(ze.jK,function(){this.dP()}.bind(this));this.Fd(a&&a.id?a.id:g3.Mz())};d.prototype.clone=function(){var a=
new d({prototypeName:this.hW,geometry:this.$d(),prototypeId:this.rR(),category:this.aO(),defaultSize:this.Hz(),defaultIconSize:this.xya(),searchKeywords:this.xT?this.xT.slice():[],linkPoints:this.YC()?this.YC().slice():null,outline:this.Ix()?this.Ix().clone():null,tubingWidth:this.zKa(),url:this.JA()});return a};d.prototype.oa=function(){for(var a=a3.M3,b=a3.M3,c=a3.WOa,e=a3.WOa,f=this.be(),g=this.He(),h=0;h<f.length;h++)a>f[h]&&(a=f[h]),b>g[h]&&(b=g[h]),c<f[h]&&(c=f[h]),e<g[h]&&(e=g[h]);return new U(a,
b,c,e)};d.prototype.render=function(a){this.Uc instanceof Um?(this.Uc.fa(this.ia()),this.Uc.render(a)):Yn.prototype.render.call(this,a)};d.prototype.XVa=function(a,b,c){if(!c||!a)return!1;if(null!=b){if(this.No[b]){var e=this.No[b].AAa;this.vha(b);this.No[b]=null}a.on(ze.jK,function(){this.dP()}.bind(this));this.No[b]=new q3(a,c,b,this);this.No[b].AAa=e;this.dP(!0);return!0}return!1};d.prototype.zdb=function(){return this.No};d.prototype.vha=function(a,b,c){if(null!=a){var e=this.No[a];if(!e)return;
if(!e.ru){this.No[a]=null;return}null!=b&&null!=c&&(b=this.wa().rd(new N(b,c)),c=a===p3.gP?0:this.be().length-1,this.be()[c]=b.getX(),this.He()[c]=b.getY());this.No[a]=null;null==this.No[p3.gP]&&null==this.No[p3.jp]&&e.ru.za(ze.jK,function(){this.dP()}.bind(this))}this.dP()};d.prototype.f6b=function(a){for(var b=[],c=0,e=this.No;c<e.length;c++){var f=e[c];f&&f.kfb()===a.kc()&&b.push(f.ME===p3.gP?0:this.be().length-1)}return b};d.prototype.dP=function(a){void 0===a&&(a=!1);if(!this.cab){this.cab=!0;
for(var b=!1,c=0,e=this.No;c<e.length;c++){var f=e[c];if(f&&f.ru&&f.KR){var g=f.ru.wa().Ua(f.ru.ga());if(a||!g.Gi(f.AAa))b||this.ha(),b=this.getParent().wa().rd(f.ru.wa().Ma(f.KR)),this.sAa(f.ME,b,!0,!0),f.AAa=g,b=!0}}b&&(this.wj(),this.ha(),this.xa());this.cab=!1}};d.prototype.sAa=function(a,b,c,e){var f=this.be().slice(),g=this.He().slice();a=(a=a===p3.gP)?0:f.length-1;var h=this.rn.rd(b);b=h.x;h=h.y;c?(f[a]=b,g[a]=h):e||a3.xA(f,g,f[a],g[a],a+1);this.ne(f,g);this.wj()};d.prototype.pbb=function(a,
b,c){if(!a||!a.wa()||oc(a,d3))return null;var e=a.YC(),f=a.wa();if(e)for(var g=0;g<e.length;g++){var h=e[g];if(N.xf(f.Ma(h),f.Ma(a.ob().rd(b)))<c)return h}return null};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm90b3R5cGVJZCI6InJSIiwiZ2V0UHJvdG90eXBlTmFtZSI6IlhwYSIsImdldENhdGVnb3J5IjoiYU8iLCJnZXRTZWFyY2hLZXl3b3JkcyI6Im5pYSIsImdldERlZmF1bHRTaXplIjoiSHoiLCJzZXREZWZhdWx0U2l6ZSI6IlRyYSIsInNldFRleHQiOiJFYiIsImdldEdlb21ldHJ5IjoiJGQiLCJnZXRMaW5rUG9pbnRzIjoiWUMiLCJzZXRMaW5rUG9pbnRzIjoib0JhIiwiZ2V0T3V0bGluZSI6Ikl4IiwiZ2V0RGVmYXVsdEljb25TaXplIjoieHlhIiwic2V0VXJsIjoiYzMiLCJnZXRVcmwiOiJKQSIsImdldFR1YmluZ1dpZHRoIjoiekthIiwic2V0VHViaW5nV2lkdGgiOiJQMGEiLCJnZXRCb3VuZHMiOiJnYSIsImNvbm5lY3RUbyI6IlhWYSIsImdldENvbm5lY3Rpb25zIjoiemRiIiwiZGlzY29ubmVjdEZyb20iOiJ2aGEiLCJnZXRDb25uZWN0ZWRJbmRleGVzIjoiZjZiIiwidXBkYXRlTGlua3MiOiJkUCIsImNhbkNvbm5lY3QiOiJwYmIifX19");var A3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){y3.call(this);this.nQa=!1}D(d,y3);L(d,"geotoolkit.flowcharts.shapes.edit.PolylineAdapter");d.prototype.VIc=function(){this.Gb().created=!0;this.Bia();this.Ql(!0);this.Xca("default")};d.prototype.isConnected=function(){return this.nQa};d.prototype.eWc=function(a,b,c){this.Gb().created?(this.Bia(),this.Ql(!1),this.Xca("default")):(this.U0a(),this.RHa=!1)};d.prototype.Cbc=function(a,b,c){this.Gb().created?(this.U0a(),this.RHa=!1):(this.Bia(),this.Ql(!1),this.Xca("default"),
this.nQa&&(this.Gb().created=!0))};d.prototype.U0a=function(){y3.prototype.U0a.call(this);this.Pk.control=this.Gb().control;this.Pk.created=this.Gb().created};d.prototype.Bia=function(a){void 0===a&&(a=!1);if(this.Pk){this.Pk.va(!1);if(this.Gb()&&!a){a=this.Pk.be();var b=this.Pk.He();a=a3.v_a(a,b,!0);this.Gb().ne(a.x,a.y);this.Gb().userTouched=this.Pk.userTouched;this.Gb().created=this.Pk.created;this.Gb().wj()}this.Gb().getParent().removeChild(this.Pk)}this.Pk=null;this.Gb().va(!0)};d.prototype.Dbc=
function(a,b,c){if(this.Pk&&a){b=this.Gb().be().slice();var e=this.Gb().He().slice(),f=a.Ph().Dm,g=0===f?b[b.length-1]:b[f-1],h=0===f?e[e.length-1]:e[f-1],k=f===b.length-1?b[0]:b[f+1];f=f===e.length-1?e[0]:e[f+1];var l=c.getX();c=c.getY();if(0!==l-g&&0!==c-h){var m=Math.sqrt(Math.pow(l-g,2)+Math.pow(c-h,2));var n=Math.abs(l-g)/Math.abs(c-h);n<Math.tan(5*Math.PI/180)?(l=g,c=h+(0<c-h?m:-1*m)):n<Math.tan(48*Math.PI/180)&&n>Math.tan(42*Math.PI/180)?(l=g+(0<l-g?m*Math.sin(45*Math.PI/180):m*Math.sin(45*
Math.PI/180)*-1),c=h+(0<c-h?m*Math.sin(45*Math.PI/180):m*Math.sin(45*Math.PI/180)*-1)):n>Math.tan(87*Math.PI/180)&&(c=h,l=g+(0<l-g?m:-1*m))}0!==l-k&&0!==c-f&&(m=Math.sqrt(Math.pow(l-k,2)+Math.pow(c-f,2)),n=Math.abs(l-k)/Math.abs(c-f),n<Math.tan(5*Math.PI/180)?(l=k,c=f+(0<c-f?m:-1*m)):n<Math.tan(50*Math.PI/180)&&n>Math.tan(40*Math.PI/180)?(l=k+(0<l-k?m*Math.sin(45*Math.PI/180):m*Math.sin(45*Math.PI/180)*-1),c=f+(0<c-f?m*Math.sin(45*Math.PI/180):m*Math.sin(45*Math.PI/180)*-1)):n>Math.tan(85*Math.PI/
180)&&(c=f,l=k+(0<l-k?m:-1*m)));a3.yGb(b,e,a.Ph().Dm);a3.xA(b,e,l,c,a.Ph().Dm);this.Pk.userTouched=!0;a=a3.v_a(b,e,!0);this.Pk.ne(a.x,a.y);this.Pk.wj()}};d.prototype.uad=function(a,b,c){if(b){var e=a.Ph();e=e.Dm;if(!(0>e||e>=this.Gb().be().length)){var f=this.Gb().be(),g=this.Gb().He();b=c.Ma(b.Pc(f[e],g[e]).clone());a.Jb(b)}}};d.prototype.Ql=function(a){void 0===a&&(a=!0);this.KFc();var b=this.Gb(),c=b.ga(),e=b.be(),f=b.He();this.nQa&&(b.created=!0);this.Kb.push((new oQ(c.ka(),c.la(),c.na(),c.ma())).gm(new x3(b,
-1)));c=new Ud(1*this.dT,1*this.dT);var g=1;if(this.Gb().$d()instanceof Um&&this.Gb().created)g=0;else for(var h=e.length-1,k=0,l=[0,1];k<l.length;k++){var m=l[k];m=(new v3({x:e[m*h],y:f[m*h],size:new Ud(this.dT,this.dT)})).gm(new x3(b,m));this.Kb.push(m);this.cN.push(m)}for(m=g;m<e.length-g;m++)h=(new w3(e[m],f[m],c)).gm(new t3(b,m,u3.q2a)),this.Kb.push(h),this.kHa.push(h);a&&(this.Gb().created?this.ns(this.Kb[0]):this.ns(this.cN[1]));for(m=1;m<this.Kb.length;m++)this.mc().pa(this.Kb[m]),this.Kb[m].cC(this);
this.setStyle({main:{linestyle:new Y({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}}),fillstyle:new rf("transparent")},corners:{linestyle:new Y({color:"rgba(48, 144, 199, 1)",width:1,pixelsnapmode:{x:!0,y:!0}})}});this.$h(this.Gb());this.mc().ha();return!0};d.prototype.Gm=function(a){qQ.prototype.Gm.call(this,a);a.created?this.Ql():(this.nQa=!1,this.je(),this.U0a(),this.RHa=!1);return this};d.prototype.Gb=function(){return qQ.prototype.Gb.call(this)};d.prototype.tn=function(a){this.Yba()||
this.Ql(!0);this.$h(this.Gb());a||(this.Bia(!0),this.Gb().created=!0,this.JKa(),this.Xca("default"))};d.prototype.Kbb=function(a,b,c,e){this.cN[b].setActive(!1);if(this.a0&&0<this.a0.length)for(var f=0,g,h;f<this.a0.length;f++){h=this.a0[f];if(!h.getParent())return;g=a.pbb(h,h.getParent().wa().rd(new N(c,e)),this.$sc);for(var k=0;k<this.Mma.length;k++){var l,m=g&&this.Mma[k].al().Ex(l=h.Sa().Ma(g));this.Mma[k].setActive(m);m&&this.Pk&&this.Pk.sAa(b,l,!0,this.Pk.created)}if(g){this.cN[b].setActive(!0);
a.XVa(h,b,g)&&(a.dP(),this.$h(a));this.nQa=!0;return}this.nQa=!1}a.vha(b)};d.prototype.wo=function(a,b){this.Wxb(a,b);var c=this.Nw();if(null==c)return this;var e=this.ec();if(e.getX()===a&&e.getY()===b)return this;this.JKa();var f=this.Pk?this.Pk:this.Gb();f.ha();var g=f.wa().xc();e=g.Ma(e);g=g.Pc(a,b).clone();if(c instanceof w3)this.Dbc(c,e,g);else if(c instanceof v3)e=c.Ph(),null!=e&&null!=e.ME&&f&&(f.sAa(e.ME,f.ob().Ma(g),this.RHa,this.Gb().created),this.Gb().created&&this.Kbb(e.eLa,e.ME,a,b));
else if(this.Xca("move"),this.Bia(),a=f.ga(),b=a.clone(),c=g.getX()-e.getX(),e=g.getY()-e.getY(),b.setX(b.getX()+c),b.setY(b.getY()+e),e=X.Vd(a,b,!1,!1,!1),g=f.ob()?f.ob():new X,f.Tc(X.multiply(g,e)),0<this.cN.length)for(e=0,g=[0,1];e<g.length;e++)a=g[e],b=this.cN[a].wa().Ma(this.cN[a].al()),this.Kbb(this.Gb(),this.cN[a].Ph().ME,b.getX(),b.getY());this.RHa=!0;this.$h(this.Gb());f.ha();return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkluaXRpYWxpemUiOiJRbCIsInNldFNoYXBlIjoiR20iLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6InRuIiwib25Nb3ZlIjoid28ifX19");var B3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){a=G(a,{model:a instanceof ni?a:null,slots:{},name:"geotoolkit.flowcharts.shapes.edit.DiagramTool",layer:b},!0);SR.call(this,a);this.DI=this.xAc=null;this.$m({pointerdown:this.gd.bind(this),pointermove:this.Ic.bind(this),pointerup:this.Yc.bind(this),dblclick:this.zr.bind(this)});this.q9c=!0;this.FLa=new Z2;this.zjc=0;this.Djc=function(){this.DI&&this.Cjc(this.DI)}.bind(this);this.Sc=a.model;this.eh=new Zj}D(d,SR);L(d,"geotoolkit.flowcharts.shapes.edit.DiagramTool");
d.prototype.mJ=function(a){this.uc=a;this.UOd(a);return this};d.prototype.YKd=function(){return this.vN};d.prototype.UOd=function(a){this.vN||(this.vN=(new wQ(null,this.mc())).register(h3.Pa(),new m3).register(k3.Pa(),new m3).register(s3.Pa(),new y3).register(z3.Pa(),new A3).register(i3.Pa(),this.xAc=new m3).register(ZD.Pa(),new m3));return this.vN};d.prototype.dIc=function(){this.vN.dM(null);return this};d.prototype.dispose=function(){this.Aj&&this.Aj.removeEventListener("keypress",this.XQa);SR.prototype.dispose.call(this)};
d.prototype.gd=function(a){var b,c=this.Sd(this.Sc,a),e=this.Sc.wa().Ma(c),f=this.eh.select(this.uc.getRoot(),e.getX(),e.getY(),3).filter(function(h){return h instanceof Ee});if(this.ve instanceof A3&&!this.ve.Gb().created&&(this.ve.Cbc(a,e,c),!this.ve.isConnected()))return;if(f&&0<f.length){for(b=f.length-1;0<=b;b--)if(f[b]instanceof s3||f[b]instanceof z3){var g=this.vN.lya();(g instanceof y3||g instanceof A3)&&g.Pd()&&g.Gb()===f[b]&&g.Cbc(a,e,c)}for(b=f.length-1;1<=b;b--)if(c=f[b],c instanceof hQ){if(c instanceof
lQ&&(g=this.Wzb())&&1===g.length&&g!==f[b])continue;if(c.rJ()){this.ve=c.rJ().ns(c).setPosition(e.getX(),e.getY());this.vN.dM(this.ve);this.Pd()||this.start();a.stopPropagation(!0);return}}}(a=this.jjc(f,e,a))&&a.length?(this.VWb!==a&&this.cza().Lkb(a),this.VWb=a):this.DX()};d.prototype.Yc=function(a){if(!this.Pd()||!this.ve)if(!(this.ve instanceof A3)||this.ve.Gb().created&&!this.ve.isConnected())return;var b=this.vN.lya();if(b instanceof y3||b instanceof A3){var c=this.Sd(this.Sc,a),e=this.Sc.wa().Ma(c);
b.eWc(a,e,c);b.ghc([])}a=this.ve.Gb();this.ve instanceof A3&&!this.ve.Gb().created||(a instanceof s3&&a.dP(),this.ve&&this.ve.ns(null),this.ve=null,this.stop())};d.prototype.zr=function(a){a=this.Sd(this.Sc,a);a=this.Sc.wa().Ma(a);a=this.eh.select(this.uc.getRoot(),a.getX(),a.getY(),4).filter(function(b){return oc(b,c3)});a=0<a.length?a[a.length-1]:null;oc(a,h3)&&this.f7d(a);this.ve instanceof A3&&(this.ve.VIc(),this.DX())};d.prototype.Ic=function(a){if(this.ve){a=this.Sd(this.Sc,a);a=this.Sc.wa().Ma(a);
var b=this.vN.lya();b&&b.move(a.getX(),a.getY())}};d.prototype.DX=function(){this.VWb=null;this.cza().Lkb([]);this.dIc()};d.prototype.njc=function(){return this.ve instanceof A3&&!this.ve.Gb().created?(this.ve.VIc(),this.DX(),!0):!1};d.prototype.jjc=function(a,b,c){if(a&&0<a.length)for(var e=a.length-1;0<=e;e--)if(!a[e].getParent()||"ShapesContainer"===a[e].getParent().kc()){var f=this.vN.rJ(a[e]);if(f)return a[e]instanceof z3&&-1!==a[e].Ga().indexOf("CLONE")||f.Gm(a[e]).setPosition(b.getX(),b.getY()),
this.vN.dM(null),this.vN.dM(f),this.ve=f,this.Pd()||this.start(),c&&c.stopPropagation(!0),[a[e]]}return[]};d.prototype.b9c=function(){this.stop();this.ve=null;this.dIc()};d.prototype.Wzb=function(){var a=[];if(!this.vN.lya())return a;var b=this.vN.lya().Gb();if(b instanceof i3){var c=b.Tw();for(b=0;b<c.length;b++)a.push(c[b])}else 0>a.indexOf(b)&&a.push(b);return a};d.prototype.yMa=function(a){if(this.ve instanceof A3&&!this.ve.Gb().created)return this;this.vN.dM(null);var b;if(1<a.length){if(b=this.xAc)b.Gm(a),
this.vN.dM(b)}else if(1===a.length)for(var c=0;c<a.length;c++){b=this.vN.rJ(a[c]);if(!b)return this;b.Gm(a[c]);this.vN.dM(b)}this.cza().Lkb(a);return this};d.prototype.nSc=function(){return this.q9c};d.prototype.o5d=function(a){this.q9c=a;return this};d.prototype.f7d=function(a){this.nSc()&&(this.DI&&(this.DI.za(ze.jK,this.Djc),this.DI.bl&&this.DI.bl()&&(this.DI.bl().va(!0),this.DI.ha())),this.d7d(),this.DI=a)&&(a.on(ze.jK,this.Djc),a.bl&&a.bl()&&(a.bl().va(!1),a.ha()),this.Cjc(a,!0),this.Aj.focus())};
d.prototype.d7d=function(){this.Ak||(this.Ak=xc("div"),this.Ak.style.position="absolute",this.Ak.style.display="none",this.Ak.style.border="0px solid transparent !important",this.Ak.style.pointerEvents="none",this.Ak.style.overflow="hidden",$a.document.body.appendChild(this.Ak),this.Aj=xc("div"),this.Aj.style.overflow="hidden",this.Aj.style.position="absolute",this.Aj.style.border=this.zjc+"px solid black",this.Aj.style.pointerEvents="all",this.Aj.style.display="flex",this.Aj.style.alignContent="center",
this.Aj.style.alignItems="center",this.Aj.contentEditable="true",this.Ak.appendChild(this.Aj),this.XQa=function(a){if("Enter"===a.key||13===a.keyCode)a.shiftKey||this.v9c()}.bind(this),this.Aj.addEventListener("keypress",this.XQa),this.yEa=function(a){"Escape"===a.key||27===a.keyCode?this.c7d():(this.Cjc(this.DI,!1),a.stopPropagation())}.bind(this),this.Aj.addEventListener("keydown",this.yEa),this.Aj.addEventListener("blur",function(){return this.v9c()}.bind(this)))};d.prototype.Cjc=function(a,b){var c=
this.uc?this.uc.Pw():null;if(!c)return this;var e=Ac(this.uc.Pw());c=new U({x:e.x,y:e.y,width:c.clientWidth,height:c.clientHeight});if(!a||!a.ga())return this.Ak.style.display="none",this;e=this.e7d(a,!0);b&&(this.Aj.innerText=a.bl()?a.bl().me()||"":"",this.Aj.style.wordBreak="break-all",this.Aj.style.font=a.bl().jb().wt(),this.Aj.style.textAlign=a.bl().jb().Lj(),this.Aj.style.justifyContent=a.bl().jb().Lj()===Ai.cc?"flex-end":a.bl().jb().Lj(),this.Aj.style.color="red",this.Aj.style.lineHeight=a.bl().jb().XC()+
"",this.Aj.style.baselineShift=a.bl().jb().Lu());this.Ak.style.display="block";this.Ak.style.left=c.getX()+"px";this.Ak.style.top=c.getY()+"px";this.Ak.style.width=c.ca()+"px";this.Ak.style.height=c.da()+"px";this.Aj.style.left=e.left+"px";this.Aj.style.top=e.top+"px";this.Aj.style.width=e.width+2*this.zjc+"px";this.Aj.style.height=e.height+2*this.zjc+"px";this.Aj.style.transformOrigin="center";this.Aj.style.transform="rotate("+e.angle+"rad)";return this};d.prototype.e7d=function(a,b){b=a.ga();b=
[b.kd(),b.fg(),b.yf(),b.dg(),b.getCenter()];var c=a.wa().clone();a=[];for(var e=0;e<b.length;e++)a.push(c.Ma(b[e]));b=h3.ZAd(h3.lKd(a[0],a[1]),!1);c=N.xf(a[0],a[1]);e=N.xf(a[0],a[3]);return{angle:b,left:a[4].getX()-c/2,top:a[4].getY()-e/2,width:c,height:e}};d.prototype.v9c=function(){var a=this.Aj.innerText;a={value:a};this.fireEvent("ValueChanged",a);this.DI instanceof h3&&(this.DI.bl().Eb(this.Aj.innerText),this.DI.ha());this.u9c();return this};d.prototype.c7d=function(){if("none"===this.Aj.style.display)return this;
this.u9c();return this};d.prototype.u9c=function(){this.Ak.style.display="none";this.DI&&(this.DI.za(ze.jK,this.Djc),this.DI.bl()&&(this.DI.bl().va(!0),this.DI.ha()));this.DI=null};d.prototype.cza=function(){this.FLa||(this.FLa=new Z2);return this.FLa};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhdHRhY2hUb1Bsb3QiOiJtSiIsImdldFNoYXBlQWRhcHRlcnMiOiJZS2QiLCJjbGVhclNlbGVjdGlvbiI6IkRYIiwic3RhcnRBZGFwdGVyIjoiampjIiwiZ2V0QWN0aXZlU2VsZWN0aW9uIjoiV3piIiwic2VsZWN0VmlzdWFscyI6InlNYSIsImdldFRleHRFZGl0b3JFbmFibGVkIjoiblNjIiwic2V0VGV4dEVkaXRvckVuYWJsZWQiOiJvNWQiLCJnZXRPblNlbGVjdGlvbkNoYW5nZUV2ZW50IjoiY3phIn19fSAg");var C3=/*#__PURE__*/ta(/*#__PURE__*/{Jc:"None",hK:"Panning",Wpc:"RubberBandSelection"},2,"eyJOb25lIjoiSmMiLCJQYW5uaW5nIjoiaEsiLCJSdWJiZXJCYW5kU2VsZWN0aW9uIjoiV3BjIn0g");var D3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}var a=null;d.ya=function(){a||(a=new d);return a};d.prototype.R7=function(b,c,e){return this.AOc().R7(b,c,e)};d.prototype.B6=function(b){return this.AOc().B6(b)};d.prototype.J4d=function(b,c){this.So().AGb(b);this.So().om(b,c)};d.prototype.wv=function(b){return this.So().wv(b)};d.prototype.AOc=function(){this.cwc||(this.cwc=new Cl(this.So()));return this.cwc};d.prototype.So=function(){this.Rm||(this.Rm=new Mf);return this.Rm};return d}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsic2VyaWFsaXplIjoiUjciLCJkZXNlcmlhbGl6ZSI6IkI2Iiwic2V0U2VyaWFsaXplciI6Iko0ZCIsImdldFNlcmlhbGl6ZXIiOiJ3diJ9fX0g");var E3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){KZ.call(this,a);this.DM="Panning";this.ntb=new U(0,0,800,500);this.bIe=new Ud(1,1);this.kBc=0;this.qda=10;this.FLa=new Z2;this.BYb=this.eH=null;this.je();this.Ljc("RubberBandSelection")}D(d,KZ);L(d,"geotoolkit.flowcharts.shapes.DiagramWidget");d.prototype.Di=function(a,b,c){var e=a.Nb().oa(),f=a.Nb().wb();b&&b.Ha(e,f,a.Nb().Ji());c&&c.Ha(e,f,a.Nb().Xo())};d.prototype.pan=function(a,b,c,e,f){a.dF(b,c);this.Di(a,e,f);return this};d.prototype.uwd=function(a){var b=new rf({color:new xd(255,
255,255,1)}),c=new Y("gray",2);b=(new ni).ra(b).qa(c).hd(!1).Ha(a.clone()).sa(a.clone());this.Of=new ni;this.Of.Ha(a.clone());this.Of.nb("ShapesContainer");this.Of.Fd("ShapesContainer");this.Of.Li(new mi);e3.smc&&b.pa(new f3(this.Of,this.OK));b.pa([this.Of]);return b};d.prototype.mwd=function(a){this.Ega=(new uk).Er("major",100).Er("minor",50).$g("minor",!0);this.Ega.Gj("major").setColor("blue");this.Ega.Gj("edge").setColor("darkblue");this.Ega.Gj("minor").setColor("orange");this.Ega.nl("major").yo("12px sans-serif");
this.Ega.nl("minor").yo("12px sans-serif");this.Ega.nl("edge").yo("12px sans-serif");var b=(new pk(this.Ega)).Hm(xf.Ed).setOrientation(Rh.yb).Qs(yf.Ed),c=(new pk(this.Ega)).Hm(xf.qb).setOrientation(Rh.yb).Qs(yf.qb),e=(new pk(this.Ega)).Hm(xf.cc).setOrientation(Rh.rb).Qs(yf.cc),f=(new pk(this.Ega)).Hm(xf.tc).setOrientation(Rh.rb).Qs(yf.tc);a={fillstyle:new rf({color:"red"}),model:this.uwd(a),keepvisiblelimits:!1,north:[b],south:[c],west:[e],east:[f]};this.Lb=(new $l(a)).Dr(null);this.Lb.Na({left:0,
right:0,top:0,bottom:0});this.Lb.fb($h.ue).dm(this.kBc);this.Lb.fb($h.Ec).dm(0);this.Lb.fb($h.lc).Em(this.kBc);this.Lb.fb($h.Rc).Em(0);return this.Lb};d.prototype.fb=function(a){return a===$h.Jc?null:this.Lb.fb(a)};d.prototype.b1d=function(a){this.Lb.Nb().Ha(a);this.Lb.Nb().sa(a);this.Nb().Ha(a);return this};d.prototype.je=function(){this.OK=new e3(this.qda);this.Lb=this.mwd(this.ntb);this.de(new jl).pa(this.Lb);this.SOd(this.Lb);this.pi();this.Di(this.Lb,this.Qd,this.Cd)};d.prototype.SOd=function(a){var b=
a.Nb(),c=function(f,g){var h=b.wb();g=g.wb();h=h.ka()-g.ka();this.pan(this.Lb,h,0,f,null)}.bind(this),e=function(f,g){var h=b.wb();g=g.wb();h=h.la()-g.la();this.pan(this.Lb,0,h,null,f)}.bind(this);this.Qd=(new cS({modellimits:b.oa(),visiblelimits:b.wb(),size:10,rounded:!0})).TO(!0).addListener(TR.Yn,c);this.Cd=(new eS({modellimits:b.oa(),visiblelimits:b.wb(),size:10,rounded:!0})).TO(!0).addListener(TR.Yn,e);a.$r(this.Qd,$h.Ec);a.$r(this.Cd,$h.Rc)};d.prototype.pi=function(){$a.document.addEventListener("keydown",
function(b){46===b.keyCode&&this.M3b()}.bind(this));$a.document.addEventListener("keydown",function(b){27===b.keyCode&&this.DX()}.bind(this));var a=new xm;this.Lb.qJa().pa(a);this.vC=new B3(this.Lb.Nb(),a);this.vC.cza().on(function(b){this.cza().Lkb(b)}.bind(this));this.Efa=[this.eH=this.OOd()];this.vC.Rb(!0);this.Un([this.Qd.Mc(),this.Cd.Mc(),this.vC,this.BYb=this.QOd(a),(new QS(this.Lb,"selectionTools")).add(this.Efa)])};d.prototype.OOd=function(){return(new bU).Rb(!0).addListener(aU.QE,function(a,
b){a=b.Zl();this.Lb.dF(a.x,a.y);this.Di(this.Lb,this.Qd,this.Cd)}.bind(this))};d.prototype.QOd=function(a){return(new cT(a,LS.H8)).Vca(!1).Qja(CS.tP).v6c(YS.Ok).wD(function(b){return b.filter(function(c){return oc(c,c3)||c instanceof ZD||oc(c,d3)})}).nb("RubberBandSelection").Rb(!1).addListener(bT.DAa,function(b,c){if(b=c.getSelection()){c=[];for(var e=0;e<b.length;e++)b[e].getParent()&&"ShapesContainer"===b[e].getParent().kc()&&c.push(b[e]);this.vC.Rb(!0);this.vC.yMa(a3.flatten([c]))}}.bind(this)).addListener(RR.hj,
function(b){this.vC.Rb(!0);!1===b.isEnabled()&&(this.vC.Rb(!0),this.Ljc(C3.hK))}.bind(this))};d.prototype.Ljc=function(a){this.Efa.forEach(function(c){c.Rb(!1)});var b=C3.hK;a===C3.Wpc?this.DM!==a&&(b=a,this.BYb.Rb(!0),this.vC.Rb(!1)):(this.eH.Rb(!0),this.BYb.Rb(!1));this.DM=b;return this};d.prototype.HBd=function(){return this.DM};d.prototype.FE=function(){var a=this.Lb.Nb().ob();return{x:a?a.lb():1,y:a?a.Ab():1}};d.prototype.gl=function(a,b){a||(a=1);b||(b=a);var c=this.FE()?this.FE():{x:1,y:1};
this.Lb.Gt(a/c.x,b/c.y);this.Di(this.Lb,this.Qd,this.Cd);this.mjc();return this};d.prototype.Hda=function(){this.Gt(2)};d.prototype.Ida=function(){this.Gt(.5)};d.prototype.Gt=function(a){a?this.Lb.Gt(a,a):this.Lb.fS(new X);this.mjc();this.Di(this.Lb,this.Qd,this.Cd)};d.prototype.mjc=function(){this.vC.b9c();this.vC.stop()};d.prototype.Nb=function(){return this.Of};d.prototype.lEd=function(){return this.Of.ga().clone()};d.prototype.bJa=function(a,b,c,e){this.OK.CZ(this.Of,c,e);var f=this.OK.bJa(a,
b);c=[];var g;if(f&&0<f.length){e=[];var h=f[f.length-1];e.push(h);for(g=f.length-2;0<=g;g--)h.ky!==f[g].ky&&h.ZA!==f[g].ZA&&(e.push(f[g+1]),h=f[g+1]);e[0].ky===f[0].ky&&e[0].ZA===f[0].ZA||e.push(f[0]);if(3<e.length)for(g=0;g<e.length;g++){var k=e[g],l=g<e.length-1?e[g+1]:k;h=new N(k.ZA*this.qda,k.ky*this.qda);0===g?(f=k.ZA===l.ZA?a.getX()-h.getX():0,h=k.ky===l.ky?a.getY()-h.getY():0,h=new N(l.ZA*this.qda+f,l.ky*this.qda+h),c.push(a,h),g++):g===e.length-2?(f=k.ZA===l.ZA?b.getX()-l.ZA*this.qda:0,h=
k.ky===l.ky?b.getY()-l.ky*this.qda:0,h=new N(k.ZA*this.qda+f,k.ky*this.qda+h),c.push(h,b),g++):c.push(h)}else 3===e.length?(c.push(a),g=new N(e[1].ZA*this.qda,e[1].ky*this.qda),f=e[0].ZA===e[1].ZA?Math.abs(a.getX()-g.getX()):0,h=e[2].ky===e[1].ky?Math.abs(b.getY()-g.getY()):0,f||h||(f=e[1].ZA===e[2].ZA?Math.abs(b.getX()-g.getX()):0,h=e[0].ky===e[1].ky?Math.abs(a.getY()-g.getY()):0),g.translate(f,h),c.push(g),c.push(b)):2>e.length&&(e=[a,b]);2===e.length&&(c.push(a),Math.abs(a.getX()-b.getX())>Math.abs(a.getY()-
b.getY())?c.push(new N((a.getX()+b.getX())/2,a.getY()),new N((a.getX()+b.getX())/2,b.getY())):c.push(new N(a.getX(),(b.getY()+a.getY())/2),new N(b.getX(),(b.getY()+a.getY())/2)),c.push(b))}return c};d.prototype.getSelection=function(){var a=[];return this.vC?a=this.vC.Wzb():this.VWb=a};d.prototype.njc=function(){return this.vC?this.vC.njc():!1};d.prototype.DX=function(){this.vC&&this.vC.DX();return this};d.prototype.yMa=function(a){this.vC&&this.vC.yMa(a);return this};d.prototype.DNd=function(a,b){void 0===
b&&(b="group of objects");if(a&&a.length){this.DX();var c=new ZD;c.pa(a);c.nb(b);c.Fd(g3.Mz());this.Nb().pa(c);this.yMa([c])}return this};d.prototype.K7d=function(a){if(a&&a.length){this.DX();for(var b=0;b<a.length;b++){var c=a[b];if(c instanceof ZD){for(;0<c.ac();){var e=c.gb(0);e instanceof mg&&(e.Tc(X.multiply(c.ob()?c.ob():new X,e.ob()?e.ob():new X)),this.Nb().pa(e))}this.Nb().removeChild(c)}}}return this};d.prototype.ibb=function(a){if(!a)return this;a=Array.isArray(a)?a:[a];this.Nb().removeChild(a);
for(var b=0;b<a.length;b++)this.Nb().Xf(this.Nb().ac(),a[b]);return this};d.prototype.S_d=function(a){if(!a)return this;a=Array.isArray(a)?a:[a];this.Nb().removeChild(a);for(var b=0;b<a.length;b++)this.Nb().Xf(0,a[b]);return this};d.prototype.GFc=function(){this.DX();this.mjc();this.Nb().rh();return this};d.prototype.KZd=function(){this.gl(1,1);this.GFc();return this};d.prototype.q_d=function(){return D3.ya().R7("model",this.Nb())};d.prototype.wRd=function(a){if(a)if(a=D3.ya().B6(a)){a=a.Kd(null,
"model");this.GFc();var b=[];if(a instanceof ni)for(;0<a.ac();){var c=a.gb(0);this.Z0(c);b.push(c)}this.l0c(this.Scb(b),this.Scb([this.Nb()]));this.Nb().xa();this.Nb().ha()}else hb("could not deserialize data");else hb("data is not present")};d.prototype.Scb=function(a){var b=[],c,e;for(c=0;c<a.length;c++){var f=a[c];b.push(f);if(f instanceof ni||f instanceof ZD){var g=[];for(e=0;e<f.ac();e++)g.push(f.gb(e));b.push.apply(b,this.Scb(g))}}return b};d.prototype.l0c=function(a,b){function c(k,l){if(k){var m=
k.Oq;!m&&k.relatedVisualId&&(m=a.find(function(n){return n instanceof Ee&&n.kc()===k.relatedVisualId}),!m&&b&&(m=b.find(function(n){return n instanceof Ee&&n.kc()===k.relatedVisualId})));m?(l.XVa(m,k.ME,k.KR),k.relatedVisualId=null,k.Oq=m):(l.vha(k.ME),hb("could not restore link to "+k.relatedVisualId))}}for(var e=0;e<a.length;e++){var f=a[e];if(f instanceof s3||f instanceof z3)if(f.userTouched=!0,f.No&&0<f.No.length){for(var g=0;g<f.No.length;g++){var h=f.No[g];c(h,f)}f.dP(!0)}}};d.prototype.PGc=
function(){return this.W2b(this.getSelection())};d.prototype.jyd=function(){var a=this.PGc();this.M3b();return a};d.prototype.M3b=function(){var a=this.vC.Wzb();a.forEach(function(b){return this.qcb(b)}.bind(this));return this};d.prototype.Z0=function(a,b,c,e){void 0===c&&(c=!0);if(b){var f=b;if(a instanceof mg&&Wc(a)){var g=a.ob()?a.ob().clone():new X;g.TA(f.getX(),f.getY());f=a.ga();c?g.translate(-f.hc(),-f.Dc()):g.translate(-f.ka(),-f.la());a.Tc(g)}this.Z0(a);a instanceof z3&&(e?(b=this.Nb().wa().Ma(b),
this.vC.jjc([a],b,null),this.vC.Rb(!0)):a.created=!0)}else this.Nb().pa(a);this.SA(a);return a};d.prototype.SA=function(a,b){if(a instanceof ni)for(var c=0;c<a.ac();c++)this.SA(a.gb(c));a.Nfc&&a.Nfc(b?null:this)};d.prototype.qcb=function(a){var b;if(a instanceof i3)for(a=a.Tw(),b=0;b<a.length;b++)this.qcb(a[b]);else if(a){for(b=0;b<this.Nb().ac();b++){var c=this.Nb().gb(b);oc(c,d3)&&(c.vha(p3.gP),c.vha(p3.jp))}this.SA(a,!0);this.Nb().removeChild(a);this.vC.b9c()}return this};d.prototype.qIc=function(a){for(var b=
0;b<a.length;b++)this.qcb(a[b]);return this};d.prototype.W2b=function(a){return D3.ya().R7("visuals",a)};d.prototype.lyd=function(a){var b=this.W2b(a);this.qIc(a);return b};d.prototype.LVd=function(a,b){try{var c=D3.ya().B6(a).getValue("visuals");a=null;var e;for(e=0;e<c.length;e++)if(c[e]){var f=c[e].ob(),g=f?f.Ua(c[e].ga()):c[e].ga().clone();a?a.union(g):a=g}for(e=0;e<c.length;e++)if(c[e]){var h=c[e],k=a.kd(),l=b.getX()-k.getX(),m=b.getY()-k.getY(),n=h.ob()?h.ob():new X;h.Tc(X.multiply(X.jf(l,m),
n));oc(h,d3)&&h.wj();h.xa();this.Z0(h)}var p=this.Scb(c);this.l0c(p,[]);for(e=0;e<p.length;e++)p[e]&&p[e].Fd(g3.Mz());this.vC.yMa(c)}catch(q){}};d.prototype.cza=function(){this.FLa||(this.FLa=new Z2);return this.FLa};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiZmIiLCJzZXREaWFncmFtTGltaXRzIjoiYjFkIiwidG9nZ2xlVG9vbCI6IkxqYyIsImdldEFjdGl2ZVRvb2wiOiJIQmQiLCJnZXRTY2FsZSI6IkZFIiwic2V0U2NhbGUiOiJnbCIsInpvb21JbiI6IkhkYSIsInpvb21PdXQiOiJJZGEiLCJzY2FsZU1vZGVsIjoiR3QiLCJnZXRNb2RlbCI6Ik5iIiwiZ2V0RGlhZ3JhbUxpbWl0cyI6ImxFZCIsInN0b3BQb2x5bGluZUVkaXQiOiJuamMiLCJjbGVhclNlbGVjdGlvbiI6IkRYIiwic2VsZWN0VmlzdWFscyI6InlNYSIsImdyb3VwVmlzdWFscyI6IkROZCIsInVuZ3JvdXBWaXN1YWxzIjoiSzdkIiwiYnJpbmdUb0Zyb250IjoiaWJiIiwic2VuZFRvQmFjayI6IlNfZCIsInJlc2V0RGlhZ3JhbSI6IktaZCIsInNhdmVEaWFncmFtIjoicV9kIiwibG9hZERpYWdyYW0iOiJ3UmQiLCJmbGF0dGVuVmlzdWFscyI6IlNjYiIsImNvcHlTZWxlY3Rpb24iOiJQR2MiLCJjdXRTZWxlY3Rpb24iOiJqeWQiLCJkZWxldGVTZWxlY3Rpb24iOiJNM2IiLCJhZGRWaXN1YWwiOiJaMCIsImRlbGV0ZVZpc3VhbCI6InFjYiIsImRlbGV0ZVZpc3VhbHMiOiJxSWMiLCJjb3B5VmlzdWFscyI6IlcyYiIsImN1dFZpc3VhbHMiOiJseWQiLCJwYXN0ZSI6IkxWZCIsImdldE9uU2VsZWN0aW9uQ2hhbmdlRXZlbnQiOiJjemEifX19");var F3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){this.Oq=a.visuals||[];this.Gda=a.widget;this.center=a.center||!0;this.location=a.location||{x:0,y:0};this.LX=!1}mc(d,Y2);L(d,"geotoolkit.flowcharts.commands.AddVisual");d.prototype.sg=function(){return oc(this.Gda,E3)&&this.Oq&&this.Gda?(this.Gda.Z0(this.Oq,this.LX?null:this.location,this.center),this.LX=!0):!1};d.prototype.pS=function(){return this.LX&&oc(this.Gda,E3)?(this.Gda.qcb(this.Oq),!0):!1};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoic2ciLCJ1bmRvIjoicFMifX19");var G3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){this.r9a=new Io;this.Oq=a.visuals||[];this.Sg=a.transformation||new X;this.LX=!1;if(this.Oq)for(a=0;a<this.Oq.length;a++)this.Oq[a].ob()&&this.r9a.put(this.Oq[a],this.Oq[a].ob())}mc(d,Y2);L(d,"geotoolkit.flowcharts.commands.TransformVisuals");d.prototype.TJb=function(a,b){if(a&&b){var c=a.ob()?a.ob():new X;a.ha();a.Tc(c.xc().Wp(b.xc()).xc());a.ha();return!0}return!1};d.prototype.sg=function(){if(!this.LX&&this.Oq.length&&this.Sg){var a;for(a=0;a<this.Oq.length;a++)this.TJb(this.Oq[a],
this.Sg);return this.LX=!0}return!1};d.prototype.pS=function(){if(this.LX){var a;for(a=0;a<this.Oq.length;a++)this.Oq[a].Tc(this.r9a.Cx(this.Oq[a])?this.r9a.get(this.Oq[a]):null);this.LX=!1;return!0}return!1};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoic2ciLCJ1bmRvIjoicFMifX19");var H3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){G3.call(this,a);this.angle=a.angle||0;this.Lw=a.anchor||O.Oa}D(d,G3);L(d,"geotoolkit.flowcharts.commands.RotateVisuals");d.prototype.sg=function(){if(!this.LX&&this.Oq.length){var a;for(a=0;a<this.Oq.length;a++){var b=this.Oq[a].ga().clone();this.Oq[a].ob()&&(b=this.Oq[a].ob().Ua(b));b=b.Gy(this.Lw);b=X.Ui(this.angle,b.x,b.y);this.TJb(this.Oq[a],b)}return this.LX=!0}return!1};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoic2cifX19");var I3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){G3.call(this,a);this.cM=a.scalex||1;this.QO=a.scaley||1;this.Lw=a.anchor||O.Id}D(d,G3);L(d,"geotoolkit.flowcharts.commands.ScaleVisuals");d.prototype.sg=function(){if(!this.LX&&this.Oq.length){var a;for(a=0;a<this.Oq.length;a++){var b=this.Oq[a].ga();this.Oq[a].ob()&&(b=this.Oq[a].ob().Ua(b));var c=b.clone();c.bd(1<this.cM?b.width*this.cM/4:-(b.width-b.width*this.cM)/2,1<this.QO?b.height*this.QO/4:-(b.height-b.height*this.QO)/2);this.TJb(this.Oq[a],X.Vd(b,c))}return this.LX=
!0}return!1};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoic2cifX19");var J3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){G3.call(this,a);this.delta=a.delta||{x:0,y:0}}D(d,G3);L(d,"geotoolkit.flowcharts.commands.TranslateVisuals");d.prototype.sg=function(){if(!this.LX&&this.Oq.length){var a;for(a=0;a<this.Oq.length;a++)this.TJb(this.Oq[a],X.jf(this.delta.x,this.delta.y));return this.LX=!0}return!1};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJleGVjdXRlIjoic2cifX19");var K3=/*#__PURE__*/function(){function d(a){Dl.call(this);void 0===a&&(a=!0);this.zNa=!0;this.zNa=a}L(d,"geotoolkit.flowcharts.persistence.visuals.DiagramVisualSerializer");D(d,Dl);d.prototype.Ygb=function(a){return a={prototypeName:a.getValue("prototypeName"),geometry:this.zNa?a.Kd(null,"geometry"):null,prototypeId:a.getValue("prototypeId"),category:a.getValue("category"),defaultSize:a.Kd(null,"defaultSize"),searchKeywords:a.Kd(null,"searchKeywords"),linkPoints:a.Kd(null,"linkPoints"),outline:a.Kd(null,"outline"),
text:a.Kd(null,"text"),id:a.Kd(null,"id")}};d.prototype.mbc=function(a,b){a.nb(b.getValue("name"));a.Fg(b.getValue("selectable"));a.Ht(b.Kd(null,"tag"));a.Tc(b.Kd(null,"localtransform"));a.qa(b.Kd(null,"linestyle"));a.Fd(b.getValue("id"))};d.prototype.i1=function(a){return new h3(a)};d.prototype.load=function(a){var b=this.Ygb(a);b=this.i1(b);this.mbc(b,a);return b};d.prototype.save=function(a,b){b.Yb("prototypeName",a.Xpa());this.zNa&&b.Ne("geometry",a.$d());b.Ne("text",a.bl());b.Yb("prototypeId",
a.rR());b.Yb("category",a.aO());b.Ne("defaultSize",a.Hz());b.Ne("searchKeywords",a.nia());b.Ne("linkPoints",a.YC());b.Ne("outline",a.Ix());b.Yb("id",a.kc());b.Yb("name",a.Ga());b.Yb("selectable",a.Ls());b.Ne("tag",a.ng());b.Ne("localtransform",a.ob());b.Ne("linestyle",a.Fa());b.Yb("ClassName",a.Pa());b.commit()};D3.ya().So().om(h3.Pa(),new d);return d}();var L3=/*#__PURE__*/function(){function d(a){Dl.call(this);void 0===a&&(a=!0);this.zNa=a}L(d,"geotoolkit.flowcharts.persistence.visuals.ExportDiagramVisualSerializer");D(d,Dl);d.prototype.Ygb=function(a){return{prototypeName:a.getValue("prototypeName"),geometry:this.zNa?a.Kd(null,"geometry"):null,prototypeId:a.getValue("prototypeId"),category:a.getValue("category"),defaultSize:a.Kd(null,"defaultSize"),searchKeywords:a.Kd(null,"searchKeywords"),linkPoints:a.Kd(null,"linkPoints"),outline:a.Kd(null,"outline")}};
d.prototype.mbc=function(a,b){a.nb(b.getValue("name"));a.Fg(b.getValue("selectable"));a.Ht(b.Kd(null,"tag"));a.Tc(b.Kd(null,"localtransform"));a.qa(b.Kd(null,"linestyle"));a.Fd(b.getValue("id"))};d.prototype.i1=function(a){return new h3(a)};d.prototype.load=function(a){var b=this.Ygb(a);b=this.i1(b);this.mbc(b,a);return b};d.prototype.save=function(a,b){b.Yb("prototypeName",a.Xpa());if(a instanceof s3){var c=D3.ya().wv("default");c.save(a,b)}else b.Uz(a.$d(),null);b.Ne("localtransform",a.ob());a instanceof
s3&&b.Yb("ClassName","geotoolkit.scene.shapes.Polyline");b.commit()};return d}();var M3=/*#__PURE__*/function(){function d(){}L(d,"geotoolkit.flowcharts.persistence.visuals.LinkVisualSerializer");D(d,Dl);d.prototype.load=function(a){var b=D3.ya().wv("default");if(b&&b.load)b=b.load(a);else return null;var c=a.Kd(null,"connections");if(c&&c.length)for(var e=0;e<c.length;e++){var f=c[e];b.No[f.ME]=f}b instanceof s3&&(b.searchKeywords=a.Kd(null,"searchKeywords"),b.J4c(a.getValue("linkingMode")),b.P0a(a.getValue("tubingWidth")),b.Ugc(a.getValue("linkType")));return b};d.prototype.save=function(a,
b){var c=D3.ya().wv("default");c.save&&c.save(a,b);c=[];for(var e=0,f=a.No;e<f.length;e++){var g=f[e];if(g instanceof q3){var h=new q3(null,g.KR,g.ME,null);h.relatedVisualId=g.kfb();h.KR=new N(g.KR.getX(),g.KR.getY());c.push(h)}}b.Ne("connections",c);b.Ne("searchKeywords",a.nia());b.Yb("linkType",a.R7b());b.Yb("linkingMode",a.ZOc());b.Yb("tubingWidth",a.zKa());b.commit()};D3.ya().So().om(s3.Pa(),new d);return d}();var N3=/*#__PURE__*/function(){function d(){}L(d,"geotoolkit.flowcharts.persistence.visuals.PolylineVisualSerializer");D(d,Dl);d.prototype.load=function(a){var b=D3.ya().wv("default");if(b&&b.load)b=b.load(a);else return null;var c=a.Kd(null,"connections");if(c&&c.length)for(var e=0;e<c.length;e++){var f=c[e];b.No[f.ME]=f}b instanceof z3&&(b.searchKeywords=a.Kd(null,"searchKeywords"),b.P0a(a.getValue("tubingWidth")),b.created=a.getValue("created"));return b};d.prototype.save=function(a,b){var c=D3.ya().wv("default");
c.save&&c.save(a,b);c=[];for(var e=0,f=a.No;e<f.length;e++){var g=f[e];if(g instanceof q3){var h=new q3(null,g.KR,g.ME,null);h.relatedVisualId=g.kfb();h.KR=new N(g.KR.getX(),g.KR.getY());c.push(h)}}b.Ne("connections",c);b.Ne("searchKeywords",a.nia());b.Yb("tubingWidth",a.zKa());b.Yb("created",a.created);b.commit()};D3.ya().So().om(z3.Pa(),new d);return d}();var O3=/*#__PURE__*/function(){function d(a){void 0===a&&(a=!1);K3.call(this,a)}L(d,"geotoolkit.flowcharts.persistence.visuals.SvgVisualPluginSerializer");D(d,K3);d.prototype.i1=function(a){var b=new k3(a);b.c3(a.url);return b};d.prototype.Ygb=function(a){var b=K3.prototype.Ygb.call(this,a);b.url=a.getValue("url");b.isLinkPointsRelative=a.getValue("relativeLinkPoints");this.zNa||(b.geometry=new ni);b.justdeserialized=!0;return b};d.prototype.save=function(a,b){K3.prototype.save.call(this,a,b);b.Yb("relativeLinkPoints",
a.y7b());a.y7b()&&b.Ne("linkPoints",a.b9b());b.Yb("url",a.JA());this.zNa||b.Yb("loaded",!1);b.commit()};D3.ya().So().om(k3.Pa(),new d);return d}();var P3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.Hs=function(){return[new s3({prototypeId:"class-link",prototypeName:"Link",category:d.Ir,searchKeywords:["link","arrow"],defaultIconSize:new Ud(100,100),geometry:new Yn({x:[0,100],y:[1,1],visible:!0}),linkPoints:[new N(0,1),new N(1,1)],linkType:o3.Line,url:"assets/svg/standard/line.svg"}),new s3({prototypeId:"class-steplink",prototypeName:"Steplink",category:d.Ir,searchKeywords:["link","step","arrow"],defaultIconSize:new Ud(100,100),geometry:new Yn({x:[0,100],y:[1,
1],visible:!0}),linkPoints:[new N(0,1),new N(1,1)],linkType:o3.fv,url:"assets/svg/standard/stepline.svg"}),new z3({prototypeId:"class-polyline",prototypeName:"Polyline",category:d.Ir,searchKeywords:["link","polyline"],defaultIconSize:new Ud(100,100),geometry:new Yn({x:[50],y:[1],visible:!0}),url:"assets/svg/standard/polyline.svg"}),new h3({prototypeId:"class-ellipse",prototypeName:"Ellipse",category:d.Ir,searchKeywords:["ellipse"],defaultSize:new Ud(50,50),geometry:new Qm({centerx:.5,centery:.5,radiusx:.5,
radiusy:.5}),linkPoints:d.UMb}),new h3({prototypeId:"class-rectangle",prototypeName:"Rectangle",category:d.Ir,searchKeywords:["rectangle"],defaultSize:new Ud(50,50),geometry:new ho(0,0,1,1),linkPoints:d.UMb}),new z3({prototypeId:"class-polygon",prototypeName:"Polylgon",category:d.Ir,searchKeywords:["polygon"],defaultIconSize:new Ud(100,100),geometry:new Um({x:[50],y:[1],visible:!0}),url:"assets/svg/standard/polygon.svg"}),(new h3({prototypeId:"class-text",prototypeName:"Text",category:d.Ir,searchKeywords:["text"],
defaultSize:new Ud(60,25),defaultIconSize:new Ud(50,50),geometry:new ho(0,0,60,25),linkPoints:d.UMb,url:"assets/svg/standard/text.svg"})).Eb({text:"Text"})]};d.Ir="Standard";d.NOa=new U(0,0,1,1);d.UMb=[d.NOa.vXa(),d.NOa.oYa(),d.NOa.lKa(),d.NOa.pdb(),d.NOa.getCenter()];return d}(),2,"eyJnZXRDb21wb25lbnRzIjoiSHMiLCJDYXRlZ29yeSI6IklyIn0g");var Q3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.Hs=function(){var a,b=[new h3({prototypeId:"class-decision",prototypeName:"Decision",category:d.Ir,searchKeywords:["decision"],defaultSize:new Ud(100,50),outline:a=(new Fd).moveTo(.5,0).lineTo(1,.5).lineTo(.5,1).lineTo(0,.5).close(),geometry:new $g({geometry:a}),linkPoints:[new N(0,.5),new N(.5,0),new N(1,.5),new N(.5,1)]}),new h3({prototypeId:"class-input-output",prototypeName:"Input/Output",category:d.Ir,searchKeywords:["input","output"],defaultSize:new Ud(100,
50),outline:a=(new Fd).moveTo(.1,0).lineTo(1,0).lineTo(.9,1).lineTo(0,1).close(),geometry:new $g({geometry:a}),linkPoints:[new N(.05,.5),new N(.5,0),new N(.95,.5),new N(.5,1)]}),new h3({prototypeId:"class-stored-data",prototypeName:"Stored Data",category:d.Ir,searchKeywords:["data","store"],defaultSize:new Ud(100,50),outline:a=(new Fd).moveTo(0,0).lineTo(50,0).bezierCurveTo(35,0,35,50,50,50).lineTo(0,50).bezierCurveTo(-15,50,-15,0,0,0).close(),geometry:new $g({geometry:a}),linkPoints:[new N(-11.2,
25),new N(18.2,0),new N(38.8,25),new N(18.2,50)]}),new h3({prototypeId:"class-internal-storage",prototypeName:"Internal Storage",category:d.Ir,searchKeywords:["storage","store","internal"],defaultSize:new Ud(100,50),outline:a=(new Fd).moveTo(0,0).lineTo(100,0).lineTo(100,50).lineTo(0,50).close().moveTo(10,0).lineTo(10,50).moveTo(0,10).lineTo(100,10),geometry:new $g({geometry:a}),linkPoints:[new N(0,25),new N(50,0),new N(100,25),new N(50,50)]}),new h3({prototypeId:"class-process",prototypeName:"Process",
category:d.Ir,searchKeywords:["process"],defaultSize:new Ud(100,50),outline:a=(new Fd).moveTo(0,0).lineTo(1,0).lineTo(1,1).lineTo(0,1).close(),geometry:new $g({geometry:a}),linkPoints:[new N(0,.5),new N(.5,0),new N(1,.5),new N(.5,1),new N(.5,.5)]}),new h3({prototypeId:"class-subprocess",prototypeName:"Sub Process",category:d.Ir,searchKeywords:["subprocess"],defaultSize:new Ud(100,50),outline:a=(new Fd).moveTo(0,0).lineTo(1,0).lineTo(1,1).lineTo(0,1).close().moveTo(.1,0).lineTo(.1,1).moveTo(.9,0).lineTo(.9,
1),geometry:new $g({geometry:a}),linkPoints:[new N(0,.5),new N(.5,0),new N(1,.5),new N(.5,1),new N(.5,.5)]}),new h3({prototypeId:"class-delay",prototypeName:"Delay",category:d.Ir,searchKeywords:["delay"],defaultSize:new Ud(100,50),outline:a=(new Fd).moveTo(0,0).lineTo(50,0).bezierCurveTo(75,0,75,50,50,50).lineTo(0,50).close(),geometry:new $g({geometry:a}),linkPoints:[new N(0,25),new N(40,0),new N(70,25),new N(40,50)]}),new h3({prototypeId:"class-reference-arrow",prototypeName:"Reference Arrow",category:d.Ir,
searchKeywords:["arrow","reference"],defaultSize:new Ud(100,50),outline:a=(new Fd).moveTo(0,10).lineTo(75,10).lineTo(75,0).lineTo(100,25).lineTo(75,50).lineTo(75,40).lineTo(0,40).close(),geometry:new $g({geometry:a}),linkPoints:[new N(0,25),new N(100,25)]}),new h3({prototypeId:"class-reference-point",prototypeName:"Reference Point",category:d.Ir,searchKeywords:["point","reference"],defaultSize:new Ud(100,50),outline:a=(new Fd).moveTo(5,10).lineTo(75,10).lineTo(75,0).lineTo(100,25).lineTo(75,50).lineTo(75,
40).lineTo(5,40).bezierCurveTo(-5,30,-5,20,5,10).close(),geometry:new $g({geometry:a}),linkPoints:[new N(-2.7,25),new N(100,25)]}),new h3({prototypeId:"class-merge",prototypeName:"Merge",category:d.Ir,searchKeywords:["merge","symbol"],defaultSize:new Ud(25,25),outline:a=(new Fd).moveTo(0,0).lineTo(1,0).lineTo(.5,1).close(),geometry:new $g({geometry:a}),linkPoints:[new N(0,0),new N(.5,0),new N(1,0),new N(.5,1)]}),new h3({prototypeId:"class-extract",prototypeName:"Extract",category:d.Ir,searchKeywords:["extract",
"symbol"],defaultSize:new Ud(25,25),outline:a=(new Fd).moveTo(.5,0).lineTo(1,1).lineTo(0,1).close(),geometry:new $g({geometry:a}),linkPoints:[new N(.5,0),new N(1,1),new N(.5,1),new N(0,1)]}),new h3({prototypeId:"class-communication-line",prototypeName:"Communication",category:d.Ir,searchKeywords:["communication","line"],defaultSize:new Ud(25,50),outline:a=(new Fd).moveTo(1,0).lineTo(0,.55).lineTo(.5,.55).lineTo(0,1).lineTo(1,.45).lineTo(.5,.45).close(),geometry:new $g({geometry:a}),linkPoints:[new N(1,
0),new N(0,.55),new N(1,.45),new N(0,1)]})];return b};d.Ir="Flowchart";return d}(),2,"eyJnZXRDb21wb25lbnRzIjoiSHMiLCJDYXRlZ29yeSI6IklyIn0g");var R3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.Hs=function(){var a,b=[new h3({prototypeId:"class-hr-arki-arrow",prototypeName:"Arki Arrow",category:d.Ir,searchKeywords:["arki arrow","arrow","hr"],defaultSize:new Ud(40,50),outline:a=(new Fd).moveTo(0,0).lineTo(1,.5).lineTo(0,1).lineTo(.7,.5).close(),geometry:new $g({geometry:a}),linkPoints:[new N(0,0),new N(1,.5),new N(0,1)]}),new h3({prototypeId:"class-hr-chevron-arrow",prototypeName:"Chevron Arrow",category:d.Ir,searchKeywords:["chevron arrow","arrow","hr"],
defaultSize:new Ud(40,50),outline:a=(new Fd).moveTo(0,0).lineTo(.3,0).lineTo(1,.5).lineTo(.3,1).lineTo(0,1).lineTo(.7,.5).close(),geometry:new $g({geometry:a}),linkPoints:[new N(.15,0),new N(1,.5),new N(.15,1)]}),new h3({prototypeId:"class-hr-triangle-arrow",prototypeName:"Up Arrow",category:d.Ir,searchKeywords:["triangle arrow","arrow","hr"],defaultSize:new Ud(40,50),outline:a=(new Fd).moveTo(0,0).lineTo(1,.5).lineTo(0,1).close(),geometry:new $g({geometry:a}),linkPoints:[new N(0,0),new N(1,.5),new N(0,
1)]}),new h3({prototypeId:"class-hr-small-arrow",prototypeName:"Small Arrow",category:d.Ir,searchKeywords:["small arrow","arrow","hr"],defaultSize:new Ud(50,40),outline:a=(new Fd).moveTo(0,.4).lineTo(.72,.4).lineTo(.4,0).lineTo(.6,0).lineTo(1,.5).lineTo(.6,1).lineTo(.4,1).lineTo(.72,.6).lineTo(0,.6).close(),geometry:new $g({geometry:a}),linkPoints:[new N(0,.5),new N(1,.5),new N(.5,0),new N(.5,1)]}),new h3({prototypeId:"class-hr-fat-arrow",prototypeName:"Fat Arrow",category:d.Ir,searchKeywords:["fat arrow",
"arrow","hr"],defaultSize:new Ud(100,40),outline:a=(new Fd).moveTo(0,0).lineTo(.75,.2).lineTo(.75,.08).lineTo(1,.25).lineTo(.75,.42).lineTo(.75,.3).lineTo(0,.5).close(),geometry:new $g({geometry:a}),linkPoints:[new N(0,.25),new N(1,.25)]}),new h3({prototypeId:"class-hr-double-headed-arrow",prototypeName:"Doubleheaded Arrow",category:d.Ir,searchKeywords:["crossed arrow","arrow","hr"],defaultSize:new Ud(100,50),outline:a=(new Fd).moveTo(.2,0).lineTo(.2,.15).lineTo(.75,.15).lineTo(.75,0).lineTo(1,.25).lineTo(.75,
.5).lineTo(.75,.35).lineTo(.2,.35).lineTo(.2,.5).lineTo(0,.25).close(),geometry:new $g({geometry:a}),linkPoints:[new N(0,.25),new N(1,.25)]}),new h3({prototypeId:"class-hr-crosss",prototypeName:"Cross",category:d.Ir,searchKeywords:["cross","hr"],defaultSize:new Ud(100,100),outline:a=(new Fd).moveTo(.4,0).lineTo(.6,0).lineTo(.6,.4).lineTo(1,.4).lineTo(1,.6).lineTo(.6,.6).lineTo(.6,1).lineTo(.4,1).lineTo(.4,.6).lineTo(0,.6).lineTo(0,.4).lineTo(.4,.4).close(),geometry:new $g({geometry:a}),linkPoints:[new N(.5,
.5),new N(0,.5),new N(.5,0),new N(1,.5),new N(.5,1)]}),new h3({prototypeId:"class-hr-crosssed-arrow",prototypeName:"Crossed Arrow",category:d.Ir,searchKeywords:["crossed arrow","arrow","hr"],defaultSize:new Ud(100,100),outline:a=(new Fd).moveTo(.3,.15).lineTo(.5,0).lineTo(.7,.15).lineTo(.6,.15).lineTo(.6,.4).lineTo(.85,.4).lineTo(.85,.3).lineTo(1,.5).lineTo(.85,.7).lineTo(.85,.6).lineTo(.6,.6).lineTo(.6,.85).lineTo(.7,.85).lineTo(.5,1).lineTo(.3,.85).lineTo(.4,.85).lineTo(.4,.6).lineTo(.15,.6).lineTo(.15,
.7).lineTo(0,.5).lineTo(.15,.3).lineTo(.15,.4).lineTo(.4,.4).lineTo(.4,.15).close(),geometry:new $g({geometry:a}),linkPoints:[new N(.5,.5),new N(0,.5),new N(.5,0),new N(1,.5),new N(.5,1)]}),new h3({prototypeId:"class-hr-split-arrow",prototypeName:"Split Arrow",category:d.Ir,searchKeywords:["cross","hr"],defaultSize:new Ud(100,100),outline:a=(new Fd).moveTo(0,.42).lineTo(.58,.42).lineTo(.9,0).lineTo(1,0).lineTo(1,.1).lineTo(.7,.5).lineTo(1,.9).lineTo(1,1).lineTo(.9,1).lineTo(.58,.58).lineTo(0,.58).close(),
geometry:new $g({geometry:a}),linkPoints:[new N(.5,.5),new N(0,.5),new N(.5,0),new N(1,.5),new N(.5,1)]})];return b};d.Ir="HR Arrows";return d}(),2,"eyJnZXRDb21wb25lbnRzIjoiSHMiLCJDYXRlZ29yeSI6IklyIn0g");var S3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.Hs=function(){var a,b=[new h3({prototypeId:"industrial-valve",prototypeName:"Valve",category:d.Ir,searchKeywords:["valve","industrial"],defaultSize:new Ud(70,50),outline:a=(new Fd).moveTo(0,0).lineTo(1,1).lineTo(1,0).lineTo(0,1).close(),geometry:new $g({geometry:a}),linkPoints:[new N(0,.5),new N(.5,.5),new N(1,.5)]})];return b};d.Ir="Industrial";d.NOa=new U(0,0,1,1);return d}(),2,"eyJnZXRDb21wb25lbnRzIjoiSHMiLCJDYXRlZ29yeSI6IklyIn0g");var T3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){this.e9a=[];this.C4=new Y("rgba(170, 177, 185, 1)",2);this.KM=new rf("rgba(240, 247, 255, 0.7)");this.r_a()}var a=null;d.ya=function(){a||(a=new d);return a};d.prototype.r_a=function(){for(var b=0,c=P3.Hs().concat(Q3.Hs(),R3.Hs(),S3.Hs());b<c.length;b++)this.OZc(c[b])};d.prototype.jJd=function(){return this.e9a};d.prototype.WDd=function(){return this.KM};d.prototype.X0d=function(b){this.KM=b;return this};d.prototype.XDd=function(){return this.C4};d.prototype.Z0d=function(b){this.C4=
b;return this};d.prototype.OZc=function(b){function c(f){return f.rR()===b.rR()}if(b&&b.rR()){var e=a3.findIndex(this.e9a,c);0>e?this.e9a.push(b):this.e9a[e]=b}};d.prototype.ld=function(b,c,e){function f(m){return m.rR()===b}var g=a3.find(this.e9a,f);if(g&&g.clone){g=g.clone();g.id=g3.Mz();g.Tra&&c&&e&&g.Tra(new Ud(c,e));var h=null!=g.ga?g.ga():null;if(null!=h){var k=1,l=1;0!==h.ca()&&(k=(c?c:g.Hz().ca())/h.ca());0!==h.da()&&(l=(e?e:g.Hz().da())/h.da());g.Tc(X.Cl(k,l))}return this.$0d(g)}return null};
d.prototype.$0d=function(b){b instanceof Ee&&b.$d()&&!oc(b,k3)&&(b.rR&&"class-text"===b.rR()?b.$d().fa({linestyle:new Y("rgba(0, 0, 0, 0)"),fillstyle:new rf("rgba(0, 0, 0, 0)")}):b.$d().fa({linestyle:this.C4?this.C4.clone():new Y,fillstyle:this.KM?this.KM.clone():new rf}));return b};return d}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsiZ2V0UGx1Z2lucyI6ImpKZCIsImdldERlZmF1bHRGaWxsU3R5bGUiOiJXRGQiLCJzZXREZWZhdWx0RmlsbFN0eWxlIjoiWDBkIiwiZ2V0RGVmYXVsdExpbmVTdHlsZSI6IlhEZCIsInNldERlZmF1bHRMaW5lU3R5bGUiOiJaMGQiLCJyZWdpc3RlclBsdWdpbiI6Ik9aYyIsImdldFZpc3VhbCI6ImxkIn19fSAg");var PHa=/*#__PURE__*/{Jc:0,tc:1,cc:2,qb:4,Ed:8};export {Y2,Z2,$2,a3,b3,c3,d3,e3,f3,g3,h3,i3,j3,k3,l3,m3,n3,o3,p3,q3,r3,s3,t3,u3,v3,w3,x3,y3,z3,A3,B3,C3,D3,E3,F3,G3,H3,I3,J3,K3,L3,M3,N3,O3,P3,Q3,R3,S3,T3,PHa};