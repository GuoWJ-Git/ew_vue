/* eslint-disable */
import {ho,D,L,jc,rf,N,og,xb,ni,xf,yf,Rh,U,Zh,zk,G,ek,ck,Fi,pk,Po,To,So,Xo,Vo,sk,Wi,jp,ip,Kd,Jo,Gk,xl,ll,Cb,aj,sg,Ud,Ag,ug,Y,X,Km,Qn,Bk,te,Fb,O,mg,W,Io,Pd,Oe,$m,Zj,Hd,Hg,vg,Zg,ze,Zd,eo,vd,Mo,De,Ro,Fh,Sj,Rg,zi,Tg,Si,ok,Xg,xd,Pm,Lo,ye,nk,$g,io,Hm,jo,ud,ee,yd,pe,Hb,Ob,hb,jl,mc,Ti,kg,Fo,Eo,Wh,Ze,qd,bc,oc,Yn,mi,ik,Hk,Ee,Vn,Tn,ch,Uh,Um,Il,$a,Le,wg,bi,xm,Al,Ai,lh,Bd,Fd,wb,xc,Ml,Dc,Jm,ff,nc,$h,ep,Qm,Zm,Mm,Gc,$f,ve,om,Ac,Bc,Cj,Bj,Dd,Fc,cj,ph,Ym,$d,ai,Kl,Jl,md,ld,ta} from './geotoolkit.base.js';import {DH,RH,sH,uH,lI,wH,yH,LH,TH,NH,CH,BH,PH} from './geotoolkit.data.js';var ca,ha=ha||{};ha.scope={};ha.WDc=function(d){var a=0;return function(){return a<d.length?{done:!1,value:d[a++]}:{done:!0}}};ha.uJe=function(d){return{next:ha.WDc(d)}};ha.obd=!1;ha.N9d=!1;ha.O9d=!1;ha.jAe=!1;ha.noc=!1;ha.defineProperty=ha.obd||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,a,b){if(d==Array.prototype||d==Object.prototype)return d;d[a]=b.value;return d};
ha.I1=function(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<d.length;++a){var b=d[a];if(b&&b.Math==Math)return b}return function(){throw Error("Cannot find global object");}()};ha.global=ha.I1(this);ha.TMb="function"===typeof Symbol&&"symbol"===typeof Symbol("x");ha.FDe=!ha.noc||ha.TMb;ha.$cc={};ha.wdc={};ha.Chd="$jscp$";
function aaa(d,a){var b=ha.wdc[a];if(null==b)return d[a];b=d[b];return void 0!==b?b:d[a]}ha.LYc=function(d,a,b,c){a&&(ha.noc?ha.aWd(d,a,b,c):ha.bWd(d,a,b,c))};ha.bWd=function(d,a,b,c){b=ha.global;d=d.split(".");for(c=0;c<d.length-1;c++){var e=d[c];if(!(e in b))return;b=b[e]}d=d[d.length-1];c=b[d];a=a(c);a!=c&&null!=a&&ha.defineProperty(b,d,{configurable:!0,writable:!0,value:a})};
ha.aWd=function(d,a,b,c){var e=d.split(".");d=1===e.length;c=e[0];c=!d&&c in ha.$cc?ha.$cc:ha.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in c))return;c=c[g]}e=e[e.length-1];b=ha.TMb&&"es6"===b?c[e]:null;a=a(b);null!=a&&(d?ha.defineProperty(ha.$cc,e,{configurable:!0,writable:!0,value:a}):a!==b&&(ha.wdc[e]=ha.TMb?ha.global.Symbol(e):ha.Chd+e,e=ha.wdc[e],ha.defineProperty(c,e,{configurable:!0,writable:!0,value:a})))};ha.oNe=function(){};
ha.LYc("Symbol",function(d){function a(f){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+e++,f)}function b(f,g){this.lbd=f;ha.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})}if(d)return d;b.prototype.toString=function(){return this.lbd};var c="jscomp_symbol_",e=0;return a},"es6","es3");ha.qNe=function(){};
ha.LYc("Symbol.iterator",function(d){if(d)return d;d=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),b=0;b<a.length;b++){var c=ha.global[a[b]];"function"===typeof c&&"function"!=typeof c.prototype[d]&&ha.defineProperty(c.prototype,d,{configurable:!0,writable:!0,value:function(){return ha.NQd(ha.WDc(this))}})}return d},"es6","es3");ha.pNe=function(){};
ha.NQd=function(d){d={next:d};d[Symbol.iterator]=function(){return this};return d};var WN=/*#__PURE__*/ta(/*#__PURE__*/{ue:"north",Rc:"east",Ec:"south",lc:"west"},2,"eyJOb3J0aCI6InVlIiwiRWFzdCI6IlJjIiwiU291dGgiOiJFYyIsIldlc3QiOiJsYyJ9");var XN=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e,f){ho.call(this,0,0,1,1);this.qa(c);this.Ac=a;this.Qta=b;this.$i="number"!=typeof e||isNaN(e)?this.Ac?this.Ac.wc():0:e;this.Pi="number"!=typeof f||isNaN(f)?this.Ac?this.Ac.Hc():1:f;this.sgb()}D(d,ho);L(d,"geotoolkit.controls.shapes.ColorBox");d.prototype.clone=function(){return new d(this.Ac,this.Qta,this.Fa(),this.$i,this.Pi)};d.prototype.oba=function(){return this.Qta};d.prototype.vZ=function(a){if(this.Qta===a)return this;this.Qta=a;this.sgb();return this};
d.prototype.En=function(){return this.Ac};d.prototype.Ps=function(a){this.Ac=a;this.sgb();return this};d.prototype.vjb=function(a,b){if(this.$i===a&&this.Pi===b)return this;this.$i=a;this.Pi=b;this.ha();this.sgb();return this};d.prototype.qf=function(){return this.$i};d.prototype.Rf=function(){return this.Pi};d.prototype.sgb=function(){if(null==this.Ac)return this;if(this.Pi===this.$i){var a=this.Ac.mb(this.$i);a&&this.ra(new rf(a.XA()));return this}a=isFinite(this.Pi)&&this.Ac.mb(this.Pi)?this.Ac.mb(this.Pi).XA():
null;var b=isFinite(this.$i)&&this.Ac.mb(this.$i)?this.Ac.mb(this.$i).XA():null;if(null!=a&&null==b)return this.ra(new rf(a)),this;if(null==a&&null!=b)return this.ra(new rf(b)),this;var c=null==a&&null==b;var e=1/(this.Pi-this.$i);var f=c?0:e*(this.Ac.wc()-this.$i);e=c?1:e*(this.Ac.Hc()-this.$i);this.Qta===WN.lc||this.Qta===WN.Rc?(f=new N(.5,f),e=new N(.5,e)):(f=new N(f,.5),e=new N(e,.5));a=new og({startPoint:f,endPoint:e,colorProvider:c?void 0:this.Ac,startColor:c?void 0:b,endColor:c?void 0:a});
this.ra(a);return this};d.prototype.ia=function(){var a=ho.prototype.ia.call(this);a.colorprovider=this.Ac;a.colorbarlocation=this.Qta;a.min=this.$i;a.max=this.Pi;return a};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;void 0!==a.colorprovider&&(this.Ac=a.colorprovider);void 0!==a.colorbarlocation&&(this.Qta=a.colorbarlocation);void 0!==a.min&&(this.$i=a.min);void 0!==a.max&&(this.Pi=a.max);this.sgb();return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var YN=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e){a=xb(a,{colorgroup:a instanceof ni?a:null,annotationgroup:b,coloritem:c,annotationitem:e},!0);ni.call(this,a);this.KD=a.colorgroup;this.LQb=a.coloritem;this.lla=a.annotationgroup;this.rI=a.annotationitem;this.pa([this.KD,this.lla])}D(d,ni);L(d,"geotoolkit.controls.shapes.ColorAnnotation");d.prototype.fa=function(a){a=jc(a);if(null==a)return this;ni.prototype.fa.call(this,a);void 0!==a.annotationgroup&&(this.removeChild(this.lla),this.lla=a.annotationgroup,this.pa(this.lla));
void 0!==a.colorgroup&&(this.removeChild(this.KD),this.KD=a.colorgroup,this.pa(this.KD));void 0!==a.coloritem&&(this.LQb=a.coloritem);void 0!==a.annotationitem&&(this.rI=a.annotationitem);return this};d.prototype.ia=function(){var a=ni.prototype.ia.call(this);a.annotationgroup=this.lla;a.colorgroup=this.KD;a.coloritem=this.LQb;a.annotationitem=this.rI;return a};d.prototype.MCd=function(){return this.LQb};d.prototype.vZ=function(a){if(null!=this.rI)switch(a){case WN.lc:this.rI.Hm(xf.cc);this.rI.Qs(yf.cc);
this.rI.setOrientation(Rh.rb);this.rI.Ha(new U(0,0,1,1));break;case WN.Rc:this.rI.Hm(xf.tc);this.rI.Qs(yf.tc);this.rI.setOrientation(Rh.rb);this.rI.Ha(new U(0,0,1,1));break;case WN.ue:this.rI.Hm(xf.Ed);this.rI.Qs(yf.Ed);this.rI.setOrientation(Rh.yb);this.rI.Ha(new U(0,0,1,1));break;default:this.rI.Hm(xf.qb),this.rI.Qs(yf.qb),this.rI.setOrientation(Rh.yb),this.rI.Ha(new U(0,0,1,1))}};d.prototype.Sw=function(a){return a?[this.KD,this.lla]:[this.lla,this.KD]};d.prototype.Qa=function(a,b,c){this.Na(new Zh({width:void 0,
height:c}));this.KD.Na(new Zh({width:a,height:void 0}));this.lla.Na(new Zh({width:b,height:void 0}))};d.prototype.$a=function(a,b,c){this.Na(new Zh({height:void 0,width:c}));this.KD.Na(new Zh({height:a,width:void 0}));this.lla.Na(new Zh({height:b,width:void 0}))};d.prototype.ra=function(a){this.KD.ra(a)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var ZN=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f,g,h,k,l,m){f=g.Ga();if("\u221e"===f){if(1!==l)return null}else if("+\u221e"===f){if(1!==m)return null}else if(0!==l)return null;k=k.Po().Ua(k.Fza());k=c.ey(!0).mda(k.ca(),k.da()).wk(ck.qC).Eb(f).aR();return k!==e?k:null}function a(f){f=f||{};f.clipping=!0;ni.call(this,f);this.ea=f;this.et=this.re=this.vd=this.R8a=null;this.xj=new zk({preciselimits:f.preciselimits||!1});this.Z_=this.KD=this.d6a=this.mma=null;this.dZb="33%";this.hHa=this.dUa="50%";this.eUa="8%";this.vI=
{};this.PM=this.T_=null;this.setOptions(f)}var b={NegativeInfinity:"-\u221e",PositiveInfinity:"+\u221e"};D(a,ni);L(a,"geotoolkit.controls.shapes.ColorBar");a.prototype.clone=function(){var f=xb(this.ta(),{});f.axis&&f.axis.item&&(f.axis.item=f.axis.item.clone());return(new a(f)).Na(this.Pb())};var c=new ek,e="...";a.prototype.setOptions=function(f){f||(f={});if(f.min>f.max){var g=f.min;f.min=f.max;f.max=g;"undefined"===typeof f.flip&&(f.flip=null!=this.ta()?this.ta().flip:!0)}else"undefined"===typeof f.flip&&
(f.flip=null!=this.ta()?this.ta().flip:!1);null!=this.ea&&(f=xb(f,this.ea));f=G(f,{title:{},axis:{},colorbox:{},range:{},namedcolors:{}});null!=f.componentsizes&&(null!=f.componentsizes.title&&(f.title.size=f.componentsizes.title),null!=f.componentsizes.colorbox&&(f.colorbox.size=f.componentsizes.colorbox),null!=f.componentsizes.axis&&(f.axis.size=f.componentsizes.axis),null!=f.componentsizes.namedcolors&&(f.namedcolors.size=f.componentsizes.namedcolors));null!=f.min&&(f.range.min=f.min);null!=f.max&&
(f.range.max=f.max);null!=f.titletext&&(null!=f.title?f.title.text=f.titletext:f.title={text:f.titletext});null!=f.titletextstyle&&(null!=f.title?f.title.textstyle=f.titletextstyle:f.title={textstyle:f.titletextstyle});var h=f.title;null!=h&&(h=G(h,{size:void 0,visible:!0,item:new ek("",.5,.5,void 0,void 0,new Fi,!0)}),h.text&&h.item.Eb(h.text),h.textstyle&&h.item.kb(h.textstyle),h.item.eda(!0),h.item.e8(!1),h.item.ey(!0));var k=f.axis;k=G(k,{visible:!0,size:void 0,item:this.vd||new pk,autolabelrotation:!1,
visiblebaseline:!0});g=f.colorbox;g=G(g,{visible:!0,size:void 0,linestyle:null,independentrange:!1});f=G(f,{colorprovider:new Po,location:WN.Rc,flip:!1,linestyle:null});f.axis=k;f.title=h;f.colorbox=g;var l=f.colorprovider instanceof To||f.colorprovider instanceof Xo;this.ea=f;this.R8a||(this.R8a=(new ho).Fg(!1));this.R8a.qa(f.linestyle);null==f.range.min&&(f.range.min=f.colorprovider.wc());null==f.range.max&&(f.range.max=f.colorprovider.Hc());h=f.range.min;k=f.range.max;this.mma?void 0!==f.axis.item&&
this.vd!==f.axis.item&&(null!=this.vd&&this.mma.removeChild(this.vd),this.vd=f.axis.item,null!=this.vd&&(this.vd.sa(this.mma.oa()),this.mma.pa(this.vd))):(this.mma=(new ni).Ha(new U(0,0,1,1)),this.vd=f.axis.item,this.vd.sa(this.mma.oa()),this.mma.pa(this.vd));this.vd=f.axis.item;void 0!==f.axis.visible&&this.mma.va(f.axis.visible);void 0!==f.axis.autolabelrotation&&this.vd.Rz(f.axis.autolabelrotation);null!=f.axis.autolabelrotationangle&&this.vd.Bja(f.axis.autolabelrotationangle);null!=f.axis.title&&
this.vd.Fr(f.axis.title);if(void 0!==f.axis.baseline){var m={};void 0!==f.axis.baseline.visible&&(m.visiblebaseline=f.axis.baseline.visible);void 0!==f.axis.baseline.linestyle&&(m.baselinestyle=f.axis.baseline.linestyle);this.vd.fa(m)}void 0!==f.axis.tickgenerator&&(m={tickgenerator:f.axis.tickgenerator},this.vd.fa(m));!l||f.colorprovider.jU()!==So.Fo&&f.colorprovider.jU()!==Vo.Fo||this.vd.Oe()instanceof sk||this.vd.yg(new sk);null!=f.tickgenerator&&f.tickgenerator instanceof Wi&&this.vd.yg(f.tickgenerator);
if(f.colorprovider instanceof jp&&f.colorprovider.jU()===ip.Flc){m=f.colorprovider;h=m.ia();var n=h.values,p=h.colors;h=0;k=n.length;var q=[],r=[],t=[];for(l=0;l<k;l+=1){if(0===l){var u=n[0].Ta();r.push(-Infinity!==u?u:"");t.push(l)}u=n[l].Ya();r.push(Infinity!==u?u:"");t.push(l+1);q.push(new Kd(l,l+1))}m=(new jp({values:q,colors:p})).csa(Jo.NaN,m.Hx(Jo.NaN)).csa(Jo.FS,m.Hx(Jo.FS)).csa(Jo.HS,m.Hx(Jo.HS));f.colorprovider=m;l=(new Gk({labels:r,positions:t})).RA("major",null).RA("minor",null).RA("edge",
null);this.vd.yg(l)}null!=f.axis.labelrotation&&this.vd.Oe().VO("edge",f.axis.labelrotation).VO("major",f.axis.labelrotation);void 0!==f.axis.size&&(this.dUa=f.axis.size);null!=f.axis.hideoverlappedtext&&this.vd.ugc(f.axis.hideoverlappedtext);this.re=f.title.item;this.W9?this.W9.Vib(0,this.re):(this.W9=(new ni).de(new xl),this.W9.pa(this.re));void 0!==f.title.visible&&this.W9.va(f.title.visible);void 0!==f.title.size&&(this.dZb=f.title.size);null==this.et&&(this.et=(new XN(f.colorprovider,f.location,
f.colorbox.linestyle,h,k)).cb(0,0,1,1));null!=f.colorbox.visible&&this.et.va(f.colorbox.visible);l=f.colorprovider;void 0!==l&&this.et.Ps(l);void 0!==f.location&&this.et.vZ(f.location);void 0!==f.colorbox.linestyle&&this.et.qa(f.colorbox.linestyle);!0===g.independentrange&&null!=l?this.et.vjb(l.wc(),l.Hc()):this.et.vjb(h,k);void 0!==f.preciselimits&&(this.vd.Ev(this.xj),this.xj.setOptions(f),h=this.et.qf(),k=this.et.Rf(),this.vd.Zjc(h,k));this.d6a||(this.d6a=new ni,this.d6a.Ha(new U(0,0,1,1)),this.d6a.pa(this.et));
this.KD||(this.KD=new YN(this.d6a,this.mma));this.Z_||(this.Z_=new ni,this.Z_.pa(this.KD));void 0!==f.colorbox.size&&(this.hHa=f.colorbox.size);void 0!==f.namedcolors.size&&(this.eUa=f.namedcolors.size);this.Wwb=f.namedcolors.visible;1>this.ac()&&(g=[this.Z_,this.W9,this.R8a],this.pa(g));if(null!=l&&this.Wwb)for(g=l.Hx(),l=0;l<g.length;l++)h=g[l],h.name!==Jo.NaN&&h.name!==Jo.FS&&h.name!==Jo.HS||this.Swd(h,f.colorbox.linestyle);null!=f.layoutstyle&&this.Na(f.layoutstyle);this.vZ(f.location);this.iM(f.flip);
return this};a.prototype.Swd=function(f,g){var h=this.vI[f.name],k=f.value,l=null!=b[f.name]?b[f.name]:f.name;null!=k&&k.hasOwnProperty("value")&&(void 0!==k.title&&(l=k.title),k=k.value);if(null!=h){var m=h.MCd();if(null!=m)return m.qa(g).ra(k),h;this.Z_.removeChild(f.name)}m=new ho(0,0,1,1,void 0,void 0,!0,g,k);g=(new ni).Ha(new U(0,0,1,1)).pa(m);l=(new pk).nb(l);l.Oe().$g("major",!1).$g("minor",!1).Hv(d);h=(new ni).Ha(new U(0,0,1,1)).pa(l);h=new YN(g,h,m,l);this.Z_.Xf(0,h);return this.vI[f.name]=
h};a.prototype.ta=function(){return this.ea};a.prototype.pb=function(f){this.uZ(!1);f=this.De();if(!f)return this;var g=this.oa();if(!g)return this;g=new U(g);f.cb(g);this.R8a.cb(g);f.zc();return this};a.prototype.vZ=function(f){this.T_=f;var g=this.oa(),h=Rh,k=this.et.qf(),l=this.et.Rf();if(k===l||!isFinite(k)||!isFinite(l)||!isFinite(l-k)){k=.1;l=1;var m=this.et.qf().toString(),n=this.et.Rf().toString();this.vd.Oe().$g("minor",!1);this.vd.Oe().$g("major",!1);this.vd.Oe().Hv(function(w,y,z,x,C,A){return"edge"!==
x.Hi()?"":0===C?m:n})}var p=this.et.En();if(p instanceof To&&p.jU()===So.Fo||p instanceof Xo&&p.jU()===Vo.Fo)k=p.Xz(k),l=p.Xz(l);var q=!1,r=xl;switch(this.T_){case WN.lc:g=new ll(g);p=new ll;var t=new xl;g.add([this.W9,this.Z_]);p.add(this.KD.Sw());r=ll;this.vd.Hm(xf.cc);this.vd.Qs(yf.cc);this.vd.setOrientation(h.rb);this.vd.Ha(new U(0,k,1,l));this.re.Vz(-Math.PI/2);break;case WN.Rc:g=new ll(g);p=new ll;t=new xl;g.add([this.Z_,this.W9]);p.add(this.KD.Sw(!0));q=!0;r=ll;this.vd.Hm(xf.tc);this.vd.Qs(yf.tc);
this.vd.setOrientation(h.rb);this.vd.Ha(new U(0,k,1,l));this.re.Vz(-Math.PI/2);break;case WN.ue:g=new xl(g);p=new xl;t=new ll;g.add([this.W9,this.Z_]);p.add(this.KD.Sw());this.vd.Hm(xf.Ed);this.vd.Qs(yf.Ed);this.vd.setOrientation(h.yb);this.vd.Ha(new U(k,0,l,1));this.re.Vz(0);break;default:g=new xl(g),p=new xl,t=new ll,g.add([this.Z_,this.W9]),p.add(this.KD.Sw(!0)),q=!0,this.vd.Hm(xf.qb),this.vd.Qs(yf.qb),this.vd.setOrientation(h.yb),this.vd.Ha(new U(k,0,l,1)),this.re.Vz(0)}for(var u in this.vI)this.vI.hasOwnProperty(u)&&
(h=new r,h.add(this.vI[u].Sw(q)),this.vI[u].de(h),this.vI[u].vZ(this.T_));u=[];null!=this.vI[Jo.NaN]&&u.push(this.vI[Jo.NaN]);null!=this.vI[Jo.FS]&&u.push(this.vI[Jo.FS]);u.push(this.KD);null!=this.vI[Jo.HS]&&u.push(this.vI[Jo.HS]);t.add(u);this.et.vZ(f);this.B8d(g);this.de(g);this.Z_.de(t);this.KD.de(p);return this};a.prototype.oba=function(){return this.T_};a.prototype.B8d=function(f){if(!f)return this;var g,h=this.hHa+this.dUa;if(isNaN(h)||!isFinite(h))h=void 0;if(f instanceof ll)for(g in this.Z_.Na(new Zh({width:h,
height:void 0})),this.KD.Qa(this.hHa,this.dUa),this.W9.Na(new Zh({width:this.dZb,height:void 0})),this.vI)this.vI.hasOwnProperty(g)&&this.vI[g].Qa(this.hHa,this.dUa,this.eUa);else{this.Z_.Na(new Zh({height:h,width:void 0}));this.KD.$a(this.hHa,this.dUa);this.W9.Na(new Zh({height:this.dZb,width:void 0}));for(var k in this.vI)this.vI.hasOwnProperty(k)&&this.vI[k].$a(this.hHa,this.dUa,this.eUa)}return this};a.prototype.ia=function(){var f=ni.prototype.ia.call(this);f.min=this.ea.min;f.max=this.ea.max;
f.flip=this.ea.flip;f.linestyle=this.ea.linestyle;f.colorprovider=this.ea.colorprovider;f.location=this.ea.location;f.namedcolors={size:this.eUa,visible:this.Wwb};f.range={min:this.et.qf(),max:this.et.Rf()};f.title={item:this.re};f.axis={item:this.vd};f.colorbox={size:this.hHa,visible:this.et.Ia(),linestyle:this.et.Fa()};f.titletextstyle=this.ea.title.textstyle;f.titlesize=this.ea.title.size;f.titletext=this.ea.title.text;f.titlevisible=this.ea.title.visible;f.titleitem=this.ea.title.item;f.axisautolabelrotation=
this.ea.axis.autolabelrotation;f.axisautolabelrotationangle=this.ea.axis.autolabelroationangle;f.axissize=this.ea.axis.size;f.axisvisible=this.ea.axis.visible;f.axistitle=this.ea.axis.title;f.axisitem=this.ea.axis.item;null!=this.vd&&(f.axisbaselinevisible=this.vd.kAb(),f.axisbaselinestyle=this.vd.qpa());f.colorboxindependentrange=this.ea.colorbox.independentrange;f.colorboxlinestyle=this.ea.colorbox.linestyle;f.colorboxsize=this.ea.colorbox.size;f.preciselimits=this.ea.preciselimits;return f};a.prototype.fa=
function(f){f=jc(f);if(null==f)return this;var g={axis:{},colorbox:{}};xb(f,g);this.setOptions(g);return this};a.prototype.iM=function(f){this.PM=f;this.T_===WN.lc||this.T_===WN.Rc?(this.Rl(!1),this.ql(f)):(this.Rl(f),this.ql(!1));this.xa();return this};a.prototype.Oe=function(){return this.vd.Oe()};a.prototype.yg=function(f){if(this.Oe()===f)return this;this.vd.yg(f);this.xa().ha();return this};a.prototype.Kya=function(){return this.PM};a.prototype.yQc=function(f){var g=this.et.En().wc(),h=this.et.En().Hc(),
k=this.bm(),l=this.ga(),m=k?l.ca():l.da();f<g?f=-Infinity:f>h&&(f=Infinity);f=Number.isFinite(f)?this.Sud(f,m,g,h):this.Rud(f,m);return 0>f||f>m?-Infinity:k?l.getX()+f:l.getY()+f};a.prototype.bm=function(){var f=this.oba();return f===WN.ue||f===WN.Ec};a.prototype.Rud=function(f,g){var h=g,k=-1,l=this.Kya(),m=null!=this.et.Ac.Hx(Jo.FS),n=null!=this.et.Ac.Hx(Jo.HS),p=null!=this.et.Ac.Hx(Jo.NaN),q=parseInt(this.eUa);if(!this.Wwb)return k;switch(f){case Infinity:if(!n)return-1;m&&(h-=q);p&&(h-=q);if(0>
h)return-1;h-=q;k=0>h?l?q/2+h:g-h-q/2:l?q/2:g-q/2;break;case -Infinity:if(!m)return-1;k=p?l?g-3*q/2:3*q/2:l?g-q/2:q/2;break;default:if(!p)return-1;k=l?g-q/2:q/2}return k};a.prototype.Sud=function(f,g,h,k){var l=!1,m=g,n=0,p=this.Kya(),q=null!=this.et.Ac.Hx(Jo.FS),r=null!=this.et.Ac.Hx(Jo.HS),t=null!=this.et.Ac.Hx(Jo.NaN),u=parseInt(this.eUa);if(this.Wwb){q&&(n+=p?0:u,m-=u);t&&(n+=p?0:u,m-=u);if(0>m)return-1;r&&(n+=p?u:0,m-=u);0>m&&(m=1,l=!0)}f=m*(f-h)/(k-h);p&&(l?(f=g,q&&(f-=u),t&&(f-=u)):f=m-f);
l||(f+=n);return f};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJ1cGRhdGVMYXlvdXQiOiJwYiIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFRpY2tHZW5lcmF0b3IiOiJPZSIsInNldFRpY2tHZW5lcmF0b3IiOiJ5ZyIsImdldFBvaW50QXRWYWx1ZSI6InlRYyJ9fX0g");var eQ=/*#__PURE__*/ta(/*#__PURE__*/{Tda:0,Range:1,Oa:2},2,"eyJFZGdlIjoiVGRhIiwiQ2VudGVyIjoiT2EifSAg"),fQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(g){g="number"===typeof g?{bins:g}:g;g=xb(g,{minor:{ticksize:5,tickstyle:{color:b,pixelsnapmode:{x:!0,y:!0}},lablestyle:{color:b,baseline:"middle",alignment:"center",font:c},tickvisible:!1,labelvisible:!1},major:{labelformat:(new aj).$w(2),ticksize:e,tickstyle:{color:a,pixelsnapmode:{x:!0,y:!0}},labelstyle:{color:a,baseline:"middle",alignment:"center",font:c}},edge:{ticksize:e,tickstyle:{color:a,pixelsnapmode:{x:!0,y:!0}},labelstyle:{color:a,baseline:"middle",
alignment:"center",font:c}},formatlabeleventhandler:null,rotatelabels:!1,minimumspan:40,labelstrategy:d.BS.Tda},!0);Wi.call(this,g);this.zSa=this.O$=this.p9a=this.uSb=this.JUb=this.zub=0;this.NFa=1}var a="#757575",b="#e0e0e0",c="12px Roboto",e=5,f=["major","edge"];D(d,Wi);L(d,"geotoolkit.controls.axis.HistogramTickGenerator");d.BS=eQ;d.prototype.Hv=function(g){this.Cu=g;return this};d.prototype.fa=function(g){g=jc(g);if(!g)return this;Wi.prototype.fa.call(this,g);null!=g.major&&null!=g.major.labelformat&&
this.eIb(g.major.labelformat);null!=g.labelstrategy&&this.z4c(g.labelstrategy);null!=g.minimumspan&&this.q0a(g.minimumspan);null!=g.bins&&this.T7(g.bins);void 0!==g.formatlabeleventhandler&&this.Hv(g.formatlabeleventhandler);null!=g.rotatelabels&&this.p6c(g.rotatelabels);return this};d.prototype.ia=function(){var g=Wi.prototype.ia.call(this);null==g&&(g={});0!==this.F7b()&&(g.labelstrategy=this.F7b());g.minimumspan=this.EXa();g.bins=this.Kp;g.formatlabeleventhandler=this.Cu;g.rotatelabels=this.bE;
return g};d.prototype.eIb=function(g){this.Vg=g;return this};d.prototype.$Bb=function(){return this.Vg};d.prototype.T7=function(g){this.Kp=g;return this};d.prototype.z4c=function(g){this.VP=g;return this};d.prototype.F7b=function(){return this.VP};d.prototype.q0a=function(g){this.v$=g;return this};d.prototype.EXa=function(){return this.v$};d.prototype.clone=function(){return Object.getPrototypeOf(this)!==d.prototype?Cb(this):(new d).Ba(this,!0)};d.prototype.Ba=function(g,h){!0===h&&Wi.prototype.Ba.call(this,
g,h);this.Kp=g.Kp;this.v$=g.v$;this.VP=g.VP;this.bE=g.bE;this.Cu=g.Cu;this.Vg=g.Vg.clone();return this};d.prototype.reset=function(g,h,k){this.NFa=(k.gq()-k.Dl())/this.Kp;this.p9a=this.O$=0;this.bE?k.Vz(Math.PI/2):k.Vz(0);return this.Hza(f)};d.prototype.p6c=function(g){this.bE=g;return this};d.prototype.ead=function(g,h){g=g===Rh.yb?h.Po().lb():h.Po().Ab();this.zSa=Math.abs(this.v$/g)};d.prototype.cp=function(g,h,k){g=k.Hi();k.qa(this.Gj(g));this.ead(h,k);if(this.VP===d.BS.Tda){if("edge"===g)return 2;
if("major"===g)return this.O$=k.Dl(),this.Kp-1}return this.VP!==d.BS.Oa&&this.VP!==d.BS.Range||"edge"===g||"major"!==g?0:(this.O$=k.Dl(),this.Kp)};d.prototype.Dv=function(g,h,k){g=k.Hi();k.kb(this.nl(g));this.ead(h,k);if(this.VP===d.BS.Tda){if("edge"===g)return g=k.Po().wd(sg.measureText(this.Vg.format(k.Dl()),k.jb()).OBa()),this.uSb=h===Rh.yb?this.bE?g.da():g.ca():this.bE?g.ca():g.da(),g=k.Po().wd(sg.measureText(this.Vg.format(k.gq()),k.jb()).OBa()),this.JUb=h===Rh.yb?this.bE?g.da():g.ca():this.bE?
g.ca():g.da(),2;if("major"===k.Hi())return this.O$=k.Dl(),this.p9a=k.Dl(),this.zub=0,this.Kp-1}if(this.VP===d.BS.Oa||this.VP===d.BS.Range)if("edge"===g)g=k.Po().wd(sg.measureText(this.Vg.format(k.Dl()),k.jb()).OBa()),this.uSb=h===Rh.yb?this.bE?g.da():g.ca():this.bE?g.ca():g.da(),g=k.Po().wd(sg.measureText(this.Vg.format(k.gq()),k.jb()).OBa()),this.JUb=h===Rh.yb?this.bE?g.da():g.ca():this.bE?g.ca():g.da();else if("major"===k.Hi())return this.O$=k.Dl(),this.p9a=k.Dl(),this.zub=0,this.Kp;return 0};d.prototype.sWc=
function(g,h,k,l){h=g+(h+1)*k;return this.Yo("edge")&&null!=this.Gj("edge")&&(Math.abs(h-g)<this.zSa||Math.abs(h-l)<this.zSa)||Math.abs(this.O$-h)<this.zSa?Number.NaN:this.O$=h};d.prototype.tWc=function(g,h,k){h=g+(h+.5)*k;if(this.O$===g){if(Math.abs(this.O$-h)<this.zSa/2)return Number.NaN}else if(Math.abs(this.O$-h)<this.zSa)return Number.NaN;return this.O$=h};d.prototype.Sx=function(g,h,k,l){var m=this.NFa,n=k.Hi();g=k.Dl();var p=k.gq();if(this.VP===d.BS.Tda){if("edge"===n)return m=new Ud(1,1),
l=0===l?p:g,h===Rh.rb&&0>k.Po().Ab()&&(k.Po().pl(m,m),l+=m.height),h===Rh.yb&&0>k.Po().lb()&&(k.Po().pl(m,m),l+=m.width),l;if("major"===n)return this.sWc(g,l,m,p)}else if((this.VP===d.BS.Oa||this.VP===d.BS.Range)&&"major"===n)return this.tWc(g,l,m);return Number.NaN};d.prototype.Rx=function(g,h,k,l){var m=this.NFa,n=k.Hi();g=k.Dl();var p=k.gq();if(this.VP===d.BS.Tda){if("edge"===n)return 0===l?g:p;if("major"===n){l=this.sWc(g,l,m,p);m=sg.measureText(this.Vg.format(l),k.jb()).OBa();m=k.Po().wd(m);
h=h===Rh.yb?this.bE?m.da():m.ca():this.bE?m.ca():m.da();if(Math.abs(l-g)<this.uSb+.5*h||Math.abs(l-p)<this.JUb+.5*h||Math.abs(this.p9a-l)<.5*(this.zub+h))return Number.NaN;this.p9a=l;this.zub=h;return l}}return this.VP!==d.BS.Oa&&this.VP!==d.BS.Range||"major"!==n?Number.NaN:this.tWc(g,l,m)};d.prototype.$k=function(g,h,k,l,m){if(this.VP===d.BS.Range){var n=k.Hi();if("major"===n)return n=k.Dl(),m=n+l*this.NFa,n+=(l+1)*this.NFa,null==this.Cu?(g=this.Vg.format(m),h=this.Vg.format(n),g+"-"+h):this.Cu(this,
g,h,k,l,m)+"-"+this.Cu(this,g,h,k,l,n)}return null==this.Cu?this.Vg.format(m):this.Cu(this,g,h,k,l,m)};d.prototype.kR=function(g,h,k,l){if(l<k)return[];g=[{type:"edge",value:k},{type:"edge",value:l}];k+=this.NFa;l-=this.NFa;l>=k&&(g.push({type:"major",value:k}),g.push({type:"major",value:l}));return g};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGb3JtYXRMYWJlbEhhbmRsZXIiOiJIdiIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldE1ham9yTGFiZWxGb3JtYXQiOiJlSWIiLCJnZXRNYWpvckxhYmVsRm9ybWF0IjoiJEJiIiwic2V0QmluQ291bnQiOiJUNyIsInNldExhYmVsU3RyYXRlZ3kiOiJ6NGMiLCJnZXRMYWJlbFN0cmF0ZWd5IjoiRjdiIiwic2V0TWluaW11bVNwYW4iOiJxMGEiLCJnZXRNaW5pbXVtU3BhbiI6IkVYYSIsImNvcHlDb25zdHJ1Y3RvciI6IkJhIiwic2V0Um90YXRlTGFiZWxzIjoicDZjIiwicmVzZXRUaWNrcyI6ImNwIiwicmVzZXRMYWJlbHMiOiJEdiIsIm5leHRUaWNrIjoiU3giLCJuZXh0TGFiZWwiOiJSeCIsImZvcm1hdExhYmVsIjoiJGsiLCJnZXRNYXhMYWJlbHMiOiJrUiJ9fX0g");var gQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){this.cqd=a;this.Wpd=b;this.si=c}d.prototype={ARc:function(){return this.cqd},nRc:function(){return this.Wpd},Ly:function(){return this.si}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXJpZUlkIjoiQVJjIiwiZ2V0U2FtcGxlSWQiOiJuUmMiLCJnZXRPd25lciI6Ikx5In19fSAg");var hQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=G(b,{activefillstyle:"#0f0",inactivefillstyle:"#fff",activelinestyle:a,inactivelinestyle:a,operationinfo:null,shapeadapter:null,active:!1});Ag.call(this);this.$Ha=ug.fd(b.activefillstyle);this.KKa=ug.fd(b.inactivefillstyle);this.oxa=Y.Ra(b.activelinestyle);this.Pza=Y.Ra(b.inactivelinestyle);this.rXb=b.operationinfo;this.WYb=b.shapeadapter;this.vw=b.active}var a={color:"#000",pixelsnapmode:!0};D(d,Ag);L(d,"geotoolkit.controls.editing.AbstractHandle");d.prototype.Ba=
function(b){this.fa(b.ia());return this};d.prototype.cC=function(b){this.WYb=b;return this};d.prototype.rJ=function(){return this.WYb};d.prototype.setActive=function(b){this.vw!==b&&(this.vw=b,this.ha());return this};d.prototype.Pd=function(){return this.vw};d.prototype.Uzb=function(){return this.$Ha};d.prototype.$Aa=function(b,c){if(this.$Ha===b)return this;this.$Ha=ug.Su(this,this.$Ha,b,c,this.tb());this.xa().ha();return this};d.prototype.dHb=function(b,c){if(this.oxa===b)return this;this.oxa=Y.Qe(this,
this.oxa,b,c,this.tb());this.xa().ha();return this};d.prototype.n5b=function(){return this.oxa};d.prototype.UHb=function(b,c){if(this.Pza===b)return this;this.Pza=Y.Qe(this,this.Pza,b,c,this.tb());this.xa().ha();return this};d.prototype.eOc=function(){return this.Pza};d.prototype.dOc=function(){return this.KKa};d.prototype.h0a=function(b,c){if(this.KKa===b)return this;this.KKa=ug.Su(this,this.KKa,b,c,this.tb());this.xa().ha();return this};d.prototype.gm=function(b){this.rXb=b;return this};d.prototype.Ph=
function(){return this.rXb};d.prototype.ia=function(){var b=Ag.prototype.ia.call(this);b.activefillstyle=this.$Ha;b.inactivefillstyle=this.KKa;b.activelinestyle=this.oxa;b.inactivelinestyle=this.Pza;b.operationinfo=this.rXb;b.shapeadapter=this.WYb;b.active=this.vw;return b};d.prototype.fa=function(b){b=jc(b);if(null==b)return this;Ag.prototype.fa.call(this,b);void 0!==b.activefillstyle&&this.$Aa(b.activefillstyle,!1===b.activefillstyle instanceof rf);void 0!==b.inactivefillstyle&&this.h0a(b.inactivefillstyle,
!1===b.inactivefillstyle instanceof rf);void 0!==b.activelinestyle&&this.dHb(b.activelinestyle,!1===b.activelinestyle instanceof Y);void 0!==b.inactivelinestyle&&this.UHb(b.inactivelinestyle,!1===b.inactivelinestyle instanceof Y);void 0!==b.operationinfo&&this.gm(b.operationinfo);void 0!==b.shapeadapter&&this.cC(b.shapeadapter);void 0!==b.active&&this.setActive(b.active);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldEFkYXB0ZXIiOiJjQyIsImdldEFkYXB0ZXIiOiJySiIsImlzQWN0aXZlIjoiUGQiLCJnZXRBY3RpdmVGaWxsU3R5bGUiOiJVemIiLCJzZXRBY3RpdmVGaWxsU3R5bGUiOiIkQWEiLCJzZXRBY3RpdmVMaW5lU3R5bGUiOiJkSGIiLCJnZXRBY3RpdmVMaW5lU3R5bGUiOiJuNWIiLCJzZXRJbmFjdGl2ZUxpbmVTdHlsZSI6IlVIYiIsImdldEluYWN0aXZlTGluZVN0eWxlIjoiZU9jIiwiZ2V0SW5hY3RpdmVGaWxsU3R5bGUiOiJkT2MiLCJzZXRJbmFjdGl2ZUZpbGxTdHlsZSI6ImgwYSIsInNldE9wZXJhdGlvbkluZm8iOiJnbSIsImdldE9wZXJhdGlvbkluZm8iOiJQaCIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSJ9fX0g");var iQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{ghostlinestyle:{color:"rgba(0, 0, 0, 0.4)",pixelsnapmode:!0},ghostfillstyle:"rgba(0, 0, 0, 0.2)",isghost:!1});hQ.call(this,a);this.DYa=ug.fd(a.ghostfillstyle);this.EYa=Y.Ra(a.ghostlinestyle);this.oUb=a.isghost;this.hA=this.Nub=null;this.Tc(new X)}D(d,hQ);L(d,"geotoolkit.controls.editing.GhostBearingHandle");d.prototype.qO=function(){return null!==this.hA};d.prototype.dYd=function(){this.qO()&&this.hA.dispose();this.hA=null;return this};d.prototype.dispose=function(){this.qO()&&
this.hA.dispose();hQ.prototype.dispose.call(this)};d.prototype.$bb=function(){if(null!==this.hA)return this.Gra(),this.hA;this.hA=this.clone();this.hA.$Aa(this.DYa);this.hA.h0a(this.DYa);this.hA.dHb(this.EYa);this.hA.UHb(this.EYa);this.hA.SHb(!0);this.hA.W5c(this);this.getParent().pa(this.hA);return this.hA};d.prototype.dZa=function(){return this.oUb};d.prototype.vJ=function(){return this.hA};d.prototype.Gra=function(){this.qO()&&(this.hA.fa(this.ia()),this.hA.ob().Zjb(),this.hA.$Aa(this.DYa),this.hA.h0a(this.DYa),
this.hA.dHb(this.EYa),this.hA.UHb(this.EYa),this.hA.SHb(!0),this.hA.xa());return this};d.prototype.SHb=function(a){this.oUb=a;return this};d.prototype.ACb=function(){return this.Nub};d.prototype.W5c=function(a){this.Nub=a;return this};d.prototype.cC=function(a){return this.dZa()?this.Nub.cC(a):hQ.prototype.cC.call(this,a)};d.prototype.rJ=function(){return this.dZa()?this.Nub.rJ():hQ.prototype.rJ.call(this)};d.prototype.ia=function(){var a=hQ.prototype.ia.call(this);a.ghostfillstyle=this.DYa;a.ghostlinestyle=
this.EYa;a.isghost=a.isGhost=this.oUb;return a};d.prototype.fa=function(a){a=jc(a);hQ.prototype.fa.call(this,a);void 0!==a.ghostfillstyle&&(this.DYa=ug.fd(a.ghostfillstyle));void 0!==a.ghostlinestyle&&(this.EYa=Y.Ra(a.ghostlinestyle));void 0!==a.isghost&&this.SHb(a.isghost);return this};d.prototype.va=function(a){this.qO()&&this.hA.va(a);hQ.prototype.va.call(this,a);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJoYXNHaG9zdCI6InFPIiwicmVtb3ZlR2hvc3QiOiJkWWQiLCJjcmVhdGVHaG9zdCI6IiRiYiIsImlzR2hvc3QiOiJkWmEiLCJnZXRHaG9zdCI6InZKIiwicmVzZXRHaG9zdCI6IkdyYSIsInNldEdob3N0TW9kZSI6IlNIYiIsImdldFBhcmVudEhhbmRsZSI6IkFDYiIsInNldFBhcmVudEhhbmRsZSI6Ilc1YyIsInNldEFkYXB0ZXIiOiJjQyIsImdldEFkYXB0ZXIiOiJySiIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSIsInNldFZpc2libGUiOiJ2YSJ9fX0g");var jQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}var a=new Km;L(d,"geotoolkit.controls.editing.SymbolHandleDriver");d.Vn=function(b,c,e,f,g,h){a.Jb(c);a.YO(e);a.Qa(f.ca());a.$a(f.da());a.qa(h);a.ra(g);b.fc()&&a.ra(rf.zh);a.render(b)};d.pf=function(b,c,e){a.Qa(c.ca());a.$a(c.da());a.Jb(e);return a.pf(b)};return d}(),1,"eyJkcmF3IjoiVm4iLCJjaGVja0NvbGxpc2lvbiI6InBmIn0g");var kQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){a=G(a,{x:"number"===typeof a?a:0,y:"number"===typeof b?b:0,size:c,width:null,height:null,painter:Qn,isindevicespace:!0});iQ.call(this,a);this.Wb=this.lIc(a.size,a.width,a.height);this.Prb=new Ud(8,8);this.j4=new N(a.x,a.y);this.EZb=a.painter;this.Xrb=a.isindevicespace}D(d,iQ);L(d,"geotoolkit.controls.editing.AnchoredHandle");d.prototype.Jb=function(a){this.ha();this.j4=a;this.ha();return this};d.prototype.al=function(){return this.j4};d.prototype.c0a=function(a){this.ha();
this.Wb=this.lIc(a);this.ha();return this};d.prototype.jba=function(){return this.Wb};d.prototype.render=function(a){a=null!=this.Sa()?a.bc(this.Sa()):a;var b=a.bq();b.xD(this.Wb,this.Prb);b=this.Xrb?this.Prb:this.Wb;if(this.Pd()){var c=this.$Ha;var e=this.oxa}else c=this.KKa,e=this.Pza;c=this.eb()||c;e=this.Fa()||e;jQ.Vn(a,this.j4,this.EZb,b,c,e)};d.prototype.pf=function(a){var b=null!=this.Sa()?a.bc(this.Sa()):a;a=a.bq();a.xD(this.Wb,this.Prb);a=this.Xrb?this.Prb:this.Wb;return!0===this.Ia()&&jQ.pf(b,
a,this.j4)};d.prototype.lIc=function(a,b,c){return a instanceof Ud?a:"number"===typeof a?new Ud(a,a):new Ud(b||8,c||8)};d.prototype.ia=function(){var a=iQ.prototype.ia.call(this);a.size=this.Wb;a.x=this.j4.x;a.y=this.j4.y;a.painter=this.EZb;a.isindevicespace=this.Xrb;return a};d.prototype.fa=function(a){iQ.prototype.fa.call(this,a);void 0!==a.size&&this.c0a(a.size);void 0!==a.x&&(this.j4.x=a.x);void 0!==a.y&&(this.j4.y=a.y);void 0!==a.painter&&(this.EZb=a.painter);void 0!==a.isindevicespace&&(this.Xrb=
a.isindevicespace);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRBbmNob3IiOiJKYiIsImdldEFuY2hvciI6ImFsIiwic2V0SGFuZGxlU2l6ZSI6ImMwYSIsImdldEhhbmRsZVNpemUiOiJqYmEiLCJjaGVja0NvbGxpc2lvbiI6InBmIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var lQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e){a=G(a,{left:"number"===typeof a?a:0,top:"number"===typeof b?b:0,right:"number"===typeof c?c:0,bottom:"number"===typeof e?e:0,activefillstyle:"rgba(0, 255, 0, 0.1)",inactivefillstyle:"transparent"});iQ.call(this,a);this.GGa=new ho(null!=a.rect?a.rect:a)}D(d,iQ);L(d,"geotoolkit.controls.editing.BoxHandle");d.prototype.fa=function(a){iQ.prototype.fa.call(this,a);void 0!==a.rect&&this.cb(a.rect);return this};d.prototype.ha=function(a,b){null==a&&null!=this.GGa&&(a=
this.GGa.ga());this.Ia()&&this.Lg(a,b);return this};d.prototype.ia=function(){var a=iQ.prototype.ia.call(this);a.rect=this.zp();return a};d.prototype.cb=function(a){this.GGa.sa(a);return this};d.prototype.zp=function(){return this.GGa.ga()};d.prototype.render=function(a){a=null!=this.Sa()?a.bc(this.Sa()):a;this.Pd()?this.GGa.ra(this.$Ha).qa(this.oxa):this.GGa.ra(this.KKa).qa(this.Pza);this.GGa.render(a)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJpbnZhbGlkYXRlIjoiaGEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRSZWN0IjoiY2IiLCJnZXRSZWN0IjoienAifX19");var mQ=/*#__PURE__*/ta(/*#__PURE__*/{Qsa:"dragstart",Bka:"dragging",Aka:"dragend",DCa:"delete",bz:"insert",YOa:"move"},2,"eyJEcmFnU3RhcnQiOiJRc2EiLCJEcmFnZ2luZyI6IkJrYSIsIkRyYWdFbmQiOiJBa2EiLCJEZWxldGUiOiJEQ2EiLCJJbnNlcnQiOiJieiIsIk1vdmUiOiJZT2EifSAg");var nQ=/*#__PURE__*/function(){function d(a,b,c){kQ.call(this,a,b,c)}D(d,kQ);L(d,"geotoolkit.controls.editing.Handle");return d}();var oQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e){iQ.call(this,a);a=G(a,{x1:"number"===typeof a?a:0,y1:"number"===typeof b?b:0,x2:"number"===typeof c?c:0,y2:"number"===typeof e?e:0,linewidth:1});this.nA=new N(a.x1,a.y1);this.nB=new N(a.x2,a.y2);this.vz=a.linewidth;this.Jsb=new Bk(this.nA,this.nB)}D(d,iQ);L(d,"geotoolkit.controls.editing.LineBox");d.prototype.ia=function(){var a=iQ.prototype.ia.call(this);a.x1=this.nA.getX();a.y1=this.nA.getY();a.x2=this.nB.getX();a.y2=this.nB.getY();a.linewidth=this.vz;return a};
d.prototype.fa=function(a){iQ.prototype.fa.call(this,a);void 0!==a.x1&&this.nA.setX(a.x1);void 0!==a.y1&&this.nA.setY(a.y1);void 0!==a.x2&&this.nB.setX(a.x2);void 0!==a.y2&&this.nB.setY(a.y2);void 0!==a.linewidth&&(this.vz=a.linewidth);this.Z$c();return this};d.prototype.Z$c=function(){this.Jsb.Cr({from:this.nA,to:this.nB});return this};d.prototype.render=function(a){a=null!=this.Sa()?a.bc(this.Sa()):a;this.Pd()?this.Jsb.qa(this.oxa.Qa(this.vz)):this.Jsb.qa(this.Pza.Qa(this.vz));this.Jsb.render(a)};
d.prototype.Cr=function(a,b){a instanceof N?this.nA=a:"object"===typeof a&&(void 0!==a.from&&(this.nA=a.from),void 0!==a.to&&(this.nB=a.to));b instanceof N&&(this.nB=b);this.Z$c();return this};d.prototype.ll=function(){return this.nA};d.prototype.$l=function(){return this.nB};d.prototype.Jb=function(a){var b=this.nB.x-this.nA.x,c=this.nB.y-this.nA.y;this.Cr(new N(a.getX()-b/2,a.getY()-c/2),new N(a.getX()+b/2,a.getY()+c/2));return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJzZXRMaW5lIjoiQ3IiLCJnZXRGcm9tIjoibGwiLCJnZXRUbyI6IiRsIiwic2V0QW5jaG9yIjoiSmIifX19");var pQ=/*#__PURE__*/ta(/*#__PURE__*/{anb:"moved",aDa:"positionChanged",dlc:"activeStateChanged"},2,"eyJNb3ZlZCI6ImFuYiIsIlBvc2l0aW9uQ2hhbmdlZCI6ImFEYSIsIkFjdGl2ZVN0YXRlQ2hhbmdlZCI6ImRsYyJ9"),qQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){te.call(this);this.Rm=this.Xr=null;this.wh=!1;this.Ie=this.Md=null}D(d,te);L(d,"geotoolkit.controls.editing.ShapeAdapter");d.Ka=pQ;d.prototype.Yba=function(){return this.wh};d.prototype.je=function(){(this.wh=this.Ql())&&this.update();return this.wh};d.prototype.fda=function(a){this.Rm=a;return this};d.prototype.Ea=function(){return this.Rm.Ea()};d.prototype.update=function(){this.Rm.update()};d.prototype.mc=
function(){return this.Rm.mc()};d.prototype.Gm=function(a){this.Xr=a;return this};d.prototype.Gb=function(){return this.Xr};d.prototype.setActive=function(a){this.vw!==a&&(this.vw=a,this.tn(a),this.notify(pQ.dlc,this));return this};d.prototype.Pd=function(){return this.vw};d.prototype.ns=function(a){if(this.Md===a)return this;null!=this.Md&&this.Md.setActive(!1).QJ("active");this.Md=a;null!=this.Md&&this.Md.setActive(!0).iL("active");return this};d.prototype.Nw=function(){return this.Md};d.prototype.setPosition=
function(a,b){this.Ie=null==a?null:new N(a,b);this.notify(pQ.aDa,this,this.ec());return this};d.prototype.ec=function(){return this.Ie};d.prototype.move=function(a,b){this.wo(a,b);this.setPosition(a,b);this.notify(pQ.anb,this,this.ec());return this};d.prototype.ia=function(){return{}};d.prototype.fa=function(a){return this};d.prototype.wo=Fb;d.prototype.tn=Fb;d.prototype.Ql=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0luaXRpYWxpemVkIjoiWWJhIiwiaW5pdGlhbGl6ZSI6ImplIiwic2V0UmVnaXN0cnkiOiJmZGEiLCJnZXRUcmFuc2Zvcm1hdGlvbiI6IkVhIiwiZ2V0TWFuaXB1bGF0b3JMYXllciI6Im1jIiwic2V0U2hhcGUiOiJHbSIsImdldFNoYXBlIjoiR2IiLCJpc0FjdGl2ZSI6IlBkIiwic2V0QWN0aXZlSGFuZGxlIjoibnMiLCJnZXRBY3RpdmVIYW5kbGUiOiJOdyIsImdldFBvc2l0aW9uIjoiZWMiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJvbk1vdmUiOiJ3byIsIm9uQWN0aXZlU3RhdGVDaGFuZ2VkIjoidG4iLCJvbkluaXRpYWxpemUiOiJRbCJ9fX0g");var rQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){qQ.call(this);this.Kb=[];this.dT=8}D(d,qQ);L(d,"geotoolkit.controls.editing.LineShapeAdapter");d.prototype.Ql=function(){var a=this.Gb();this.Kb.push((new oQ(a.ll().x,a.ll().y,a.$l().x,a.$l().y)).gm({x:1,y:1,width:0,height:0}));this.ns(this.Kb[0]);this.Kb.push((new nQ(a.ll().x,a.ll().y,new Ud(this.dT,this.dT))).Zc("resize").gm({x:-99}));this.Kb.push((new nQ(a.$l().x,a.$l().y,new Ud(this.dT,this.dT))).Zc("resize").gm({y:-99}));for(a=0;a<this.Kb.length;a++)this.mc().pa(this.Kb[a]),
this.Kb[a].cC(this);return!0};d.prototype.Gm=function(a){qQ.prototype.Gm.call(this,a);this.Yba()?(this.$h(),this.ns(this.Kb[0])):(this.Kb=[],this.je());return this};d.prototype.tn=function(a){this.$h();for(var b=0;b<this.Kb.length;b++)this.Kb[b].va(a)};d.prototype.wo=function(a,b){var c=this.Nw();if(null==c)return this;var e=this.ec();if(e.x===a&&e.y===b)return this;var f=this.Gb();f.ha();var g=f.wa().xc();e=new N(e.x,e.y);g.Ma(e,e);var h=new N(a,b);g.Ma(h,h);g=h.x-e.x;e=h.y-e.y;if(c=c.Ph())if(-99===
c.x||-99===c.y){h=f.ll();var k=f.$l();-99===c.x?f.Cr({from:new N(h.x+g,h.y+e),to:k}):-99===c.y&&f.Cr({from:h,to:new N(k.x+g,k.y+e)})}else h=f.ga(),k=h.clone(),k.setX(k.getX()+c.x*g),k.setY(k.getY()+c.y*e),g=X.Vd(h,k,!1,!1,!1),e=null!=f.ob()?f.ob():new X,f.Tc(X.multiply(e,g));this.$h();this.setPosition(a,b);f.ha();return this};d.prototype.$h=function(){if(this.Gb()&&this.mc()){var a=this.Gb(),b=X.multiply(this.mc().wa().xc(),this.Gb().wa()),c=b.Ma(a.ll());a=b.Ma(a.$l());this.Kb[0].Cr({from:c,to:a});
this.Kb[1].Jb(c);this.Kb[2].Jb(a)}return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkluaXRpYWxpemUiOiJRbCIsInNldFNoYXBlIjoiR20iLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6InRuIiwib25Nb3ZlIjoid28iLCJ1cGRhdGVIYW5kbGVzIjoiJGgifX19");var sQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){qQ.call(this);this.Kb=[];this.dT=8}D(d,qQ);L(d,"geotoolkit.controls.editing.PolyLineShapeAdapter");d.prototype.Ql=function(){var a=this.Gb(),b=a.ga();this.Kb.push((new oQ(b.ka(),b.la(),b.na(),b.ma())).gm({x:1,y:1,width:0,height:0}));this.ns(this.Kb[0]);b=a.be();var c=a.He();for(a=0;a<b.length;++a){var e=(new nQ({x:b[a],y:c[a],size:this.dT})).Zc("resize").gm({index:a});this.Kb.push(e);this.mc().pa(e);e.cC(this)}return!0};d.prototype.Gm=function(a){qQ.prototype.Gm.call(this,
a);this.Yba()?(this.$h(),this.ns(this.Kb[0])):(this.Kb=[],this.je());return this};d.prototype.tn=function(a){this.$h();for(var b=0;b<this.Kb.length;b++)this.Kb[b].va(a)};d.prototype.wo=function(a,b){var c=this.Nw();if(null==c)return this;var e=this.ec();if(e.x===a&&e.y===b)return this;var f=this.Gb();f.ha();var g=f.wa().xc();e=new N(e.x,e.y);g.Ma(e,e);var h=new N(a,b);g.Ma(h,h);g=h.x-e.x;e=h.y-e.y;if(c=c.Ph())if(null!=c.index){h=f.be();var k=f.He();h[c.index]+=g;k[c.index]+=e;f.ne(h,k)}else h=f.ga(),
k=h.clone(),k.setX(k.getX()+c.x*g),k.setY(k.getY()+c.y*e),g=X.Vd(h,k,!1,!1,!1),e=null!=f.ob()?f.ob():new X,f.Tc(X.multiply(e,g));this.$h();this.setPosition(a,b);f.ha();return this};d.prototype.$h=function(){var a=this.Gb(),b=this.Gb().ga(),c=null!=a.ob()?a.ob():new X,e=a.wa(),f=this.mc().wa().xc(),g=a.be(),h=a.He();for(a=0;a<this.Kb.length;a++){var k=this.Kb[a].Ph();null!=k&&void 0!==k.index?(k=e.Pc(g[k.index],h[k.index]),this.Kb[a].Jb(f.transform(k))):(this.Kb[a].Cr(new N(b.ka(),b.la()),new N(b.na(),
b.ma())),this.Kb[a].Tc(c))}return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkluaXRpYWxpemUiOiJRbCIsInNldFNoYXBlIjoiR20iLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6InRuIiwib25Nb3ZlIjoid28iLCJ1cGRhdGVIYW5kbGVzIjoiJGgifX19");var tQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){qQ.call(this);this.ea=xb(b,{handlers:[O.Id,O.Nf,O.Ah,O.hg]});this.ID=null;this.Kb=[];this.vTb={}}function a(b,c){if(!b)return null;switch(c){case O.Oa:return new N(this.hc(),this.Dc());case O.Id:return(new nQ(b.ka(),b.la())).gm({x:1,y:1,width:-1,height:-1});case O.hg:return(new nQ(b.ka(),b.ma())).Zc("resize").gm({x:1,y:0,width:-1,height:1});case O.Nf:return(new nQ(b.na(),b.la())).Zc("resize").gm({x:0,y:1,width:1,height:-1});case O.Ah:return(new nQ(b.na(),b.ma())).Zc("resize").gm({x:0,
y:0,width:1,height:1});case O.Bd:return(new nQ(b.ka(),b.Dc())).Zc("resize").gm({x:1,y:0,width:-1,height:0});case O.ee:return(new nQ(b.hc(),b.la())).Zc("resize").gm({x:0,y:1,width:0,height:-1});case O.we:return(new nQ(b.na(),b.Dc())).Zc("resize").gm({x:0,y:0,width:1,height:0});case O.Se:return(new nQ(b.hc(),b.ma())).Zc("resize").gm({x:0,y:0,width:0,height:1})}return null}D(d,qQ);d.prototype.setOptions=function(b){this.ea=xb(b,this.ea);null!=this.ID&&this.ID.fa({activefillstyle:null!=this.ea.box?ug.fd(this.ea.box.activefillstyle):
this.ID.Uzb(),inactivefillstyle:null!=this.ea.box?ug.fd(this.ea.box.inactivefillstyle):this.ID.dOc(),activelinestyle:null!=this.ea.handlestyle?Y.Ra(this.ea.handlestyle.activelinestyle):this.ID.n5b(),inactivelinestyle:null!=this.ea.handlestyle?Y.Ra(this.ea.handlestyle.inactivelinestyle):this.ID.eOc()});if(null!=this.ea.handlestyle)for(b=1;b<this.Kb.length;b++){var c=this.Kb[b];c.fa({activefillstyle:ug.fd(this.ea.handlestyle.activefillstyle),inactivefillstyle:ug.fd(this.ea.handlestyle.inactivefillstyle)})}return this};
d.prototype.ta=function(){return this.ea};d.prototype.Gm=function(b){qQ.prototype.Gm.call(this,b);this.Yba()?(this.$h(),this.ns(this.Kb[0])):this.je();return this};d.prototype.Eba=function(){return this.Gb()?this.Gb().ga():null};d.prototype.tn=function(b){this.$h();for(var c=0;c<this.Kb.length;c++)this.Kb[c].va(b)};d.prototype.SFd=function(){return this.ID};d.prototype.Ql=function(){this.Kb=[];this.vTb={};var b=this.Eba(),c,e;this.ID=new lQ(b);this.ID.gm({x:1,y:1,width:0,height:0});this.Kb.push(this.ID);
this.ns(this.Kb[0]);for(c=0;c<this.ea.handlers.length;++c)if(e=a(b,this.ea.handlers[c]))e=this.Kb.push(e)-1,this.vTb[e]=this.ea.handlers[c];for(c=0;c<this.Kb.length;c++)this.mc().pa(this.Kb[c]),this.Kb[c].cC(this);this.setOptions(this.ea);return!0};d.prototype.move=function(b,c){this.wo(b,c);this.notify(pQ.anb,this,this.ec());return this};d.prototype.wo=function(b,c){var e=this.Nw();if(null==e)return this;var f=this.Gb();if(!(f instanceof mg))return this;var g=e.Ph();if(null==g)return this;var h=
this.xFb(b,c);if(!h)return this.setPosition(b,c),this;e=null!=f.ob()?f.ob():new X;0>=h.pca.da()&&(h.pca.$a(e.Ab()>W.Tb?1:h.wNa.da()),h.pca.setY(g.y?h.wNa.ma():h.wNa.getY()),c=h.point.y);0>=h.pca.ca()&&(h.pca.Qa(e.lb()>W.Tb?1:h.wNa.ca()),h.pca.setX(g.x?h.wNa.na():h.wNa.getX()),b=h.point.x);g=X.Vd(h.wNa,h.pca,!1,!1,!1);f.Tc(X.multiply(e,g));this.$h();this.setPosition(b,c);f.ha();return this};d.prototype.xFb=function(b,c){var e=this.ec();e||(e=new N(b,c));if(e.x===b&&e.y===c)return null;var f=this.Gb();
f.ha();var g=f.ga(),h=g.clone();f=f.getParent()?f.ob()?X.multiply(f.getParent().wa(),f.ob()).xc():f.getParent().wa().xc():f.wa().xc();e=new N(e.x,e.y);f.Ma(e,e);c=new N(b,c);f.Ma(c,c);b=c.x-e.x;c=c.y-e.y;e=this.Nw();e=e.Ph();var k=e.width,l=e.height;h.setX(g.getX()+e.x*b);h.setY(g.getY()+e.y*c);h.Qa(g.ca()+k*b);h.$a(g.da()+l*c);return{wNa:g,pca:h,point:f.sc(g.kd())}};d.prototype.setStyle=function(b){function c(g){return g=g instanceof rf?{fillstyle:g.ia()}:{fillstyle:g}}function e(g){return g=g instanceof
Y?{linestyle:g.ia()}:{linestyle:g}}var f={};void 0!==b.main&&(void 0!==b.main.linestyle&&(f=G(f,e(b.main.linestyle))),void 0!==b.main.fillstyle&&(f=G(f,c(b.main.fillstyle))),this.Kb[0].fa(f));f={};if(void 0!==b.corners)for(void 0!==b.corners.linestyle&&(f=G(f,e(b.corners.linestyle))),void 0!==b.corners.fillstyle&&(f=G(f,c(b.corners.fillstyle))),b=1;b<this.Kb.length;++b)this.Kb[b].fa(f);return this};d.prototype.$h=function(){var b=this.Eba();if(this.Gb().getParent()){var c=this.Gb().ob()?X.multiply(this.Gb().getParent().wa(),
this.Gb().ob()):this.Gb().getParent().wa();c=X.multiply(this.mc().wa().xc(),c)}else c=this.mc().wa().xc();b=c.Ua(b);this.Kb[0].cb(b);for(c=1;c<this.Kb.length;++c){var e=this.vTb[c];(e=b.Gy(e))&&this.Kb[c].Jb(e)}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJzZXRTaGFwZSI6IkdtIiwiZ2V0U2hhcGVCb3VuZHMiOiJFYmEiLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6InRuIiwiZ2V0SGFuZGxlIjoiU0ZkIiwib25Jbml0aWFsaXplIjoiUWwiLCJvbk1vdmUiOiJ3byIsInVwZGF0ZUhhbmRsZXMiOiIkaCJ9fX0g");var uQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){tQ.call(this,a)}D(d,tQ);L(d,"geotoolkit.controls.editing.scaling.GroupAdapter");d.prototype.wo=function(a,b){var c=this.Nw();if(null==c)return this;var e=this.Gb();if(null==c.Ph())return this;c=this.xFb(a,b);if(null==c||null==c.pca||0>=c.pca.da()||0>=c.pca.ca())return this;e.ha();e.sa(c.pca);this.$h();this.setPosition(a,b);e.ha();return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdmUiOiJ3byJ9fX0g");var vQ=/*#__PURE__*/ta(/*#__PURE__*/{xmc:"deactivated",clc:"activated"},2,"eyJEZWFjdGl2YXRlZCI6InhtYyIsIkFjdGl2YXRlZCI6ImNsYyJ9"),wQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){te.call(this);this.uc=a;this.mk=null!=a?a.getRoot():null;this.gla=null;this.ab=b;this.Rm=new Io}D(d,te);L(d,"geotoolkit.controls.editing.ShapeAdapterRegistry");d.Ka=vQ;d.prototype.update=function(){null!=this.uc&&this.uc.update()};d.prototype.mc=function(){return this.ab};d.prototype.wZ=function(a){this.ab=a;return this};d.prototype.register=function(a,b){b.fda(this);this.Rm.put(a,b);return this};d.prototype.rJ=function(a){if("string"!==
typeof a){if(null==a.Pa)return null;a=a.Pa()}return this.Rm.Cx(a)?this.Rm.get(a):null};d.prototype.VJd=function(){return this.Rm.keys()};d.prototype.Sb=function(a){this.ad=a;return this};d.prototype.Ea=function(){return this.ad};d.prototype.dM=function(a){if(this.gla===a)return this;null!=this.gla&&(this.gla.setActive(!1),this.notify(vQ.xmc,this,this.gla));this.gla=a;null!=this.gla&&(this.gla.setActive(!0),this.notify(vQ.clc,this,this.gla));this.uc&&this.uc.update();return this};d.prototype.lya=function(){return this.gla};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRNYW5pcHVsYXRvckxheWVyIjoibWMiLCJnZXRBZGFwdGVyIjoickoiLCJnZXRSZWdpc3RlcmVkQ2xhc3NlcyI6IlZKZCIsInNldFRyYW5zZm9ybWF0aW9uIjoiU2IiLCJnZXRUcmFuc2Zvcm1hdGlvbiI6IkVhIiwic2V0QWN0aXZlQWRhcHRlciI6ImRNIiwiZ2V0QWN0aXZlQWRhcHRlciI6Imx5YSJ9fX0g");var xQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){qQ.call(this);this.lk=null;this.tQ=!1;this.Sla=!0;this.Wl={}}D(d,qQ);L(d,"geotoolkit.controls.editing.SymbolAdapter");d.prototype.Ql=function(){return this.wh=this.Eoa()};d.prototype.Eoa=function(){var a=this.Gb();if(null===a||!(a instanceof Km))return!1;this.lk=new nQ;this.lk.cC(this);var b=a.al(),c=a.wa(),e=this.mc().wa().xc();b=c.Ma(b);e.Ma(b,b);var f=a.getSize();a.tsa||(c.xD(f,f),e.xD(f,f));this.lk.fa({size:f,x:b.getX(),y:b.getY(),painter:a.wba(),isindevicespace:a.IA()});
this.lk.fa(this.Wl);this.mc().pa(this.lk);return!0};d.prototype.$h=function(){if(!this.wh)return this.Ql(),this;var a=this.Gb();if(null===a)return this;var b=a.al(),c=a.wa();a=this.mc().wa().xc();b=c.Ma(b);a.Ma(b,b);this.lk.Jb(b);this.lk.ob().Zjb();this.lk.Gra();return this};d.prototype.Gm=function(a){qQ.prototype.Gm.call(this,a);this.$h();return this};d.prototype.qG=function(a){null!==this.lk&&this.lk.va(a);return this};d.prototype.tn=function(a){this.wh||this.Ql();this.qG(a);this.ns(a?this.lk:null);
this.lk.setActive(a)};d.prototype.wo=function(a,b,c){var e=this.Nw(),f=this.Gb();if(null===e||null===f)return this;var g=this.mc().wa().xc(),h=this.ec();f=f.al().clone();g=this.x6b(h,a,b,g);this.tQ?(e.qO()||e.$bb(),e=e.vJ(),e.translate(g.gi,g.Vh),e=this.wpa()):(e.translate(g.gi,g.Vh),e=this.wpa(),this.Sla&&this.Gb().Jb(e.x,e.y));this.setPosition(a,b);this.notify(mQ.Bka,this,this.Pdb(f,e,c));return this};d.prototype.release=function(a,b,c){a=this.wpa();this.Sla&&(this.Gb().Jb(a.x,a.y),this.Nw().Jb(a).Tc(new X));
this.Nw().Gra();this.notify(mQ.Aka,this,this.Qdb(a,c));return this};d.prototype.wpa=function(){if(this.tQ&&this.lk.qO()){var a=this.lk.vJ();a=a.wa().Ma(a.al())}else a=this.lk.wa().Ma(this.lk.al());this.Gb().wa().rd(a,a);return a};d.prototype.r4b=function(a,b,c){a=this.wpa();this.notify(mQ.Qsa,this,this.Odb(a,c))};d.prototype.Qdb=function(a,b){return{x:a.x,y:a.y,nativeeventargs:b}};d.prototype.Odb=function(a,b){return{x:a.x,y:a.y,nativeeventargs:b}};d.prototype.Pdb=function(a,b,c){return{oldx:a.getX(),
oldy:a.getY(),x:b.getX(),y:b.getY(),nativeeventargs:c}};d.prototype.x6b=function(a,b,c,e){a=e.Ma(a);b=new N(b,c);e.Ma(b,b);return{gi:b.x-a.x,Vh:b.y-a.y}};d.prototype.gfc=function(a){this.Sla=a;return this};d.prototype.t5b=function(){return this.Sla};d.prototype.E0a=function(a){this.tQ=a;return this};d.prototype.oia=function(){return this.tQ};d.prototype.OMa=function(a){void 0!==a.ghostlinestyle&&(this.Wl.GYa=Y.Ra(a.ghostlinestyle));void 0!==a.ghostfillstyle&&(this.Wl.FYa=ug.fd(a.ghostfillstyle));
void 0!==a.activefillstyle&&(this.Wl.Xga=ug.fd(a.activefillstyle));void 0!==a.inactivefillstyle&&(this.Wl.Fia=ug.fd(a.inactivefillstyle));void 0!==a.activelinestyle&&(this.Wl.Yga=Y.Ra(a.activelinestyle));void 0!==a.inactivelinestyle&&(this.Wl.Gia=Y.Ra(a.inactivelinestyle));this.$h();return this};d.prototype.update=function(){this.Rm.update();this.$h();return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkluaXRpYWxpemUiOiJRbCIsInVwZGF0ZUhhbmRsZXMiOiIkaCIsInNldFNoYXBlIjoiR20iLCJzZXRIYW5kbGVzVmlzaWJsZSI6InFHIiwib25BY3RpdmVTdGF0ZUNoYW5nZWQiOiJ0biIsIm9uTW92ZSI6IndvIiwiZW5nYWdlIjoicjRiIiwic2V0QWxsb3dTaGFwZUVkaXQiOiJnZmMiLCJnZXRBbGxvd1NoYXBlRWRpdCI6InQ1YiIsInNldFNob3dHaG9zdCI6IkUwYSIsImdldFNob3dHaG9zdCI6Im9pYSIsInNldEhhbmRsZVN0eWxlcyI6Ik9NYSJ9fX0g");var yQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){tQ.call(this)}D(d,tQ);L(d,"geotoolkit.controls.editing.TextShapeAdapter");d.prototype.Ql=function(){var a=this.Eba();this.Kb.push((new lQ(a)).gm({x:1,y:1,width:0,height:0}));this.ns(this.Kb[0]);for(a=0;a<this.Kb.length;a++)this.mc().pa(this.Kb[a]),this.Kb[a].cC(this);return!0};d.prototype.Gm=function(a){tQ.prototype.Gm.call(this,a);this.Yba()?(this.$h(),this.ns(this.Kb[0])):(this.Kb=[],this.je());return this};d.prototype.tn=function(a){this.$h();for(var b=0;b<this.Kb.length;b++)this.Kb[b].va(a)};
d.prototype.Eba=function(){var a=this.Gb();return null!=a?a.SX(a.wa()):null};d.prototype.$h=function(){if(this.Gb()&&this.mc()){var a=X.multiply(this.mc().wa().xc(),this.Gb().wa()),b=this.Eba();this.Kb[0].cb(a.Ua(b))}return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkluaXRpYWxpemUiOiJRbCIsInNldFNoYXBlIjoiR20iLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6InRuIiwiZ2V0U2hhcGVCb3VuZHMiOiJFYmEiLCJ1cGRhdGVIYW5kbGVzIjoiJGgifX19");var zQ=/*#__PURE__*/ta(/*#__PURE__*/{Xs:"Default",fta:"Stacked",Gka:"Float"},2,"eyJEZWZhdWx0IjoiWHMiLCJTdGFja2VkIjoiZnRhIiwiRmxvYXQiOiJHa2EifSAg"),AQ=/*#__PURE__*/ta(/*#__PURE__*/{ika:"Associative",IS:"Single"},2,"eyJBc3NvY2lhdGl2ZSI6ImlrYSIsIlNpbmdsZSI6IklTIn0g"),BQ=/*#__PURE__*/ta(/*#__PURE__*/{tPa:"TopOutside",O3a:"TopInside",h2a:"BottomInside",Oa:"Center"},2,"eyJUb3BPdXRzaWRlIjoidFBhIiwiVG9wSW5zaWRlIjoiTzNhIiwiQm90dG9tSW5zaWRlIjoiaDJhIiwiQ2VudGVyIjoiT2EifSAg"),CQ=/*#__PURE__*/ta(/*#__PURE__*/{Ed:"Bottom",tc:"Left",qb:"Top",cc:"Right"},2,"eyJCb3R0b20iOiJFZCIsIkxlZnQiOiJ0YyIsIlRvcCI6InFiIiwiUmlnaHQiOiJjYyJ9"),DQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(y,z){y=xb(y,{clipping:!0});ni.call(this,y);this.W9a=[];this.Og=null;this.Nuc=!1;this.Qi=(new ho).xb(!1);this.Bb=(new ek).Zn(NaN).mq(NaN).eda(!0).nu(!0).fsa(!0).esa(!0).xb(!1);this.od=new Km;this.m5a=this.oRb=null;this.ea={orientation:d.Fp.Ed,barmode:d.C8.Xs,barvalues:{totalonly:!1,
visible:!1,textstyle:new Fi,location:d.uS.tPa,decimalprecision:2,rotationangle:0,margins:{anchorx:0,anchory:0}},barwidth:5,barpad:5,barmaxwidth:null,autogradient:!1,ismissingvalue:b,createselectedstyle:a,series:!0,symbol:{visible:!1,sizeisindevicespace:!0,width:5,height:5,painter:$m,fillstyle:"black"}};this.o5=0;this.HSa=!1;this.jH=[];this.Y9a=[];this.lna=this.Od=null;this.wGa=1;this.xGa=null;this.xb(!1);this.setOptions(y);z&&this.setData(z);this.xb(!0)}function a(y){if(y instanceof Y){var z=new Y;
z.fa(y.ia());z.Qa(y.ca()+3)}else y instanceof rf&&(z=new rf,z.fa(y.ia()));return z}function b(y){return null===y}function c(y,z){var x=Pd.Rg(y.mb());x=new Oe(x);x.Caa(-.2);x.LN(.2);x=x.bP();var C=Pd.Rg(y.mb());y=new Oe(C);y.Caa(.2);y.LN(-.2);C=y.bP();y=C.um();x=x.um();C=C.um();var A=new og;A.OVa();A.Mo(0,y);A.Mo(.5,x);A.Mo(1,C);A.Rja(new N(0,0));z?A.setEndPoint(new N(0,1)):A.setEndPoint(new N(1,0));return A}function e(y,z){y[3]=z}function f(y,z){y[1]=z}function g(y,z){y[2]=z}function h(y,z){y[0]=
z}function k(y){return y[3]}function l(y){return y[2]}function m(y){return y[1]+y[3]}function n(y){return y[1]}function p(y){return y[0]+y[2]}function q(y){return y[0]}var r={color:"lightgrey"},t={color:"darkgrey",width:1},u="regular",w="total";D(d,ni);L(d,"geotoolkit.controls.shapes.BarChart");d.C8=zQ;d.dK=AQ;d.uS=BQ;d.Fp=CQ;d.prototype.setData=function(y){y.mode&&(this.gua=y.mode);this.gua||(this.gua=d.dK.ika);var z=y.datasets;if(null!=z){z instanceof Array||(z=[z]);this.o5=z.length;this.D6c(y?
y.series:this.IM);for(var x=[],C=0;C<this.o5;++C){var A=t,v=r;null!=this.ea.barstyles&&null!=this.ea.barstyles[C]&&(A=Y.Ra(this.ea.barstyles[C].linestyles||A),v=ug.fd(this.ea.barstyles[C].fillstyles||v));x.push({linestyles:A,fillstyles:v})}this.XDb(x)}y.positions instanceof DH?this.Od=y.positions.toArray():Array.isArray(y.positions)&&(this.Od=y.positions);null!=this.Od&&this.Od.some(function(B){return"number"!==typeof B})&&(this.Od=null);this.b4d();this.c6c();this.c5b(z,y.append);this.Nuc=!0;this.ha();
return this};d.prototype.A$b=function(){return this.Nuc};d.prototype.BHb=function(y){this.ha();this.D6c(y);this.ha();return this};d.prototype.HAb=function(){return this.IM};d.prototype.getData=function(){return{mode:this.gua,datasets:this.jv,series:this.IM}};d.prototype.setOptions=function(y){y=G(y,{});xb(y,this.ea);this.XDb(this.ea.barstyles);this.ea.valuelimits&&(this.Kc=this.ea.valuelimits.minvalue,this.Oc=this.ea.valuelimits.maxvalue);"boolean"==typeof this.ea.neatlimits&&(this.HSa=this.ea.neatlimits);
this.ea.barmode&&(this.OS=this.ea.barmode);this.ea.barvalues&&(this.Rkd=this.ea.barvalues.totalonly,this.m4=this.ea.barvalues.visible,Array.isArray(this.m4)&&0===this.m4.length&&(this.m4=!1),this.D4a=this.ea.barvalues.location,this.Qkd=this.ea.barvalues.decimalprecision,this.Fea=this.ea.barvalues.rotationangle,this.Bb.kb(this.ea.barvalues.textstyle),this.ea.barvalues.margins&&(this.WPa=this.ea.barvalues.margins));null!=this.ea.symbol&&this.od.fa(this.ea.symbol);this.c6c();this.c5b();this.ha();return this};
d.prototype.ta=function(){return this.ea};d.prototype.K4d=function(){this.Y9a=[];for(var y=0;y<this.o5;++y)null!=this.IM&&null!=this.IM[y]&&!0!==this.IM[y].visible||this.Y9a.push(y);return this};d.prototype.T6d=function(){null==this.IM&&(this.IM=[]);this.o5>this.IM.length&&this.IM.splice(this.o5);for(var y=0;y<this.o5;++y)null==this.IM[y]?this.IM[y]={visible:!0}:void 0===this.IM[y].visible&&(this.IM[y].visible=!0);this.K4d()};d.prototype.D6c=function(y){if(y){var z=[],x,C=Math.max(this.o5,y.length);
if(Array.isArray(y))for(x=0;x<C;++x){var A=null!=y[x]&&!1===y[x].visible?!1:!0;z.push({visible:A})}else for(A=!0,x=0;x<this.o5;++x)z.push({visible:A});this.IM=z}this.T6d();this.c5b();return this};d.prototype.c6c=function(){if(null!=this.Od){var y=this.X6b(this.o5);null!=this.ea.positionlimits?(this.lna=this.ea.positionlimits.maxvalue,this.xGa=this.ea.positionlimits.minvalue,this.lna=null!=this.lna?this.lna+y:Math.max.apply(null,this.Od)+this.wGa,this.xGa=null!=this.xGa?this.xGa-y:Math.min.apply(null,
this.Od)-this.wGa):(this.lna=Math.max.apply(null,this.Od)+this.wGa,this.xGa=Math.min.apply(null,this.Od)-this.wGa)}return this};d.prototype.b4d=function(){this.wGa=1;if(Array.isArray(this.Od))for(var y=Number.MAX_VALUE,z=1;z<this.Od.length;++z){var x=Math.abs(this.Od[z]-this.Od[z-1]);x<y&&(this.wGa=y=x)}return this};d.prototype.QIb=function(y,z){this.Og||(this.Og={});var x=y.label,C=y[z];if(!this.Og[x]){if(!C)throw Error("No styles provided for the property: "+x);this.Og[x]={}}var A=this.bm(),v=this.Og[x],
B,E;v[z]=[];x=v[z];if(C instanceof Array){if(2>C.length)throw Error("Array of "+z+" must contain _TWO_ elements");x.push(C[0].clone());x.push(C[1].clone())}else x.push(C.clone()),x.push(C.clone());C="selected-"+z;v[C]=[];v=v[C];if(y=y[C])if(y instanceof Array){if(2>y.length)throw Error("Array of "+z+" must contain _TWO_ elements");v.push(y[0].clone());v.push(y[1].clone())}else v.push(y.clone()),v.push(y.clone());else v.push(this.ea.createselectedstyle(x[0])),v.push(this.ea.createselectedstyle(x[1]));
v.push(B);v.push(E);"fillstyles"===z&&this.ea.autogradient&&(x[0]=c(x[0],A),x[1]=c(x[1],A),v[0]=c(v[0],A),v[1]=c(v[1],A))};d.prototype.XDb=function(y){if(y)for(var z=0;z<y.length;++z){var x=y[z];x.label||(x.label=z.toString());var C;if(Array.isArray(x.linestyles))for(C=0;C<x.linestyles.length;C++)x.linestyles[C]=Y.Ra(x.linestyles[C]);else x.linestyles=Y.Ra(x.linestyles);if(Array.isArray(x.fillstyles))for(C=0;C<x.fillstyles.length;C++)x.fillstyles[C]=ug.fd(x.fillstyles[C]);else x.fillstyles=ug.fd(x.fillstyles);
this.QIb(x,"linestyles");this.QIb(x,"fillstyles")}};d.prototype.X6b=function(y){return this.OS===d.C8.fta?this.ea.barwidth:this.ea.barwidth*y};d.prototype.OU=function(){return this.ea.orientation===d.Fp.qb||this.ea.orientation===d.Fp.Ed};d.prototype.bm=function(){return this.ea.orientation===d.Fp.tc||this.ea.orientation===d.Fp.cc};d.bId=function(y,z){return W.Vp(y,z,!1,!1).Ta()};d.aId=function(y,z){return W.Vp(y,z,!1,!1).Ya()};d.prototype.ZSc=function(y){y||(y=this.FX);if(!y)return[];if(!this.ea.valuelimits&&
!this.HSa)return[y.min,y.max];var z=!1,x=null;null!=this.Kc&&(x="function"==typeof this.Kc?this.Kc(y.min,y.max):this.Kc,z=!0);null===x&&(x=y.min);var C=null;null!=this.Oc&&(C="function"==typeof this.Oc?this.Oc(y.min,y.max):this.Oc,z=!0);null===C&&(C=y.max);C<x&&(y=C,C=x,x=y);this.HSa&&!z&&(z=W.Vp(x,C,!1,!1),x=z.Ta(),C=z.Ya());return[x,C]};d.prototype.c5b=function(y,z){if(y)if(this.jv&&z)for(var x=0;x<y.length;++x)this.jv[x].values=this.jv[x].values.concat(y[x].values);else this.jv=y;else{if(!this.jv){null!=
this.Kc&&null!=this.Oc&&(this.bm()?this.Ha(new U(this.Kc,0,this.Oc,null!=this.Od?this.lna:1)):this.Ha(new U(0,this.Kc,null!=this.Od?this.lna:1,this.Oc)));return}y=this.jv;z=!1}y=this.KJb(y);var C=this.ZSc(y);x=0===y.data.length?0:y.data[0].YA.length;var A=this.X6b(x),v=y.data.length,B=0;if(this.FX&&z){B=this.ZSc(this.FX);C[0]=Math.min(C[0],B[0]);C[1]=Math.max(C[1],B[1]);var E=this.FX.data.length;B=E+this.ea.barpad/(A+this.ea.barpad);v+=E}v+=this.ea.barpad/(A+this.ea.barpad);this.bQb=this.ea.barpad/
(A+this.ea.barpad);this.sC=this.ea.barwidth/(A+this.ea.barpad);E=-(A/2)/(this.ea.barpad+A);null!=this.Od&&0===this.ea.barpad&&(this.sC=Math.min(this.ea.barwidth,this.wGa/this.o5),this.bQb=0,E=-A/2);this.xb(!1);A=E-this.bQb;this.bm()?null!=this.Od?this.Ha(new U(C[0],this.xGa,C[1],this.lna)):this.Ha(new U(C[0],A,C[1],v+A)):null!=this.Od?this.Ha(new U(this.xGa,C[0],this.lna,C[1])):this.Ha(new U(A,C[0],v+A,C[1]));C=0===B?E:A+B;this.nwd(y,x,C,z);this.xb(!0)};d.prototype.KJb=function(y){var z,x,C,A=Number.POSITIVE_INFINITY,
v=Number.NEGATIVE_INFINITY,B={};for(z=0;z<y.length;z++)if(!this.IM||!this.IM[z]||!1!==this.IM[z].visible){var E=y[z];for(x=0;x<E.values.length;x++){var H=E.values[x];B.hasOwnProperty(x)||(B[x]={YA:[]});if(this.OS===d.C8.Gka)A=Math.min(H[0],H[1],A),v=Math.max(H[0],H[1],v);else if(A=Math.min(H,A),v=Math.max(H,v),null==H||isNaN(H)){B[x].YA.push(H);continue}B[x].YA.push(H)}}y=[];for(C in B)if(B.hasOwnProperty(C)&&(x=B[C],y.push({TPe:C,YA:x.YA}),this.OS===d.C8.fta)){for(z=H=E=0;z<x.YA.length;z++)0<=x.YA[z]?
E+=x.YA[z]:H+=x.YA[z];v=Math.max(E,v);A=Math.min(H,A)}A=Math.floor(A);v=Math.ceil(v);this.oRb=A;this.m5a=v;return{min:A,max:v,data:y}};d.prototype.zl=function(){var y=this.oa();null==this.m5a&&null!=this.jv&&this.KJb(this.jv);if(null!=this.m5a){var z=0>this.oRb?this.oRb:0;return this.bm()?new U({x:z,y:y.getY(),width:this.m5a-z,height:y.da()}):new U({x:y.getX(),y:z,width:y.ca(),height:this.m5a-z})}return new U({x:y.getX(),y:y.getY(),width:y.ca(),height:y.da()})};d.prototype.nwd=function(y,z,x,C){for(var A=
this.bm(),v=this.OS===d.C8.fta,B=this.OS===d.C8.Gka,E=y.data,H=null!=this.ea.barmaxwidth&&!isNaN(this.ea.barmaxwidth),F=this.X6b(z),I=0;I<E.length;I++){var J=E[I];J.XH=[];for(var K=0,M=0,P=0;P<z;P++){H&&(this.jH[P]=[]);var R=J.YA[P],Q=this.ea.ismissingvalue(R);if(Q)v||(x+=this.sC),J.XH.push(null);else{var V=0;Q=R;v?(V=P-1,0<=V&&(0>J.YA[V]?M+=J.YA[V]:K+=J.YA[V]),V=0>R?M:K):B&&(V=R[0],Q=R[1]-R[0]);if(A){R=V;if(null==this.Od)V=x;else{var Z=this.OS===d.C8.fta?-.5:-this.o5/2+P;V=this.Od[I]+Z*this.sC}Z=
Q;Q=this.sC}else null==this.Od?R=x:(Z=this.OS===d.C8.fta?-.5:-this.o5/2+P,R=this.Od[I]+Z*this.sC),Z=this.sC;J.XH.push([R,V,Z,Q]);v||(x+=null==this.Od?this.sC:F)}}v&&(x+=null==this.Od?this.sC:F);x+=this.bQb}C&&this.FX?(this.FX.data=this.FX.data.concat(y.data),this.FX.min=Math.min(this.FX.min,y.min),this.FX.max=Math.max(this.FX.max,y.max)):this.FX=y};d.prototype.H0a=function(){if(this.bm())switch(this.D4a){case d.uS.tPa:var y=this.Fea?O.ee:O.Bd;break;case d.uS.O3a:y=this.Fea?O.Se:O.we;break;case d.uS.h2a:y=
this.Fea?O.ee:O.Bd;break;default:y=O.Oa}else switch(this.D4a){case d.uS.tPa:y=this.Fea?O.we:O.ee;break;case d.uS.O3a:y=this.Fea?O.Bd:O.Se;break;case d.uS.h2a:y=this.Fea?O.we:O.ee;break;default:y=O.Oa}this.Bb.yc(y)};d.prototype.aHb=function(y,z,x){y=this.gj(y instanceof N?y:new N(y,z));x&&(this.W9a=y.slice(0),this.ha());return y};d.prototype.gj=function(y,z){function x(B){B instanceof ho&&(B=B.ng())&&B instanceof gQ&&B.Ly()===v&&A.push(B)}var C=new Zj,A=[],v=this;y instanceof U?(z=[y.ka(),y.na(),y.na(),
y.ka()],y=[y.la(),y.la(),y.ma(),y.ma()],C.soa(x,this.getRoot(),z,y,!0)):C.soa(x,this.getRoot(),y.x,y.y,z?z:1);return A};d.prototype.bw=function(y,z){var x=this.getData(),C=x.datasets;x=x.series;return null==C[y]||x&&x[y]&&!0!==x[y].visible?null:C[y].values[z]};d.prototype.Cia=function(y,z){y=0<y.length?y.slice(0):[];z?this.W9a.concat(y):this.W9a=y;this.ha();return this};d.prototype.Hv=function(y){"function"==typeof y&&this.Xcb!==y&&(this.Xcb=y);return this};d.prototype.n_c=function(y,z,x,C,A){this.Qi.cb(z[0],
z[1],z[0]+z[2],z[1]+z[3]);if(y.filter(this.Qi)){x&&(this.Qi.Ht(new gQ(this.Y9a[C],A,this)),y.Sh(this.Qi));z="linestyles";x="fillstyles";for(var v=0;v<this.W9a.length;++v){var B=this.W9a[v];if(B.ARc()===this.Y9a[C]&&B.nRc()===A){z="selected-linestyles";x="selected-fillstyles";break}}v=[];for(var E in this.Og)v.push(this.Og[E]);v=v[this.Y9a[C]];C=0;this.gua===d.dK.IS?(E=Object.keys(this.Og).length,A=A<E?A:E-1,this.Qi.qa(this.Og[A][z][C]),this.Qi.ra(this.Og[A][x][C])):(this.Qi.qa(v[z][C]),this.Qi.ra(v[x][C]));
this.Qi.render(y);return!0}return!1};d.prototype.T_c=function(y,z,x,C){var A=z[0],v=z[1],B=z[2],E=z[3],H=z[4];z=1;if(this.bm()){v+=E/2;switch(this.D4a){case d.uS.tPa:A+=B;z=0>B?-1:1;break;case d.uS.O3a:A+=B;z=0>B?1:-1;break;case d.uS.h2a:z=0>B?-1:1;break;default:A+=B/2}var F=this.WPa.anchorx;var I=this.WPa.anchory*z;var J=this.Fac()?H:B}else{A+=B/2;switch(this.D4a){case d.uS.tPa:v+=E;z=0>E?-1:1;break;case d.uS.O3a:v+=E;z=0>E?1:-1;break;case d.uS.h2a:z=0>E?-1:1;break;default:v+=E/2}F=this.WPa.anchorx*
z;I=this.WPa.anchory;J=this.Fac()?H:E}H=parseFloat(J.toFixed(this.Qkd));this.Xcb&&(H=this.Xcb(H,x,C,J));this.Bb.Eb(H);this.od.Ia()&&this.od.Jb(A,v).render(y);v+=I?z*Math.abs(y.bq().Ab())*I:0;A+=F?z*Math.abs(y.bq().lb())*F:0;this.D4a!==d.uS.Oa&&(this.bm()?A+=0>B?Math.abs(y.bq().lb())*z*this.Bb.ca():0:v+=0>E?Math.abs(y.bq().Ab())*z*this.Bb.da():0);this.Bb.Jb(A,v);this.Fea&&this.Bb.rotate(this.Fea,A,v);this.Bb.render(y);this.Fea&&this.Bb.rotate(-this.Fea,A,v)};d.prototype.jic=function(y,z,x,C,A,v,B,
E){y?(z||x||1===E?f(this.jH[B],n(C)+v/2):0===B?f(this.jH[B],n(C)+v):f(this.jH[B],n(this.jH[B-1])+k(this.jH[B-1])),e(this.jH[B],A),h(this.jH[B],q(C)),g(this.jH[B],l(C))):(z||x||1===E?h(this.jH[B],q(C)+v/2):0===B?h(this.jH[B],q(C)+v):h(this.jH[B],q(this.jH[B-1])+l(this.jH[B-1])),g(this.jH[B],A),f(this.jH[B],n(C)),e(this.jH[B],k(C)))};d.prototype.o_c=function(y){if(this.FX&&0<this.FX.data.length){var z=y.Ea(),x=this.FX.data,C=this.bm(),A=this.OS===d.C8.fta,v=this.gua===d.dK.IS||Array.isArray(this.jv)&&
1===this.jv.length,B=this.m4&&!y.fc();B&&this.H0a();var E=y.eg();if(C){var H=E.la();E=E.ma()}else H=E.ka(),E=E.na();var F=x[0].XH[0],I=x[0].XH.length,J=0,K=0,M=this.ea.barmaxwidth,P=I/2;if(null!=M&&!isNaN(M))if(C){var R=W.NO(Hd.xh(0,k(F),z),2);R>M&&(J=Hd.sb(0,M,z),K=k(F)-J,A||v||(F=W.NO(Hd.xh(0,n(F)+K,z),2),P*=M,P=F-P,0<P&&(K=Hd.sb(0,P,z)+K)))}else R=W.NO(Hd.xh(l(F),0,z),2),R>M&&(J=Hd.sb(M,0,z),K=l(F)-J,A||v||(F=W.NO(Hd.xh(q(F)+K,0,z),2),P*=M,P=F-P,0<P&&(K=Hd.sb(P,0,z)+K)));P=0;for(z=0;z<x.length;++z)for(F=
x[z],P=0;P<F.XH.length;++P)R=F.XH[P],null!=R&&(null!=M&&!isNaN(M)&&0<K?(this.jic(C,A,v,F.XH[P],J,K,P,I),this.n_c(y,this.jH[P],y.fc(),P,z)):this.n_c(y,R,y.fc(),P,z));P=Math.max(0,--P);if(B)for(z=0;z<x.length;++z)if(F=x[z],0<F.XH.length)if(this.Fac()){for(R=B=0;R<F.YA.length;R++)B+=isNaN(F.YA[R])||null==F.YA[R]?0:F.YA[R];null!=M&&!isNaN(M)&&0<K?(this.jic(C,A,v,F.XH[P],J,K,F.XH.length-1,I),R=this.jH[F.XH.length-1]):R=F.XH[F.XH.length-1];if(null!=R){var Q=C?R[3]:R[2];if(this.nJb(y,z,null,B,w,Q)&&null!==
R){R[4]=B;if(C){Q=n(R);B=m(R);var V=this.Bb.da()}else Q=q(R),B=p(R),V=this.Bb.ca();H-V<=B&&E>=Q&&this.T_c(y,R,z,P)}}}else for(P=0;P<F.XH.length;++P)if(!isNaN(F.YA[P])&&null!=F.YA[P]||Array.isArray(F.YA[P])&&!isNaN(F.YA[P][0])&&null!=F.YA[P][0]&&!isNaN(F.YA[P][1])&&null!=F.YA[P][1])null!=M&&!isNaN(M)&&0<K?(this.jic(C,A,v,F.XH[P],J,K,P,I),R=this.jH[P]):R=F.XH[P],Q=C?R[3]:R[2],this.nJb(y,z,P,F.YA[P],u,Q)&&null!==R&&(C?(Q=n(R),B=m(R),V=this.Bb.da()):(Q=q(R),B=p(R),V=this.Bb.ca()),H-V<=B&&E>=Q&&this.T_c(y,
R,z,P))}};d.prototype.uj=function(y){this.Yh(y);for(var z=this.ac(),x=0;x<z;x++){var C=this.gb(x);y.filter(C)&&(y.fc()&&y.Sh(C),C.render(y))}this.o_c(y);this.yh(y)};d.prototype.Ft=function(y,z){var x=this;this.Yh(y);Hg.QN(this.Df(),function(C,A){y.filter(C)?(y.Sh(C),C.Fe(y,A)):A()},function(){x.o_c(y);x.yh(y);z()})};d.prototype.Fac=function(){return this.OS===d.C8.fta&&!0===this.Rkd};d.prototype.nJb=function(y,z,x,C,A,v){if("boolean"===typeof this.m4)return this.m4;if("function"===typeof this.m4){var B=
Math.abs(y.bq().lb());y=Math.abs(y.bq().Ab());var E=sg.measureText(C.toString(),this.Bb.jb());B*=E.ca()+this.WPa.anchorx;y*=E.da()+this.WPa.anchory;z=this.m4(z,x,C,A,B,y,v,C,this.ea.orientation);return!0===z?z:!1}return Array.isArray(this.m4)?!0===this.m4[z]?!0:Array.isArray(this.m4[z])&&!0===this.m4[z][x]:!1};d.prototype.ia=function(){var y=ni.prototype.ia.call(this);return y=xb(this.ta(),y)};d.prototype.fa=function(y){if(null==y)return this;ni.prototype.fa.call(this,y);this.setOptions(y);return this};
return d}(),2,"eyJnZXROZWF0TWluVmFsdWUiOiJiSWQiLCJnZXROZWF0TWF4VmFsdWUiOiJhSWQiLCJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJoYXNEYXRhIjoiQSRiIiwic2V0RGF0YVNlcmllc1Zpc2libGUiOiJCSGIiLCJnZXREYXRhU2VyaWVzVmlzaWJsZSI6IkhBYiIsImdldE9wdGlvbnMiOiJ0YSIsImdldERhdGFMaW1pdHMiOiJ6bCIsInNlbGVjdEJhcnNBdCI6ImFIYiIsImhpdFRlc3QiOiJnaiIsImdldFZhbHVlQXQiOiJidyIsImhpZ2hsaWdodEJhcnMiOiJDaWEiLCJzZXRGb3JtYXRMYWJlbEhhbmRsZXIiOiJIdiIsInJlbmRlckNvbnRlbnQiOiJ1aiIsInJlbmRlckNvbnRlbnRBc3luYyI6IkZ0IiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var FQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a||(a={});a=G(a,{left:"number"===typeof a.left?a.left:0,width:"number"===typeof a.width?a.width:1,whiskerswidth:"number"===typeof a.whiskerswidth?a.whiskerswidth:1,min:"number"===typeof a.min?a.min:0,max:"number"===typeof a.max?a.max:1,median:"number"===typeof a.median?a.median:1,firstquartile:"number"===typeof a.firstquartile?a.firstquartile:1,thirdquattile:"number"===typeof a.thirdquattile?a.thirdquattile:1,isoutliersvisible:"boolean"===typeof a.isoutliersvisible?
a.isoutliersvisible:!0,ishorizontal:"boolean"===typeof a.ishorizontal?a.ishorizontal:!1,linestyle:a.linestyle instanceof Y?a.linestyle:null,connectedlinepattern:Array.isArray(a.connectedlinepattern)||null==a.connectedlinepattern?a.connectedlinepattern:vg.ZZ,primaryfillstyle:a.primaryfillstyle instanceof rf?a.primaryfillstyle:null});a.primaryfillstyle=ug.fd(a.primaryfillstyle);a.secondaryfillstyle=ug.fd(a.secondaryfillstyle)||a.primaryfillstyle;Zg.call(this,a);this.Np=a.left;this.jd=a.width;this.ioa=
a.whiskerswidth>a.width?a.width:a.whiskerswidth;this.$i=a.min;this.Pi=a.max;this.lT=a.median;this.UG=a.firstquartile;this.aL=a.thirdquartile;this.lva=a.ishorizontal;this.nva=a.isoutliersvisible;this.l0=a.primaryfillstyle;this.zT=a.secondaryfillstyle;this.oQa=a.connectedlinepattern;this.Va=this.lva?new U(this.$i,this.Np,this.Pi,this.Np+this.jd):new U(this.Np,this.$i,this.Np+this.jd,this.Pi)}D(d,Zg);L(d,"geotoolkit.controls.shapes.Box");d.prototype.ga=function(){return this.Va.lock()};d.prototype.render=
function(a){a=null!=this.Sa()?a.bc(this.Sa()):a;a.Sh(this);var b=a.Ea();var c=7;var e=this.ga(),f=this.aL-this.UG,g=this.Fa().kw(null);a.qa(g);this.Yh(a);a.fc()&&(a.ra(rf.zh),a.Bc(e));if(!0!==this.lva){var h=this.Np;var k=this.$i;var l=this.jd;var m=this.ioa;m=(l-m)/2;c=l/c;b=Math.abs(b.gs()/b.Ou());this.UG-this.$i>1.5*f&&this.nva&&(a.ra(this.zT,e),a.Cq(h+(l-c)/2,k-b*c/2,c,b*c),k=this.UG-1.5*f);this.Pi-this.aL>1.5*f&&this.nva&&(a.ra(this.l0,e),a.Cq(h+(l-c)/2,this.Pi-b*c/2,c,b*c),this.Pi=this.aL+1.5*
f);a.Xc(h+m,k,h+l-m,k);a.ra(this.zT,e);a.Bc(h,this.UG,l,this.lT-this.UG);a.ra(this.l0,e);a.Bc(h,this.lT,l,this.aL-this.lT);a.Xc(h,this.lT,h+l,this.lT);a.Xc(h+m,this.Pi,h+l-m,this.Pi);a.qa(g.kw(this.oQa));a.Xc(h+l/2,k,h+l/2,this.UG);a.Xc(h+l/2,this.aL,h+l/2,this.Pi)}else h=this.$i,k=this.Np,l=this.jd,m=this.ioa,m=(l-m)/2,c=l/c,b=Math.abs(b.Ou()/b.gs()),this.UG-this.$i>1.5*(this.aL-this.UG)&&this.nva&&(a.ra(this.zT),a.Cq(h-b*c/2,k+(l-c)/2,b*c,c),h=this.UG-1.5*(this.aL-this.UG)),this.Pi-this.aL>1.5*
(this.aL-this.UG)&&this.nva&&(a.ra(this.l0),a.Cq(this.Pi-b*c/2,k+(l-c)/2,b*c,c),this.Pi=this.aL+1.5*(this.aL-this.UG)),a.Xc(h,k+m,h,k+l-m),a.ra(this.zT),a.Bc(this.UG,k,this.lT-this.UG,l),a.ra(this.l0),a.Bc(this.lT,k,this.aL-this.lT,l),a.Xc(this.lT,k,this.lT,k+l),a.Xc(this.Pi,k+m,this.Pi,k+l-m),a.qa(g.kw(this.oQa)),a.Xc(h,k+l/2,this.UG,k+l/2),a.Xc(this.aL,k+l/2,this.Pi,k+l/2);this.yh(a)};d.prototype.setData=function(a){a&&(this.Np="number"===typeof a.left?a.left:this.Np,this.jd="number"===typeof a.width?
a.width:this.jd,this.ioa="number"===typeof a.whiskerswidth?a.whiskerswidth:this.ioa,this.ioa>this.jd&&(this.ioa=this.jd),this.$i="number"===typeof a.min?a.min:this.$i,this.Pi="number"===typeof a.max?a.max:this.Pi,this.UG="number"===typeof a.firstquartile?a.firstquartile:this.UG,this.lT="number"===typeof a.median?a.median:this.lT,this.aL="number"===typeof a.thirdquartile?a.thirdquartile:this.aL,this.Va=this.lva?new U(this.$i,this.Np,this.Pi,this.Np+this.jd):new U(this.Np,this.$i,this.Np+this.jd,this.Pi),
this.xa())};d.prototype.getData=function(){return{left:this.Np,width:this.jd,whiskerswidth:this.ioa,min:this.$i,firstquartile:this.UG,median:this.lT,thirdquartile:this.aL,max:this.Pi}};d.prototype.P5c=function(a){this.nva="boolean"===typeof a?a:this.nva;this.ha();return this};d.prototype.OId=function(){return this.nva};d.prototype.I3c=function(a){this.Va=(this.lva="boolean"===typeof a?a:this.lva)?new U(this.$i,this.Np,this.Pi,this.Np+this.jd):new U(this.Np,this.$i,this.Np+this.jd,this.Pi);this.ha();
return this};d.prototype.bm=function(){return this.lva};d.prototype.Hjb=function(a){if(this.l0===a)return this;null!=this.l0&&this.sk(this.l0,ze.ib,this.tb());this.l0=ug.fd(a);this.ha();null!=this.l0&&this.cg(this.l0,ze.ib,this.tb());return this};d.prototype.zJd=function(){return this.l0};d.prototype.Njb=function(a){if(this.zT===a)return this;null!=this.zT&&this.sk(this.zT,ze.ib,this.tb());this.zT=ug.fd(a);this.zT=null==this.zT?this.l0:this.zT;this.ha();null!=this.zT&&this.cg(this.zT,ze.ib,this.tb());
return this};d.prototype.BKd=function(){return this.zT};d.prototype.U1c=function(a){this.oQa=a instanceof Array||null==a?a:this.oQa;this.ha();return this};d.prototype.$Cd=function(){return this.oQa};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;Zg.prototype.fa.call(this,a);void 0!==a.primaryfillstyle&&this.Hjb(a.primaryfillstyle);void 0!==a.secondaryfillstyle&&this.Njb(a.secondaryfillstyle);void 0!==a.connectedlinepattern&&this.U1c(a.connectedlinepattern);void 0!==a.isoutliersvisible&&
this.P5c(a.isoutliersvisible);void 0!==a.ishorizontal&&this.I3c(a.ishorizontal);void 0!==a.left&&(this.Np=a.left);void 0!==a.width&&(this.jd=a.width);void 0!==a.whiskerswidth&&(this.ioa=a.whiskerswidth>a.width?a.width:a.whiskerswidth);void 0!==a.min&&(this.$i=a.min);void 0!==a.max&&(this.Pi=a.max);void 0!==a.median&&(this.lT=a.median);void 0!==a.firstquartile&&(this.UG=a.firstquartile);void 0!==a.thirdquartile&&(this.aL=a.thirdquartile);return this};d.prototype.ia=function(){var a=Zg.prototype.ia.call(this);
a.primaryfillstyle=this.l0;a.secondaryfillstyle=this.zT;a.connectedlinepattern=this.oQa;a.ishorizontal=this.lva;a.isoutliersvisible=this.nva;a.left=this.Np;a.width=this.jd;a.whiskerswidth=this.ioa;a.min=this.$i;a.firstquartile=this.UG;a.median=this.lT;a.thirdquartile=this.aL;a.max=this.Pi;return a};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRCb3VuZHMiOiJnYSIsInNldE91dGxpZXJzVmlzaWJsZSI6IlA1YyIsImdldE91dGxpZXJzVmlzaWJsZSI6Ik9JZCIsInNldEhvcml6b250YWwiOiJJM2MiLCJpc0hvcml6b250YWwiOiJibSIsInNldFByaW1hcnlGaWxsU3R5bGUiOiJIamIiLCJnZXRQcmltYXJ5RmlsbFN0eWxlIjoiekpkIiwic2V0U2Vjb25kYXJ5RmlsbFN0eWxlIjoiTmpiIiwiZ2V0U2Vjb25kYXJ5RmlsbFN0eWxlIjoiQktkIiwic2V0Q29ubmVjdGVkTGluZVBhdHRlcm4iOiJVMWMiLCJnZXRDb25uZWN0ZWRMaW5lUGF0dGVybiI6IiRDZCIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSJ9fX0g");var GQ=/*#__PURE__*/ta(/*#__PURE__*/{Ska:"Raw",ika:"Associative"},2,"eyJSYXciOiJTa2EiLCJBc3NvY2lhdGl2ZSI6ImlrYSJ9"),HQ=/*#__PURE__*/ta(/*#__PURE__*/{qb:"Top",xlb:"Below",tc:"Left",cc:"Right"},2,"eyJUb3AiOiJxYiIsIkJlbG93IjoieGxiIiwiTGVmdCI6InRjIiwiUmlnaHQiOiJjYyJ9"),IQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b,c){Zg.call(this,b);this.Kr=(new FQ).xb(!1);this.Bb=(new ek).Zn(NaN).mq(NaN).eda(!0).nu(!0).fsa(!0).esa(!0).xb(!1);this.ea={boxvalues:{visible:!0,suppress:!1,textstyle:new Fi,location:null,verticaloffset:0,horizontaloffset:0,decimalprecision:2},boxwidth:1,boxpad:2,whiskerswidth:1,linestyle:new Y({color:"grey",width:1,pixelsnapmode:{x:!0,y:!0}}),primaryfillstyle:new rf({color:"lightblue"}),
secondaryfillstyle:new rf({color:"lightgreen"}),orientation:Rh.rb,connectedlinepattern:vg.ZZ,isoutliersvisible:!1,ismissingvalue:a};null==this.ea.whiskerswidth&&(this.ea.whiskerswidth=this.ea.boxwidth);this.pQb=this.ea.boxvalues.visible;this.nQb=this.ea.boxvalues.suppress;this.lQb=this.ea.boxvalues.location;this.mQb=this.ea.boxvalues.decimalprecision;this.oQb=this.ea.boxvalues.verticaloffset;this.qQb=this.ea.boxvalues.horizontaloffset;this.n4=this.ea.boxwidth;this.iQb=this.ea.boxpad;this.r0b=this.ea.whiskerswidth;
this.Oc=this.Kc=null;this.gua=d.dK.Ska;this.rRb=0;this.rla=[];this.Ng=[];this.M_=[];this.Lma=0;this.jv=this.fe=null;this.K4a=0;this.sUb=!0;this.Tvc=!1;this.Fwb=[];this.xb(!1);this.setOptions(b);c&&this.setData(c);this.xb(!0)}function a(b){return null===b}D(d,Zg);L(d,"geotoolkit.controls.shapes.BoxPlot");d.dK=GQ;d.i2a=HQ;d.prototype.ga=function(){return this.fe};d.prototype.setData=function(b){b=G(b,{mode:d.dK.ika,datasets:null});this.gua=b.mode;b=b.datasets;null!==b&&(Array.isArray(b)||(b=[b]),this.Lma=
b.length);this.d5b(b);this.xa().ha();return this};d.prototype.setOptions=function(b){b=G(b,{});xb(b,this.ea);this.ea.linestyle=Y.Ra(this.ea.linestyle);this.ea.valuelimits&&(this.Kc=this.ea.valuelimits.minvalue,this.Oc=this.ea.valuelimits.maxvalue,this.Tvc=this.ea.valuelimits.neatlimits);this.ea.boxvalues&&(this.pQb=this.ea.boxvalues.visible,this.nQb=this.ea.boxvalues.suppress,this.lQb=this.ea.boxvalues.location,this.mQb=this.ea.boxvalues.decimalprecision,this.oQb=this.ea.boxvalues.verticaloffset,
this.qQb=this.ea.boxvalues.horizontaloffset,this.Bb.kb(this.ea.boxvalues.textstyle));this.sUb=!(b.fixedboxwidth||!(this.sUb||b.boxwidth||b.boxpad||b.whiskerswidth));this.d5b();this.ha();return this};d.prototype.bm=function(){return this.ea.orientation===Rh.yb};d.prototype.VRd=function(b){var c,e=0;for(c=0;c<b.length;c++)0===b[c].values.length||Array.isArray(b[c].values[0])||(b[c].values=[b[c].values]),b[c].values.length>e&&(e=b[c].values.length);this.rRb=e};d.prototype.BNd=function(b){return function(c,
e,f){var g=c=null,h=0,k=null,l=0;if(f.data instanceof Io)c=f.data,c.D6(function(m,n){m=n.length;for(var p=0;p<m;p++)if(k=n[p].data?n[p].data:n[p].root?n[p].root:n[p].child,l=this.M_[b].length,k instanceof DH||k instanceof RH)n[p].event===sH.Do&&(g=k.toArray(!0),g=this.EVa(g),this.M_[b][l]=k,this.jv[b].values[l]=g),n[p].event===sH.ip&&(h=this.M_[b].indexOf(k),this.M_[b].splice(h,1),this.jv[b].values.splice(h,1)),n[p].event===uH.Td&&m===p+1&&(h=this.M_[b].indexOf(k),g=k.toArray(!0),g=this.EVa(g),this.jv[b].values[h]=
g)}.bind(this));else{k=f.data?f.data:f.root?f.root:f.child;l=this.M_[b].length;if(!(k instanceof DH||k instanceof RH))return;f.event===sH.Do&&(g=k.toArray(!0),g=this.EVa(g),this.M_[b][l]=k,this.jv[b].values[l]=g);f.event===sH.ip&&(h=this.M_[b].indexOf(k),this.M_[b].splice(h,1),this.jv[b].values.splice(h,1));f.event===uH.Td&&(h=this.M_[b].indexOf(k),g=k.toArray(!0),g=this.EVa(g),this.jv[b].values[h]=g)}this.d5b();this.ha()}.bind(this)};d.prototype.EVa=function(b){var c=b.length;b.sort(function(e,f){return e-
f});return b=[b[0],b[Math.floor(c/4)],b[Math.floor(c/2)],b[Math.floor(3*c/4)],b[c-1]]};d.prototype.HWd=function(b){var c,e;this.Ng=[];this.M_=[];for(c=0;c<b.length;c++)if(b[c].datasource){this.M_[c]=[];this.Ng[c]=b[c].datasource;this.Fwb[c]=this.BNd(c);this.Ng[c].on(lI.Uka,this.Fwb[c]);var f=this.Ng[c].ac();for(e=0;e<f;e++){var g=this.Ng[c].gb(e);if(g instanceof DH||g instanceof RH){this.M_[c][e]=g;var h=g.toArray(!0)}h&&0!==h.length&&(h=this.EVa(h),null==b[c].values&&(b[c].values=[]),b[c].values[e]=
h)}}else for(0===b[c].values.length||Array.isArray(b[c].values[0])||(b[c].values=[b[c].values]),e=0;e<b[c].values.length;e++)h=b[c].values[e],null!=h&&(h=this.EVa(h),b[c].values[e]=h)};d.prototype.Ha=function(b){this.fe=b;this.notify(ze.Jr,this);this.ha();return this};d.prototype.oa=function(){return this.fe};d.prototype.CJd=function(){return this.jv};d.prototype.d5b=function(b){if(b)this.gua===d.dK.Ska&&this.HWd(b),this.jv=b;else{if(!this.jv)return;b=this.jv}this.VRd(b);b=this.KJb(b);this.t0d(b);
this.xb(!0)};d.prototype.jud=function(){var b=10;this.n4=1/(this.Lma+this.ea.boxpad/this.ea.boxwidth+(this.Lma-1)/b);this.iQb=this.n4*this.ea.boxpad/this.ea.boxwidth;this.r0b=this.n4*this.ea.whiskerswidth/this.ea.boxwidth;this.K4a=this.n4/b};d.prototype.HEc=function(b){b=b.Ea();b=this.bm()?b.Ab():b.lb();var c=Zd.ya(),e=c.rya(),f=c.Xa("in"),g;this.ea.boxwidthunit&&(g=c.Xa(this.ea.boxwidthunit,null,!0));g||(g=c.Xa("in"));g=g.convert(this.ea.fixedboxwidth,f);g*=e;this.n4=g/Math.abs(b);this.K4a=2/Math.abs(b);
this.iQb=1-(this.n4*this.Lma+this.K4a*(this.Lma-1));this.r0b=this.n4};d.prototype.t0d=function(b){var c=this.rRb;this.xb(!1);var e=-.5;this.bm()?this.Ha(new U(b.Ta(),e,b.Ya(),c+e)):this.Ha(new U(e,b.Ta(),c+e,b.Ya()))};d.prototype.KJb=function(b){var c,e,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY;for(c=0;c<b.length;c++){var h=b[c];for(e=0;e<h.values.length;e++){var k=h.values[e];null!==k&&(f=Math.min(k[0],f),g=Math.max(k[4],g))}}f=Math.floor(f);g=Math.ceil(g);this.ea.valuelimits&&(null!==
this.Kc&&this.Kc<=f&&(f=this.Kc),null!==this.Oc&&this.Oc>=g&&(g=this.Oc));b=new Kd(f,g);this.Tvc&&(b=W.Vp(f,g));return b};d.prototype.owd=function(b){this.rla=[];for(var c=this.jv,e,f,g=0,h=b;g<this.rRb;g++){this.rla[g]=[];for(var k=0;k<this.Lma;k++)b=null,e=c[k].values[g],(f=this.ea.ismissingvalue(e))?this.rla[g][k]=null:(c[k].fillstyle&&(b=Array.isArray(c[k].fillstyle)?1===c[k].fillstyle.length?c[k].fillstyle[0]:c[k].fillstyle[g]:c[k].fillstyle),this.rla[g][k]=[h,e,b]),h+=this.n4,k!==this.Lma-1&&
(h+=this.K4a);h+=this.iQb}};d.prototype.clb=function(){if(this.bm())switch(this.lQb){case d.i2a.cc:var b=O.Bd;break;case d.i2a.tc:b=O.we;break;default:b=O.Bd}else switch(this.lQb){case d.i2a.qb:b=O.ee;break;case d.i2a.xlb:b=O.Se;break;default:b=O.ee}this.Bb.yc(b)};d.prototype.KYd=function(b,c){var e={ishorizontal:this.bm(),isoutliersvisible:this.ea.isoutliersvisible,connectedlinepattern:this.ea.connectedlinepattern};if(null!=c[1]){var f={left:c[0],width:this.n4,whiskerswidth:this.r0b,min:c[1][0],
firstquartile:c[1][1],median:c[1][2],thirdquartile:c[1][3],max:c[1][4]};this.Kr.setData(f);this.Kr.fa(e);if(b.filter(this.Kr))return this.Kr.qa(this.ea.linestyle),c[2]?c[2]instanceof rf?(this.Kr.Hjb(c[2]),this.Kr.Njb(c[2])):(this.Kr.Hjb(c[2].primaryfillstyle),this.Kr.Njb(c[2].secondaryfillstyle)):(this.Kr.Hjb(this.ea.primaryfillstyle),this.Kr.Njb(this.ea.secondaryfillstyle)),this.Kr.render(b),!0}return!1};d.prototype.kMa=function(b,c){var e=0,f=0;var g=b.Ea();var h=this.qQb?this.qQb/Math.abs(g.lb()):
0,k=this.oQb?this.oQb/Math.abs(g.Ab()):0,l=.2;if(!0!==this.bm()){var m=c[0]+this.n4/2+h;for(g=0;g<c[1].length;g++){var n=c[1][g]+k;var p=parseFloat(c[1][g].toFixed(this.mQb));this.Bb.Eb(p);this.Bb.Jb(m,n);this.nQb?0<g&&n-f<e||(this.Bb.render(b),e=this.Bb.getBoundingBox(b).height*(1-l),f=c[1][g]+k):this.Bb.render(b)}}else for(n=c[0]+this.n4/2+k,g=0;g<c[1].length;g++)m=c[1][g]+h,p=parseFloat(c[1][g].toFixed(this.mQb)),this.Bb.Eb(p),this.Bb.Jb(m,n),this.nQb?0<g&&m-f<e||(this.Bb.render(b),e=this.Bb.getBoundingBox(b).width,
f=c[1][g]+h):this.Bb.render(b)};d.prototype.render=function(b){var c=null!=this.Sa()?b.bc(this.Sa()):b;this.Yh(c);c.fc()&&(c.ra(rf.zh),c.Bc(this.oa()));this.sUb?this.jud():this.HEc(c);var e=-(this.n4*this.Lma+(this.Lma-1)*this.K4a)/2;this.owd(e);if(this.rla&&0<this.rla.length)for(this.pQb&&this.clb(),e=0;e<this.rla.length;++e)for(var f=0;f<this.rla[e].length;++f){var g=this.rla[e][f];null!=g&&this.KYd(c,g)&&this.pQb&&this.kMa(c,g)}this.yh(b)};d.prototype.dispose=function(){for(var b=0;b<this.Ng.length;b++)this.Ng[b].za(lI.Uka,
this.Fwb[b]);this.Fwb=[];Zg.prototype.dispose.call(this)};d.prototype.fa=function(b){b=jc(b);if(null==b)return this;Zg.prototype.fa.call(this,b);this.setOptions(b);return this};d.prototype.ia=function(){var b=Zg.prototype.ia.call(this);b=xb(this.ea,b);delete b.ismissingvalue;return b};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRCb3VuZHMiOiJnYSIsImlzSG9yaXpvbnRhbCI6ImJtIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsImdldE1vZGVsTGltaXRzIjoib2EiLCJnZXRQcm9jZXNzZWREYXRhc2V0cyI6IkNKZCIsImNhbGN1bGF0ZUFic1dpZHRoIjoiSEVjIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var KQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){eo.call(this,a,b)}D(d,eo);L(d,"geotoolkit.controls.shapes.BubbleChartQuad");d.prototype.pa=function(a){var b=a.ga();if(!this.xe.Dd(b))return this;if(0===this.tl)return this.fi.push(a),this;if(null==this.qp){var c=this.xe,e=this.tl;this.qp=new d(new U(c.x,c.y,c.x+c.width/2,c.y+c.height/2),e-1);this.gr=new d(new U(c.x+c.width/2,c.y,c.x+c.width,c.y+c.height/2),e-1);this.Vq=new d(new U(c.x,c.y+c.height/2,c.x+c.width/2,c.y+c.height),e-1);this.Wq=new d(new U(c.x+c.width/
2,c.y+c.height/2,c.x+c.width,c.y+c.height),e-1)}c=0;e=null;this.qp.xe.Dd(b)&&(c++,e=this.qp);this.gr.xe.Dd(b)&&(c++,e=this.gr);2>c&&this.Vq.xe.Dd(b)&&(c++,e=this.Vq);2>c&&this.Wq.xe.Dd(b)&&(c++,e=this.Wq);1===c?e.pa(a):this.fi.push(a);return this};d.prototype.u_a=function(a){var b,c=this.fi.length;for(b=0;b<c;b++)if(this.fi[b].index===a)return this.fi.splice(b,1),this;null!=this.qp&&this.qp.u_a(a);null!=this.gr&&this.gr.u_a(a);null!=this.Vq&&this.Vq.u_a(a);null!=this.Wq&&this.Wq.u_a(a);return this};
d.prototype.yd=function(a,b){var c=[];this.xe.Dd(a)&&(c=c.concat(this.fi).filter(function(n){return null!=n.ga&&n.ga().Dd(a)}),this.qp instanceof d&&(c=c.concat(this.qp.yd(a,b))),this.gr instanceof d&&(c=c.concat(this.gr.yd(a,b))),this.Vq instanceof d&&(c=c.concat(this.Vq.yd(a,b))),this.Wq instanceof d&&(c=c.concat(this.Wq.yd(a,b))));if(0<c.length){b=b.lb()/b.Ab();for(var e=a.ka(),f=a.la(),g=Number.POSITIVE_INFINITY,h,k=-1,l=0;l<c.length;l++){if(c[l].dis)h=c[l].dis;else{h=(c[l].ka()+c[l].na())/2;
var m=(c[l].ma()+c[l].la())/2;h=(h-e)*(h-e)+(m*b-f*b)*(m*b-f*b)}h<g&&(g=h,k=l)}c[k].dis=g;return[c[k]]}return[]};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRDaGlsZCI6InBhIiwicmVtb3ZlQXQiOiJ1X2EiLCJnZXRFbGVtZW50IjoieWQifX19");var LQ=/*#__PURE__*/ta(/*#__PURE__*/{qb:"Top",Ed:"Bottom",Oa:"Center"},2,"eyJUb3AiOiJxYiIsIkJvdHRvbSI6IkVkIiwiQ2VudGVyIjoiT2EifSAg"),MQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f,g){Zg.call(this,f);var h={datax:[],minx:null,maxx:null,autominmaxx:!1,neatlimitx:!0,preciselimitx:!1,minspanx:75,datay:[],miny:null,maxy:null,autominmaxy:!1,neatlimity:!0,preciselimity:!1,minspany:75,dataz:[],minz:null,maxz:null,autominmaxz:!0,datas:[],mins:null,maxs:null,labels:[],autominmaxs:!0,validlength:null,minsize:16,maxsize:48,cachewidthlimit:c,cacheheightlimit:c,bounds:new U(0,0,1,1),defaultlinestyle:null,defaultfillstyle:"rgba(128,192,255,1)",
selectable:!0};this.Ul=h.datax;this.xm=h.datay;this.JP=h.dataz;this.oW=h.datas;this.Ve=h.lables;this.usb=!1;this.e7a=new Fi;this.qsb=null;this.ssb=0;this.S9a=null;this.fga=[];this.Va=h.bounds;this.mT=h.minsize;this.jT=h.maxsize;this.Ac=this.wN=null;this.KM=ug.fd(h.defaultfillstyle);this.C4=Y.Ra(h.defaultlinestyle);this.FSb=h.minx;this.ESb=h.maxx;this.HSb=h.miny;this.GSb=h.maxy;this.BSb=this.xSb=this.ASb=this.zSb=!1;this.Mfa=h.neatlimitx;this.Nfa=h.neatlimity;this.k9a=h.preciselimitx;this.l9a=h.preciselimity;
this.wWb=h.minspanx;this.xWb=h.minspany;this.IDa=h.autominmaxx;this.JDa=h.autominmaxy;this.rob=h.autominmaxz;this.qob=h.autominmaxs;this.DSb=h.mins;this.CSb=h.maxs;this.JSb=h.minz;this.ISb=h.maxz;this.pxc=this.fxc=this.mxc=this.axc=this.oxc=this.exc=this.nxc=this.dxc=null;this.Fi=h.validlength;this.Va=this.fe=null;this.cod=this.nK=this.vw=!1;this.Lob=h.cachewidthlimit;this.Job=h.cacheheightlimit;this.V9a=h.selectable;this.Q5=null;this.ZPa=[];this.aj=new N(0,0);this.xj={x:new zk({orientation:Rh.yb,
neatlimits:this.Mfa,preciselimits:this.k9a,minspan:this.wWb}),y:new zk({orientation:Rh.rb,neatlimits:this.Nfa,preciselimits:this.l9a,minspan:this.xWb})};this.Bb=(new ek).Zn(NaN).mq(NaN).eda(!0).nu(!0).fsa(!0).esa(!0).yc(O.Oa).xb(!1);this.setData(f);this.Jh(g)}var a=new U,b=new X,c=vd.Fqa()?8192:32767,e=vd.fZa()?16777216:268435456;D(d,Zg);L(d,"geotoolkit.controls.shapes.BubbleChart");d.L3=LQ;d.prototype.fa=function(f){f=jc(f);if(null==f)return this;Zg.prototype.fa.call(this,f);this.setData(f);return this};
d.prototype.setData=function(f){null==f&&(f={});var g=null!=f.minsize||null!=f.maxsize||null!=f.sizebin||null!=f.cachewidthlimit||null!=f.cacheheightlimit||null!=f.colorprovider||null!=f.defaultfillstyle||null!=f.defaultlinestyle||null!=f.symbol;f=G(f,{datax:Array.isArray(f.datax)?f.datax:this.Ul,autominmaxx:"boolean"===typeof f.autominmaxx?f.autominmaxx:this.IDa,neatlimitx:"boolean"===typeof f.neatlimitx?f.neatlimitx:this.Mfa,preciselimitx:"boolean"===typeof f.preciselimitx?f.preciselimitx:this.k9a,
minspanx:"number"===typeof f.minspanx?f.minspanx:this.wWb,datay:Array.isArray(f.datay)?f.datay:this.xm,autominmaxy:"boolean"===typeof f.autominmaxx?f.autominmaxx:this.JDa,neatlimity:"boolean"===typeof f.neatlimity?f.neatlimity:this.Nfa,preciselimity:"boolean"===typeof f.preciselimity?f.preciselimity:this.l9a,minspany:"number"===typeof f.minspany?f.minspany:this.xWb,dataz:Array.isArray(f.dataz)?f.dataz:this.JP,autominmaxz:"boolean"===typeof f.autominmaxz?f.autominmaxz:this.rob,datas:Array.isArray(f.datas)?
f.datas:this.oW,autominmaxs:"boolean"===typeof f.autominmaxs?f.autominmaxs:this.qob,labels:Array.isArray(f.labels)?f.labels:this.Ve,labelvisible:"boolean"==typeof f.labelvisible?f.labelvisible:this.usb,labeltextstyle:Fi.Ra(f.labeltextstyle)||this.e7a,labellocation:null!=f.labellocation?f.labellocation:this.qsb,labelpadding:"number"==typeof f.labelpadding?f.labelpadding:this.ssb,secondarylocation:null!=f.secondarylocation?f.secondarylocation:this.S9a,validlength:"number"==typeof f.validlength?f.validlength:
null,colorprovider:f.colorprovider instanceof Mo?f.colorprovider:this.Ac,defaultfillstyle:ug.fd(f.defaultfillstyle)||this.KM,defaultlinestyle:Y.Ra(f.defaultlinestyle)||this.C4,minsize:"number"===typeof f.minsize?f.minsize:this.mT,maxsize:"number"===typeof f.maxsize?f.maxsize:this.jT,sizebin:"number"===typeof f.sizebin?f.sizebin:this.wN,cachewidthlimit:"number"==typeof f.cachewidthlimit&&f.cachewidthlimit<=c?f.cachewidthlimit:this.Lob,cacheheightlimit:"number"==typeof f.cacheheightlimit&&f.cacheheightlimit<=
c?f.cacheheightlimit:this.Job,symbol:null!=f.symbol?f.symbol:$m,selectable:null!=f.selectable?f.selectable:this.V9a});f.cachewidthlimit*f.cacheheightlimit>e&&(f.cachewidthlimit=Math.min(f.cachewidthlimit,Math.sqrt(e)),f.cacheheightlimit=Math.min(f.cacheheightlimit,Math.sqrt(e)));if(f.autominmaxx||f.neatlimitx)this.zSb=!1;if(f.autominmaxy||f.nearlimity)this.ASb=!1;f.autominmaxs&&(this.xSb=!1);f.autominmaxz&&(this.BSb=!1);this.ea=f;this.ul=f.symbol;this.Ul=null!=f.datax?f.datax:[];this.xm=null!=f.datay?
f.datay:[];this.JP=null!=f.dataz?f.dataz:[];this.oW=null!=f.datas?f.datas:[];this.Ve=null!=f.labels?f.labels:[];this.usb=f.labelvisible;this.e7a=Fi.Ra(f.labeltextstyle);this.ssb=f.labelpadding;this.Bb.kb(this.e7a);this.qsb=f.labellocation?f.labellocation:d.L3.Oa;this.S9a=f.secondarylocation;this.IDa=f.autominmaxx;this.JDa=f.autominmaxy;this.rob=f.autominmaxz;this.qob=f.autominmaxs;this.Mfa=f.neatlimitx;this.Nfa=f.neatlimity;this.k9a=f.preciselimitx;this.l9a=f.preciselimity;!0===this.IDa&&(this.Mfa=
!1);!0===this.JDa&&(this.Nfa=!1);"number"===typeof f.minx&&"number"===typeof f.maxx&&(this.zSb=!0,this.k9a=this.Mfa=this.IDa=!1,this.ESb=f.maxx,this.FSb=f.minx,this.IN=this.ESb,this.sH=this.FSb);"number"===typeof f.miny&&"number"===typeof f.maxy&&(this.ASb=!0,this.l9a=this.Nfa=this.JDa=!1,this.GSb=f.maxy,this.HSb=f.miny,this.zX=this.GSb,this.QT=this.HSb);"number"==typeof f.mins&&"number"==typeof f.maxs&&(this.xSb=!0,this.qob=!1,this.CSb=f.maxs,this.DSb=f.mins,this.Bna=this.CSb,this.Cna=this.DSb);
"number"==typeof f.minz&&"number"==typeof f.maxz&&(this.BSb=!0,this.rob=!1,this.ISb=f.maxz,this.JSb=f.minz,this.pxb=this.ISb,this.qxb=this.JSb);this.Ac=f.colorprovider;this.KM=ug.fd(f.defaultfillstyle);this.C4=Y.Ra(f.defaultlinestyle);this.V9a=null!=f.selectable?f.selectable:this.V9a;this.Fi=f.validlength;this.mT=f.minsize;this.jT=f.maxsize;this.wN=f.sizebin?f.sizebin:this.jT-this.mT;this.Lob=f.cachewidthlimit;this.Job=f.cacheheightlimit;null==this.Fi&&(this.Fi=null==this.Ac?Math.min(this.Ul.length,
this.xm.length,this.oW.length):Math.min(this.Ul.length,this.xm.length,this.JP.length,this.oW.length));g&&(this.nK=!1);this.xj.x.setOptions({orientation:Rh.yb,neatlimits:this.Mfa,preciselimits:this.k9a,minspan:this.wWb});this.xj.y.setOptions({orientation:Rh.rb,neatlimits:this.Nfa,preciselimits:this.l9a,minspan:this.xWb});this.OEc();this.ha()};d.prototype.getData=function(f,g){var h={datax:this.Ul,datay:this.xm,dataz:this.JP,datas:this.oW,autominmaxx:this.IDa,autominmaxy:this.JDa,autominmaxs:this.qob,
autominmaxz:this.rob,neatlimitx:this.Mfa,neatlimity:this.Nfa,labels:this.Ve,labeltextstyle:this.e7a,labellocation:this.qsb,secondarylocation:this.S9a,labelpadding:this.ssb,labelvisible:this.usb,validlength:this.Fi,minsize:this.mT,maxsize:this.jT,sizebin:this.wN,colorprovider:this.Ac,defaultfillstyle:this.KM,defaultlinestyle:this.C4,symbol:this.ul};f=f?g?{minx:this.nxc,maxx:this.dxc,miny:this.oxc,maxy:this.exc,minz:this.pxc,maxz:this.fxc,mins:this.mxc,maxs:this.axc}:{minx:this.sH,maxx:this.IN,miny:this.QT,
maxy:this.zX,minz:this.qxb,maxz:this.pxb,mins:this.Cna,maxs:this.Bna}:{minx:this.FSb,maxx:this.ESb,miny:this.HSb,maxy:this.GSb,minz:this.JSb,maxz:this.ISb,mins:this.DSb,maxs:this.CSb};return G(f,h)};d.prototype.OEc=function(f,g){var h=!1,k=W.Ol(this.Ul),l=W.Ol(this.xm);var m=W.Ol(this.oW);var n=W.Ol(this.JP);this.nxc=k[0];this.dxc=k[1];this.oxc=l[0];this.exc=l[1];this.mxc=m[0];this.axc=m[1];this.pxc=n[0];this.fxc=n[1];if(!f||isNaN(this.sH)||isNaN(this.QT))this.zSb||(this.sH=k[0],this.IN=k[1]),this.ASb||
(this.QT=l[0],this.zX=l[1]);if(!g&&this.V9a){if(!this.xSb){f=m[0];m=m[1];if(f!==this.Cna||m!==this.Bna)h=!0;this.Cna=f;this.Bna=m}this.BSb||(this.qxb=n[0],this.pxb=n[1])}return h};d.prototype.qxa=function(f){this.Fi=null==this.JP||0===this.JP.length?Math.min(this.Ul.length,this.xm.length,this.oW.length):Math.min(this.Ul.length,this.xm.length,this.JP.length,this.oW.length);var g=this.OEc(!0);g?this.Jh(null,0,this.Fi):this.Jh(null,this.Fi-f,this.Fi);this.nK=!1};d.prototype.YZc=function(f,g){this.Fi=
null==this.JP||0===this.JP.length?Math.min(this.Ul.length,this.xm.length,this.oW.length):Math.min(this.Ul.length,this.xm.length,this.JP.length,this.oW.length);var h=Math.abs(this.w5.na()-this.w5.ka());var k=Math.abs(this.w5.la()-this.w5.ma());h/=this.Va.na()-this.Va.ka();var l=k/(this.Va.la()-this.Va.ma());for(k=f;k<f+g;k++)this.mN.u_a(k);for(k=f+g;k<this.Fi+g;k++)this.ZPa[k].index-=g;for(k=f;k<f+g;k++){var m=this.fga[k]/2/h,n=Math.abs(h/l),p=this.ZPa[k].datax,q=this.ZPa[k].datay;m=new U(p-m,q-n*
m,p+m,q+n*m);this.ha(m)}this.fga.splice(f,g);this.ZPa.splice(f,g);this.nK=!1};d.prototype.Ejb=function(f){this.w5=f;return this};d.prototype.YId=function(){return this.w5};d.prototype.sa=function(f){if(this.Va&&this.Va.Gi(f))return!1;this.Va=f;return!0};d.prototype.ga=function(){return this.Va};d.prototype.xa=function(f,g){Zg.prototype.xa.call(this,f,g);g===De.eea&&(this.nK=!1,this.ha());return this};d.prototype.Jh=function(f,g,h){this.w5=null!=f?f:this.w5;if(null!=this.w5){null==g&&(g=0);null==h&&
(h=this.Fi);var k=Math.abs(this.w5.na()-this.w5.ka()),l=Math.abs(this.w5.la()-this.w5.ma());f=new X(k/(this.IN-this.sH),0,0,l/(this.zX-this.QT),0,0);var m;var n=[];var p=(this.jT-this.mT)/(this.wN-1);for(m=0;m<this.wN;m++)n[m]=this.mT+m*p;for(m=0;m<this.Fi;m++)p=Math.floor((this.oW[m]-this.Cna)*this.wN/(this.Bna-this.Cna)),0>p&&(p=0),this.oW[m]>=this.Bna&&(p=this.wN-1),this.Cna===this.Bna&&(p=Math.floor(this.wN/2)),this.fga[m]=n[p];if(this.IDa||this.JDa||this.Mfa||this.Nfa)for(m=g;m<h;m++){n=this.fga[m]/
2;var q=p=0;if(this.IDa||this.Mfa)this.Ul[m]+n/f.uf>this.IN&&(p=(k-n)/(this.Ul[m]-this.sH),this.IN=Math.ceil(n/p+this.Ul[m])),this.xm[m]+n/f.Ef>this.zX&&(q=(l-n)/(this.xm[m]-this.QT),this.zX=Math.ceil(n/q+this.xm[m]));if(this.JDa||this.Nfa)this.Ul[m]-n/f.uf<this.sH&&(p=(k-n)/(this.IN-this.Ul[m]),this.sH=Math.floor(this.Ul[m]-n/p)),this.xm[m]-n/f.Ef<this.QT&&(q=(l-n)/(this.zX-this.xm[m]),this.QT=Math.floor(this.xm[m]-n/q));0!==p&&(f.uf=p);0!==q&&(f.Ef=q)}this.xj.x.Jh(this.sH,this.IN,f);this.Mfa&&(this.sH=
this.xj.x.qf(),this.IN=this.xj.x.Rf());this.xj.y.Jh(this.QT,this.zX,f);this.Nfa&&(this.QT=this.xj.y.qf(),this.zX=this.xj.y.Rf());m=new U(this.sH,this.QT,this.IN,this.zX);this.cod=!0;n=this.sa(m);this.Ha(this.Va);f.uf=k/(this.Va.na()-this.Va.ka());f.Ef=l/(this.Va.la()-this.Va.ma());if(null==this.mN||n)this.mN=new KQ(this.Va,5),n&&(g=0,h=this.Fi,this.ha());0===g&&h===this.Fi&&this.mN.clear();for(m=g;m<h;m++)g=this.fga[m]/2/f.uf,k=Math.abs(f.uf/f.Ef),g=new U(this.Ul[m]-g,this.xm[m]-k*g,this.Ul[m]+g,
this.xm[m]+k*g),g.index=m,g.datax=this.Ul[m],g.datay=this.xm[m],this.mN.pa(g),this.ZPa[m]=g,n||this.ha(g)}};d.prototype.gAb=function(){return this.xj.x};d.prototype.hAb=function(){return this.xj.y};d.prototype.xOd=function(){var f=2;this.vwa=Math.floor((this.jT-this.mT)/(this.wN-1));var g=this.wN*this.mT+this.wN*(this.wN-1)*this.vwa/2+2*f*this.wN;if(g>this.Lob){var h=this.vwa/2,k=this.mT+2*f-h;g=-this.Lob;h=Math.floor((Math.sqrt(k*k-4*h*g)-k)/(2*h));g=h*this.mT+h*(h-1)*this.vwa/2+2*f*h;this.pnd=h-
1}this.Ac?(h=this.Ac instanceof Ro?this.Ac.Hc()-this.Ac.wc():this.pxb-this.qxb,this.Rta=this.Ac instanceof Ro?this.Ac.tpa():this.Fi,this.Ssc=1<this.Rta?h/(this.Rta-1):1):this.Rta=1;var l=this.jT*this.Rta+2*f*(this.Rta+1);l>this.Job&&(h=Math.floor((this.Job-2*f)/(this.jT+2*f)),l=this.jT*h+2*f*(h+1),this.ond=h-1);h=ug.fd(this.KM);k=Y.Ra(this.C4||{width:2});this.Q5={b5b:f,Mk:new Fh(g,l),image:null};g=this.Q5.Mk.hr();this.Q5.scale=g.zt();for(l=0;l<this.Rta;l++){null!=this.Ac&&(f=this.Ac instanceof Ro?
this.Ac.wc()+l*this.Ssc:this.JP[l],f=Pd.Rg(this.Ac.mb(f)),h.setColor(f),null==this.C4&&k.setColor(f));for(var m=0;m<this.wN;m++){var n=this.mT+m*this.vwa;f=this.Q5.b5b;var p=f+m*this.mT+m*(m-1)*this.vwa/2+2*f*m;f=f+l*this.jT+2*f*l;a.cb(p,f,p+n,f+n);g.ra(h,a);g.qa(k,a);this.sIa(l,m,g,n,n)}}this.Q5.Mk.tp();this.Q5.image=this.Q5.Mk.Sk();this.nK=!0};d.prototype.sIa=function(f,g,h,k,l){var m=this.Q5.b5b;g=m+g*this.mT+g*(g-1)*this.vwa/2+2*m*g;f=m+f*this.jT+2*m*f;this.ul(null,new U(g,f,g+k,f+l),h)};d.prototype.Ha=
function(f){this.fe=f};d.prototype.oa=function(){return this.fe};d.prototype.ZYa=function(){this.nK=!1};d.prototype.render=function(f){var g=null!=this.Sa()?f.bc(this.Sa()):f,h=g.Ea();g.Sh(this);this.Yh(g);if(g.fc())this.V9a&&(f=g instanceof Sj?g.FA():g.eg(),g.ra(rf.zh),g.Bc(this.ga()),g.eV({bubblechart:this,indices:this.M1(f,g.Ea())}));else{this.nK&&this.Q5.scale===f.zt()||this.xOd();var k,l=[];var m=this.M1(g.eg(),g.Ea());for(k=0;k<m.length;k++)m[k].datax&&m[k].datay&&l.push(m[k].index);l.sort(function(n,
p){return n-p});this.f_b=g;this.f_b.Sb(new X);for(k=0;k<l.length;++k)m=l[k],this.kWd(m,g,h,f.zt());this.f_b.Sb(h);this.usb&&this.xec(g);this.yh(g)}};d.prototype.kWd=function(f,g,h,k){null==k&&(k=1);var l=this.Cna===this.Bna?Math.floor(this.wN/2):Math.floor((this.oW[f]-this.Cna)*this.wN/(this.Bna-this.Cna));if(!isNaN(l)){0>l&&(l=0);this.oW[f]>=this.Bna&&(l=this.wN-1);var m=0;this.Ac instanceof Ro?(m=Math.floor((this.JP[f]-this.qxb)*this.Rta/(this.Ac.Hc()-this.Ac.wc())),0>m&&(m=0),this.JP[f]>=this.pxb&&
this.JP[f]>=this.Ac.Hc()&&(m=this.Rta-1)):null!==this.Ac&&(m=f);l>this.pnd||m>this.ond?(g.Sb(h),this.Azd(f,m,g),g.Sb(new X)):this.Uoa(f,l,m,h,k)}};d.prototype.xec=function(f){var g=f.Ea(),h=this.ssb,k;for(k=0;k<this.Ve.length;k++){var l=0,m=this.Ul[k],n=this.qsb;this.Bb.Eb(this.Ve[k]);var p=Math.abs(g.lb()/g.Ab()),q=(this.fga[k]+2*h)/g.lb(),r=sg.measureText(this.Ve[k],this.e7a);this.Ul[k]+r.ca()/(2*g.lb())>this.IN&&(l=this.IN-(this.Ul[k]+(r.ca()+2*h)/(2*g.lb())));this.Ul[k]-r.ca()/(2*g.lb())<this.sH&&
(l=this.sH-(this.Ul[k]-(r.ca()+2*h)/(2*g.lb())));m+=l;this.S9a&&(n===d.L3.qb&&this.xm[k]+p*q/2+r.da()/Math.abs(g.Ab())>this.zX||n===d.L3.Ed&&this.xm[k]-p*q/2-r.da()/Math.abs(g.Ab())<this.QT)&&(n=this.S9a);n===d.L3.qb?(this.Bb.yc(O.ee),this.Bb.Jb(m,this.xm[k]+p*q/2)):n===d.L3.Ed?(this.Bb.yc(O.Se),this.Bb.Jb(m,this.xm[k]-p*q/2)):(this.Bb.yc(O.Oa),this.Bb.Jb(m,this.xm[k]));this.Bb.render(f)}};d.prototype.M1=function(f,g){null==this.mN&&this.Jh();var h=g instanceof X?g:g.Ea();return f=4>f.ga().ca()*Math.abs(h.lb())&&
4>f.ga().da()*Math.abs(h.Ab())?this.mN.yd(f.ga(),g):this.mN.Js(f.ga(),g)};d.prototype.Uoa=function(f,g,h,k,l){this.aj.x=this.Ul[f];this.aj.y=this.xm[f];var m=this.Q5.scale;k.Ma(this.aj,this.aj);X.Cl(l/m,l/m,b).Ma(this.aj,this.aj);k=this.aj.x-this.fga[f]/2;l=this.aj.y-this.fga[f]/2;var n=f=this.fga[f]*m,p=this.Q5.b5b,q=(g*this.mT+g*(g-1)*this.vwa/2+2*p*g)*m;h=(h*this.jT+2*p*h)*m;m=g=(this.mT+g*this.vwa+2*p)*m;this.Q5.Mk.render(this.f_b,k,l,f,n,q,h,g,m)};d.prototype.Azd=function(f,g,h){var k=h.Ea(),
l=Math.abs(k.lb()/k.Ab());k=this.fga[f]/2/k.lb();var m=this.Ul[f]-k,n=this.xm[f]-l*k;f=ug.fd(this.KM);var p=Y.Ra(this.C4||{width:2});a.cb(m,n,m+2*k,n+2*l*k);null==this.Ac?(h.ra(f,a),h.qa(p,a)):(g=this.Ac instanceof Ro?this.Ac.wc()+g*this.Ssc:this.JP[g],g=Pd.Rg(this.Ac.mb(g)),h.ra(f.setColor(g),a),h.qa(null!=this.C4?p:p.setColor(g),a));this.ul(null,a,h)};d.prototype.gj=function(f,g){f instanceof U?(g=[f.ka(),f.na(),f.na(),f.ka()],f=[f.la(),f.la(),f.ma(),f.ma()],f=Zj.$H(this.getRoot(),g,f,!0).filter(function(h){return h.FL()===
this&&null!=h.getData()&&0<h.getData().length}.bind(this))):f=Zj.$H(this.getRoot(),f.x,f.y,g?g:10).filter(function(h){return h.FL()===this&&null!=h.getData()&&0<h.getData().length}.bind(this));return 0===f.length?null:(f=f[0].getData()[0].indices)?f.map(function(h){return h.index}):null};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJhZGREYXRhIjoicXhhIiwicmVtb3ZlRGF0YSI6IllaYyIsInNldFBhcmVudEJvdW5kcyI6IkVqYiIsImdldFBhcmVudEJvdW5kcyI6IllJZCIsInNldEJvdW5kcyI6InNhIiwiZ2V0Qm91bmRzIjoiZ2EiLCJ1cGRhdGVTdGF0ZSI6InhhIiwidXBkYXRlTGltaXRzIjoiSmgiLCJnZXRBeGlzRGltZW5zaW9uWCI6ImdBYiIsImdldEF4aXNEaW1lbnNpb25ZIjoiaEFiIiwiaW52YWxpZGF0ZUNhY2hlIjoiWllhIiwiZ2V0SW5kaWNlc0F0IjoiTTEiLCJoaXRUZXN0IjoiZ2oifX19");var NQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(k){k=xb(k,{alignment:O.Se,linestyle:"black",fillstyle:{color:"#f0f8ff",shadow:{enable:!0,color:"rgba(0, 0, 0, 0.5)",offsetx:2,offsety:2}},textstyle:{baseline:zi.MKb},ispointingup:!0,arrowsize:12,radius:3,padding:2},!0);ek.call(this,k);this.Bta=k.arrowsize;this.Ib=new Tg;this.oaa=null;this.B$a=!0;this.jQ=this.VTa=this.UTa=null;this.yc(this.Zp());null!=k.sizemode&&this.wk(k.sizemode)}function a(k,l,m,n){var p=l-k;return m>=n?[(m+n)/2,(m+n)/2]:n-m<p?[m,n]:k<m?[m,m+p]:l>n?
[n-p,n]:[k,l]}var b=1E-9,c=new Rg,e=new Rg,f=new X,g=new Ud,h=10;D(d,ek);L(d,"geotoolkit.controls.shapes.Callout");d.prototype.Ba=function(k,l){this.Bta=k.Bta;this.Ib.cJb(k.Ib.getX(),k.Ib.getY());this.oaa=k.oaa?k.oaa.clone():null;this.B$a=k.B$a;return this};d.prototype.render=function(k){!this.KJd()&&this.getParent()&&(this.lGb(),this.k4d(!0));var l=this.Sa();l=null!=l?k.bc(l):k;this.Yh(l);var m=this.mY(),n=l.Ea();this.lh(l);var p=this.X6();p=n.Pc(p.hc(),p.Dc()).clone();var q=X.xk;0!==m&&(q=X.Ui(m,
p.getX(),p.getY()),X.multiply(q,n,f),k.Sb(f));(null!=this.eb()||null!=this.Fa()||k.fc())&&this.yl(l,n);null!=this.getState()&&this.rSc()&&!k.fc()&&(this.E6(n,f),m=f.Ua(Si.Uo()).getCenter(),f.TA(f.cf()+p.getX()-m.getX(),f.Pe()+p.getY()-m.getY()),f.translate(0,1).scale(1/this.XLd(),1/this.WLd()),X.multiply(q,f,f),l.Sb(f),this.getState().Vn(l));k.Sb(n);this.yh(l)};d.prototype.yc=function(k){var l=0<this.BKa()?this.BKa():this.ca(),m=0<this.uYa()?this.uYa():this.da(),n=0,p=0;ok.zv(k)&&(n=l/2);ok.cw(k)&&
(n=-l/2);ok.NA(k)&&(p=this.Bta+m/2);ok.cD(k)&&(p=-this.Bta-m/2);k===O.Bd&&(n+=this.Bta);k===O.we&&(n-=this.Bta);this.Ib.cJb(n,p);return ek.prototype.yc.call(this,k)};d.prototype.move=function(k,l){this.ha();this.Ib.cJb(this.Ib.getX()+k,this.Ib.getY()+l);this.xa().ha();return this};d.prototype.oCb=function(){return this.Ib.getX()};d.prototype.pCb=function(){return this.Ib.getY()};d.prototype.translate=function(k,l){return this.Jb(this.Wn()+k,this.Cm()+l)};d.prototype.yl=function(k,l){var m=this.ga(),
n=this.X6(),p=this.al();if(!isNaN(p.getX())&&!isNaN(p.getY())){var q=k.Ea();k.ra(this.eb(),m);k.qa(this.Fa(),m);l.Ma(p,p);q.rd(p,p);c.n0a(p,n.getCenter());var r=new N;m=[n.ka(),n.na(),n.na(),n.ka()];var t=[n.la(),n.la(),n.ma(),n.ma()],u=m.length;for(l=0;l<u;l++){var w=(l+1)%u;e.$C().Da(m[l],t[l]);e.CH().Da(m[w],t[w]);if(e.dpa(c,null,r))break}g.setSize(this.E1(),this.E1());var y=q.pl(g,g);w=Math.min(y.ca(),n.ca()/2);y=Math.min(y.da(),n.da()/2);var z=Math.max(w,h/q.lb()),x=Math.max(y,h/q.Ab());switch(l){case 0:case 2:var C=
Math.abs(this.Bta/q.lb()/2);C=a(r.getX()-C,r.getX()+C,n.getX()+z,n.na()-z);C=[n.getX()+w,C[0],p.getX(),C[1],n.na()-w];var A=[r.getY(),r.getY(),p.getY(),r.getY(),r.getY()];2===l&&C.reverse();break;case 1:case 3:C=Math.abs(this.Bta/q.Ab()/2);A=a(r.getY()-C,r.getY()+C,n.getY()+x,n.ma()-x);C=[r.getX(),r.getX(),p.getX(),r.getX(),r.getX()];A=[n.getY()+y,A[0],p.getY(),A[1],n.ma()-y];3===l&&A.reverse();break;case 4:C=[n.getX()+w,n.na()-w],A=[n.getY(),n.getY()]}k.beginPath();k.moveTo(C[0],A[0]);for(n=1;n<
C.length;n++)k.lineTo(C[n],A[n]);p=[0,-1,0,1];for(n=0;n<u;n++)l=(l+1)%u,r=m[l]+p[(l+3)%u]*w,C=t[l]+p[(l+2)%u]*y,k.lineTo(m[l]+p[l]*w,t[l]+p[(l+3)%u]*y).bezierCurveTo(m[l],t[l],r,C,r,C);k.closePath();k.Si();k.stroke()}};d.prototype.lL=function(k){var l=0<this.BKa()?this.BKa():this.ca(),m=0<this.uYa()?this.uYa():this.da();l=(new U(0,0,l,m)).bd(this.S6());this.IA()&&null!=k&&k.wd(l,l);l.aI(this.Wn(),this.Cm());l=k?k.Ua(l,l):l;this.IA()?(this.Ib&&l.translate(this.Ib.getX(),this.Ib.getY()),l=k?k.wd(l,
l):l):(l=k?k.wd(l,l):l,this.Ib&&l.translate(this.Ib.getX(),this.Ib.getY()));this.oaa=l.clone();0!==this.mY()&&(l=k?k.Ua(l,l):l,X.Ui(this.mY(),l.hc(),l.Dc(),f),f.Ua(l,l),l=k?k.wd(l,l):l);return l.cP(this.Wn(),this.Cm())};d.prototype.X6=function(){null==this.oaa&&this.lL(this.wa());return this.oaa};d.prototype.Sa=function(){return this.ob()};d.prototype.pf=function(k){var l=k.Ea();if(this.jQ!==k.zt()||null==this.oaa||Math.abs(this.UTa/l.lb()-1)>b||Math.abs(this.VTa/l.Ab()-1)>b)this.UTa=l.lb(),this.VTa=
l.Ab(),this.jQ=k.zt(),this.La=this.lL(l);l=Xg.a2b(k,this.Fa());return!0===this.Ia()&&Ag.j2(this.ga(),this.ob(),k.eg(),l)};d.prototype.B7c=function(k){if(this.B$a===k)return this;this.B$a=k;this.xa();this.ha();return this};d.prototype.rSc=function(){return this.B$a};d.prototype.kic=function(k){g.setSize(k.ca(),k.da());var l=this.wa()||X.xk;this.IA()&&this.wa().xD(g,g);g.bd(-2*this.S6());this.setSize(g.ca(),g.da());k=k.getCenter();this.IA()?(l.Ma(k,k),k.translate(-this.Ib.getX(),-this.Ib.getY()),l.rd(k,
k)):k.translate(-this.Ib.getX(),-this.Ib.getY());this.Jb(k);return this};d.prototype.xa=function(k,l){this.oaa=null;return ek.prototype.xa.call(this,k,l)};d.prototype.Zn=function(k){this.oaa=null;return ek.prototype.Zn.call(this,k)};d.prototype.mq=function(k){this.oaa=null;return ek.prototype.mq.call(this,k)};d.prototype.Jb=function(k,l){this.oaa=null;return ek.prototype.Jb.call(this,k,l)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldEFuY2hvclR5cGUiOiJ5YyIsImdldE9mZnNldFgiOiJvQ2IiLCJnZXRPZmZzZXRZIjoicENiIiwiY2FsY3VsYXRlQm91bmRzIjoibEwiLCJnZXRUZXh0Qm91bmRzIjoiWDYiLCJnZXRXb3JsZFRyYW5zZm9ybSI6IlNhIiwiY2hlY2tDb2xsaXNpb24iOiJwZiIsInNldFRleHRWaXNpYmxlIjoiQjdjIiwiZ2V0VGV4dFZpc2libGUiOiJyU2MiLCJzZXRUZXh0Qm91bmRzIjoia2ljIiwidXBkYXRlU3RhdGUiOiJ4YSIsInNldEFuY2hvclgiOiJabiIsInNldEFuY2hvclkiOiJtcSIsInNldEFuY2hvciI6IkpiIn19fSAg");var OQ=/*#__PURE__*/function(){function d(a,b,c){a=c.eb();var e=new xd(a.mb()),f=b.ka(),g=b.la(),h=b.ca();b=b.da();a.setColor(Oe.pHb(e,-.5).um());c.ra(a);c.Ey(f,g,h,b,0,2*Math.PI);a.setColor(e.um());c.ra(a);c.Ey(f+.5,g+.5,h-2,b-2,0,2*Math.PI);a.setColor(Oe.pHb(Oe.pHb(e,.5),.5).um());c.ra(a);c.Ey(f+1.5,g+1.5,h-5,b-5,0,2*Math.PI)}L(d,"geotoolkit.scene.shapes.painters.CrossPlotPainter");return d}();var PQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(k){var l={datax:[],minx:Number.NaN,maxx:Number.NaN,datay:[],miny:Number.NaN,maxy:Number.NaN,dataz:void 0,logx:!1,logy:!1,logz:!1,colorprovider:null,defaultcolor:"rgba(60,60,60,1)",defaultlinecolor:null,highlightcolor:"rgba(255,0,255,1)",symbolsize:8,painter:OQ};Pm.call(this,new U(0,0,1,1));this.q$a=this.fE=8;this.$Wb=function(){this.nK=!1}.bind(this);this.GZb=[];this.Cs=[];this.XI=this.tFa=null;this.nK=!1;this.setData(G(k,l));this.Rj=!1;this.I0=null}function a(k,l){return null!=
k&&(k instanceof DH||k instanceof RH)?k.toArray(!1):l}var b=new rf("transparent"),c=new Y({color:"transparent",width:1,pixelsnapmode:!0}),e=function(){function k(l,m,n,p,q){Hg.call(this);this.mk=l;this.dc=m.data;this.rc=n.data;this.kxa=m.log;this.mxa=n.log;this.xe=p;this.UI=q;this.YW=[];this.RQa=!1;this.reset()}D(k,Hg);k.prototype.reset=function(){this.RQa=!1;this.dRb=this.zQa=0;this.MUb=-1;this.t_=this.fEa=null;this.YW=[];this.iJ(this.mk);return this};k.prototype.wg=function(){if(null!=this.t_)return!0;
for(;this.zQa<this.YW.length;this.zQa++){this.zQa!==this.MUb&&(this.fEa=this.YW[this.zQa],this.RQa=this.xe.zA(this.fEa.xe.getX(),this.fEa.xe.getY(),this.fEa.xe.ca(),this.fEa.xe.da()));for(;this.dRb<this.fEa.Fi;){this.t_=this.fEa.wq[this.dRb++];if(this.RQa){this.MUb=this.zQa;if(!this.xe.contains(this.kxa?W.log10(this.dc[this.t_-this.mk.Ib]):this.dc[this.t_-this.mk.Ib],this.mxa?W.log10(this.rc[this.t_-this.mk.Ib]):this.rc[this.t_-this.mk.Ib]))continue;return!0}if(this.xe.contains(this.kxa?W.log10(this.dc[this.t_-
this.mk.Ib]):this.dc[this.t_-this.mk.Ib],this.mxa?W.log10(this.rc[this.t_-this.mk.Ib]):this.rc[this.t_-this.mk.Ib]))return this.MUb=this.zQa,!0}this.dRb=0}this.t_=null;return!1};k.prototype.iJ=function(l){null!=l&&l.xe.Dd(this.xe)&&(this.UI?(0<l.Fi&&this.YW.push(l),this.iJ(l.qp),this.iJ(l.gr),this.iJ(l.Vq),this.iJ(l.Wq)):(this.iJ(l.qp),this.iJ(l.gr),this.iJ(l.Vq),this.iJ(l.Wq),0<l.Fi&&this.YW.push(l)))};k.prototype.next=function(){if(this.wg()){var l=this.t_;this.t_=null;return l-this.mk.Ib}return null};
k.prototype.filter=function(l){var m=[];for(this.reset();this.wg();){var n=this.next();l(n)&&m.push(n)}return m};k.prototype.forEach=function(l){for(this.reset();this.wg();)l(this.next());return this};return k}(),f=function(){function k(l,m){this.wq=[];this.tl=m;this.xe=l;this.Wq=this.Vq=this.gr=this.qp=null;this.Ib=this.By=this.Fi=0}k.prototype.ga=function(){return this.xe};k.prototype.sa=function(l){null!=this.xe&&this.xe.Gi(l)||(this.xe=l,this.Wq=this.Vq=this.gr=this.qp=null,this.Ib=this.By=this.Fi=
0)};k.prototype.clear=function(){this.wq=[];this.Ib=this.By=this.Fi=0;null!=this.qp&&this.qp.clear();null!=this.gr&&this.gr.clear();null!=this.Vq&&this.Vq.clear();null!=this.Wq&&this.Wq.clear();return this};k.prototype.Ap=function(l){this.Ib=l;return this};k.prototype.ac=function(){return this.By};k.prototype.remove=function(l){var m=this.By;if(0<this.Fi){for(var n=l+this.Ib,p=-1,q=0;q<this.Fi;++q)this.wq[q]===n?p=q:this.wq[q]>n&&this.wq[q]--; -1!==p&&(this.wq.splice(p,1),--this.By,--this.Fi)}null!=
this.qp&&(this.By-=this.qp.remove(l));null!=this.gr&&(this.By-=this.gr.remove(l));null!=this.Vq&&(this.By-=this.Vq.remove(l));null!=this.Wq&&(this.By-=this.Wq.remove(l));return m===this.By?0:1};k.prototype.shift=function(){var l=this.By;0<this.Fi&&this.wq[0]===this.Ib&&(--this.By,--this.Fi,this.wq.splice(0,1));this.Ib++;null!=this.qp&&(this.By-=this.qp.shift());null!=this.gr&&(this.By-=this.gr.shift());null!=this.Vq&&(this.By-=this.Vq.shift());null!=this.Wq&&(this.By-=this.Wq.shift());return l===
this.By?0:1};k.prototype.pa=function(l,m,n){if(isNaN(n))return this;this.By+=1;if(0===this.tl)return this.wq[this.Fi]=n+this.Ib,this.Fi++,this;if(null==this.qp){var p=this.xe,q=this.tl;this.qp=(new k(new U(p.x,p.y,p.x+p.width/2,p.y+p.height/2),q-1)).Ap(this.Ib);this.gr=(new k(new U(p.x+p.width/2,p.y,p.x+p.width,p.y+p.height/2),q-1)).Ap(this.Ib);this.Vq=(new k(new U(p.x,p.y+p.height/2,p.x+p.width/2,p.y+p.height),q-1)).Ap(this.Ib);this.Wq=(new k(new U(p.x+p.width/2,p.y+p.height/2,p.x+p.width,p.y+p.height),
q-1)).Ap(this.Ib)}this.qp.xe.contains(l,m)?this.qp.pa(l,m,n):this.gr.xe.contains(l,m)?this.gr.pa(l,m,n):this.Vq.xe.contains(l,m)?this.Vq.pa(l,m,n):this.Wq.xe.contains(l,m)?this.Wq.pa(l,m,n):(this.wq[this.Fi]=n,this.Fi++);return this};k.prototype.getIterator=function(l,m,n){return new e(this,m,n,l,!1)};k.prototype.Js=function(l,m,n,p){var q=l.ga(),r=[];if(this.xe.Dd(q)){for(q=0;q<this.Fi;q++){var t=this.wq[q];l.contains(m[t],n[t])&&r.push(t-this.Ib)}null!=this.qp&&(r=r.concat(this.qp.Js(l,m,n,p)));
null!=this.gr&&(r=r.concat(this.gr.Js(l,m,n,p)));null!=this.Vq&&(r=r.concat(this.Vq.Js(l,m,n,p)));null!=this.Wq&&(r=r.concat(this.Wq.Js(l,m,n,p)))}return r};return k}(),g=new U(0,0,0,0),h=4;D(d,Pm);L(d,"geotoolkit.controls.shapes.CrossPlot");d.prototype.fa=function(k){k=jc(k);if(null==k)return this;Pm.prototype.fa.call(this,k);this.setData(k);return this};d.prototype.setData=function(k){k=G(k,{datax:Array.isArray(k.datax)?k.datax.slice():a(k.datax,this.dL),minx:null!=k.minx?k.minx:this.jo,maxx:null!=
k.maxx?k.maxx:this.it,datay:Array.isArray(k.datay)?k.datay.slice():a(k.datay,this.gL),miny:null!=k.miny?k.miny:this.ko,maxy:null!=k.maxy?k.maxy:this.jt,dataz:Array.isArray(k.dataz)?k.dataz.slice():a(k.dataz,this.Baa),logx:null!=k.logx?k.logx:this.kxa,logy:null!=k.logy?k.logy:this.mxa,logz:null!=k.logz?k.logz:this.Grd,colorprovider:k.colorprovider instanceof Mo?k.colorprovider:this.yC,defaultcolor:"string"==typeof k.defaultcolor?k.defaultcolor:this.XS,defaultlinecolor:null===k.defaultlinecolor||"string"==
typeof k.defaultlinecolor?k.defaultlinecolor:this.tFa,highlightcolor:"string"==typeof k.highlightcolor?k.highlightcolor:this.ERa,symbolsize:"number"==typeof k.symbolsize?k.symbolsize:this.fE,painter:null!=k.painter?k.painter:this.ul,x:null!=k.x?k.x:{},y:null!=k.y?k.y:{},z:null!=k.z?k.z:{}});null!=k.x.data&&(k.datax=Array.isArray(k.x.data)?k.x.data.slice():a(k.x.data));null!=k.x.min&&(k.minx=k.x.min);null!=k.x.max&&(k.maxx=k.x.max);null!=k.y.data&&(k.datay=Array.isArray(k.y.data)?k.y.data.slice():
a(k.y.data));null!=k.y.min&&(k.miny=k.y.min);null!=k.y.max&&(k.maxy=k.y.max);null!=k.z.data&&(k.dataz=Array.isArray(k.z.data)?k.z.data.slice():a(k.z.data));if(k.datax instanceof DH||k.datax instanceof RH){var l=k.datax;l.on(wH.xP,function(t,u,w){this.kcb(w.count)}.bind(this));l.on(wH.yP,function(t,u,w){this.PIa(w.from,w.count)}.bind(this));k.datax=a(k.datax,this.dL)}if(k.datay instanceof DH||k.datay instanceof RH)l=k.datay,l.on(wH.xP,function(t,u,w){this.kcb(w.count)}.bind(this)),l.on(wH.yP,function(t,
u,w){this.PIa(w.from,w.count)}.bind(this)),k.datay=a(k.datay,this.gL);if(k.dataz instanceof DH||k.datax instanceof RH)l=k.dataz,l.on(wH.xP,function(t,u,w){this.kcb(w.count)}.bind(this)),l.on(wH.yP,function(t,u,w){this.PIa(w.from,w.count)}.bind(this)),k.dataz=a(k.dataz,this.Baa);this.jd=this.td=-1;this.dL=null!=k.datax?k.datax:[];this.gL=null!=k.datay?k.datay:[];this.Baa=null!=k.dataz?k.dataz:[];this.kxa=null!=k.logx?k.logx:!1;this.mxa=null!=k.logy?k.logy:!1;this.Grd=null!=k.logz?k.logz:!1;this.XS=
new xd(k.defaultcolor);this.tFa=null!=k.defaultlinecolor?new xd(k.defaultlinecolor):null;if(void 0!==k.colorprovider){this.yC&&this.yC.za(Lo.ib,this.$Wb);this.yC=k.colorprovider;if(this.yC instanceof Mo)this.yC.on(Lo.ib,this.$Wb);this.nK=!1}this.ERa=new xd(k.highlightcolor);this.ul=k.painter;this.fE=k.symbolsize;l=null!=this.tFa?1:0;this.q$a=this.fE+2*l;l=Number.POSITIVE_INFINITY;for(var m=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,q=Math.min(this.dL.length,this.gL.length),
r=0;r<q;++r)isNaN(this.dL[r])||isNaN(this.gL[r])||(l=Math.min(l,this.dL[r]),m=Math.max(m,this.dL[r]),n=Math.min(n,this.gL[r]),p=Math.max(p,this.gL[r]));l=isNaN(k.minx)?l===Number.POSITIVE_INFINITY?Number.NaN:l:k.minx;m=isNaN(k.maxx)?m===Number.NEGATIVE_INFINITY?Number.NaN:m:k.maxx;n=isNaN(k.miny)?n===Number.POSITIVE_INFINITY?Number.NaN:n:k.miny;p=isNaN(k.maxy)?p===Number.NEGATIVE_INFINITY?Number.NaN:p:k.maxy;this.kxa&&(l=0<l?W.log10(l):0,m=0<m?W.log10(m):0);this.mxa&&(n=0<n?W.log10(n):0,p=0<p?W.log10(p):
0);this.jo=l;this.it=m;this.ko=n;this.jt=p;this.sa(new U(this.jo,this.ko,this.it,this.jt));this.L$a=0;this.nK=!1;this.Jh();this.ha();return this};d.prototype.getData=function(){return{datax:this.dL,minx:this.jo,maxx:this.it,datay:this.gL,miny:this.ko,maxy:this.jt,dataz:this.Baa,colorprovider:this.yC,defaultcolor:this.XS,defaultlinecolor:this.tFa,highlightcolor:this.ERa,symbolsize:this.fE,painter:this.ul}};d.prototype.En=function(){return this.yC};d.prototype.isEmpty=function(){return 0===this.ga().ca()&&
0===this.ga().da()};d.prototype.PIa=function(k,l){for(var m=null!=this.I0?this.I0.ca():0,n=null!=this.I0?this.I0.da():0,p,q,r=k+l-1;r>=k;r--)q=r<this.Cs.length?this.Cs[r]:null,this.mN.remove(r),q&&(p=q.x,q=q.y,this.ha(g.cb(p-m,q-n,p+m,q+n)));this.Cs.splice(k,l)};d.prototype.B3b=function(k){for(var l=null!=this.I0?this.I0.ca():0,m=null!=this.I0?this.I0.da():0,n,p=0;p<k;p++){n=this.Cs[0];if(!n)break;this.mN.shift();this.Cs.shift();this.ha(g.cb(n.x-l,n.y-m,n.x+l,n.y+m))}};d.prototype.kcb=function(k){var l=
Math.min(this.dL.length,this.gL.length);this.lcb(l-k,k)};d.prototype.lcb=function(k,l){var m=Math.min(this.dL.length,this.gL.length),n=null!=this.Baa?Math.min(m,this.Baa.length):0;m=null!=this.FI?Math.min(m,this.FI.length):0;for(var p=null!=this.I0?this.I0.ca():0,q=null!=this.I0?this.I0.da():0,r=k;r<k+l;r++){var t=this.dL[r],u=this.gL[r],w=this.Baa.length<=n?this.Baa[r]:Number.NaN,y=r<m&&this.FI?this.FI[this.FI.length-1]:!1;w=y?this.ERa:isNaN(w)||null==this.yC?this.XS:Pd.Rg(this.yC.mb(w));this.rDc(this.sIa(w,
null),t,u,r);null!=this.mN&&this.mN.pa(t,u,r);this.ha(g.cb(t-p,u-q,t+p,u+q))}};d.prototype.rDc=function(k,l,m,n){this.Cs[n]={Zj:k,x:l,y:m}};d.prototype.xa=function(k,l){Pm.prototype.xa.call(this);l===De.eea&&(this.nK=!1,this.ha());return this};d.prototype.Jh=function(){this.L$a=Math.min(this.dL.length,this.gL.length);this.mN=new f(this.ga(),5);for(var k=!1,l=0;l<this.L$a;++l){var m=this.dL[l],n=this.gL[l];isNaN(m)||isNaN(n)||(k=!0,this.mN.pa(m,n,l))}!k&&(0>=this.ga().ca()||0>=this.ga().da())&&this.sa(new U(0,
0,1,1));this.nK=!1;return!0};d.prototype.WOd=function(k){if(!this.nK&&0!==this.L$a){this.GZb=[];var l=Math.min(this.dL.length,this.gL.length),m=null!=this.Baa?Math.min(l,this.Baa.length):0,n=null!=this.FI?Math.min(l,this.FI.length):0;if(this.yC instanceof Ro||this.yC instanceof jp){var p=this.yC.tpa();var q=this.q$a;var r=Math.ceil(Math.sqrt(p+2));this.XI={jJc:r,sjc:q,current:{x:0,y:0},scale:k.zt(),Mk:k.Ez(r*(q+h),r*(q+h)),image:null};k=this.XI.Mk.hr();k.Ih({Jad:!0});q=(this.yC.Hc()-this.yC.wc())/
p;for(p=this.yC.wc()-.5*q;p<this.yC.Hc()+q;p+=q){var t=Pd.Rg(this.yC.mb(p));this.sIa(t,k)}this.sIa(this.XS,k);this.sIa(this.ERa,k);k.xo()}else q=this.q$a,r=null!=this.yC?Math.ceil(Math.sqrt(this.L$a)):2,this.XI={jJc:r,sjc:q,current:{x:0,y:0},scale:k.zt(),Mk:k.Ez(r*(q+h),r*(q+h)),image:null},k=this.XI.Mk.hr();k.Ih({Jad:!0});for(p=0;p<l;++p){q=this.dL[p];r=this.gL[p];t=p<m?this.Baa[p]:Number.NaN;var u=p<n?this.FI[p]:!1;isNaN(q)||isNaN(r)||(t=u?this.ERa:isNaN(t)||null==this.yC?this.XS:Pd.Rg(this.yC.mb(t)),
this.rDc(this.sIa(t,k),q,r,p))}k.xo();this.XI.image=this.XI.Mk.Sk();this.XI.image.wDa=ye.Mz();this.nK=!0}};d.prototype.i5d=function(k){this.ul!==k&&(this.ul=k,this.nK=!1);return this};d.prototype.GLd=function(){return this.ul};d.prototype.sIa=function(k,l){var m=this.cd(k);if(null!=m)return m;if(null==l)return null;null==this.ul&&(this.ul=OQ);m=this.XI.Mk;var n=this.XI.current,p=this.XI.sjc,q=n.x*(p+h),r=n.y*(p+h),t=null,u=null;null!=this.tFa&&(t=c.setColor(this.tFa));null!=k&&(u=b.setColor(k.um()));
l.qa(t);l.ra(u);t=null!=t?t.ca():0;p=new U(q+t,r+t,q+p-t,r+p-t);this.ul(null,p,l,k);m.tp();m={x:n.x,y:n.y};n.x++;n.x>=this.XI.jJc&&(n.x=0,n.y++);this.XI.current=n;this.UWd(k,m);return m};d.prototype.render=function(k){var l=null!=this.Sa()?k.bc(this.Sa()):k;if(l.fc())k=l instanceof Sj?l.FA():l.eg(),l.ra(rf.zh),l.Bc(this.ga()),l.eV({crossplot:this,indices:0<this.L$a?this.M1(k):[]});else{this.Yh(l);if(this.Rj){var m=l.mg(),n=l.Ea();if(0===n.J6())return;l.save();m=n.wd(m);var p=new U(this.ga());p.intersect(m);
n.Ua(p,p);l.uh(p)}this.XI&&k.zt()!==this.XI.scale&&(this.nK=!1);this.WOd(k);l.Ih({ngb:"shared"});this.hzd(l);l.Ih({ngb:"none"});this.Rj&&l.restore();this.yh(l)}};d.prototype.ju=function(){return this.Rj};d.prototype.bf=function(k){this.Rj=k;this.xa();return this};d.prototype.hzd=function(k){var l=k.Ea(),m=l.wd(k.mg());m.intersect(this.ga());var n=l.Ua(m);n.bd(this.fE/2);l.wd(n,n);this.I0=l.wd(new U(0,0,this.q$a,this.q$a));k.Sb(new X);if(null!=this.mN){var p=this.mN.getIterator(n,{data:this.dL,log:this.kxa},
{data:this.gL,log:this.mxa});m=new N(0,0);var q=Hg.toArray(p);q.sort(function(y,z){return y-z});var r=[];n=[];for(p=q.length-1;0<=p;p--){var t=q[p];m.x=this.dL[t];m.y=this.gL[t];l.Ma(m,m);var u=Math.round(m.x),w=Math.round(m.y);null==r[u]&&(r[u]=[]);null!=r[u][w]?r[u][w]++:(r[u][w]=1,n[n.length]=t)}for(p=n.length-1;0<=p;p--)if(t=n[p],t=this.Cs[t])m.x=this.kxa?W.log10(t.x):t.x,m.y=this.mxa?W.log10(t.y):t.y,l.Ma(m,m),this.YIc(k,t.Zj,m.x,m.y,null)}else for(m=new N(0,0),p=0;p<this.Cs.length;++p)t=this.Cs[p],
m.x=this.kxa?W.log10(t.x):t.x,m.y=this.mxa?W.log10(t.y):t.y,l.Ma(m,m),n.contains(m.x,m.y)&&this.YIc(k,this.Cs[p].Zj,m.x,m.y,null);k.Sb(l);return this};d.prototype.YIc=function(k,l,m,n,p){if(this.XI.image){if(null==l)return this;var q=this.XI.sjc,r=k.zt();p=l.x*(q+h)*r;var t=l.y*(q+h)*r,u=q*r,w=q*r;m-=q/2;n-=q/2;var y=q;m=Math.round(m);n=Math.round(n);if(k instanceof nk&&r===this.XI.scale){if(null==l.gI){r=new Fh(u,w,!0,!0,r);var z=r.hr();z.drawImage(this.XI.image,p,t,u,w,0,0,u,w);r.tp();l.gI=r.Sk();
l.gI.wDa=ye.Mz()}k.drawImage(l.gI,0,0,u,w,m,n,y,q)}else k.drawImage(this.XI.image,p,t,u,w,m,n,y,q)}else l=new Y("#000",1.5),p=new rf(p),k.qa(l),k.ra(p),k.Ey(m-2,n-2,4,4,0,2*Math.PI);return this};d.prototype.cd=function(k){var l=k.Xj(),m=k.Wj(),n=k.Vj();k=k.Ik();var p=this.GZb;if(null==p[l])return null;l=p[l];if(null==l[m])return null;m=l[m];if(null==m[n])return null;n=m[n];return null==n[k]?null:n[k]};d.prototype.UWd=function(k,l){var m=k.Xj(),n=k.Wj(),p=k.Vj();k=k.Ik();var q=this.GZb,r=q[m];if(null!=
r){var t=r[n];if(null!=t){var u=t[p];null!=u?u[k]=l:(u=[],u[k]=l,t[p]=u)}else t=[],u=[],u[k]=l,t[p]=u,r[n]=t}else r=[],t=[],u=[],u[k]=l,t[p]=u,r[n]=t,q[m]=r;return this};d.prototype.xBb=function(){var k=[];null==this.FI&&(this.FI=[]);for(var l=0;l<this.FI.length;++l)!0===this.FI[l]&&k.push(l);return k};d.prototype.C$b=function(k,l){k=this.M1(k);return this.zY(k,l)};d.prototype.xac=function(k,l){return k.every(function(m){return m!==l})};d.prototype.zY=function(k,l){var m=!1;if(!0===l&&null!=this.FI)for(l=
0;l<this.FI.length;++l)!0===this.FI[l]&&this.xac(k,l)&&(m=!0,this.FI[l]=!1);null==this.FI&&(this.FI=[]);for(l=0;l<k.length;++l)!0!==this.FI[k[l]]&&(m=!0,this.FI[k[l]]=!0);m&&(this.nK=!1,this.ha());return this};d.prototype.M1=function(k){null==this.mN&&this.Jh();return this.mN.Js(k,this.dL,this.gL,null)};d.prototype.BQc=function(k){var l=[];k=this.M1(k);for(var m=0;m<k.length;++m){var n=k[m];l[m]={x:this.dL[n],y:this.gL[n],z:this.Baa[n]}}return l};d.prototype.ia=function(){var k=Pm.prototype.ia.call(this);
k.minx=this.jo;k.maxx=this.it;k.miny=this.ko;k.maxy=this.jt;k.colorprovider=this.yC;k.defaultcolor=this.XS;k.defaultlinecolor=this.tFa;k.highlightcolor=this.ERa;k.symbolsize=this.fE;k.painter=this.ul;k.x={min:this.jo,max:this.it};k.y={min:this.ko,max:this.jt};return k};d.prototype.dispose=function(){this.yC&&this.yC.za(Lo.ib,this.$Wb);Pm.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRDb2xvclByb3ZpZGVyIjoiRW4iLCJ1cGRhdGVTdGF0ZSI6InhhIiwidXBkYXRlTGltaXRzIjoiSmgiLCJzZXRTeW1ib2xQYWludGVyIjoiaTVkIiwiZ2V0U3ltYm9sUGFpbnRlciI6IkdMZCIsImlzQ2xpcHBpbmdFbmFibGVkIjoianUiLCJlbmFibGVDbGlwcGluZyI6ImJmIiwiZ2V0SGlnaGxpZ2h0ZWRJbmRpY2VzIjoieEJiIiwiaGlnaGxpZ2h0QXJlYSI6IkMkYiIsImhpZ2hsaWdodEluZGljZXMiOiJ6WSIsImdldEluZGljZXNBdCI6Ik0xIiwiZ2V0UG9pbnRzQXQiOiJCUWMiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var QQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.B9c=function(a,b,c){var e=Math.sqrt(50),f=Math.sqrt(10),g=Math.sqrt(2);b=(b-a)/Math.max(0,c);a=Math.floor(Math.log(b)/Math.LN10);b/=Math.pow(10,a);return 0<=a?(b>=e?10:b>=f?5:b>=g?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(b>=e?10:b>=f?5:b>=g?2:1)};d.Hh=function(a,b,c){var e=arguments.length;a=+a;b=+b;c=2>e?(b=a,a=0,1):3>e?1:+c;e=-1;for(var f=Math.max(0,Math.ceil((b-a)/c))|0,g=Array(f);++e<f;)g[e]=a+e*c;return g};d.bya=function(a,b){var c,e,f;if(void 0===b)for(f=0;f<a.length;f++){var g=
a[f];null!=g&&(void 0===c?g>=g&&(c=e=g):(c>g&&(c=g),e<g&&(e=g)))}else{var h=-1;for(f=0;f<a.length;f++)g=a[f],null!=(g=b(g,++h,a))&&(void 0===c?g>=g&&(c=e=g):(c>g&&(c=g),e<g&&(e=g)))}return[c,e]};d.C9c=function(a,b,c){var e,f=-1,g;b=+b;a=+a;c=+c;if(a===b&&0<c)return[a];if(e=b<a){var h=a;a=b;b=h}if(0===(g=d.B9c(a,b,c))||!isFinite(g))return[];if(0<g)for(c=Math.round(a/g),h=Math.round(b/g),c*g<a&&++c,h*g>b&&--h,a=Array(h=h-c+1);++f<h;)a[f]=(c+f)*g;else for(g=-g,c=Math.round(a*g),h=Math.round(b*g),c/g<
a&&++c,h/g>b&&--h,a=Array(h=h-c+1);++f<h;)a[f]=(c+f)/g;e&&a.reverse();return a};d.Hjc=function(a,b,c){var e=Math.sqrt(50),f=Math.sqrt(10),g=Math.sqrt(2),h=Math.abs(a-b)/Math.max(0,c);c=Math.pow(10,Math.floor(Math.log(h)/Math.LN10));h/=c;h>=e?c*=10:h>=f?c*=5:h>=g&&(c*=2);return b<a?-c:c};return d}(),1,"eyJ0aWNrSW5jcmVtZW50IjoiQjljIiwicmFuZ2UiOiJIaCIsInRpY2tzIjoiQzljIiwidGlja1N0ZXAiOiJIamMifSAg");var RQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(m){m=G(m,{dx:1,dy:1,thresholds:a,smooth:!0},!0);this.Jo=m.dx;this.Yq=m.dy;this.S5=m.thresholds;this.tUb=!1;this.SAc=null;this.Q4d(m.smooth)}function a(m){return Math.ceil(Math.log(c(m))/Math.LN2)+1}function b(m){for(var n=0,p=m.length,q=m[p-1][1]*m[0][0]-m[p-1][0]*m[0][1];++n<p;)q+=m[n-1][1]*m[n][0]-m[n-1][0]*m[n][1];return q}function c(m,n){var p=0,q;if(void 0===n)for(q=0;q<m;q++){var r=m[q];null!=r&&(r=+r)>=r&&++p}else{var t=-1;for(q=0;q<m;q++)r=m[q],null!=(r=n(r,++t,
m))&&(r=+r)>=r&&++p}return p}function e(m,n){for(var p=-1,q=n.length,r;++p<q;)if(r=f(m,n[p]))return r;return 0}function f(m,n){for(var p=n[0],q=n[1],r=-1,t=0,u=m.length,w=u-1;t<u;w=t++){var y=m[t],z=y[0],x=y[1];w=m[w];var C=w[0],A=w[1];if(g(y,w,n))return 0;x>q!==A>q&&p<(C-z)*(q-x)/(A-x)+z&&(r=-r)}return r}function g(m,n,p){var q=+(m[0]===n[0]);return k(m,n,p)&&h(m[q],p[q],n[q])}function h(m,n,p){return m<=n&&n<=p||p<=n&&n<=m}function k(m,n,p){return(n[0]-m[0])*(p[1]-m[1])===(p[0]-m[0])*(n[1]-m[1])}var l=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];d.prototype.wqd=function(m,n,p){m.forEach(function(q){var r=q[0],t=q[1],u=r|0,w=t|0,y=n[w*this.Jo+u];if(0<r&&r<this.Jo&&u===r){var z=n[w*this.Jo+u-1];q[0]=r+(p-z)/(y-z)-.5}0<t&&t<this.Yq&&
w===t&&(z=n[(w-1)*this.Jo+u],q[1]=t+(p-z)/(y-z)-.5)}.bind(this))};d.prototype.HMe=function(){return this.tUb};d.prototype.Q4d=function(m){this.SAc=(this.tUb=m)?this.wqd.bind(this):function(){}};d.prototype.index=function(m){return 2*m[0]+m[1]*(this.Jo+1)*4};d.prototype.setSize=function(m,n){this.Jo=Math.floor(m);this.Yq=Math.floor(n);return this};d.prototype.iDb=function(){return this.S5};d.prototype.Vjb=function(m){Array.isArray(m)?this.S5=m.slice():this.S5=m;return this};d.prototype.eDd=function(m,
n){var p=[],q=[];this.gVc(m,n,function(r){this.SAc(r,m,n);0<b(r)?p.push([r]):q.push(r)}.bind(this));q.forEach(function(r){for(var t=0,u=p.length,w;t<u;++t)if(-1!==e((w=p[t])[0],r)){w.push(r);break}});return{value:n,coordinates:p}};d.prototype.gVc=function(m,n,p){var q=this.Jo,r=this.Yq,t=[],u=[],w,y=function(B){var E=[B[0][0]+z,B[0][1]+w];B=[B[1][0]+z,B[1][1]+w];var H=this.index(E),F=this.index(B),I,J;(I=u[H])?(J=t[F])?(delete u[I.end],delete t[J.start],I===J?(I.P7.push(B),p(I.P7)):t[I.start]=u[J.end]=
{start:I.start,end:J.end,P7:I.P7.concat(J.P7)}):(delete u[I.end],I.P7.push(B),u[I.end=F]=I):(I=t[F])?(J=u[H])?(delete t[I.start],delete u[J.end],I===J?(I.P7.push(B),p(I.P7)):t[J.start]=u[I.end]={start:J.start,end:I.end,P7:J.P7.concat(I.P7)}):(delete t[I.start],I.P7.unshift(E),t[I.start=H]=I):t[H]=u[F]={start:H,end:F,P7:[E,B]}}.bind(this);var z=w=-1;var x=m[0]>=n;for(l[x<<1].forEach(y);++z<q-1;){var C=x;x=m[z+1]>=n;l[C|x<<1].forEach(y)}for(l[x<<0].forEach(y);++w<r-1;){z=-1;x=m[w*q+q]>=n;var A=m[w*
q]>=n;for(l[x<<1|A<<2].forEach(y);++z<q-1;){C=x;x=m[w*q+q+z+1]>=n;var v=A;A=m[w*q+z+1]>=n;l[C|x<<1|A<<2|v<<3].forEach(y)}l[x|A<<3].forEach(y)}z=-1;A=m[w*q]>=n;for(l[A<<2].forEach(y);++z<q-1;)v=A,A=m[w*q+z+1]>=n,l[A<<2|v<<3].forEach(y);l[A<<3].forEach(y)};d.prototype.Bdb=function(m){function n(t,u){return t-u}var p="function"===typeof this.S5?this.S5(m):this.S5;if(Array.isArray(p))p=p.slice().sort(n);else{var q=QQ.bya(m),r=QQ.Hjc(q[0],q[1],p);p=QQ.C9c(Math.floor(q[0]/r)*r,Math.floor(q[1]/r-1)*r,p)}return p.map(function(t){return this.eDd(m,
t)}.bind(this))};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUaHJlc2hvbGRzIjoiaURiIiwic2V0VGhyZXNob2xkcyI6IlZqYiIsImlzb3JpbmdzIjoiZ1ZjIiwiZ2V0Q29udG91cnMiOiJCZGIifX19");var SQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(g){g=G(g,{dimension:new Ud(960,500),cellsize:4,bandwidth:20,thresholds:40,x:[],y:[],weight:1,modellimits:null},!0);this.Jo=g.dimension.ca();this.Yq=g.dimension.da();this.dc=g.x;this.rc=g.y;this.Dh=g.modellimits||new U(f(this.dc),f(this.rc),e(this.dc),e(this.rc));this.SHa=g.weight;this.Aob=g.bandwidth;this.AQb=g.cellsize;this.LF=Math.round((Math.sqrt(4*this.Aob*this.Aob+1)-1)/2);this.pva=Math.floor(Math.log(this.AQb)/Math.LN2);this.S5=g.thresholds;this.xi=3*this.LF;this.Pp=
this.Jo+2*this.xi>>this.pva;this.Usb=this.Yq+2*this.xi>>this.pva;this.F8a=this.vF=null;this.$ub()}function a(g,h,k){for(var l=g.width,m=g.height,n=(k<<1)+1,p=0;p<l;++p)for(var q=0,r=0;q<m+k;++q)q<m&&(r+=g.data[p+q*l]),q>=k&&(q>=n&&(r-=g.data[p+(q-n)*l]),h.data[p+(q-k)*l]=r/Math.min(q+1,m-1+n-q,n))}function b(g,h,k){for(var l=g.width,m=g.height,n=(k<<1)+1,p=0;p<m;++p)for(var q=0,r=0;q<l+k;++q)q<l&&(r+=g.data[q+p*l]),q>=k&&(q>=n&&(r-=g.data[q-n+p*l]),h.data[q-k+p*l]=r/Math.min(q+1,l-1+n-q,n))}function c(g,
h,k,l){if(null==k||null==l)return null;for(var m=0,n=0;n<k.length;n++)m+=Math.pow(g-k[n],2)+Math.pow(h-l[n],2);g=Math.sqrt(m);return k.length/g}function e(g,h){var k,l;if(void 0===h)for(k=0;k<g.length;k++){var m=g[k];null!=m&&(l<m||void 0===l&&m>=m)&&(l=m)}else{var n=-1;for(k=0;k<g.length;k++)m=g[k],null!=(m=h(m,++n,g))&&(l<m||void 0===l&&m>=m)&&(l=m)}return l}function f(g,h){var k,l;if(void 0===h)for(k=0;k<g.length;k++){var m=g[k];null!=m&&(l>m||void 0===l&&m>=m)&&(l=m)}else{var n=-1;for(k=0;k<g.length;k++)m=
g[k],null!=(m=h(m,++n,g))&&(l>m||void 0===l&&m>=m)&&(l=m)}return l}D(d,te);L(d,"geotoolkit.controls.util.density.DensityGrid");d.prototype.getX=function(){return this.dc};d.prototype.setX=function(g){this.dc=g;this.x4a=this.Uob=null;return this.aGa()};d.prototype.hc=function(){return this.Uob};d.prototype.getY=function(){return this.rc};d.prototype.setY=function(g){this.rc=g;this.x4a=this.Vob=null;return this.aGa()};d.prototype.Dc=function(){return this.Vob};d.prototype.hLc=function(){null==this.x4a&&
(this.x4a=c(this.Uob,this.Vob,this.dc,this.rc));return this.x4a};d.prototype.setValues=function(g,h){this.dc=g;this.rc=h;this.x4a=this.Vob=this.Uob=null;return this.aGa()};d.prototype.oa=function(){return this.Dh};d.prototype.Ha=function(g){this.Dh=g||new U(f(this.dc),f(this.rc),e(this.dc),e(this.rc));return this.aGa()};d.prototype.lqa=function(){return this.SHa};d.prototype.AQe=function(g){if(this.SHa===g)return this;this.SHa=g;return this.aGa()};d.prototype.HNc=function(){return new Ud(this.Jo,
this.Yq)};d.prototype.t3c=function(g){if(null==g)throw Error("invalid dimension");this.Jo=g.ca();this.Yq=g.da();return this.$ub()};d.prototype.yL=function(){return new Ud(this.Pp,this.Usb)};d.prototype.S5b=function(){return this.AQb};d.prototype.E1c=function(g){if(this.S5b()===g)return this;this.AQb=g;this.pva=Math.floor(Math.log(g)/Math.LN2);return this.$ub()};d.prototype.iDb=function(){return this.S5};d.prototype.Vjb=function(g){if(this.S5===g)return this;Array.isArray(g)?this.S5=g.slice():this.S5=
g;return this.aGa()};d.prototype.F5b=function(){return this.Aob};d.prototype.q1c=function(g){if(this.F5b()===g)return this;if(0>g)throw Error("invalid bandwidth");this.Aob=g;this.LF=Math.round((Math.sqrt(4*g*g+1)-1)/2);return this.$ub()};d.prototype.INc=function(){var g=new U(0,0,this.Jo,this.Yq),h=this.Dh;g=X.Vd(h,g);h=this.pva;var k=this.xi;k=X.jf(-k,-k);h=X.Cl(Math.pow(2,h),Math.pow(2,h));h=X.multiply(k,h);return g=X.multiply(g.xc(),h)};d.prototype.aGa=function(){null!=this.F8a&&this.F8a++;this.vF=
this.CRb=null;this.notify(ze.gf,this,null);return this};d.prototype.$ub=function(){this.xi=3*this.LF;this.Pp=this.Jo+2*this.xi>>this.pva;this.Usb=this.Yq+2*this.xi>>this.pva;this.aGa();return this};d.prototype.aud=function(){var g=this.dc,h=this.rc,k=this.SHa,l=this.pva,m=this.xi,n=this.Pp,p=this.Usb,q=new Float32Array(n*p),r=new Float32Array(n*p),t=Math.pow(2,-l);var u=new U(0,0,this.Jo,this.Yq);var w=this.Dh;null==w&&(w=new U(f(g),f(h),e(g),e(h)));w=X.Vd(w,u);var y=0,z=0;for(u=0;u<g.length;u++){var x=
g[u],C=h[u];y+=x;z+=C;x=w.Pc(x,C);var A=(x.x+m)*t,v=(x.y+m)*t;x=k;if(0<=A&&A<n&&0<=v&&v<p){C=Math.floor(A);var B=Math.floor(v);A=A-C-.5;v=v-B-.5;q[C+B*n]+=(1-A)*(1-v)*x;q[C+1+B*n]+=A*(1-v)*x;q[C+1+(B+1)*n]+=A*v*x;q[C+(B+1)*n]+=(1-A)*v*x}}this.Uob=y/g.length;this.Vob=z/h.length;g=this.LF;h=3;for(u=0;u<h;u++)b({width:n,height:p,data:q},{width:n,height:p,data:r},g>>l),a({width:n,height:p,data:r},{width:n,height:p,data:q},g>>l);return q};d.prototype.Idb=function(){null==this.CRb&&(this.CRb=this.aud());
return this.CRb};d.prototype.fEd=function(g,h){var k=this.Idb();return k[h*this.Pp+g]};d.prototype.Bdb=function(){function g(w){w.value*=Math.pow(2,-2*p);w.coordinates.forEach(h);return w}function h(w){w.forEach(k)}function k(w){w.forEach(l)}function l(w){var y=n.Pc(w[0],w[1]);w[0]=y.x;w[1]=y.y}if(null!=this.vF)return this.vF;var m=this.Idb(),n=this.INc(),p=this.pva,q=this.Pp,r=this.Usb,t=this.S5;t="function"===typeof t?t(m):t;if(!Array.isArray(t)){var u=e(m);t=QQ.Hjc(0,u,t);t=QQ.Hh(0,Math.floor(u/
t)*t,t);t.shift()}m=(new RQ).setSize(q,r).Vjb(t).Bdb(m);return this.vF=m=m.map(g)};d.prototype.ia=function(){return{dimension:this.HNc(),cellsize:this.S5b(),bandwidth:this.F5b(),thresholds:this.iDb(),x:this.getX(),y:this.getY(),modellimits:this.oa()}};d.prototype.fa=function(g){g=jc(g);if(null==g)return this;var h=this.Wo();this.ze(!0);this.F8a=0;g.dimension&&this.t3c(g.dimension);g.cellsize&&this.E1c(g.cellsize);g.bandwidth&&this.q1c(g.bandwidth);g.thresholds&&this.Vjb(g.thresholds);g.hasOwnProperty("x")&&
this.setX(g.x);g.hasOwnProperty("y")&&this.setY(g.y);g.hasOwnProperty("modellimits")&&this.Ha(g.modellimits);this.ze(h);0<this.F8a&&!0!==h&&this.notify(ze.gf,this,null);this.F8a=null;return this};d.Qe=function(g,h,k,l,m){if(void 0===k&&!0===l)return h;if(null!=h&&null!=k&&!0===l)k instanceof d&&(k=k.ia()),h.fa(k);else if(null!=h&&null!=g&&null!=m&&h.za(ze.gf,m),h=d.Ra(k),null!=h&&null!=g&&null!=m)h.on(ze.gf,m);return h};d.Ra=function(g){return g instanceof d||null==g?g:new d(g)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDZW50ZXJYIjoiaGMiLCJnZXRDZW50ZXJZIjoiRGMiLCJnZXRBdmVyYWdlRGlzdGFuY2UiOiJoTGMiLCJnZXRNb2RlbExpbWl0cyI6Im9hIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsImdldEdyaWREaW1lbnNpb24iOiJITmMiLCJzZXRHcmlkRGltZW5zaW9uIjoidDNjIiwiZ2V0R3JpZFNpemUiOiJ5TCIsImdldENlbGxTaXplIjoiUzViIiwic2V0Q2VsbFNpemUiOiJFMWMiLCJnZXRUaHJlc2hvbGRzIjoiaURiIiwic2V0VGhyZXNob2xkcyI6IlZqYiIsImdldEJhbmR3aWR0aCI6IkY1YiIsInNldEJhbmR3aWR0aCI6InExYyIsImdldEdyaWRUb01vZGVsVHJhbnNmb3JtYXRpb24iOiJJTmMiLCJnZXREZW5zaXR5VmFsdWVzIjoiSWRiIiwiZ2V0RGVuc2l0eVZhbHVlQXQiOiJmRWQiLCJnZXRDb250b3VycyI6IkJkYiIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSJ9fX0g");var TQ=/*#__PURE__*/ta(/*#__PURE__*/{Path:"path",TV:"spline"},2,"eyJTcGxpbmUiOiJUViJ9"),UQ=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e){e=G(e,{grid:null,linestyle:b.clone(),fillstyle:c.clone(),bandspacing:0,bandopacity:1,colorprovider:null,geometry:d.JOa.Path},!0);Ag.call(this,e);this.vF=this.gnd=this.PG=this.Va=null;this.Gta=e.bandspacing;this.Fta=e.bandopacity;this.Ac=e.colorprovider;this.h$=!1;this.$S=e.geometry;this.myc=function(){this.ha();this.vF=this.bac(this.PG,this.$S);this.h$=!1;this.Dh=null!=this.PG?this.PG.oa():null;this.ha()}.bind(this);this.Jfc(e.grid)}var a=
"density",b=(new xd("black")).dC(.5),c=(new xd("black")).dC(.1);L(d,"geotoolkit.controls.shapes.density.DensityContourShape");D(d,Ag);d.JOa=TQ;d.prototype.dispose=function(){this.te()||(null!=this.PG&&(this.PG.za(ze.gf,this.myc),this.PG=null),Ag.prototype.dispose.call(this))};d.prototype.clone=function(){return Object.getPrototypeOf(this)!==d.prototype?Cb(this):(new d({grid:this.PG,bandspacing:this.Gta,bandopacity:this.Fta,colorprovider:this.Ac,geometry:this.$S})).Ba(this,!0)};d.prototype.Ba=function(e,
f){!0===f&&Ag.prototype.Ba.call(this,e,f);return this};d.prototype.bac=function(e,f){if(null==e)return null;e=e.Bdb();for(var g=this.eb(),h=this.Fa(),k=[],l=0;l<e.length;l++){var m=e[l],n=m.coordinates,p=null;f===d.JOa.Path&&(p=(new $g({fillstyle:g,linestyle:h})).setProperty(a,m.value),k.push(p));for(var q,r=0;r<n.length;r++)for(var t=0;t<n[r].length;t++){var u=n[r][t];if(f===d.JOa.Path){p.moveTo(u[0][0],u[0][1]);for(q=0;q<u.length;q++)p.lineTo(u[q][0],u[q][1]);p.close()}else{var w=[],y=[];for(q=
0;q<u.length;q++)w.push(u[q][0]),y.push(u[q][1]);q=(new io({x:w,y:y,fillstyle:g,linestyle:h})).setProperty(a,m.value);k.push(q)}}}return k};d.prototype.o8d=function(){this.h$=!0;var e=null!=this.vF?this.vF.length:0;if(0===e)return this;var f,g=this.Gta;var h=this.Fta;var k=this.Fa(),l=this.eb();if(0===g||null!=this.Ac){for(h=0;h<e;h++){if(this.Ac)if(g=this.vF[h].hu(a),g=this.Ac.mb(g),null==g)k=this.Fa(),l=this.eb();else{var m=g.clone().setColor(.7*g.Xj(),.7*g.Wj(),.7*g.Vj());k=null!=k?k.clone().setColor(m):
null;l=null!=l?l.clone().setColor(g):null}this.vF[h].qa(k).ra(l)}return this}l=l?new xd(l.mb()):null;m=(k=k?new xd(k.mb()):null)?k.clone().dC(.2):null;var n=this.PG.hLc();n=X.Vd(new U(0,0,e,e),new U(h/100,h/100,n/50,n/50));var p=this.vF;if(this.$S===d.JOa.TV){p=[];for(h=0;h<e;h++){var q=this.vF[h];var r=q.hu(a);var t=null;for(f=0;f<p.length;f++)if(W.equals(p[f].density,r)){t=p[f];break}null==t?(t={density:r,IGc:[q]},p.push(t)):t.IGc.push(q)}e=p.length}for(h=0;h<e;h++){f=n.Pc(h,h).x;r=0===(h+g)%g?
k:m;var u=0===(h+g)%g?l.clone().dC(f):null;if(this.$S===d.JOa.Path)p[h].qa(r).ra(u);else for(t=p[h].IGc,f=0;f<t.length;f++)q=t[f],q.qa(r).ra(u)}return this};d.prototype.eEd=function(){return this.PG};d.prototype.Jfc=function(e,f){if(this.PG===e)return this;this.ha();var g=this.PG;this.PG=SQ.Qe(this,this.PG,e,f,this.myc);null!=this.PG?(g!==this.PG&&(this.vF=this.bac(this.PG,this.$S)),this.Dh=null!=this.PG?this.PG.oa():null,this.h$=!1):this.Dh=this.vF=null;this.ha();return this};d.prototype.Idb=function(){return null==
this.vF?null:this.vF.map(function(e){return e.PLe()})};d.prototype.En=function(){return this.Ac};d.prototype.Ps=function(e){if(this.Ac===e)return this;this.Ac=e;this.h$=!1;this.ha();return this};d.prototype.$d=function(){return this.$S};d.prototype.Fm=function(e){if(this.$S===e)return this;this.$S=e;this.vF=this.bac(this.PG,this.$S);this.h$=!1;this.ha();return this};d.prototype.cCd=function(){return this.Gta};d.prototype.p1c=function(e){if(this.Gta===e)return this;this.Gta=e;this.h$=!1;this.ha();
return this};d.prototype.bCd=function(){return this.Fta};d.prototype.o1c=function(e){if(this.Fta===e)return this;this.Fta=e;this.h$=!1;this.ha();return this};d.prototype.n0d=function(e){if(null==e||e.bandspacing===this.Gta&&e.bandopacity===this.Fta)return this;null!=e.bandspacing&&(this.Gta=e.bandspacing);null!=e.bandopacity&&(this.Fta=e.bandopacity);this.h$=!1;this.ha();return this};d.prototype.ga=function(){return this.Va||this.gnd};d.prototype.render=function(e){if(null!=this.vF&&0!==this.vF.length){this.h$||
this.o8d();e=null!=this.Sa()?e.bc(this.Sa()):e;for(var f=0;f<this.vF.length;f++)this.vF[f].render(e)}};d.prototype.xa=function(e,f){Ag.prototype.xa.call(this,e,f);f===De.Wka&&(this.h$=!1);return this};d.prototype.tb=function(){null===this.Pl&&(this.Pl=function(e,f,g){this.h$=!1;return this.ha()}.bind(this));return this.Pl};d.prototype.ia=function(){var e=Ag.prototype.ia.call(this);e.grid=this.PG;e.bandspacing=this.Gta;e.bandopacity=this.Fta;e.colorprovider=this.Ac;e.geometry=this.$S;return e};d.prototype.fa=
function(e){e=jc(e);if(null==e)return this;Ag.prototype.fa.call(this,e);void 0!==e.grid&&this.Jfc(e.grid,!1===e.grid instanceof SQ);null!=e.bandspacing&&this.p1c(e.bandspacing);null!=e.bandopacity&&this.o1c(e.bandopacity);void 0!==e.colorprovider&&this.Ps(e.colorprovider);null!=e.geometry&&this.Fm(e.geometry);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsImdldERlbnNpdHlHcmlkIjoiZUVkIiwic2V0RGVuc2l0eUdyaWQiOiJKZmMiLCJnZXREZW5zaXR5VmFsdWVzIjoiSWRiIiwiZ2V0Q29sb3JQcm92aWRlciI6IkVuIiwic2V0Q29sb3JQcm92aWRlciI6IlBzIiwiZ2V0R2VvbWV0cnkiOiIkZCIsInNldEdlb21ldHJ5IjoiRm0iLCJnZXRCYW5kU3BhY2luZyI6ImNDZCIsInNldEJhbmRTcGFjaW5nIjoicDFjIiwiZ2V0QmFuZE9wYWNpdHkiOiJiQ2QiLCJzZXRCYW5kT3BhY2l0eSI6Im8xYyIsInNldEJhbmRPcHRpb25zIjoibjBkIiwiZ2V0Qm91bmRzIjoiZ2EiLCJ1cGRhdGVTdGF0ZSI6InhhIiwiZ2V0SW52YWxpZGF0ZU1ldGhvZCI6InRiIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var VQ=/*#__PURE__*/ta(/*#__PURE__*/{YNb:"Pie2D",v3a:"Pie3D"},2,"eyJQaWUyRCI6IllOYiIsIlBpZTNEIjoidjNhIn0g"),WQ=/*#__PURE__*/ta(/*#__PURE__*/{Epc:"radius",mpc:"padded",Kmc:"dynamic",Gl:"auto"},2,"eyJSYWRpdXMiOiJFcGMiLCJQYWRkZWQiOiJtcGMiLCJEeW5hbWljIjoiS21jIiwiQXV0byI6IkdsIn0g"),XQ=/*#__PURE__*/ta(/*#__PURE__*/{Ska:"Raw",ika:"Associative"},2,"eyJSYXciOiJTa2EiLCJBc3NvY2lhdGl2ZSI6ImlrYSJ9"),YQ=/*#__PURE__*/ta(/*#__PURE__*/{Ok:"Inside",kp:"Outside"},2,"eyJJbnNpZGUiOiJPayIsIk91dHNpZGUiOiJrcCJ9"),ZQ=/*#__PURE__*/ta(/*#__PURE__*/{yb:"Horizontal",gOb:"Radial"},2,"eyJIb3Jpem9udGFsIjoieWIiLCJSYWRpYWwiOiJnT2IifSAg"),$Q=/*#__PURE__*/ta(/*#__PURE__*/{Plb:"Clockwise",Ncd:"CounterClockwise"},2,"eyJDbG9ja3dpc2UiOiJQbGIiLCJDb3VudGVyQ2xvY2t3aXNlIjoiTmNkIn0g"),aR=/*#__PURE__*/ta(/*#__PURE__*/{iC:"Ascending",mF:"Descending",Xoc:"Natural"},2,"eyJBc2NlbmRpbmciOiJpQyIsIkRlc2NlbmRpbmciOiJtRiIsIk5hdHVyYWwiOiJYb2MifSAg"),bR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(v,B){ni.call(this);this.OYb={};null==v&&(v={});var E=this,H={outerradius:150,maxouterradius:150,innerradius:25,piemode:d.ZCa.YNb,startangle:0,direction:d.Mi.Plb,minpercentage:0,maxslices:0,linestyle:new Y("lightgrey"),
autogradient:!1,fillstyles:[],"selected-fillstyles":[],createselectedstyle:g,showpercentagesthreshold:0,modellimitsmode:d.n3a.Epc,label:{hideifdontfit:!1,format:function(F,I){return F+" ("+(100*I/E.$ja).toFixed(2)+"%)"},location:d.L3.Ok,direction:d.TOa.yb,textstyle:(new Fi).yo("10pt Roboto"),preservereadingorientation:!0,ispointingup:!0,preserverightangle:!0,preserveaspectratio:!0},outsideline:{linestyle:new Y("lightgrey"),length:10,pad:2},sliceshift:{offsets:[]},depth3d:30,inclination3d:60};this.options=
{};this.bXb=this.gTd.bind(this);v=xb(v,H);this.setOptions(v);this.$ja=0;this.slices=[];this.r4a=[];this.s4a=[];this.XFa={label:[],annulusArc:[],stripArc:[],rect:[],line:[]};this.Moa=null;this.data={mode:d.dK.Ska,order:d.zCa.mF,values:[]};B&&this.setData(B)}function a(v,B,E,H){for(var F=0;F<B.length;++F){var I=E[B[F]];if(null!=I&&0!==I){var J=v[H[B[F]]];J.label.mq(J.label.Cm()+I);J.hra.$l().translate(0,I)}}}function b(v,B,E){return v.sort(function(H,F){var I=H.outerArc.ia();H=I.startarc;I=I.endarc;
if(H>B&&I<B)return-E;var J=F.outerArc.ia();F=J.startarc;J=J.endarc;if(F>B&&J<B)return E;H=(H+I)/2;I=(F+J)/2;H=Math.abs(B-H);I=Math.abs(B-I);return H>I?E:-E})}function c(v){var B=Math.ceil(v/r)-1;v-=B*r;return 0>v?v+r:v}function e(v,B,E,H){for(var F=Math.PI,I=[],J=v,K=(Math.floor(v/F)+1)*F,M=[E];J<B;){if(K>=B){M=null==M?[H]:Math.sin(v)<Math.sin(B)?[E,H]:[H,E];I.push(f(J,B,M));break}I.push(f(J,K,M));J=K;K+=F;M=null}return I}function f(v,B,E){if(v>r||B>r)v-=r,B-=r;if(0>v||0>B)v+=r,B+=r;return{start:v,
end:B,XH:E||[]}}function g(v){var B=Pd.Rg(v.mb());v=B.Xj();var E=B.Wj();B=B.Vj();var H=Math.max(v,E,B);v===H?(v=(255+v)/2,E/=2,B/=2):E===H?(E=(255+E)/2,v/=2,B/=2):(B=(255+B)/2,v/=2,E/=2);v=new xd(v,E,B);return new rf(v)}function h(v){v=Pd.Rg(v);var B=new Oe(v);v=B.clone();v.Caa(-.2);v.LN(.2);v=v.bP().um();B.Caa(.2);B.LN(-.2);B=B.bP().um();B=new og({startcolor:B,endcolor:B});B.Mo(.5,v);return B}function k(v,B){return B.value-v.value}var l=90,m=180,n=270,p=360,q=Math.PI/180,r=2*Math.PI,t=3*Math.PI/
2,u=Math.PI/2,w=new U,y=20,z={label:ek,annulusArc:Hm,stripArc:jo,rect:ho,line:Bk},x=function(){function v(B){ud.call(this,B);this.Uv=ee.ya()}D(v,ud);v.prototype.Ym=function(B,E){return"data"===B.attributeName&&E instanceof d};v.prototype.$F=function(B){return(B=B.getData().values)&&0<Object.keys(B).length?B:null};v.prototype.apply=function(B){B.setData({values:this.nd.current})};return v}(),C=function(){function v(B){ud.call(this,B);this.Uv=yd.ya()}D(v,ud);v.prototype.Ym=function(B,E){return"labelTextColor"===
B.attributeName&&E instanceof d};v.prototype.$F=function(B){B=B.ia();return B.label&&B.label.textstyle&&B.label.textstyle.mb()};v.prototype.apply=function(B){B=B.ia();B.label&&B.label.textstyle&&B.label.textstyle.setColor(this.nd.current)};return v}(),A=function(){function v(B){ud.call(this,B);this.Uv=ee.ya()}D(v,ud);v.prototype.Ym=function(B,E){return"radius"===B.attributeName&&E instanceof d};v.prototype.$F=function(B){B=B.ta();return null!=B?{outerradius:B.outerradius,innerradius:B.innerradius}:
null};v.prototype.apply=function(B){B.setOptions({outerradius:this.wya().outerradius,innerradius:this.wya().innerradius})};return v}();D(d,ni);L(d,"geotoolkit.controls.shapes.DonutChart");pe.ya().YH(x);pe.ya().YH(C);pe.ya().YH(A);d.prototype.setData=function(v){v||(v={mode:d.dK.Ska,order:d.zCa.mF,values:[]});if(v.values instanceof DH||v.values instanceof RH)v.values!==this.Moa?(null!=this.Moa&&this.Moa.za(uH.Td,this.bXb),this.Moa=v.values,this.Moa.on(uH.Td,this.bXb),v.values=this.Moa.toArray(!0)):
delete v.values;G(v,this.data);this.Szb();this.xa();this.ha();this.notify(ze.gf,this);return this};d.prototype.getData=function(){return this.data};d.prototype.gTd=function(){var v=this.Moa.toArray(!0);this.setData({values:v})};d.prototype.ta=function(){return xb(this.options,{})};d.prototype.setOptions=function(v){this.options=xb(v,this.options);this.options.label.textstyle=Fi.Ra(this.options.label.textstyle);this.options.maxouterradius<this.options.outerradius&&(this.options.maxouterradius=this.options.outerradius);
this.Szb();this.xa().ha();this.notify(ze.gf,this);return this};d.ZCa=VQ;d.n3a=WQ;d.dK=XQ;d.L3=YQ;d.TOa=ZQ;d.Mi=$Q;d.zCa=aR;d.prototype.q0c=function(){var v=this.slices,B=this;this.slices=[];v.forEach(function(E){B.oMa("annulusArc",E.arc);null!=E.arcBottom&&B.oMa("annulusArc",E.arcBottom);null!=E.hra&&B.oMa("line",E.hra);E.label instanceof ek&&B.oMa("label",E.label)})};d.prototype.Yyd=function(){function v(E){E.dispose()}for(var B in this.XFa)this.XFa[B].forEach(v),this.XFa[B]=[]};d.prototype.Szb=
function(){if(this.data){this.q0c();var v,B,E=this.data.values;if(this.data.mode===d.dK.Ska){this.$ja=E.length;var H={};for(v=0;v<this.$ja;v++)H[E[v]]=H[E[v]]+1||1}else if(this.data.mode===d.dK.ika)for(B in this.$ja=0,H=E,E)E.hasOwnProperty(B)&&0<E[B]&&(this.$ja+=E[B]);else throw Error("Unknown DonutChart Data Mode Enum :"+this.data.mode);var F={label:"Other",value:0},I=[];v=this.options.minpercentage*this.$ja/100;for(var J in H)H.hasOwnProperty(J)&&(H[J]<v?F.value+=H[J]:I.push({label:J,value:H[J]}));
I.sort(k);v=I.length+(0<F.value?1:0);if(0<this.options.maxslices&&v>this.options.maxslices)for(v=I.length+1-this.options.maxslices,H=0;H<v;++H)J=I.pop(),F.value+=J.value;0<F.value&&I.push(F);if(this.data.order===d.zCa.Xoc){H={};var K=I.map(function(M){return M.label});if(this.data.mode===d.dK.Ska)for(v=0;v<this.data.values.length;++v)H[this.data.values[v]]||(J=K.indexOf(this.data.values[v]),-1<J&&(this.slices.push(I[J]),H[K[J]]=!0));else if(this.data.mode===d.dK.ika)for(B in E)E.hasOwnProperty(B)&&
(J=K.indexOf(B),-1<J&&this.slices.push(I[J]));0<F.value&&this.slices.push(F)}else this.data.order===d.zCa.iC?this.slices=I.reverse():this.data.order===d.zCa.mF&&(this.slices=I);this.XDb();this.tBd()}};d.prototype.p0c=function(){function v(H){null!=H.outerArc&&E.oMa("stripArc",H.outerArc);null!=H.innerArc&&E.oMa("stripArc",H.innerArc);null!=H.zXd&&H.zXd.forEach(B)}function B(H){E.oMa("rect",H)}var E=this;this.r4a.forEach(v);this.s4a.forEach(v);this.r4a=[];this.s4a=[]};d.prototype.tBd=function(){this.p0c();
var v=this.options.startangle,B=this.options.sliceshift.offsets,E=this.options.outerradius,H=-E,F=-E,I=E,J=E;if(this.options.piemode===d.ZCa.v3a){this.XHa=this.options.inclination3d/90;var K=this.options.depth3d/this.XHa;var M=X.Cl(1,this.XHa)}else this.XHa=1,M=null;for(var P=0;P<this.slices.length;P++){this.slices[P].AYc=this.slices[P].value/this.$ja;var R=this.slices[P].AYc*p;R=v+R;this.uBd(this.slices[P],v,R);var Q=this.slices[P].start*q,V=this.slices[P].end*q;this.cxd(P,M);v=M;var Z=null;null!=
B&&0!==B[P]&&null!=B[P]&&(Z=this.mud(this.slices[P],P));null!=Z&&(H=Math.min(-E+Z.x,H),F=Math.min(-E+Z.y,F),I=Math.max(E+Z.x,I),J=Math.max(E+Z.y,J),v=null!=M?M.clone().translate(Z.x,Z.y):X.jf(Z.x,Z.y));this.slices[P].arc=this.kza("annulusArc",{x:0,y:0,visible:0!==this.slices[P].value,outerradius:this.options.outerradius,innerradius:this.options.innerradius,startarc:Q,endarc:V,linestyle:this.options.linestyle},v);if(this.options.piemode===d.ZCa.v3a){this.slices[P].arcBottom=this.kza("annulusArc",{x:0,
y:K,outerradius:this.options.outerradius,innerradius:this.options.innerradius,startarc:Q,endarc:V,linestyle:this.options.linestyle},v);var aa=v.clone().FBa(0,Math.tan(Q));Z=v.clone().FBa(0,Math.tan(V));var na=Math.cos(Q),ya=Math.cos(V);aa=this.kza("rect",{left:this.options.innerradius*na,top:0,right:this.options.outerradius*na,bottom:K,linestyle:this.options.linestyle},aa);Z=this.kza("rect",{left:this.options.innerradius*ya,top:0,right:this.options.outerradius*ya,bottom:K,linestyle:this.options.linestyle},
Z);Q=e(Q,V,aa,Z);var va;for(V=0;V<Q.length;V++)0<this.options.innerradius&&(va=this.kza("stripArc",{outerradius:this.options.innerradius,startarc:Q[V].end,endarc:Q[V].start,height:K,linestyle:this.options.linestyle},v)),Z=this.kza("stripArc",{outerradius:this.options.outerradius,startarc:Q[V].end,endarc:Q[V].start,height:K,linestyle:this.options.linestyle},v),Z={slice:this.slices[P],outerArc:Z,innerArc:va,FZc:Q[V].XH,index:P},c(Q[V].end)>Math.PI?this.r4a.push(Z):this.s4a.push(Z)}v=R}b(this.r4a,t,
1);b(this.s4a,u,-1);this.options.modellimitsmode===d.n3a.Kmc?this.Ha(new U(H,F,I,J)):this.options.modellimitsmode===d.n3a.mpc?(E+=Math.max.apply(null,this.options.sliceshift.offsets),this.Ha(new U(-E,-E,E,E))):this.options.modellimitsmode===d.n3a.Gl?(B=this.options.maxouterradius,this.Ha(new U(-B,-B,B,B))):this.Ha(new U(-E,-E,E,E));this.Eud()};d.prototype.uBd=function(v,B,E){v.start=this.options.direction===d.Mi.Plb?B:p-E;v.cMa=v.start;0>v.cMa&&(v.cMa+=p);v.cMa>p&&(v.cMa-=p);v.end=this.options.direction===
d.Mi.Plb?E:p-B;v.bMa=v.end;0>v.bMa&&(v.bMa+=p);v.bMa>p&&(v.bMa-=p);B=(v.start+v.end)/2;B>p&&(B-=p);0>B&&(B+=p);v.mid=B;B*=q;v.Sqa=Math.sin(B);v.Rqa=Math.cos(B)};d.prototype.cxd=function(v,B){var E=this.slices[v];E.label instanceof ek||(E.q1b=E.label);var H=this.options.label.format;H=null!==H?H(E.q1b,E.value):null;null!==H&&""!==H&&(this.options.label.text=H,E.label=this.kza("label",this.options.label,B),this.oud(v),this.options.label.location!==d.L3.kp?E.label.yc(O.Oa):(E.label.yc(this.options.label.direction===
d.TOa.yb&&E.mid>=l&&E.mid<n?O.we:O.Bd),this.options.piemode===d.ZCa.v3a&&(E.hra.scale(1,this.XHa),0<=E.mid&&E.mid<m&&(E.hra.translate(0,this.options.depth3d),E.label.translate(0,this.options.depth3d)))))};d.prototype.kza=function(v,B,E){0===this.XFa[v].length?(v=z[v],v=new v(B)):(v=this.XFa[v].pop(),v.fa(B));v.Tc(E);return v};d.prototype.oMa=function(v,B){this.XFa[v].length<y?this.XFa[v].push(B):B.dispose()};d.prototype.Eud=function(){if(this.options.label.location===d.L3.kp&&this.options.label.direction===
d.TOa.yb&&0!==this.slices.length){for(var v=[],B=0,E=-Infinity,H=this.options.showpercentagesthreshold*this.$ja/100,F=0;F<this.slices.length;++F)if(this.slices[F].label instanceof ek){var I=this.slices[F].value>=H&&0!==this.slices[F].value;this.slices[F].label.va(I);this.slices[F].hra.va(I);I&&(v.push(F),E<this.slices[F].value&&(E=this.slices[F].value,B=v.length-1))}if(0!==v.length){E=this.wa();H=this.options.outerradius*this.options.outerradius;F=0;I=v.length;for(var J,K=this.slices[v[B]].label.ga(),
M=K,P={},R=[],Q=B,V=(B+1)%I;V!==B;V=(V+1)%I){J=this.slices[v[V]].label.ga();if(J.Dd(M)){F=F||(J.getY()>K.getY()?1:-1);var Z=null!=E?E.wd(J).da():J.da();Z=(P[Q]||0)+F*Z;0===R.length&&R.push(Q);M!==w&&(w.cb(K),M=w);Q=Math.min(Math.abs(J.ka()),Math.abs(J.na()));var aa=Math.min(Math.abs(K.la()+Z),Math.abs(K.ma()+Z));if(Q*Q+aa*aa>=H)P[V]=Z-(J.getY()-K.getY()),K=Math.min(M.getX(),J.getX()),Z=Math.max(M.na(),J.na()),Q=Math.min(M.getY(),J.getY()+P[V]),aa=Math.max(M.ma(),J.ma()+P[V]),M.cb(K,Q,Z,aa);else{Z=
0<M.getY()?J.ma()-M.getY():J.getY()-M.ma();for(K=0;K<R.length;++K)P[R[K]]=P[R[K]]||0,P[R[K]]+=Z;M.setY(M.getY()+Z);M.union(J)}R.push(V)}else M=J,0<R.length&&(a(this.slices,R,P,v),R=[],P={});K=J;Q=V}a(this.slices,R,P,v)}}};d.prototype.XDb=function(){this.Og=this.Og||{fillstyles:[],"selected-fillstyles":[]};this.options.fillstyles=this.options.fillstyles||[];this.options["selected-fillstyles"]=this.options["selected-fillstyles"]||[];for(var v=0;v<this.slices.length;v++){this.options.fillstyles[v]||
(this.options.fillstyles[v]=new rf(new xd(Math.round(127.5*(Math.random()+1)),Math.round(127.5*(Math.random()+1)),Math.round(127.5*(Math.random()+1)),255)));var B=ug.fd(this.options.fillstyles[v]);!0===this.options.autogradient&&(B=h(B.mb()));this.Og.fillstyles[v]=B;this.options["selected-fillstyles"][v]||(this.options["selected-fillstyles"][v]=this.options.createselectedstyle(B));B=ug.fd(this.options["selected-fillstyles"][v]);this.Og["selected-fillstyles"][v]=B}};d.prototype.oud=function(v){var B=
this.slices[v],E=this.options.sliceshift.offsets[v]||0;E=E||0;v=B.mid*q;var H=this.Sa(),F=B.label.ga(),I=this.options.innerradius+E,J=this.options.outerradius+E,K=(I+J)/2;if(this.options.label.location===d.L3.kp){F=J;J=F+this.options.outsideline.length;I=J+this.options.outsideline.pad;B.label.Jb(I*B.Rqa,I*B.Sqa);B.hra=this.kza("line",{from:new N(F*B.Rqa,F*B.Sqa),to:new N(J*B.Rqa,J*B.Sqa),linestyle:this.options.outsideline.linestyle},null);var M=!1}else if(this.options.label.direction===d.TOa.gOb){this.options.piemode===
d.ZCa.v3a&&(H=H?H.clone():new X,H.rotate(v,0,0).scale(1,this.XHa));I=new N(I*B.Rqa,I*B.Sqa);J=new N(J*B.Rqa,J*B.Sqa);H.Ma(I,I);H.Ma(J,J);var P=N.xf(I,J);(M=F.ca()>P)?(F=F.ca()/(2*P),F=new N(I.getX()+F*(J.getX()-I.getX()),I.getY()+F*(J.getY()-I.getY())),B.label.Jb(H.rd(F))):B.label.Jb(K*B.Rqa,K*B.Sqa)}else{F=H?H.wd(F):F;var R=B.start*q,Q=B.end*q,V=Math.sin(R);M=Math.tan(R);var Z=Math.sin(Q),aa=Math.tan(Q);H=I*V;P=I*Z;V*=J;Z*=J;var na=F.ca()/2,ya=F.da()/2,va=J*J,qa=I*I,Ja=[],Qa=E*B.Rqa;E*=B.Sqa;var Oa=
B.end-B.start===p,Ua=Oa?0:K*B.Rqa;K=Oa?0:K*B.Sqa;ya=[K-ya,K+ya];for(Oa=0;Oa<ya.length;Oa++){var bb=ya[Oa];bb>H!==bb>V&&Ja.push((bb-E)/M+Qa);bb>P!==bb>Z&&Ja.push((bb-E)/aa+Qa);var Ya=bb*bb;Ya<=va&&(bb=Math.sqrt(va-Ya),Ja.push(bb),Ja.push(-bb));Ya<=qa&&(bb=Math.sqrt(qa-Ya),Ja.push(bb),Ja.push(-bb))}aa=Math.max.apply(null,Ja.filter(function(tb){return tb<Ua}));Ja=Math.min.apply(null,Ja.filter(function(tb){return tb>Ua}));if(M=Ua-aa<na||Ja-Ua<na)Ua=(aa+Ja)/2,M=Ua-aa<na||Ja-Ua<na;M||(R=Math.cos(R),Q=Math.cos(Q),
I=w.cb(I*R,H,I*Q,P),I.cP(J*R,V),I.cP(J*Q,Z),B.start<l&&B.end>l&&I.cP(0,J),B.start<m&&B.end>m&&I.cP(-J,0),B.start<n&&B.end>n&&I.cP(0,-J),this.wa()&&this.wa().wd(I,I),M=!I.zA(F));B.label.Jb(Ua,K)}B.label.va(0!==B.value&&(!M||!this.options.label.hideifdontfit));this.options.label.direction===d.TOa.gOb&&(B.label.rotate(v,B.label.Wn(),B.label.Cm()),B.label.scale(1,this.XHa),B.label.mq(B.label.Cm()/this.XHa))};d.prototype.mud=function(v,B){return{x:this.options.sliceshift.offsets[B]*v.Rqa,y:this.options.sliceshift.offsets[B]*
v.Sqa}};d.prototype.PRc=function(v){return!0!==this.OYb[v]?this.Og.fillstyles[v]:this.Og["selected-fillstyles"][v]};d.prototype.m_c=function(v,B,E){for(var H=0;H<this.slices.length;++H){var F=this.slices[H][B],I=this.PRc(H);F&&(F.ra(I),v.filter(F)&&(E&&(F.Ht(H),v.Sh(F)),F.render(v),E&&v.Sh(null)))}};d.prototype.bZd=function(v){for(var B=0;B<this.slices.length;++B){var E=this.slices[B];E.hra&&v.filter(E.hra)&&E.hra.render(v);E.label instanceof ek&&v.filter(E.label)&&E.label.render(v)}};d.prototype.l_c=
function(v,B,E,H,F){for(var I=0;I<B.length;++I){var J=B[I],K=this.PRc(J.index),M=J[E];M&&(M.ra(K),v.filter(M)&&M.render(v));for(M=0;M<J.FZc.length;++M){var P=J.FZc[M];P.ra(K);v.filter(P)&&P.render(v)}if(M=J[H])M.ra(K),v.filter(M)&&(F&&(M.Ht(J.index),v.Sh(M)),M.render(v),F&&v.Sh(null))}};d.prototype.uj=function(v){if(!(0>=this.$ja||0>=this.options.outerradius)){this.Yh(v);for(var B=v.fc(),E=this.ac(),H=0;H<E;H++){var F=this.gb(H);v.filter(F)&&(B&&v.Sh(F),F.render(v))}this.S_c(v);this.yh(v)}};d.prototype.Ft=
function(v,B){var E=this;this.Yh(v);Hg.QN(this.Df(),function(H,F){v.filter(H)?(v.Sh(H),H.Fe(v,F)):F()},function(){E.S_c(v);E.yh(v);B()})};d.prototype.S_c=function(v){var B=v.fc();v.qa(null);this.options.piemode!==d.ZCa.YNb&&(this.m_c(v,"arcBottom"),this.l_c(v,this.r4a,"outerArc","innerArc"),this.l_c(v,this.s4a,"innerArc","outerArc",B));this.m_c(v,"arc",B);this.bZd(v)};d.prototype.sa=function(v){var B=this.ga();if(null!==B&&!B.Gi(v)||null!==v&&!v.Gi(B))ni.prototype.sa.call(this,v),this.Szb();return this};
d.prototype.pf=function(v){if(!this.options.sliceshift.offsets.some(function(H){return 0<H}))return ni.prototype.pf.call(this,v);var B=Xg.a2b(v,this.Fa()),E=this.ga();null!=E&&(E=E.clone(),E.bd(Math.max.apply(null,this.options.sliceshift.offsets)));return!0===this.Ia()&&Ag.j2(E,this.ob(),v.eg(),B)};d.prototype.Ha=function(v){var B=this.oa();if(null!==B&&!B.Gi(v)||null!==v&&!v.Gi(B))ni.prototype.Ha.call(this,v),this.Szb();return this};d.prototype.ia=function(){var v=ni.prototype.ia.call(this);xb(this.options,
v);return v};d.prototype.fa=function(v){if(null==v)return this;xb(v,this.options);v=jc(v);ni.prototype.fa.call(this,v);this.setOptions(v);return this};d.prototype.cLd=function(){return null==this.slices||null==this.slices.length?0:this.slices.length};d.prototype.bLd=function(v){var B=this.slices[v];return null==B?null:{label:B.q1b,value:B.value,percentage:B.AYc,color:this.options.fillstyles[v],angleDegStart:B.cMa,angleDegEnd:B.bMa}};d.prototype.Q_d=function(v,B,E){function H(J){if(null!==J){var K=
J.ng();null!==K&&0>F.indexOf(K)&&J instanceof Zg&&F.push(K)}}var F=[];var I=null!=this.parent?new Zj(this.parent.wa()):new Zj;I.soa(H,this,v,B,2);E&&this.yTc(F);return F};d.prototype.yTc=function(v,B){B||(this.OYb={});var E=this;v.forEach(function(H){E.OYb[H]=!0});this.ha();return this};d.prototype.dispose=function(){this.q0c();this.p0c();this.Yyd();this.Moa&&this.Moa.za(uH.Td,this.bXb);ni.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJyZW5kZXJDb250ZW50IjoidWoiLCJyZW5kZXJDb250ZW50QXN5bmMiOiJGdCIsInNldEJvdW5kcyI6InNhIiwiY2hlY2tDb2xsaXNpb24iOiJwZiIsInNldE1vZGVsTGltaXRzIjoiSGEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRTbGljZXNDb3VudCI6ImNMZCIsImdldFNsaWNlQnlJbmRleCI6ImJMZCIsInNlbGVjdFNsaWNlc0F0IjoiUV9kIiwiaGlnaGxpZ2h0U2xpY2VzIjoieVRjIn19fSAg");var dR=/*#__PURE__*/ta(/*#__PURE__*/{Pmb:"LegendItemOptionsChanged",Qmb:"LegendSourceStateChanged"},2,"eyJMZWdlbmRJdGVtT3B0aW9uc0NoYW5nZWQiOiJQbWIiLCJMZWdlbmRTb3VyY2VTdGF0ZUNoYW5nZWQiOiJRbWIifSAg"),eR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){te.call(this);this.Fk=a;this.Csb=xb(b,{})}D(d,te);L(d,"geotoolkit.controls.shapes.ShapeLegendAdapter");d.prototype.Kd=function(){return this.Fk};d.prototype.Jyb=Fb;d.Ka=dR;d.prototype.QOc=function(){return xb(this.Csb,{})};d.prototype.w2d=function(a){xb(a,this.Csb);a=xb(this.Csb,{});this.notify(d.Ka.Pmb,this.Fk,a);return this};d.prototype.dispose=function(){this.Csb=this.Fk=null;te.prototype.dispose.call(this)};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPYmplY3QiOiJLZCIsImNyZWF0ZUxlZ2VuZEl0ZW1zIjoiSnliIiwiZ2V0TGVnZW5kSXRlbU9wdGlvbnMiOiJRT2MiLCJzZXRMZWdlbmRJdGVtT3B0aW9ucyI6IncyZCJ9fX0g");var fR=/*#__PURE__*/ta(/*#__PURE__*/{hx:"change"},2,"eyJDaGFuZ2UiOiJoeCJ9"),gR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){ni.call(this);this.Fk=a}D(d,ni);L(d,"geotoolkit.controls.shapes.LegendItem");d.Ka=fR;d.prototype.Kd=function(){return this.Fk};d.prototype.Uz=function(a){this.Fk=a;return this};d.prototype.setOptions=function(a){return this};d.prototype.lh=Hb;d.prototype.dispose=function(){this.Fk=null;ni.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPYmplY3QiOiJLZCIsInNldE9iamVjdCI6IlV6IiwidXBkYXRlR2VvbWV0cnkiOiJsaCJ9fX0g");var hR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){gR.call(this,a);this.ea={text:"",textstyle:new Fi({color:"black",font:"9px Arial"}),margintext:2,internalpadding:4,alignment:O.Bd,background:{linestyle:null,fillstyle:null},symbol:{width:30,height:30,painter:Qn,linestyle:new Y,fillstyle:null}};this.hd(!0);this.bf(!0);this.nla=new ho;this.od=new Km;this.Bb=new ek;this.pa([this.nla,this.od,this.Bb]);this.setOptions(b)}D(d,gR);L(d,"geotoolkit.controls.shapes.SymbolLegendItem");d.prototype.Ba=function(a){this.nla=a.nla?
a.nla.clone():null;this.od=a.od?a.od.clone():null;this.Bb=a.Bb?a.Bb.clone():null;return this};d.prototype.ta=function(){return this.ea};d.prototype.setOptions=function(a){if(!a)return this;this.ea=xb(a,this.ea);this.ea.textstyle=Fi.Ra(this.ea.textstyle);var b=this.ea.internalpadding;a=this.ea.symbol.width;var c=sg.measureText(this.ea.text,this.ea.textstyle),e=c.ca()+a+2*b+2*this.ea.margintext;c=Math.max(this.ea.symbol.height,c.da())+2*b;this.Em(e);this.dm(c);if(this.ea.alignment===O.we){var f=e-a/
2-b;var g=this.ea.margintext}else f=a/2+b,g=a+this.ea.margintext+b;this.nla.sa(b,b,e-b,c-b).qa(this.ea.background.linestyle).ra(this.ea.background.fillstyle);b=Y.Ra(this.ea.symbol.linestyle);null!=b&&(b=b.clone().Zg(!0));e=ug.fd(this.ea.symbol.fillstyle);this.od.fa({ax:f,ay:c/2,width:a,height:this.ea.symbol.height,alignment:O.Oa,sizeisindevicespace:!1,painter:this.ea.symbol.painter,linestyle:b,fillstyle:e});this.Bb.fa({text:this.ea.text,ax:g,ay:c/2,textstyle:this.ea.textstyle,alignment:O.Bd});this.xa();
return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsImdldE9wdGlvbnMiOiJ0YSJ9fX0g");var iR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){eR.call(this,a,b);this.Iod=function(c,e,f){this.notify(dR.Qmb,e,f)}.bind(this);a.on(ze.gf,this.ZPc())}D(d,eR);L(d,"geotoolkit.controls.shapes.DonutChartLegendAdapter");d.prototype.Jyb=function(a){a=xb(a,this.QOc());for(var b=this.Kd(),c=[],e=0;e<b.slices.length;e++){xb({text:b.slices[e].q1b,symbol:{linestyle:b.options.linestyle,fillstyle:b.Og.fillstyles[e]}},a);var f=new hR(b,a);c.push(f)}return c};d.prototype.dispose=function(){var a=this.Kd();a.za(ze.gf,this.ZPc());
eR.prototype.dispose.call(this)};d.prototype.ZPc=function(){return this.Iod};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVMZWdlbmRJdGVtcyI6Ikp5YiJ9fX0g");var jR=/*#__PURE__*/ta(/*#__PURE__*/{fv:"STEP",Xda:"LINEARINBOUND",Yda:"LINEARLOOP",Smb:"LINEARMIRROR"},2,"eyJTdGVwIjoiZnYiLCJMaW5lYXJJbmJvdW5kIjoiWGRhIiwiTGluZWFyTG9vcCI6IllkYSIsIkxpbmVhck1pcnJvciI6IlNtYiJ9"),kR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f,g){if(f instanceof yH||Ob(f))f={data:f};null!=g&&(hb("Second argument is deprecated in geotoolkit.controls.shapes.HeatMap constructor since 2021.1 (3.3), use first one instead"),G(g,f));Zg.call(this,f);this.La=this.ja=null;this.Btb=this.Atb=!1;this.$i=Number.POSITIVE_INFINITY;this.Pi=Number.NEGATIVE_INFINITY;this.E5=this.w0=this.lv=this.kv=null;this.Ena=[[]];this.hvc=this.ivc=null;this.Erb=!1;this.op=
null;this.u0=this.o_=d.dz.fv;this.Nrb=this.cUb=!0;this.SFa=vd.Kgb();this.Ac=null;this.kz=[];this.Bw=this.Aw=0;this.EW=!1;this.cW=null;this.$rb=!1;this.g7a=new Fi;this.Rp=new ek;this.xb(!1);f&&f.data&&this.setData(f.data);this.setOptions(f);this.xb(!0)}function a(f){return!isNaN(parseFloat(f))&&isFinite(f)}var b=256,c=256,e=256;D(d,Zg);L(d,"geotoolkit.controls.shapes.HeatMap");d.dz=jR;d.prototype.fa=function(f){f=jc(f);if(null==f)return this;Zg.prototype.fa.call(this,f);this.setData(f.data);this.setOptions(f);
return this};d.prototype.ia=function(){var f=Zg.prototype.ia.call(this);return f=G(f,this.ta())};d.prototype.oa=function(){if(!this.ja)return null;if(this.o_===d.dz.Xda){var f=0;var g=this.kv-1}else this.o_===d.dz.Yda?(f=this.EW?0:Array.isArray(this.Aw)?0:this.Aw,g=this.kv+(this.EW?0:Array.isArray(this.Aw)?0:this.Aw)):(f=-.5+(this.EW?0:Array.isArray(this.Aw)?0:this.Aw),g=this.kv-.5+(this.EW?0:Array.isArray(this.Aw)?0:this.Aw));if(this.u0===d.dz.Xda){var h=0;var k=this.lv-1}else this.u0===d.dz.Yda?
(h=this.EW?0:Array.isArray(this.Bw)?0:this.Bw,k=this.lv+(this.EW?0:Array.isArray(this.Bw)?0:this.Bw)):(h=-.5+(this.EW?0:Array.isArray(this.Bw)?0:this.Bw),k=this.lv-.5+(this.EW?0:Array.isArray(this.Bw)?0:this.Bw));return new U(f,h,g,k)};d.prototype.sa=function(f){f instanceof U&&(this.La=f);return this};d.prototype.ga=function(){return this.La?this.La:this.oa()};d.prototype.setOptions=function(f){if(null==f)return this;null!=f.bounds&&this.sa(f.bounds);null!=f.colplottype&&this.K1c(f.colplottype);
null!=f.rowplottype&&this.t6c(f.rowplottype);null==f.min&&null==f.max||this.vjb(f.min,f.max);null==f.offsetx&&null==f.offsety||this.m5c(f.offsetx,f.offsety);null!=f.keepmodellimits&&this.r4c(f.keepmodellimits);null!=f.lables&&(f.labels.visible&&this.ojb(f.labels.visible),f.labels.textstyle&&this.E4c(f.labels.textstyle));null!=f.colorprovider?this.Ps(f.colorprovider):(this.Ac=this.Ac?this.Ac:new Po({values:[this.$i,(this.$i+this.Pi)/2,this.Pi],colors:["rgba(0, 0,255,1)","rgba(0,255,0,1)","rgba(255,0,0,1)"]}),
this.kz=this.hGc(this.Ac,e));this.ha();return this};d.prototype.ta=function(){return{rowplottype:this.l9b(),colplottype:this.$5b(),min:this.$i,max:this.Pi,offsetx:this.Aw,offsety:this.Bw,keepmodellimits:this.MUc(),labels:{visible:this.NUc(),textstyle:this.HOc()},colorprovider:this.En()}};d.prototype.r4c=function(f){this.EW="boolean"==typeof f?f:this.EW;return this};d.prototype.MUc=function(){return this.EW};d.prototype.m5c=function(f,g){this.Aw=null!=f?f:this.Aw;this.Bw=null!=g?g:this.Bw;if(Array.isArray(this.Aw))for(f=
0;f<this.Aw.length;f++)0>this.Aw[f]&&(this.Aw[f]=(this.kv+this.Aw[f])%this.kv);else if(a(this.Aw))0>this.Aw&&(this.Aw=(this.kv+this.Aw)%this.kv);else return this;if(Array.isArray(this.Bw))for(f=0;f<this.Bw.length;f++)0>this.Bw[f]&&(this.Bw[f]=(this.lv+this.Bw[f])%this.lv);else if(a(this.Bw))0>this.Bw&&(this.Bw=(this.lv+this.Bw)%this.lv);else return this;this.EW||this.notify(ze.Jr,this);this.ha();return this};d.prototype.l8b=function(){return{offsetx:this.Aw,offsety:this.Bw}};d.prototype.vjb=function(f,
g){this.$i=a(f)?f:this.$i;this.Pi=a(g)?g:this.Pi;this.ha();return this};d.prototype.Ps=function(f){if(this.Ac===f)return this;null!=this.Ac&&this.sk(this.Ac,Lo.ib,this.tb());this.Ac=f instanceof Mo?f:Mo.TWa(f.type).Ra(f);null!=this.Ac&&this.cg(this.Ac,Lo.ib,this.tb());this.kz=this.hGc(this.Ac,e);this.xa();this.ha();return this};d.prototype.En=function(){return this.Ac};d.prototype.mb=function(f,g,h){var k=f.wc();f=f.Hc();if(h<=k)return g[0];if(h>=f)return g[g.length-1];f=(f-k)/g.length;h=Math.round((h-
k)/f);return g[h<g.length?h:g.length-1]};d.prototype.hGc=function(f,g){var h=[],k=f.wc(),l=f.Hc();l=(l-k)/g;for(var m=0;m<g;m++)h[m]=f.mb(k+l*m);return h};d.prototype.K1c=function(f){f!==d.dz.Xda&&f!==d.dz.fv&&f!==d.dz.Yda&&f!==d.dz.Smb||this.o_===f||(this.o_=f,this.notify(ze.Jr,this),this.ha());return this};d.prototype.$5b=function(){return this.o_};d.prototype.t6c=function(f){f!==d.dz.Xda&&f!==d.dz.fv&&f!==d.dz.Yda&&f!==d.dz.Smb||this.u0===f||(this.u0=f,this.notify(ze.Jr,this),this.ha());return this};
d.prototype.l9b=function(){return this.u0};d.prototype.setData=function(f){if(f instanceof LH||f instanceof TH)this.ja=f,this.ja.on(uH.Td,this.Syc.bind(this));else if(Array.isArray(f))this.ja=f;else return this;this.E5=this.lv=this.Fh(this.ja);this.w0=this.kv=this.eq(this.ja);for(f=0;f<this.lv;f++)for(var g=0;g<this.kv;g++){var h=this.getValue(this.ja,f,g);h>this.Pi&&(this.Pi=h);h<this.$i&&(this.$i=h)}this.ha();return this};d.prototype.Syc=function(){this.Nrb=!0;this.ha()};d.prototype.odb=function(f,
g,h){var k=this.op;if(null==k||k.ca()!==g||k.da()!==h){this.op=k=0!==g&&0!==h?f.Ez(g,h,!0):null;if(null==k)return null;this.cW=k.Mxa(g,h);this.cUb=!1}else!0===this.cUb&&(this.oyb(this.cW,k),this.cUb=!1);return this.cW};d.prototype.oyb=function(f,g){if(null!=f){g&&this.SFa&&g.clear();g=f.getData();f=4*f.ca()*f.da();for(var h=0;h<f;++h)g[h]=0}};d.prototype.getValue=function(f,g,h){return g>=this.Fh(f)||h>=this.eq(f)?0:Array.isArray(f)?f[g]&&"number"==typeof f[g][h]?f[g][h]:this.$i:"number"==typeof f.getValue(g,
h)?f.getValue(g,h):this.$i};d.prototype.Fh=function(f){return Array.isArray(f)?f.length:"function"==typeof f.Fh?f.Fh():0};d.prototype.eq=function(f){return Array.isArray(f)?f[0]?f[0].length:0:"function"==typeof f.eq?f.eq():0};d.prototype.m_d=function(f,g,h,k){var l=0,m=[];this.lv=this.Fh(this.ja);this.kv=this.eq(this.ja);this.ivc===h&&Math.floor(h)!==f||this.hvc===h&&Math.floor(k)!==g?this.Erb=!1:(this.ivc=h,this.hvc=k,this.Erb=!0);this.Atb=this.kv>2*h?!0:!1;this.Btb=this.lv>2*k?!0:!1;if(this.Erb&&
this.Atb||this.Nrb&&this.Atb){var n=Math.floor(this.kv/h);var p=Math.floor(this.kv/n);var q=this.kv-p*n;for(f=0;f<this.lv;f++){m[f]=[];for(g=0;g<p;g++){for(h=0;h<n;h++)l+=this.getValue(this.ja,f,n*g+h);m[f].push(l/n);l=0}if(q){for(g=this.kv-q;g<this.kv;g++)l+=this.getValue(this.ja,f,g);m[f].push(l/q);l=0}}this.w0=p+(q?1:0);this.Ena=m}if(this.Erb&&this.Btb||this.Nrb&&this.Btb){k=Math.floor(this.lv/k);p=Math.floor(this.lv/k);q=this.lv-p*k;n=0===m.length?this.ja:this.Ena;var r=0===m.length?this.kv:this.w0;
m=[];for(f=0;f<p;f++)for(m[f]=[],g=0;g<r;g++){for(h=0;h<k;h++)l+=this.getValue(n,f*k+h,g);m[f].push(l/k);l=0}if(q)for(m[p]=[],g=0;g<r;g++){for(f=this.lv-q;f<this.lv;f++)l+=this.getValue(n,f,g);m[p].push(l/q);l=0}this.E5=p+(q?1:0);this.Ena=m}this.Nrb=!1};d.prototype.render=function(f){if(null!=this.Ac&&null!=this.ja){f=null!=this.Sa()?f.bc(this.Sa()):f;var g=f.Ea();if(f.fc()){var h=this.oa();f.ra(rf.zh);f.Bc(h.x,h.y,h.width,h.height)}else{var k=f.eg();h=k.ka();var l=k.na(),m=k.la();k=k.ma();h=g.Ua(new U(h,
m,l,k));h.cb(Math.round(h.ka()),Math.round(h.la()),Math.round(h.na()),Math.round(h.ma()));g=g.Ua(new U(this.oa()));g.cb(Math.round(g.ka()),Math.round(g.la()),Math.round(g.na()),Math.round(g.ma()));l=h.ca();m=h.da();k=g.ca();var n=g.da();h.intersect(g);h.isEmpty()||(this.m_d(l,m,k,n),this.w0=this.Atb?this.w0:this.kv,this.E5=this.Btb?this.E5:this.lv,this.E5===this.lv&&this.w0===this.kv&&(this.Ena=this.ja),g=(this.w0-1)/(this.kv-1),l=(this.E5-1)/(this.lv-1),this.rZd(f,h,g,l),this.$rb&&this.YF(f))}}};
d.prototype.YF=function(f){for(var g=this.Ena,h=0;h<g.length;h++)for(var k=0;k<g[h].length;k++)this.Rp.fa({ax:k>=this.Aw?k:k+this.w0,ay:h>=this.Bw?h:h+this.E5,text:g[h][k],textstyle:this.g7a}),this.Rp.render(f)};d.prototype.ojb=function(f){this.$rb!==f&&(this.$rb=f,this.ha());return this};d.prototype.NUc=function(){return this.$rb};d.prototype.E4c=function(f,g){if(this.g7a===f)return this;this.g7a=Fi.Qe(this,this.g7a,f,g,this.tb());this.ha();return this};d.prototype.HOc=function(){return this.g7a};
d.prototype.rZd=function(f,g,h,k){var l=f.Ea(),m=f.bq(),n,p=Math.min(b,g.ca()),q=Math.min(c,g.da()),r=Math.ceil(g.ca()/p),t=Math.ceil(g.da()/q),u=!1,w=m.Ii(),y=m.vi(),z=m.lb(),x=m.Ab(),C=g.ka()*m.lb()+g.la()*m.Ii()+m.cf(),A=g.la()*m.Ab()+g.ka()*m.vi()+m.Pe(),v=0,B=0,E=0,H=0;Array.isArray(this.Aw)||(v=this.EW&&this.o_!==d.dz.Yda?C+this.Aw:C,E=this.o_===d.dz.Xda?this.kv-1+v:this.kv+v);Array.isArray(this.Bw)||(B=this.EW&&this.u0!==d.dz.Yda?A+this.Bw:A,H=this.u0===d.dz.Xda?this.lv-1+B:this.lv+B);if(this.cW=
this.odb(f,p,q))for(var F=0;F<t;F++)for(var I=0;I<r;I++){var J=0;var K=this.cW.getData();for(m=F*q;m<F*q+q;m++){if(u){u=!1;break}for(n=I*p;n<I*p+p;n++){if(Array.isArray(this.Aw)||Array.isArray(this.Bw))if(!Array.isArray(this.Aw)&&Array.isArray(this.Bw)){var M=w*m+z*n+v;if(M>E||-1>M){J+=4*(I*p+p-n);break}M=this.Yya(M,this.o_,h,this.kv,this.w0);B=(this.Bw[M.position]?this.Bw[M.position]:0)+A;var P=y*n+x*m+B;H=this.u0===d.dz.Xda?this.lv-1+B:this.u0===d.dz.Yda?this.lv+B:this.lv-.5+B;if(P>H||-1>P){u=!0;
break}P=this.Yya(P,this.u0,k,this.lv,this.E5)}else if(Array.isArray(this.Aw)&&!Array.isArray(this.Bw)){P=y*n+x*m+B;if(P>H||-1>P){u=!0;break}P=this.Yya(P,this.u0,k,this.lv,this.E5);v=(this.Aw[P.position]?this.Aw[P.position]:0)+C;M=w*m+z*n+v;E=this.o_===d.dz.Xda?this.kv-1+v:this.o_===d.dz.Yda?this.kv+v:this.kv-.5+v;if(M>E||-1>M){J+=4*(I*p+p-n);break}M=this.Yya(M,this.o_,h,this.kv,this.w0)}else throw Error("It is not supported to set array of offsets for both column and row");else{M=w*m+z*n+v;P=y*n+
x*m+B;if(M>E||-1>M){J+=4*(I*p+p-n);break}if(P>H||-1>P){u=!0;break}M=this.Yya(M,this.o_,h,this.kv,this.w0);P=this.Yya(P,this.u0,k,this.lv,this.E5)}M=this.getValue(this.Ena,P.position,M.position)*(1-M.Rxa)*(1-P.Rxa)+this.getValue(this.Ena,P.position,M.next)*M.Rxa*(1-P.Rxa)+this.getValue(this.Ena,P.next,M.position)*P.Rxa*(1-M.Rxa)+this.getValue(this.Ena,P.next,M.next)*M.Rxa*P.Rxa;M=this.mb(this.Ac,this.kz,M);K[J++]=M.red;K[J++]=M.green;K[J++]=M.blue;K[J++]=M.alpha}}this.op.vra(this.cW,0,0);f.Sb(new X);
f.drawImage(this.op,0,0,this.op.ca(),this.op.da(),g.ka()+I*p,g.la()+F*q,this.op.ca(),this.op.da());f.Sb(l)}};d.prototype.gj=function(f){var g=this.wa();f=g.rd(f);return this.oa().contains(f.x,f.y)?(f.x=this.Yya(f.x,this.o_,(this.w0-1)/(this.kv-1),this.kv,this.w0).position,f.y=this.Yya(f.y,this.u0,(this.E5-1)/(this.lv-1),this.lv,this.E5).position,f):null};d.prototype.Yya=function(f,g,h,k,l){g===d.dz.Yda?(f>=k&&(f-=k),f*=h,g=Math.floor(f),h=f-g,l=f>l-1?0:g+1):g===d.dz.Smb?(f>=k&&(f-=k),f*=h,f>l-1||
0>f?(g=Math.round(f),g=g===l?l-1:g,h=0):(g=Math.floor(f),h=f-g),l=g+1):g===d.dz.Xda?(f*=h,g=Math.floor(f),l=g+1,h=f-g):(f>=k-.5&&(f-=k),f*=h,g=Math.round(f),g=g===l?l-1:g,l=g+1,h=0);return{position:g,next:l,Rxa:h}};d.prototype.dispose=function(){(this.ja instanceof LH||this.ja instanceof TH)&&this.ja.za(uH.Td,this.Syc);Zg.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRNb2RlbExpbWl0cyI6Im9hIiwic2V0Qm91bmRzIjoic2EiLCJnZXRCb3VuZHMiOiJnYSIsImdldE9wdGlvbnMiOiJ0YSIsInNldEtlZXBNb2RlbExpbWl0cyI6InI0YyIsImlzS2VlcE1vZGVsTGltaXRzIjoiTVVjIiwic2V0TW9kZWxPZmZzZXQiOiJtNWMiLCJnZXRNb2RlbE9mZnNldCI6Imw4YiIsInNldE1pbk1heCI6InZqYiIsInNldENvbG9yUHJvdmlkZXIiOiJQcyIsImdldENvbG9yUHJvdmlkZXIiOiJFbiIsInNldENvbFBsb3RNb2RlIjoiSzFjIiwiZ2V0Q29sdW1uUGxvdE1vZGUiOiIkNWIiLCJzZXRSb3dQbG90TW9kZSI6InQ2YyIsImdldFJvd1Bsb3RNb2RlIjoibDliIiwiZHJhd0xhYmVscyI6IllGIiwic2V0TGFiZWxzVmlzaWJsZSI6Im9qYiIsImlzTGFiZWxzVmlzaWJsZSI6Ik5VYyIsInNldExhYmVsc1RleHRTdHlsZSI6IkU0YyIsImdldExhYmVsc1RleHRTdHlsZSI6IkhPYyIsImhpdFRlc3QiOiJnaiJ9fX0g");var lR=/*#__PURE__*/ta(/*#__PURE__*/{xka:"dataUpdated",Ymb:"modelLimitsUpdated",e2a:"binsUpdated"},2,"eyJEYXRhVXBkYXRlZCI6InhrYSIsIk1vZGVsTGltaXRzVXBkYXRlZCI6IlltYiIsIkJpbnNVcGRhdGVkIjoiZTJhIn0g"),mR=/*#__PURE__*/ta(/*#__PURE__*/{Jc:0,tc:1,cc:2},2,"eyJOb25lIjoiSmMiLCJMZWZ0IjoidGMiLCJSaWdodCI6ImNjIn0g"),nR=/*#__PURE__*/ta(/*#__PURE__*/{jCa:"absolute",cnb:"normalized",A3a:"relative"},2,"eyJBYnNvbHV0ZSI6ImpDYSIsIk5vcm1hbGl6ZWQiOiJjbmIiLCJSZWxhdGl2ZSI6IkEzYSJ9"),oR=/*#__PURE__*/ta(/*#__PURE__*/{KV:"disabled",lMb:"enabled"},2,"eyJEaXNhYmxlZCI6IktWIiwiRW5hYmxlZCI6ImxNYiJ9"),pR=/*#__PURE__*/ta(/*#__PURE__*/{Kh:"linear",Fo:"logarithmic"},2,"eyJMaW5lYXIiOiJLaCIsIkxvZ2FyaXRobWljIjoiRm8ifSAg"),qR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b,c,e,f){return{minvalue:b+c*e,maxvalue:b+c*(e+1),binnumber:e,frequency:f[e]}}function a(b,c,e){b=G(b,{data:b instanceof Array?b:null,bounds:c instanceof U?c:null,bins:e,frequencytype:a.Ssa.jCa,accumulatedmode:a.Gsa.KV,histogrammode:a.NCa.Kh,fillstyle:"rgba(128,100,255,1.0)",
linestyle:"rgba(148,120,255,1.0)",autogradient:!1,binspacing:100,verticalscale:100,logstartvalue:0,highlightstyle:"#ffc0cbff",highvalueinclusive:!0,minvalue:null,maxvalue:null,neatlimitsx:!1,neatlimitsy:!1,unit:null,flipedx:!1,orientation:Rh.rb},!0);Ag.call(this,b);this.m6a=b.highvalueinclusive;this.Ng=null;this.MF=[];this.GG=this.wq=null;this.Kp=0;this.wQb=!1;this.uQa=0;null!=b.minvalue&&null!=b.maxvalue?(this.d9=!0,this.Kc=b.minvalue,this.Oc=b.maxvalue):(this.d9=!1,this.Kc=0,this.Oc=1);this.l8a=
b.neatlimitsx;this.m8a=b.neatlimitsy;this.WEa=[];this.EI=[];this.tea=[];this.Gma=b.logstartvalue;this.Wwc=this.Zwc=this.Ifa=this.X7a=0;this.Mq=[];this.Xb=null;this.La=b.bounds;this.DIa=null;this.Bm=!1;this.PDa=b.binspacing;this.EDa=!1;this.ppb=this.qpb=0;this.Ju=this.l1=null;this.Qvb=!1;this.oIe={};this.UUa=b.verticalscale;this.Gqb=b.flipedx;this.ed=b.orientation;this.g9=!1;this.hfa=b.frequencytype;this.uea=b.accumulatedmode;this.vma=b.histogrammode;this.ty=this.KJ.bind(this);this.bGa=this.KJ.bind(this);
this.nXb=this.rFb.bind(this);null!=b.data&&this.setData(b);null!=b.bins?this.T7(b.bins):null!=b.binstep?this.nfc(b.binstep):(this.EDa=!0,this.TBa());this.BMa(b.autogradient);this.THb(b.highlightstyle);void 0!==b.unit&&this.Im(b.unit)}D(a,Ag);L(a,"geotoolkit.controls.shapes.Histogram");a.Ka=lR;a.KCa=mR;a.Ssa=nR;a.Gsa=oR;a.NCa=pR;a.prototype.setData=function(b,c,e){if(Array.isArray(b)||b instanceof DH||b instanceof RH)return this.Wu(b),this.setOptions({minvalue:c,maxvalue:e}),this;b=G(b,{data:null,
minvalue:c,maxvalue:e});null!=b.data&&this.Wu(b.data);this.setOptions(b);return this};a.prototype.getData=function(){this.RNa();return{data:this.MF,minvalue:this.Kc,maxvalue:this.Oc}};a.prototype.fa=function(b){b=jc(b);if(null==b)return this;Ag.prototype.fa.call(this,b);void 0!==b.data?this.setData(b.data):this.setOptions(b);return this};a.prototype.setOptions=function(b){!0===b.autominmax&&this.Eec();null!=b.minvalue&&null!=b.maxvalue&&(this.d9=!0,this.Kc=b.minvalue,this.Oc=b.maxvalue);null!=b.neatlimitsx&&
(this.l8a=b.neatlimitsx);null!=b.neatlimitsy&&(this.m8a=b.neatlimitsy);null!=b.logstartvalue&&(this.Gma=b.logstartvalue);null!=b.binspacing&&(this.PDa=b.binspacing);null!=b.verticalscale&&(this.UUa=b.verticalscale);null!=b.frequencytype&&(this.hfa=b.frequencytype);null!=b.accumulatedmode&&(this.uea=b.accumulatedmode);null!=b.histogrammode&&(this.vma=b.histogrammode);null!=b.flipedx&&(this.Gqb=b.flipedx);null!=b.orientation&&this.setOrientation(b.orientation);null!=b.bins?this.T7(b.bins):null!=b.binstep&&
this.nfc(b.binstep);null!=b.autogradient&&this.BMa(b.autogradient);null!=b.fillstyle&&this.ra(b.fillstyle);null!=b.linestyle&&this.qa(b.linestyle);null!=b.bounds&&this.sa(b.bounds);null!=b.unit&&this.Im(b.unit);null!=b.highvalueinclusive&&(this.m6a=b.highvalueinclusive);this.THb(b.highlightstyle);this.os();this.Bm=!1;this.ha();return this};a.prototype.t5c=function(b){"boolean"==typeof b&&this.l8a!==b&&(this.l8a=b,this.Bm=!1,this.os());return this};a.prototype.u5c=function(b){"boolean"==typeof b&&
this.m8a!==b&&(this.m8a=b,this.Bm=!1,this.os());return this};a.prototype.ia=function(){var b=Ag.prototype.ia.call(this);return b=G(this.ta(),b)};a.prototype.ta=function(){var b={};this.d9&&null!=this.Kc&&null!=this.Oc&&(b.minvalue=this.Kc,b.maxvalue=this.Oc);b.logstartvalue=this.Gma;b.binspacing=this.PDa;b.bins=this.RX();b.verticalscale=this.UUa;b.frequencytype=this.hfa;b.accumulatedmode=this.uea;b.histogrammode=this.vma;b.autogradient=this.JWa();b.highlightstyle=this.wBb();b.unit=this.l1;b.flipedx=
this.Gqb;b.bounds=this.ga();b.highvalueinclusive=this.m6a;b.neatlimitsx=this.l8a;b.neatlimitsy=this.m8a;b.orientation=this.ed;return b};a.prototype.Im=function(b){this.l1=Zd.ya().Xa(b);null!=this.Ng?null==this.Ng.Xa()||null!=this.Ng.Xa()&&""===this.Ng.Xa().cd()?this.Ju=null:!this.l1.PA(this.Ju)&&this.l1.Tm(this.Ju)&&(this.Ju=this.l1,this.MF=this.Ng.toArray(!0,this.Ju),this.Bm=!1,this.ha()):this.Ju=this.l1;return this};a.prototype.Qc=function(){return this.Ng};a.prototype.Wu=function(b){var c=!1;if(null==
b)return this.MF=this.Ng=null,this;if(Array.isArray(b))this.MF=b,c=!0;else if((b instanceof DH||b instanceof RH)&&b!==this.Ng)null!=this.Ng&&(this.Ng.za(sH.Qj,this.ty),this.Ng.za(wH.AM,this.nXb),this.Ng.za(NH.nP,this.bGa)),this.Ng=b,this.Ng.on(sH.Qj,this.ty),this.Ng.on(wH.AM,this.nXb),this.Ng.on(NH.nP,this.bGa),null!=this.l1&&this.l1.Tm(this.Ng.Xa())?(this.MF=this.Ng.toArray(!0,this.l1),this.Ju=this.l1):(this.Ng.Xa()&&""!==this.Ng.Xa().cd()?this.Ju=this.Ng.Xa():this.Ju=null,this.MF=this.Ng.toArray(!0));
else throw Error("Only support Array or NumericalDataSeries(view) as data source");b=this.MF;var e=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;this.wq=this.GG=null;for(var g=0,h=b.length,k=0;k<h;++k){var l=b[k];isNaN(l)||null==l||(l<e&&(e=l),l>f&&(f=l),g++)}this.wQb=!1;this.uQa=g;this.qpb=1>h?0:e;this.ppb=1>h?1:f;this.d9||(this.Kc=this.qpb,this.Oc=this.ppb);c&&(this.TBa(),c={minValue:this.Kc,maxValue:this.Oc,count:this.uQa,binCount:this.Kp},this.notify(lR.xka,this,c),this.Kc=c.minValue,this.Oc=
c.maxValue,this.Kp!==c.binCount&&(this.Kp=c.binCount));this.Bm=this.Qvb=!1;return this};a.prototype.dispose=function(){null!=this.Ng&&(this.Ng.za(sH.Qj,this.ty),this.Ng.za(wH.AM,this.nXb),this.Ng.za(NH.nP,this.bGa),this.Ng=null);null!=this.tma&&this.sk(this.tma,ze.ib,this.tb());Ag.prototype.dispose.call(this)};a.prototype.setOrientation=function(b){this.ed=b;this.Bm=!1;this.ha();return this};a.prototype.Kg=function(){return this.ed};a.prototype.$Q=function(){return this.Ju};a.prototype.Had=function(){var b=
this.Ng.qf(this.Ju),c=this.Ng.Rf(this.Ju);this.d9||(this.Kc=b,this.Oc=c)};a.prototype.rFb=function(b,c,e){null!=this.l1&&this.l1.Tm(e)?(this.Ju=this.l1,this.MF=this.Ng.toArray(!0,this.Ju)):(null!=e&&""!==e.cd()?this.Ju=e:this.Ju=null,this.MF=this.Ng.toArray(!0));this.Had();this.Bm=!1;this.ha()};a.prototype.KJ=function(b,c,e){this.MF=this.Ng.toArray(!0,this.Ju);this.Had();this.Bm=!1;this.ha()};a.prototype.Eec=function(){this.d9&&(this.d9=!1,this.Kc=this.qpb,this.Oc=this.ppb,this.Bm=!1)};a.prototype.e8c=
function(b,c){this.d9=!0;this.Kc=Math.min(b,c);this.Oc=Math.max(b,c);this.Bm=!1;return this};a.prototype.VDc=function(){return this.d9};a.prototype.wc=function(){this.RNa();return this.Kc};a.prototype.Hc=function(){this.RNa();return this.Oc};a.prototype.Gq=function(){if(this.Qvb)return this.Mq;this.Bm||this.rk();this.Hbb();return this.Mq};a.prototype.rLd=function(){return"Sample Count;Min;Max;Average;Variance;Avg. Deviation;Std. Deviation;Skewness;Kurtosis;P10;P50;P90".split(";")};a.prototype.Geb=
function(){this.Bm||this.rk();return this.Ifa};a.prototype.ceb=function(b,c){this.Bm||this.rk();if(null==this.EI&&0>b&&b>=this.Kp)return 0;var e=1;this.hfa===a.Ssa.cnb&&(e=this.uea===a.Gsa.KV?this.Ifa:this.uQa);return this.vma===a.NCa.Kh||c?(this.hfa===a.Ssa.A3a&&(e=this.uQa),this.uea===a.Gsa.KV?this.EI[b]/e:this.tea[b]/e):this.vma===a.NCa.Fo&&(this.hfa===a.Ssa.cnb&&(e=100/e),b=this.uea===a.Gsa.KV?this.EI[b]:this.tea[b],b=b*e-this.Gma,1<b)?W.log10(b):0};a.prototype.RNa=function(){if(this.l8a&&!this.d9&&
!this.Bm){var b=W.Vp(this.Kc,this.Oc);this.Kc=b.Ta();this.Oc=b.Ya()}};a.prototype.rk=function(b){this.RNa();this.Bm=!0;this.TBa();var c;if(0<this.Kp&&null!=this.MF&&0<this.uQa){var e=(this.Oc-this.Kc)/this.Kp;this.EI=[];this.tea=[];this.GG=[];this.X7a=Number.POSITIVE_INFINITY;for(c=this.Ifa=0;c<this.Kp;++c)this.EI[c]=0,this.tea[c]=0;var f=this.MF.length;for(c=0;c<f;++c){var g=this.I5b(this.MF[c],e);!1===isNaN(g)&&this.EI[g]++}this.tea[0]=this.EI[0];this.X7a=this.EI[0];this.Ifa=this.EI[0];for(c=1;c<
this.Kp;++c)this.X7a>this.EI[c]&&(this.X7a=this.EI[c]),this.Ifa<this.EI[c]&&(this.Ifa=this.EI[c]),this.tea[c]=this.tea[c-1]+this.EI[c];this.Zwc=1<this.Ifa-this.Gma?W.log10(this.Ifa-this.Gma):0;this.Wwc=1<this.tea[this.Kp-1]-this.Gma?W.log10(this.tea[this.Kp-1]-this.Gma):0}else{this.EI=[];this.tea=[];this.GG=[];this.Mq=[];for(c=0;12>c;++c)this.Mq[c]=0;this.Qvb=!0}b||this.os();return this};a.prototype.NWa=function(){this.Bm||this.rk();for(var b=[],c=(this.Oc-this.Kc)/this.Kp,e=0;e<this.Kp;e++)b.push(d(this.Kc,
c,e,this.EI));return b};a.prototype.nBb=function(b){this.RNa();this.TBa();var c=(this.Oc-this.Kc)/this.Kp,e=Math.floor((b-this.Kc)/c),f=e*c+this.Kc,g=(100-this.PDa)*c/100;e=f+g/2;c=f+c-g/2;return b<e?a.KCa.tc:b>c?a.KCa.cc:a.KCa.Jc};a.prototype.Jha=function(b,c){this.Bm||this.rk();if(b>this.Oc||b<this.Kc||c&&this.nBb(b)!==a.KCa.Jc)return null;c=(this.Oc-this.Kc)/this.Kp;b=Math.floor((b-this.Kc)/c);b>=this.Kp&&(b=this.Kp-1);if(null!=this.GG&&null!=this.GG[b])return this.GG[b];null==this.GG&&(this.GG=
[]);null==this.GG[b]&&(this.GG[b]=d(this.Kc,c,b,this.EI));return this.GG[b]};a.prototype.I5b=function(b,c){if(isNaN(b))return Number.NaN;var e=this.Kc>this.Oc;if(e){if(b>this.Kc||b<this.Oc)return Number.NaN}else if(b<this.Kc||b>this.Oc)return Number.NaN;c=Math.floor((e?this.Oc-b:b-this.Kc)/c);if(c>=this.EI.length)if(b===this.Oc&&!0===this.m6a)c--;else return Number.NaN;return c};a.prototype.yGd=function(b){this.Bm||this.rk();if(0>b||b>this.Kp-1)return null;if(null!=this.GG&&null!=this.GG[b]&&null!=
this.GG[b].indices)return this.GG[b].indices;for(var c=(this.Oc-this.Kc)/this.Kp,e=this.MF.length,f=[],g=0;g<e;g++)this.I5b(this.MF[g],c)===b&&(f[f.length]=g);null==this.GG&&(this.GG=[]);null==this.GG[b]&&(this.GG[b]=d(this.Kc,c,b,this.EI));return this.GG[b].indices=f};a.prototype.lCd=function(b){this.RNa();this.TBa();for(var c=[],e=(this.Oc-this.Kc)/this.Kp,f=0;f<b.length;f++){var g=b[f];c[c.length]=0>g||g>=this.MF.length?Number.NaN:this.I5b(this.MF[g],e)}return c};a.prototype.gj=function(b,c){c=
c||this.mAb(b);var e=[],f=b instanceof U?b.la():b.getY();b=b instanceof U?b.na():b.getX();for(var g=0;g<c.length;g++)if(null!=c[g]){var h=this.ceb(c[g].binnumber);(!this.bm()&&h>f||this.bm()&&h>b)&&e.push(c[g].binnumber)}return e};a.prototype.mAb=function(b){if(null==b)return[];var c=this.bm();if(b instanceof N)return[this.Jha(c?b.getY():b.getX(),!0)];if(b instanceof Kd){var e=b.Ta();b=b.Ya()}else if(b instanceof U)e=c?b.getY():b.getX(),b=e+(c?b.da():b.ca());else return[];c=this.Jha(e);var f=this.Jha(b);
if(null==c||null==f)return[];c=c.binnumber;f=f.binnumber;this.nBb(e)===a.KCa.cc&&c++;this.nBb(b)===a.KCa.tc&&f--;if(c>f)return[];e=this.NWa();return e.slice(c,f+1)};a.prototype.Lza=function(b,c){!0===c&&(this.WEa=[]);if(null!=b&&0!==b.length)for(b=this.WEa.concat(b).sort(),this.WEa=[],c=0;c<b.length;++c)0!==c&&b[c]===b[c-1]||this.WEa.push(b[c]);this.ha()};a.prototype.jXa=function(){return this.WEa.slice(0,this.WEa.length)};a.prototype.os=function(){this.Bm||this.rk();var b=0<this.MF.length;var c=
1;this.vma===a.NCa.Fo&&this.hfa===a.Ssa.cnb&&(c=2);b&&this.hfa===a.Ssa.jCa&&(this.vma===a.NCa.Kh?c=this.uea===a.Gsa.KV?this.Ifa:this.uQa:this.vma===a.NCa.Fo&&(c=this.uea===a.Gsa.KV?this.Zwc:this.Wwc));this.m8a&&this.hfa===a.Ssa.jCa&&this.uea===a.Gsa.KV&&!this.d9&&(c=W.Vp(0,c),c=c.Ya());b=this.Gqb;this.bm()?(c=b?new U(0,this.Oc,c,this.Kc):new U(0,this.Kc,c,this.Oc),c.Qa(c.ca()*(this.UUa/100))):(c=b?new U(this.Oc,0,this.Kc,c):new U(this.Kc,0,this.Oc,c),c.$a(c.da()*(this.UUa/100)));null!=this.Xb&&this.Xb.Gi(c)||
(this.Xb=c,this.bm()||0!==this.Xb.da()||this.Xb.$a(1),this.bm()&&0===this.Xb.ca()&&this.Xb.Qa(1),this.notify(lR.Ymb,this,this.Xb));this.ha()};a.prototype.T7=function(b){this.EDa=!1;this.Kp=b;this.notify(lR.e2a,this,this.Kp);this.Bm=!1;return this};a.prototype.nfc=function(b){this.RNa();this.TBa();this.EDa=!1;this.Kp=Math.floor((this.Oc-this.Kc)/b);this.notify(lR.e2a,this,this.Kp);this.Bm=!1;return this};a.prototype.Z_c=function(){this.EDa||(this.EDa=!0,this.Bm=!1)};a.prototype.nac=function(){return this.EDa};
a.prototype.TBa=function(b){if(!this.EDa&&!0!==b||!0===this.wQb)return this;b=this.MF.length;if(1>b)return this.Kp=1,this;var c=this.MF.slice();c.sort(function(e,f){return e-f});c=c[Math.floor(3*b/4)]-c[Math.floor(b/4)];b=2*c/Math.pow(b,1/3);b=0<b?Math.round((this.ppb-this.qpb)/b):1;0===b%2&&b++;b=Math.min(b,128);b=Math.max(b,16);this.wQb=!0;c={binCount:b};this.notify(lR.e2a,this,b);this.notify("binCountCalculated",this,c);this.Kp=c.binCount;return this};a.prototype.RX=function(){this.TBa();return this.Kp};
a.prototype.S1d=function(b){this.m6a=b;return this};a.prototype.bGd=function(){return this.m6a};a.prototype.oa=function(){this.Bm||this.rk();return this.Xb};a.prototype.ga=function(){return null!=this.La?this.La:this.oa()};a.prototype.pf=function(b){if(!1===this.Ia())return!1;!0!==this.Bm&&this.rk(!0);return Ag.j2(this.ga(),this.ob(),b.eg())};a.prototype.sa=function(b){this.La=b;this.ha();return this};a.prototype.ge=function(){return this.DIa};a.prototype.render=function(b){b=null!=this.Sa()?b.bc(this.Sa()):
b;this.Yh(b);if(b.fc()){b.ra(rf.zh);b.Bc(this.oa());var c=b.eg(),e=new U(this.Kc,0,this.Oc,1);e=X.Vd(this.ga(),e);e=e.Ua(c);e=this.mAb(e);null!=e&&b.eV({histogram:this,bins:e,indices:e.map(function(f){return f.binnumber}),hittest:this.gj(c,e)})}else this.Uxa(b),this.yh(b)};a.prototype.Uxa=function(b){!0!==this.Bm&&this.rk();var c=this.bm(),e=c?this.Xb.da()/this.Kp:this.Xb.ca()/this.Kp,f=b.Ea();f=f.wd(b.mg());var g=c?this.Xb.la():this.Xb.ka(),h=c?this.Xb.ka():this.Xb.la();var k=this.eb();var l=this.tma;
if(this.g9){if(null!=this.eb()){k=Pd.Rg(this.eb().mb());k=new Oe(k);k.Caa(-.1);k.LN(.1);k=k.bP();var m=Pd.Rg(this.eb().mb());var n=new Oe(m);n.Caa(.1);n.LN(-.1);m=n.bP();n=m.um();var p=k.um();m=m.um()}else n="white",p="black",m="white";k=new og;k.OVa();k.Mo(0,n);this.g9&&k.Mo(.5,p);k.Mo(1,m);k.Rja(new N(0,0));c?k.setEndPoint(new N(0,1)):k.setEndPoint(new N(1,0))}b.qa(this.Fa());n=new X;null!=this.oa()&&!1===this.oa().isEmpty()&&null!=this.ga()&&!1===this.ga().isEmpty()&&n.tBa(this.oa(),this.ga(),
!1,!1,!1);for(p=0;p<this.Kp;++p,g+=e){m=this.Gqb?this.ceb(this.Kp-1-p,!1):this.ceb(p,!1);var q=g+(100-this.PDa)*e/200,r=g+e-(100-this.PDa)*e/200;m=c?new U(h,q,m,r):new U(q,h,r,m);n.Ua(m,m);q=0>this.WEa.indexOf(p)?k:l;f.Dd(m)&&(b.ra(q,m),b.Bc(m))}};a.prototype.Hbb=function(){this.Mq=[];var b=W.Hbb(this.MF);this.Mq[0]=b.count;this.Mq[1]=b.minvalue;this.Mq[2]=b.maxvalue;this.Mq[3]=b.average;this.Mq[4]=b.variance;this.Mq[5]=b.avgdeviation;this.Mq[6]=b.stddeviation;this.Mq[7]=b.skewness;this.Mq[8]=b.kurtosis;
this.Mq[9]=b.p10;this.Mq[10]=b.p50;this.Mq[11]=b.p90;this.Mq[12]=this.X7a;this.Mq[13]=this.Ifa;this.Qvb=!0};a.prototype.RWa=function(b,c){return W.RWa(b,c)};a.prototype.BMa=function(b){this.g9=b;this.Bm=!1;this.ha();return this};a.prototype.J5b=function(){return this.PDa};a.prototype.x1c=function(b){b=Math.min(b,100);this.PDa=b=Math.max(b,50);this.ha();return this};a.prototype.i8c=function(b){this.UUa=b;this.os();return this};a.prototype.bTc=function(){return this.UUa};a.prototype.JWa=function(){return this.g9};
a.prototype.p3c=function(b){this.hfa=b;this.Bm=!1;return this};a.prototype.eXa=function(){return this.hfa};a.prototype.T0c=function(b){this.uea=b;this.os();return this};a.prototype.iJa=function(){return this.uea};a.prototype.G3c=function(b){this.vma=b;this.os();return this};a.prototype.XNc=function(){return this.vma};a.prototype.HL=function(){return this.Gma};a.prototype.THb=function(b){if(this.tma===b||void 0===b)return this;null!=this.tma&&this.sk(this.tma,ze.ib,this.tb());this.tma=ug.fd(b);this.ha();
null!=this.tma&&this.cg(this.tma,ze.ib,this.tb());return this};a.prototype.wBb=function(){return this.tma};a.prototype.G2d=function(b){this.Gma=b;this.Bm=!1;return this};a.prototype.bm=function(){return this.Kg()===Rh.yb};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJzZXROZWF0TGltaXRzWCI6InQ1YyIsInNldE5lYXRMaW1pdHNZIjoidTVjIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwiZ2V0T3B0aW9ucyI6InRhIiwic2V0VW5pdCI6IkltIiwiZ2V0RGF0YVNvdXJjZSI6IlFjIiwiZ2V0T3JpZW50YXRpb24iOiJLZyIsImdldERpc3BsYXlVbml0IjoiJFEiLCJyZXNldFZhbHVlcyI6IkVlYyIsInNldFZhbHVlUmFuZ2UiOiJlOGMiLCJhcmVWYWx1ZXNDdXN0b21pemVkIjoiVkRjIiwiZ2V0TWluVmFsdWUiOiJ3YyIsImdldE1heFZhbHVlIjoiSGMiLCJnZXRTdGF0aXN0aWNzIjoiR3EiLCJnZXRTdGF0aXN0aWNzRGVzY3JpcHRpb24iOiJyTGQiLCJnZXRNYXhGcmVxdWVuY3kiOiJHZWIiLCJnZXRGcmVxdWVuY3kiOiJjZWIiLCJjYWxjdWxhdGUiOiJyayIsImdldEJpbnMiOiJOV2EiLCJnZXRHYXBUeXBlRm9yVmFsdWUiOiJuQmIiLCJnZXRCaW5BdCI6IkpoYSIsImdldEluZGljZXNCeUJpbiI6InlHZCIsImdldEJpbnNCeUluZGljZXMiOiJsQ2QiLCJoaXRUZXN0IjoiZ2oiLCJnZXRCaW5zQXQiOiJtQWIiLCJoaWdobGlnaHRCaW5zIjoiTHphIiwiZ2V0SGlnaGxpZ2h0ZWRCaW5zIjoialhhIiwidXBkYXRlTW9kZWxMaW1pdHMiOiJvcyIsInNldEJpbkNvdW50IjoiVDciLCJzZXRCaW5TdGVwcyI6Im5mYyIsInJlc2V0QmluQ291bnQiOiJaX2MiLCJpc0F1dG9CaW5Db3VudCI6Im5hYyIsInVwZGF0ZUJpbkNvdW50IjoiVEJhIiwiZ2V0QmluQ291bnQiOiJSWCIsInNldEhpZ2hWYWx1ZUluY2x1c2l2ZSI6IlMxZCIsImdldEhpZ2hWYWx1ZUluY2x1c2l2ZSI6ImJHZCIsImdldE1vZGVsTGltaXRzIjoib2EiLCJnZXRCb3VuZHMiOiJnYSIsImNoZWNrQ29sbGlzaW9uIjoicGYiLCJzZXRCb3VuZHMiOiJzYSIsImdldENvbnRlbnRzVHJhbnNmb3JtIjoiZ2UiLCJjb21wdXRlU3RhdGlzdGljcyI6IkhiYiIsInNldEF1dG9HcmFkaWVudCI6IkJNYSIsImdldEJpblNwYWNpbmciOiJKNWIiLCJzZXRCaW5TcGFjaW5nIjoieDFjIiwic2V0VmVydGljYWxTY2FsaW5nIjoiaThjIiwiZ2V0VmVydGljYWxTY2FsaW5nIjoiYlRjIiwiZ2V0QXV0b0dyYWRpZW50IjoiSldhIiwic2V0RnJlcXVlbmN5VHlwZSI6InAzYyIsImdldEZyZXF1ZW5jeVR5cGUiOiJlWGEiLCJzZXRBY2N1bXVsYXRlZE1vZGUiOiJUMGMiLCJnZXRBY2N1bXVsYXRlZE1vZGUiOiJpSmEiLCJzZXRIaXN0b2dyYW1Nb2RlIjoiRzNjIiwiZ2V0SGlzdG9ncmFtTW9kZSI6IlhOYyIsImdldFN0YXJ0VmFsdWUiOiJITCIsInNldEhpZ2hsaWdodFN0eWxlIjoiVEhiIiwiZ2V0SGlnaGxpZ2h0U3R5bGUiOiJ3QmIiLCJzZXRMb2dTdGFydFZhbHVlIjoiRzJkIn19fSAg");var sR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.prototype.fAb=Fb;d.prototype.kfc=Fb;d.prototype.zl=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBdXRvRGF0YUxpbWl0cyI6ImZBYiIsInNldEF1dG9EYXRhTGltaXRzIjoia2ZjIiwiZ2V0RGF0YUxpbWl0cyI6InpsIn19fSAg");var tR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=xb(b,{autobounds:!1,sizeisindevicespace:!1,preserveaspectratio:!1,ispointingup:!1,autosize:!1,padding:null,alignment:O.Oa},!0);Ti.call(this,b);b.padding=b.padding?kg.Ra(b.padding):new kg;this.ja=new Fo;this.ZDc();this.u4a=!1;this.G6a=this.L_b=this.YDa=this.pna=this.WQb=null;this.rC=!1;this.Wf=this.ysb=this.s7a=null;this.$q=new a(this);this.$q.sa(Si.Uo());this.E$=function(){this.notify(Wh.Wda,this)}.bind(this);this.$q.on(Wh.Wda,this.E$);this.setOptions(b)}function a(b){ni.call(this);
this.si=b;this.i$=new ni;var c=this.si.Wf;c?this.i$.Na({left:c.ka(),top:c.la(),bottom:c.ma(),right:c.na()}):this.i$.Na({left:0,top:0,bottom:0,right:0});this.i$.bf(!0);this.de(new jl);this.pa(this.i$);this.rf(b);this.bf(!0)}D(a,ni);a.prototype.Sw=function(){return this.i$};a.prototype.Ha=function(){};a.prototype.oa=function(){return this.si.rL()};a.prototype.ge=function(){var b=this.ga(),c=this.oa();return null==b||b.isEmpty()||null==c||c.isEmpty()?new X:X.Vd(c,b,!1,!1,!1)};D(d,Ti);mc(d,Ze);L(d,"geotoolkit.controls.shapes.Legend");
d.prototype.Zm=function(b,c){if(this.Wf===b)return this;this.Wf=kg.Qe(this,this.Wf,b,c,this.Mmd());this.ha();this.$q&&this.$q.Sw().Na(this.Wf.getStyle());return this};d.prototype.Bi=function(){return this.Wf};d.prototype.setOptions=function(b){if(!b)return this;void 0!==b.alignment&&this.yc(b.alignment);b.padding&&this.Zm(b.padding);void 0!==b.linestyle&&this.qa(b.linestyle,!1===b.linestyle instanceof Y);void 0!==b.fillstyle&&this.ra(b.fillstyle,!1===b.fillstyle instanceof rf);if(void 0!==b.data){var c=
null;if(b.data instanceof Fo)c=b.data;else if(b.data instanceof Array||b.data instanceof eR||b.data instanceof gR)c=new Fo,c.add(b.data);c!==this.ja&&(this.tIc(),this.ja=c,this.ZDc(),this.Mf())}void 0!==b.sizeisindevicespace&&this.e8(b.sizeisindevicespace);void 0!==b.preserveaspectratio&&this.esa(b.preserveaspectratio);void 0!==b.ispointingup&&this.nu(b.ispointingup);void 0!==b.preservereadingorientation&&this.eda(b.preservereadingorientation);void 0!==b.width&&this.Qa(b.width);void 0!==b.height&&
this.$a(b.height);b.hasOwnProperty("autosize")&&this.rC!==b.autosize&&(this.rC=b.autosize,this.Mf());b.hasOwnProperty("autobounds")&&this.u4a!==b.autobounds&&(this.u4a=b.autobounds,this.wj());return this};d.prototype.getData=function(){return this.ja};d.prototype.ZDc=function(){if(null==this.ja)return this;var b=Eo;this.ja.on(b.eP,this.kia());this.ja.on(b.CG,this.kia());this.ja.on(b.hx,this.kia());this.ja.on(b.nOa,this.kia());b=this.ja.getIterator();b.forEach(function(c){c instanceof eR&&(c.on(dR.Pmb,
this.WSc()),c.on(dR.Qmb,this.kia()))}.bind(this));return this};d.prototype.tIc=function(){if(null==this.ja)return this;var b=Eo;this.ja.za(b.eP,this.kia());this.ja.za(b.CG,this.kia());this.ja.za(b.hx,this.kia());this.ja.za(b.nOa,this.kia());b=this.ja.getIterator();b.forEach(function(c){c instanceof eR&&(c.za(dR.Pmb,this.WSc()),c.za(dR.Qmb,this.kia()))}.bind(this));return this};d.prototype.Mf=function(){if(null!=this.ja){var b=[];this.Df().forEach(function(f){f.za(fR.hx,this.Mha());b.push(f)}.bind(this));
this.rh();var c=this.ja.getIterator(),e=[];c.forEach(function(f){var g=[];f instanceof eR?g=f.Jyb():f instanceof gR&&(g=[f],f=b.indexOf(f),-1!==f&&b.splice(f,1));for(f=0;f<g.length;++f)g[f].on(fR.hx,this.Mha()),e.push(g[f])}.bind(this));for(c=b.length-1;0<=c;--c)b[c].dispose();this.ysb=null;this.pa(e);this.LEc();this.u4a?this.wj():this.pb()}};d.prototype.sa=function(b){if(b&&0<b.ca()&&0<b.da()){var c=this.Zp();c=Ti.Saa(b,c);this.Jb(c);this.IA()||(this.rC||this.setSize(b.ca(),b.da()),this.u4a||this.pb())}return this};
d.prototype.LEc=function(){if((this.rC||this.$q.VC())&&null!=this.$q.Sw().De()){this.$q.ze(!0);this.$q.xb(!1);this.$q.Sw().De().zc(new U(0,0,Number.MAX_VALUE,Number.MAX_VALUE),this.Df());var b=null;this.Df().forEach(function(c){c.Ia()&&(c=c.ga(),null==b?b=c?c.clone():null:c&&b.union(c))});this.$q.ze(!1);this.$q.xb(!0);null!=b&&this.IA()&&(b=new U(0,0,b.ca()+this.Wf.na()+this.Wf.ka(),b.da()+this.Wf.ma()+this.Wf.la()),this.ysb=null,this.setSize(b.ca(),b.da()),this.$q.VC()||(this.dm(b.da()),this.Em(b.ca())))}};
d.prototype.wj=function(){if(this.u4a){var b=this.rL(),c=Number.NEGATIVE_INFINITY,e=Number.NEGATIVE_INFINITY,f,g;this.Df().forEach(function(h){h.ga()&&(f=h.ga().na(),f>c&&(c=f),g=h.ga().ma(),g>e&&(e=g))});null!=b&&(b=b.clone(),b.Qa(c),b.$a(e),this.sa(b))}};d.prototype.Mha=function(){null==this.YDa&&(this.YDa=function(){this.wj()}.bind(this));return this.YDa};d.prototype.kia=function(){null==this.pna&&(this.pna=function(){this.Mf()}.bind(this));return this.pna};d.prototype.WSc=function(){null==this.L_b&&
(this.L_b=function(b,c,e){c&&this.Df().forEach(function(f){f.Kd()===c&&f.setOptions(e)})}.bind(this));return this.L_b};d.prototype.dispose=function(){this.Df().forEach(function(b){b.za(fR.hx,this.Mha())}.bind(this));null!=this.$q&&(this.tIc(),this.$q.za(Wh.Wda,this.E$),this.$q.dispose(),this.$q=null);Ti.prototype.dispose.call(this)};d.prototype.render=function(b){if(0<this.ca()&&0<this.da()){b=null!=this.Sa()?b.bc(this.Sa()):b;this.Yh(b);var c=b.Ea(),e=this.E6(b.Ea());b.Sb(e);this.uj(b);b.Sb(c);this.yh(b)}};
d.prototype.uj=function(b){this.s7a=this.OOc(b.Ea());null==this.s7a||this.s7a.Gi(this.ysb)||(this.w8d(this.rL()),this.ysb=this.s7a.clone());this.$q.render(b)};d.prototype.w8d=function(b){b=new U(0,0,b.ca()-this.Wf.na()-this.Wf.ka(),b.da()-this.Wf.ma()-this.Wf.la());this.$q.Sw().Ha(b);this.$q.Sw().pb();this.$q.pb()};d.prototype.rL=function(){return this.WQb?this.WQb:this.IA()?new U(0,0,this.ca(),this.da()):this.s7a};d.prototype.OOc=function(b){b=b.Ua(Si.Uo());return new U(0,0,b.ca(),b.da())};d.prototype.dk=
function(b,c){this.$q.Sw().dk(b,c)};d.prototype.pa=function(b){this.$q.Sw().pa(b);return this};d.prototype.Df=function(b){return this.$q.Sw().Df(b)};d.prototype.removeChild=function(b){var c=this.$q.Sw();c.te()||c.removeChild(b);return this};d.prototype.rh=function(b){this.$q.Sw().rh(b);return this};d.prototype.Ha=function(b){this.ha();this.WQb=b;this.Mf();this.ha();return this};d.prototype.ju=function(){return this.$q.ju()};d.prototype.bf=function(b){this.$q.bf(b);this.$q.Sw().bf(b);return this};
d.prototype.oa=function(){return this.$q.oa()};d.prototype.de=function(b){this.$q.Sw().de(b);this.Mf();return this};d.prototype.De=function(){return this.$q.Sw().De()};d.prototype.pb=function(b){this.LEc();this.$q.pb(b);this.$q.Sw().pb();return this};d.prototype.ra=function(b,c){Ti.prototype.ra.call(this,b,c);this.$q.ra(this.eb());return this};d.prototype.qa=function(b,c){Ti.prototype.qa.call(this,b,c);this.$q.qa(this.Fa());return this};d.prototype.ia=function(){var b=Ti.prototype.ia.call(this);b.padding=
this.Bi();b.autosize=this.rC;b.data=this.ja;return b};d.prototype.fa=function(b){b=jc(b);if(null==b)return this;Ti.prototype.fa.call(this,b);this.setOptions(b);return this};d.prototype.Tk=function(){if(null!=this.Pb())return this.Pb().ca()};d.prototype.Em=function(b){return null==this.Pb()&&null==b||null!=this.Pb()&&this.Pb().ca()===b?this:this.Na({width:b})};d.prototype.se=function(){if(null!=this.Pb())return this.Pb().da()};d.prototype.dm=function(b){return null==this.Pb()&&null==b||null!=this.Pb()&&
this.Pb().da()===b?this:this.Na({height:b})};d.prototype.Mmd=function(){null===this.G6a&&(this.G6a=function(b,c,e){this.$q&&this.$q.Sw().Na(this.Wf.getStyle())}.bind(this));return this.G6a};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQYWRkaW5nU3R5bGUiOiJabSIsImdldFBhZGRpbmdTdHlsZSI6IkJpIiwic2V0Qm91bmRzIjoic2EiLCJnZXRMZWdlbmREZXZpY2VTaXplIjoiT09jIiwiZW51bWVyYXRlTm9kZXMiOiJkayIsImFkZENoaWxkIjoicGEiLCJnZXRDaGlsZHJlbiI6IkRmIiwiY2xlYXJDaGlsZHJlbiI6InJoIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsImlzQ2xpcHBpbmdFbmFibGVkIjoianUiLCJlbmFibGVDbGlwcGluZyI6ImJmIiwiZ2V0TW9kZWxMaW1pdHMiOiJvYSIsInNldExheW91dCI6ImRlIiwiZ2V0TGF5b3V0IjoiRGUiLCJ1cGRhdGVMYXlvdXQiOiJwYiIsInNldEZpbGxTdHlsZSI6InJhIiwic2V0TGluZVN0eWxlIjoicWEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXREZXNpcmVkV2lkdGgiOiJUayIsInNldERlc2lyZWRXaWR0aCI6IkVtIiwiZ2V0RGVzaXJlZEhlaWdodCI6InNlIiwic2V0RGVzaXJlZEhlaWdodCI6ImRtIn19fSAg");var uR=/*#__PURE__*/ta(/*#__PURE__*/{InterpolateZero:0,InterpolateNull:1,InterpolateMissingValues:2},2,"eyJJbnRlcnBvbGF0ZVplcm8iOiJRT2EiLCJJbnRlcnBvbGF0ZU51bGwiOiJaMmEiLCJJbnRlcnBvbGF0ZU1pc3NpbmdWYWx1ZXMiOiJGbWIifSAg"),vR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e){this.ADa=a;this.Gab=b;this.oxb=c;this.xwa=e;this.hva=Array(c.length);this.init()}L(d,"geotoolkit.controls.util.Interpolation");d.xOb=uR;d.prototype.init=function(){for(var a=0;a<this.oxb.length;a++)this.hva[a]=Array(this.ADa.length);this.dud()};d.prototype.dud=function(){for(var a=0;a<this.oxb.length;a++)for(var b=0,c=0,e=0;e<this.ADa.length;e++)if(this.ADa[e]===this.Gab[a][c])this.hva[a][e]=
this.oxb[a][c],b=c+1,c++;else if(this.xwa===d.xOb.QOa)this.hva[a][e]=0;else if(this.xwa===d.xOb.Z2a)this.hva[a][e]=null;else if(this.ADa[e]<this.Gab[a][0]||this.ADa[e]>this.Gab[a][this.Gab[a].length-1])this.hva[a][e]=null;else{var f=this.ADa[e-1];var g=this.hva[a][e-1];var h=this.Gab[a][b];var k=this.oxb[a][b];this.hva[a][e]=g+(this.ADa[e]-f)*(k-g)/(h-f)}};d.prototype.nOc=function(){return this.hva};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJbnRlcnBvbGF0ZWRWYWx1ZXMiOiJuT2MifX19");var wR=/*#__PURE__*/ta(/*#__PURE__*/{oP:0,BG:1},2,"eyJGaWx0ZXJDbG9zZVBvaW50cyI6Im9QIiwiUkRQIjoiQkcifSAg"),xR=/*#__PURE__*/ta(/*#__PURE__*/{QOa:0,Z2a:1,Fmb:2},2,"eyJJbnRlcnBvbGF0ZVplcm8iOiJRT2EiLCJJbnRlcnBvbGF0ZU51bGwiOiJaMmEiLCJJbnRlcnBvbGF0ZU1pc3NpbmdWYWx1ZXMiOiJGbWIifSAg"),yR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(F,I,J,K,M){var P=Math.min(F.length,I.length);if(!(2>P)){var R=K.eg(),Q=K;void 0!==M&&(null==a.PYb&&(a.PYb=new $g),Q=a.PYb);for(var V,Z=!1,aa=!1,na=!1,ya=1;ya<P;ya++)isNaN(F[ya])||isNaN(I[ya])?!0===Z&&(K.stroke(),Z=!1):(C.Da(F[ya-1],I[ya-1]),A.Da(F[ya],I[ya]),V=R.Gaa(C,A,C,A),0<=V?(aa=!0,!1===Z?(Z=!0,Q.qa(J),Q.beginPath(),Q.moveTo(F[ya-1],I[ya-1])):na&&(Q.moveTo(F[ya-1],I[ya-1]),na=!1),Q.lineTo(F[ya],I[ya])):na=!0);!1!==aa&&(null!=
M?K.Hn(Q,M):K.stroke())}}function a(F,I,J,K,M,P,R,Q,V,Z,aa,na){I=G(F,{x:Array.isArray(F)?F:[],y:Array.isArray(I)?I:[],series:Array.isArray(na)?na:[],linestyles:Array.isArray(J)?J:[new Y],fillstyles:Array.isArray(R)?R:null,bounds:K instanceof U?K.clone():new U(0,0,100,100),spline:"boolean"===typeof M?M:!1,logscale:"boolean"===typeof P?P:!1,baseline:"number"===typeof Q?Q:0,gapfillcutoffvalue:0,gapvalue:Number.MAX_VALUE,stackedarea:"boolean"===typeof V?V:!1,percentarea:"boolean"===typeof Z?Z:!1,datainterpolationstrategy:a.wmc.Fmb,
modellimits:null,gridvisible:!0,autodatalimits:!0,symbols:null,arearange:Array.isArray(aa)?aa:null,labels:null},!0);I=jc(I);I.symbols&&(I.symbols=G(I.symbols,{linestyles:null,fillstyles:null,painters:null,width:10,height:10,sizeisindevicespace:!0,step:1,visible:!0},!0));I.labels&&(I.labels=G(I.labels,{annotations:null,offsetx:0,offsety:0,textstyles:new Fi,showellipsis:!1}));ni.call(this,I);this.km=null;this.QD=0;this.zC=Number.MAX_VALUE;this.Of={x:I.x,y:I.y,linestyles:I.linestyles,fillstyles:I.fillstyles,
size:I.y.length,logscale:I.logscale,spline:I.spline,baseline:I.baseline,gapfillcutoffvalue:I.gapfillcutoffvalue,gapvalue:I.gapvalue,stackedarea:I.stackedarea,percentarea:I.percentarea,datainterpolationstrategy:I.datainterpolationstrategy,symbols:I.symbols,labels:I.labels,arearange:I.arearange,series:I.series,autodatalimits:null==I.modellimits?I.autodatalimits:!1};!1===this.Of.autodatalimits&&null==I.modellimits&&this.Ha(this.zl());this.aga=!0;this.Eh=new H;this.mv=this.RW=!1;this.Cw=a.N8.BG;this.GQa=
null;this.ty=this.KJ.bind(this);this.f9a=new Yn;this.oZb=new io;this.O9=new $g;this.ja=b(this.Of,this);if(null!=this.ja){if(l(this.ja.x))for(J=0;J<this.ja.x.length;J++)this.ja.x[J].on(uH.Td,this.ty);if(l(this.ja.y))for(J=0;J<this.ja.y.length;J++)this.ja.y[J].on(uH.Td,this.ty)}!1!==I.cache&&this.Li(new mi);I.gridvisible&&(I=(new ik).$g("minor",!0).$g("edge",!1),I.Gj("major").setColor(u),I.Gj("minor").setColor(w),J=this.Of.logscale?new sk:new ik,J.$g("minor",!0),J.$g("edge",!1),J.Gj("major").setColor(u),
J.Gj("minor").setColor(w),this.Vc=new Hk(J,I),this.pa(this.Vc));this.setData(F);this.Bzc=null}function b(F,I){var J=k(F.y,F.logscale),K=k(F.x,!1),M=null,P=null;null!=F.symbols&&(M={QU:f(F.symbols.linestyles,J.length,Y.Ra),BA:f(F.symbols.fillstyles,J.length,ug.fd),ncc:f(F.symbols.painters,J.length),visible:void 0!==F.symbols.visible?F.symbols.visible:!0,width:F.symbols.width,height:F.symbols.height,Sxa:h(F.symbols.dimensions,J.length,g),HQe:F.symbols.sizeisindevicespace,step:F.symbols.step});null!=
F.labels&&(P=G(F.labels,{}),null!=P.textstyle&&(hb('geotoolkit.controls.shapes.LineChart(options.labels.textstyle) is deprecated since 2020 (3.0), use "textstyles" instead'),P.textstyle=f(P.textstyle,J.length,Fi.Ra)),P.textstyles=f(P.textstyles||P.textstyle,J.length,Fi.Ra),null!=P.linestyle&&(hb('geotoolkit.controls.shapes.LineChart(options.labels.linestyle) is deprecated since 2020 (3.0), use "linestyles" instead'),P.linestyle=f(P.linestyle,J.length,Y.Ra)),P.linestyles=f(P.linestyles||P.linestyle,
J.length,Y.Ra),null!=P.fillstyle&&(hb('geotoolkit.controls.shapes.LineChart(options.labels.fillstyle) is deprecated since 2020 (3.0), use "fillstyles" instead'),P.fillstyle=f(P.fillstyle,J.length,ug.fd)),P.fillstyles=f(P.fillstyles||P.fillstyle,J.length,ug.fd),P.showellipsis&&B.ey(!0));if(null!=F.arearange){F.arearange=Array.isArray(F.arearange)?F.arearange:[F.arearange];for(var R=0;R<F.arearange.length;R++)F.arearange[R]=G(F.arearange[R],{range:[],linestyles:Array.isArray(F.arearange[R].linestyles)?
F.arearange[R].linestyles:[new Y],fillstyle:null}),F.arearange[R].range=k(F.arearange[R].range,F.logscale),F.arearange[R].linestyles=f(F.arearange[R].linestyles,2,Y.Ra)}R=!1;if(F.stackedarea||F.percentarea)R=!0;var Q=null,V=null;R&&(Q=F.datainterpolationstrategy===xR.QOa?uR.QOa:F.datainterpolationstrategy===xR.Z2a?uR.Z2a:uR.Fmb,V=e(K,J,F.percentarea,Q),Q=k(V.ySeries,F.logscale),V=k(V.xSeries,!1));for(var Z=F.series.slice(),aa=0;aa<J.length;aa++)null==Z[aa]&&(Z[aa]={visible:!0});F={y:J,x:K,QU:f(F.linestyles,
J.length,Y.Ra),BA:f(F.fillstyles,J.length,ug.fd),alc:Q,gbd:V,ERd:F.logscale,X0a:F.spline,fbb:F.baseline,qLe:F.gapfillcutoffvalue,rLe:F.gapvalue,b1a:R,zPe:F.percentarea,q6:F.arearange,Us:M,labels:P,H2:Z};I.QIb(F.linestyles,F.fillstyles);return F}function c(F,I,J){J=Math.max(Math.min(J,1),0);return(1-J)*F+J*I}function e(F,I,J,K){var M,P=0,R=I.length,Q=[],V=[],Z=[],aa=Array(R);for(M=0;M<F.length;M++){Z.push(F[M].toArray(!1));for(var na=Q.length,ya=0,va=[];P<Z[M].length&&ya<na;)Z[M][P]<Q[ya]?va[va.length-
1]===Z[M][P]?P++:va.push(Z[M][P++]):va.push(Q[ya++]);for(;ya<na;)va[va.length-1]===Q[ya]?ya++:va.push(Q[ya++]);for(;P<Z[M].length;)va[va.length-1]===Z[M][P]?P++:va.push(Z[M][P++]);P=0;Q=va.slice()}for(M=0;M<R;M++)V.push(I[M].toArray(!1)),aa[M]=Array(Q.length);P=Z.length;for(M=0;M<R;M++)Z[M]=Z[M>=P?P-1:M];for(M=0;M<R;M++)Z[M]=Z[M].slice(0,V[M].length);if(!J)for(M=0;M<R;M++){I=0;na=Z[M].length;for(P=0;P<Z[M].length-1;P++){if(null==V[M][P])I++;else break;if(null!=V[M][P+1])break}for(P=Z[M].length-1;0<
P;P--){if(null==V[M][P])na--;else break;if(null!=V[M][P-1])break}Z[M]=Z[M].slice(I,na);V[M]=V[M].slice(I,na)}F=(new vR(Q,Z,V,K)).nOc();if(J)for(M=0;M<Q.length;M++){for(P=J=0;P<R;P++)F[P][M]=isNaN(F[P][M])?0:F[P][M],J+=F[P][M];0!==J&&(J=100/J);for(P=0;P<R;P++)F[P][M]*=J,0<P&&(F[P][M]+=F[P-1][M]),F[P][M]=100<F[P][M]?100:F[P][M]}else for(M=0;M<R;M++)for(P=0;P<Q.length;P++)F[M][P]=isNaN(F[M][P])?null:F[M][P],0<M&&(F[M][P]=isNaN(F[M][P])?null:F[M][P],F[M][P]=F[M-1][P]+F[M][P]);if(K===uR.QOa)for(M=0;M<
V.length;M++)aa[M]=Q.slice();else for(M=0;M<V.length;M++)I=W.findIndex(Z[M][0],Q),na=W.findIndex(Z[M][Z[M].length-1],Q),aa[M]=Q.slice(0,na+1),F[M].splice(na+1),aa[M]=aa[M].slice(I),F[M]=F[M].slice(I);return{ySeries:F,xSeries:aa}}function f(F,I,J){return h(F,I,J)}function g(F){return W.HY(F)?new Ud(F,F):Ud.Ra(F)}function h(F,I,J){if(null==F)return null;var K;if(Array.isArray(F))if(F.length===I)var M=F;else for(M=F.slice(),K=F.length;K<I;++K)M.push(F[F.length-1]);else for(M=[],K=0;K<I;++K)M.push(F);
if(null!=J)for(K=0;K<M.length;++K)M[K]=J(M[K]);return M}function k(F,I){if(m(F)||l(F)){for(var J=[],K=0;K<F.length;++K)J.push(n(F[K],I));return J}return[n(F,I)]}function l(F){if(Array.isArray(F)){for(var I=0;I<F.length;I++)if(!oc(F[I],CH))return!1;return 0!==F.length}return!1}function m(F){return!(null==F||!Array.isArray(F)||0===F.length||!Array.isArray(F[0]))}function n(F,I){F=oc(F,CH)?F:Array.isArray(F)?new DH({data:F}):new DH;return!0===I?new RH({data:F,preprocessor:p}):F}function p(F){for(var I=
Array.isArray(F)?F:[F],J=[],K,M=0;M<I.length;++M)K=I[M],J[M]=isNaN(K)||K<t?Number.NaN:Math.log(K)/y;return Array.isArray(F)?J:J[0]}function q(F,I){if(null==I||null==F)return null;var J=new X;if(F instanceof Km){var K=null!=F.Fa()?F.Fa().ca()/2:0;J.TA(F.width/2+K,F.height/2+K)}J=I.hr(J,new N(0,0));if(null===J)return null;F instanceof Km?F.render(J):J.drawImage(F,0,0,F.width,F.height,0,0,F.width/bc(),F.height/bc());I.tp();return I}var r=function(){function F(K){ud.call(this,K)}var I=function(){function K(){qd.call(this)}D(K,qd);K.prototype.process=function(M,P,R,Q){M=Q(M.x.length,P.x.length);var V=Math.floor(M);R={x:P.x.slice(0,V),y:P.y.map(function(na){return na.slice(0,V)})};if(V!==M){M-=V;var Z=P.x[V-1],aa=P.x[V];Z+=(aa-Z)*M;R.x.push(Z);for(Q=0;Q<P.y.length;Q++)Z=P.y[Q][V-1],aa=P.y[Q][V],Z+=(aa-Z)*M,R.y[Q].push(Z)}return R};K.prototype.clone=function(M){return{x:M.x.slice(),y:M.y.map(function(P){return P.slice()})}};K.RP=null;K.ya=function(){null==K.RP&&(K.RP=new K);return K.RP};return K}(),J=function(){function K(){I.call(this)}D(K,I);K.prototype.process=function(M,P,R,Q){R=R||{x:[],y:[]};if(M.x.length===P.x.length){for(var V=0;V<M.x.length;++V)R.x[V]=Q(M.x[V],P.x[V]);for(V=0;V<M.y.length;++V){R.y[V]=R.y[V]||[];for(var Z=0;Z<M.x.length;++Z)R.y[V][Z]=Q(M.y[V][Z],P.y[V][Z])}return R}if(0===M.x.length){for(M=0;M<P.x.length;++M)R.x[M]=P.x[M];for(M=0;M<P.y.length;++M)for(R.y[M]=R.y[M]||[],V=0;V<P.x.length;++V)R.y[M][V]=Q(0,P.y[M][V]);return R}return null};K.RP=null;K.ya=function(){null==K.RP&&(K.RP=new K);return K.RP};return K}();
D(F,ud);F.prototype.Ym=function(K,M){return"data"===K.attributeName&&M instanceof a&&("vertical"===K.type||"horizontal"===K.type)};F.prototype.$F=function(K){"horizontal"===this.Kj&&this.Ijb(I.ya());"vertical"===this.Kj&&this.Ijb(J.ya());return(K=K.getData())&&Array.isArray(K.x)&&Array.isArray(K.y)?{x:K.x,y:K.y}:null};F.prototype.apply=function(K){K.setData(this.wya())};return F}(),t=1E-5,u="#e0e0e0",w="#f5f5f5",y=Math.log(10),z=10,x=new Km({alignment:O.Oa}),C=new N(0,0),A=C.clone(),v=new Ud(0,0),
B=new ek({alignment:O.Oa,showellipsis:!1,visible:!0,sizeIsInDeviceSpace:!0});B.wk(ck.co);var E=function(){function F(){this.values=this.indices=null;this.D7=0;this.vAa=!0}F.prototype.Bx=function(){this.indices=this.indices||[];this.values=this.values||[];this.D7=0};F.prototype.end=function(){this.indices.splice(this.D7,this.indices.length-this.D7);this.values.splice(this.D7,this.values.length-this.D7)};F.prototype.pv=function(I,J){var K=this.D7;this.indices[K]=I;this.values[K]=J;this.D7=K+1};return F}(),
H=function(){function F(){this.OR=[];this.QH=null;this.HAa=wR.oP}F.prototype.pv=function(I,J,K){this.OR[I].pv(J,K)};F.prototype.shb=function(I,J){return this.vAa||!this.QH||this.QH.uf!==I.uf||this.QH.Ef!==I.Ef||this.QH.Gg!==I.Gg||this.QH.Mg!==I.Mg||this.HAa!==J};F.prototype.O7=function(){this.vAa=!0};F.prototype.Yxb=function(I,J){this.OR[I].Bx(J)};F.prototype.xJc=function(I){this.OR[I].end()};F.prototype.Bx=function(I){if(0!==I&&(!this.OR||this.OR.length!==I)){this.OR=Array(I);for(var J=0;J<I;J++)this.OR[J]=
new E}};F.prototype.end=function(I,J){this.QH=I;this.HAa=J;this.vAa=!1};return F}();D(a,ni);mc(a,sR);L(a,"geotoolkit.controls.shapes.LineChart");pe.ya().YH(r);a.N8=wR;a.wmc=xR;a.prototype.eHc=function(){null!=this.ja.yvalforgap&&this.ja.yvalforgap.forEach(function(M){M.dispose()});this.ja.yvalforgap=null;if(this.zC===Number.MAX_VALUE)return this;for(var F=this.ja.y.map(function(M){return M.Ba(M,!0)}),I=this.ja.x[0],J=0;J<this.ja.y.length;++J)for(var K=1;K<I.getLength();++K)Math.abs(I.getValue(K)-
I.getValue(K-1))>this.zC&&(I.Hia(K,I.getValue(K)),F[J].Hia(K,Number.NaN),++K);this.ja.yvalforgap=F;return this};a.prototype.NJc=function(){null!=this.ja.yvalforgapfill&&this.ja.yvalforgapfill.forEach(function(Q){Q.dispose()});this.ja.yvalforgapfill=null;if(0>=this.QD)return this;for(var F=this.ja.y.map(function(Q){return Q.Ba(Q,!0)}),I=this.ja.x[0],J=0;J<F.length;++J)for(var K=0,M=0;M<I.getLength();++M)if("number"===typeof F[J].getValue(M)&&!isNaN(F[J].getValue(M))){if(K<M){var P=M-K;if(1<P&&Math.abs(I.getValue(M)-
I.getValue(K))<=this.QD)for(P=K+1;P<M;++P){var R=Math.abs(I.getValue(P)-I.getValue(K))/Math.abs(I.getValue(M)-I.getValue(K));F[J].setValue(P,c(F[J].getValue(K),F[J].getValue(M),R))}}K=M}this.ja.yvalforgapfill=F;return this};a.prototype.gS=function(F){if(this.Cw===F)return this;this.ha();this.Cw=F;this.xa().ha();return this};a.prototype.YJ=function(F){if(this.mv===F)return this;this.ha();this.mv=F;this.xa().ha();return this};a.prototype.Ajb=function(F){this.RW!==F&&(this.RW=F,this.xa().ha());return this};
a.prototype.xa=function(F,I){I===De.eea&&(this.sUa=[]);ni.prototype.xa.call(this,F,I);return this};a.prototype.getData=function(){return this.Of};a.prototype.setData=function(F){if(null==F)return this;F=G(F,{x:Array.isArray(F.x)?F.x:this.Of.x,y:Array.isArray(F.y)?F.y:this.Of.y,linestyles:Array.isArray(F.linestyles)?F.linestyles:this.Of.linestyles,fillstyles:Array.isArray(F.fillstyles)?F.fillstyles:this.Of.fillstyles,series:Array.isArray(F.series)?F.series:this.Of.series,baseline:"number"===typeof F.baseline?
F.baseline:this.Of.baseline,gapfillcutoffvalue:"number"===typeof F.gapfillcutoffvalue?F.gapfillcutoffvalue:this.Of.gapfillcutoffvalue,gapvalue:"number"===typeof F.gapvalue?F.gapvalue:this.Of.gapvalue,stackedarea:"boolean"===typeof F.stackedarea?F.stackedarea:this.Of.stackedarea,percentarea:"boolean"===typeof F.percentarea?F.percentarea:this.Of.percentarea,datainterpolationstrategy:this.Of.datainterpolationstrategy,spline:"boolean"===typeof F.spline?F.spline:this.Of.spline,logscale:"boolean"===typeof F.logscale?
F.logscale:this.Of.logscale,symbols:"object"===typeof F.symbols?F.symbols:this.Of.symbols,labels:"object"===typeof F.labels?F.labels:this.Of.labels,modellimits:"object"===typeof F.modellimits?F.modellimits:this.oa(),arearange:null,autodatalimits:"boolean"===typeof F.autodatalimits?F.autodatalimits:this.Of.autodatalimits},!0);this.Of={x:F.x,y:F.y,linestyles:F.linestyles,fillstyles:F.fillstyles,size:F.y.length,logscale:F.logscale,spline:F.spline,baseline:F.baseline,gapfillcutoffvalue:F.gapfillcutoffvalue,
gapvalue:F.gapvalue,stackedarea:F.stackedarea,percentarea:F.percentarea,datainterpolationstrategy:F.datainterpolationstrategy,symbols:F.symbols,labels:F.labels,arearange:F.arearange,autodatalimits:F.autodatalimits,series:F.series};this.sUa=null;this.ja=b(this.Of,this);this.GQa=null;null==this.ty&&(this.ty=this.KJ.bind(this));this.J2(this.Of.gapfillcutoffvalue);this.K2(this.Of.gapvalue);this.N1b();this.xa().ha();return this};a.prototype.QIb=function(F,I){this.ja||(this.ja={});var J;this.ja.QU=this.ja.QU||
[];for(J=0;J<this.ja.QU.length;++J)this.sk(this.ja.QU[J],ze.ib,this.tb());this.ja.BA=this.ja.BA||[];for(J=0;J<this.ja.BA.length;++J)this.sk(this.ja.BA[J],ze.ib,this.tb());F=F||[];for(J=0;J<F.length;++J)this.cg(F[J],ze.ib,this.tb());I=I||[];for(J=0;J<I.length;++J)this.cg(I[J],ze.ib,this.tb());return this};a.prototype.tb=function(){this.km||(this.km=function(F,I,J){F=Math.max(this.ja.x.length,this.ja.y.length);for(J=0;J<F;++J){var K=this.ja.linestyles[J];if(I===K){var M=this.ja.x[J]||this.ja.x[0],P=
this.ja.y[J]||this.ja.y[0];M=new U(M.qf(),P.qf(),M.Rf(),P.Rf());K=K.ca();K=new Ud((K+1)*Math.SQRT1_2,(K+1)*Math.SQRT1_2);null!=this.wa()&&this.wa().pl(K,K);M.bd(K.ca(),K.da());this.ha(M)}}}.bind(this));return this.km};a.prototype.setOptions=function(F){if(null==F)return this;F=G(F,{linestyles:Array.isArray(F.linestyles)?F.linestyles:this.Of.linestyles,fillstyles:Array.isArray(F.fillstyles)?F.fillstyles:this.Of.fillstyles,baseline:"number"===typeof F.baseline?F.baseline:this.Of.baseline,gapfillcutoffvalue:"number"===
typeof F.gapfillcutoffvalue?F.gapfillcutoffvalue:this.Of.gapfillcutoffvalue,gapvalue:"number"===typeof F.gapvalue?F.gapvalue:this.Of.gapvalue,spline:"boolean"===typeof F.spline?F.spline:this.Of.spline,symbols:"object"===typeof F.symbols?F.symbols:this.Of.symbols,series:Array.isArray(F.series)?F.series:this.Of.series,labels:"object"===typeof F.labels?F.labels:this.Of.labels,modellimits:"object"===typeof F.modellimits?F.modellimits:this.oa(),autodatalimits:"boolean"===typeof F.autodatalimits?F.autodatalimits:
this.Of.autodatalimits},!0);this.Of=xb(F,this.Of);this.sUa=null;this.ja=b(this.Of,this);this.GQa=null;null!=this.ty&&(this.ty=this.KJ.bind(this));this.J2(this.Of.gapfillcutoffvalue);this.K2(this.Of.gapvalue);this.N1b().xa().ha();return this};a.prototype.ta=function(){return{linestyles:this.Of.linestyles,fillstyles:this.Of.fillstyles,baseline:this.Of.baseline,gapvalue:this.Of.gapvalue,spline:this.Of.spline,symbols:this.Of.symbols,labels:this.Of.labels,modellimits:this.oa(),autodatalimits:this.fAb(),
series:this.Of.series}};a.prototype.KJ=function(F,I,J){var K=null;if(I instanceof BH&&null!=J&&null!=J.index&&null!=J.count&&"added"===J.type){var M;F=-1;for(M=0;M<this.ja.x.length;M++)if(this.ja.x[M]===I||this.ja.y[M]===I){F=M;break}if(-1!==F)if(K=this.ja.x[F],I=this.ja.y[F],null!=this.ja.yvalforgap&&(this.eHc(),I=this.ja.yvalforgap[F]),null!=this.ja.yvalforgapfill&&(this.NJc(),I=this.ja.yvalforgapfill[F]),K=K.toArray(!1),I=I.toArray(!1),F=0<J.index?J.index-1:0,K.length===I.length){var P=K[F],R=
P,Q=I[F],V=Q,Z=K.length;J=J.count;for(M=F;M<Z&&M<F+J+2;M++)P=Math.min(P,K[M]),R=Math.max(R,K[M]),Q=Math.min(Q,I[M]),V=Math.max(V,I[M]);K=new U(P,Q,R,V);J=this.Fa();null!=J&&(J=new Ud(J,J),J=this.wa().pl(J,J),K.bd(J.ca(),J.da()));I=this.ja.Us;if(null!=I&&null!=this.Of.symbols&&this.Of.symbols.visible){J=I.width;M=I.height;null!=I.Sxa&&null!=I.Sxa[F]&&(J=I.Sxa[F].ca(),M=I.Sxa[F].da());if(F=this.Of.symbols.sizeIsInDeviceSpace)v.setSize(J,M),v=this.wa().pl(v,v),J=v.ca(),M=v.da();K.bd(J,M)}if(null!==this.ja.q6||
!0===this.ja.b1a)F=this.oa(),K.setY(F.getY()).$a(F.da())}else K=Si.kn()}null!=K&&!1===K.isEmpty()?this.ha(K):this.ha();this.N1b().xa()};a.prototype.dispose=function(){if(null!=this.ja.x&&l(this.ja.x))for(var F=0;F<this.ja.x.length;F++)this.ja.x[F].za(uH.Td,this.ty);if(null!=this.ja.y&&l(this.ja.y))for(F=0;F<this.ja.x.length;F++)this.ja.y[F].za(uH.Td,this.ty);ni.prototype.dispose.call(this)};a.prototype.oa=function(){return this.Of&&!0===this.Of.autodatalimits?this.zl():ni.prototype.oa.call(this)};
a.prototype.Ha=function(F){null!=this.Of&&(this.Of.autodatalimits=!1);ni.prototype.Ha.call(this,F);return this};a.prototype.N1b=function(){this.aga=!0;this.Eh.O7();this.xQ=[];return this};a.prototype.Xhb=function(){var F=this.mv||this.RW;if(this.aga&&this.Cw===a.N8.BG&&F){F=this.ja.y.length;var I=this.ja.x.length,J;for(J=0;J<F;J++){var K=this.ja.x[J>=I?I-1:J].toArray(!1);var M=this.ja.y[J].toArray(!1);var P=Math.min(K.length,M.length);this.HHa&&this.HHa.length===F||(this.HHa=Array(F));this.HHa[J]&&
this.HHa[J].length===P||(this.HHa[J]=new Float64Array(P));Vn.Sdc(K,M,P,this.HHa[J])}this.aga=!1}};a.prototype.fcc=function(F){var I=this.mv||this.RW;if(I&&(F=F.Ea(),this.Eh.shb(F,this.Cw))){this.Xhb();I=this.ja.x.length;var J=this.ja.y.length;this.Eh.Bx(J);for(var K=0;K<J;K++){var M=this.ja.x[K>=I?I-1:K].toArray(!1),P=this.ja.y[K].toArray(!1),R=Math.min(M.length,P.length);if(this.Cw===a.N8.BG){var Q=this.HHa[K];P=Vn.Ncb(M,P,Q,R,F);M=Array.prototype.slice.call(P[Tn.X3],0,P[Tn.kP]);P=Array.prototype.slice.call(P[Tn.Z3],
0,P[Tn.kP]);this.iwd(K,M,P)}else this.BAd(F,K,M,P)}this.Eh.end(F,this.Cw)}};a.prototype.iwd=function(F,I,J){if(0===I.length||0===J.length)this.Eh.Yxb(F,I.length);else{var K=0,M=I.length;for(this.Eh.Yxb(F,I.length);K<M;K++)this.Eh.pv(F,I[K],J[K])}this.Eh.xJc(F)};a.prototype.BAd=function(F,I,J,K){if(0===J.length||0===K.length)this.Eh.Yxb(I,J.length);else{var M=F.Pc(1,0).clone(),P=F.Pc(0,0).clone();M.setX(M.x-P.x);M.setY(M.y-P.y);var R=Math.sqrt(M.x*M.x+M.y*M.y);P=M.x/R;M=M.y/R;var Q=0;R=J.length;this.Eh.Yxb(I,
J.length);for(var V=NaN,Z,aa,na,ya,va=this,qa=function(){isNaN(V)||(na!==aa&&na!==Z&&va.Eh.pv(I,J[na],K[na]),Z<aa?(va.Eh.pv(I,J[Z],K[Z]),va.Eh.pv(I,J[aa],K[aa])):aa<Z?(va.Eh.pv(I,J[aa],K[aa]),va.Eh.pv(I,J[Z],K[Z])):va.Eh.pv(I,J[aa],K[aa]),ya!==aa&&ya!==Z&&va.Eh.pv(I,J[ya],K[ya]))};Q<R;Q++)if(isNaN(K[Q]))qa(),this.Eh.pv(I,J[Q],K[Q]),V=NaN;else{var Ja=F.Pc(J[Q],K[Q]);Ja=P*Ja.x+M*Ja.y;!isNaN(V)&&1>Math.abs(Ja-V)?(K[Q]<K[Z]&&(Z=Q),K[aa]<K[Q]&&(aa=Q),ya=Q):(qa(),V=Ja,na=ya=Z=aa=Q)}qa()}this.Eh.xJc(I)};
a.prototype.pWd=function(){if(null===this.GQa){var F=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,J=Number.POSITIVE_INFINITY,K=Number.NEGATIVE_INFINITY,M,P=this.Lu();for(M=0;M<this.ja.y.length;M++)if(!(null!=this.ja.H2&&this.ja.H2.length>M&&null!=this.ja.H2[M].visible)||this.ja.H2[M].visible){var R=this.ja.b1a?this.ja.alc[M]:this.ja.y[M];var Q=M<this.ja.x.length?this.ja.x[M]:this.ja.x[this.ja.x.length-1];var V=Q.toArray(!1);var Z=R.toArray(!1);0!==V.length&&0!==Z.length&&(F=Math.min(Q.qf(),
F),J=Math.min(R.qf(),J),I=Math.max(Q.Rf(),I),K=Math.max(R.Rf(),K))}J=Math.min(P,J);K=Math.max(P,K);F===Number.POSITIVE_INFINITY||I===Number.NEGATIVE_INFINITY?(F=-1,I=1):I===F&&(--F,I+=1);J===Number.POSITIVE_INFINITY||K===Number.NEGATIVE_INFINITY?(J=-1,K=1):K===J&&(--J,K+=1);this.GQa=new U(F,J,I,K)}};a.prototype.uj=function(F){this.Yh(F);this.Df().forEach(function(I){F.filter(I)&&(F.fc()&&F.Sh(I),I.render(F))});this.UAa(F);this.yh(F)};a.prototype.Ft=function(F,I){var J=this;this.Yh(F);Hg.QN(this.Df(),
function(K,M){F.filter(K)?(F.Sh(K),K.Fe(F,M)):M()},function(){J.UAa(F);J.yh(F);I()})};a.svb=null;a.PYb=null;a.prototype.DYc=function(F,I,J,K,M,P,R){function Q(){aa.push({index:na,x:I[na],y:J[na],y1:null!=P?P[na]:[]})}var V=1,Z=1;null==a.svb&&(a.svb=new Km({width:V,height:Z,alignment:O.Oa,sizeisindevicespace:!0,painter:Qn,fillstyle:new rf("black")}));var aa=[],na=0,ya=F.mg(),va=F.Ea();ya=U.g7(ya,2*V,2*Z);for(V=0;V<I.length;++V)na=V,Z=va.Pc(I[V],J[V]),!1===ya.contains(Z.x,Z.y)||null==J[V]||isNaN(J[V])||
(a.svb.Jb(I[V],J[V]),F.Hn(a.svb,Q.bind(this)));if(0<aa.length)F.eV({visual:this,series:K,indices:aa.map(function(Ja){return Ja.index}),points:aa});else{var qa=!1;null!=M?F.Hn(M,function(){qa=!0}):d(I,J,R,F,function(){qa=!0});qa&&F.eV({visual:this,series:K,indices:[],points:[]})}};a.prototype.Lu=function(){var F=this.ja.fbb?this.ja.fbb:0;this.ja.ERd&&(F=p(F),isNaN(F)&&(F=1));return F};a.prototype.UAa=function(F){F.filter(this)&&F.Sh(this);if(0!==this.ja.x.length&&0!==this.ja.y.length)if(this.fcc(F),
null!==this.ja.q6&&this.Gtd(F),!0===this.ja.b1a)this.kZd(F);else{var I=this.ja.x,J=this.ja.y;null!=this.ja.yvalforgap&&(J=this.ja.yvalforgap);null!=this.ja.yvalforgapfill&&(J=this.ja.yvalforgapfill);var K=this.ja.x.length,M,P=this.Lu();for(M=0;M<J.length;M++)if(!(null!=this.ja.H2&&this.ja.H2.length>M&&null!=this.ja.H2[M].visible)||this.ja.H2[M].visible){var R=!1;var Q=this.mv?this.Eh.OR[M].indices:I[M>=K?K-1:M].toArray(!1);var V=this.mv?this.Eh.OR[M].values:J[M].toArray(!1);if(0!==Q.length&&0!==V.length){if(2>
Q.length)var Z=this.f9a.fa({optimization:!1,x:Q,y:V});else null!=this.ja.BA&&0<this.ja.BA.length&&null!=this.ja.BA[M]&&(this.O1b(this.O9,Q,V,this.ja.X0a,P),this.O9.ra(this.ja.BA[M]).qa(null),this.O9.render(F)),null!=this.ja.QU&&0<this.ja.QU.length&&null!=this.ja.QU[M]&&(!1===this.ja.X0a||F.fc()?(d(Q,V,this.ja.QU[M],F),R=!0):(null==this.xQ[M]&&(this.xQ[M]=(new io).ne(Q,V).qa(this.Of.linestyles[M])),this.xQ[M].render(F),Z=this.xQ[M]));F.fc()&&(null!==Z||R)&&this.DYc(F,Q,V,M,Z,null,this.ja.QU[M]);Z=
null}}this.Voa(F)}};a.prototype.kZd=function(F){var I,J,K=this.ja.x.length,M=[],P=this.Lu();for(I=0;I<this.ja.y.length;I++){var R=this.ja.alc[I].toArray(!0);var Q=this.ja.gbd[I].toArray(!0);var V=this.mv?this.Eh.OR[I].indices:this.ja.x[I>=K?K-1:I].toArray(!1);var Z=this.mv?this.Eh.OR[I].values:this.ja.y[I].toArray(!0);0===I&&M.push(P);if(0!==Q.length&&0!==R.length){if(2>Q.length)var aa=this.f9a.fa({x:Q,y:R}).YJ(!1);else 0<this.ja.QU.length&&(aa=!0===this.ja.X0a?this.oZb.fa({x:Q,y:R}):this.f9a.fa({x:Q,
y:R}).YJ(!1),M.push({x:aa.be(),y:aa.He()}),aa.qa(this.ja.QU[I]),aa.render(F)),0<this.ja.BA.length&&(this.O1b(this.O9,Q,R,this.ja.X0a,M,M.length-2),this.O9.ra(this.ja.BA[I]),this.O9.qa(new Y(new xd(255,255,255,0))),this.O9.render(F));if(F.fc()&&null!==aa){var na=[],ya=[];for(J=0;J<Q.length;J++){var va=V.indexOf(Q[J]);-1!==va&&(na.push(J),ya.push(va))}for(J=0;J<na.length;J++)Q[J]=Q[na[J]],R[J]=R[na[J]],Z[J]=Z[ya[J]];Q.splice(na.length);R.splice(na.length);Z.splice(na.length);this.DYc(F,Q,R,I,aa,Z)}aa=
null}}this.Voa(F)};a.prototype.Gtd=function(F){for(var I=this.ja.x.length,J,K,M,P,R=0;R<this.ja.q6.length;R++)J=this.mv?this.Eh.OR[R].indices:this.ja.x[R>=I?I-1:R].toArray(!1),K=this.ja.q6[R].range.length,2===K&&0!==J.length&&(K=this.ja.q6[R].range[0].toArray(!1),M=this.ja.q6[R].range[1].toArray(!1),!0===this.ja.X0a?(P=this.oZb.fa({x:J,y:K}),P.qa(this.ja.q6[R].linestyles[0]),P.render(F),M=this.oZb.fa({x:J,y:M})):(P=this.f9a.fa({x:J,y:K}),P.qa(this.ja.q6[R].linestyles[0]),P.render(F),M=this.f9a.fa({x:J,
y:M})),M.qa(this.ja.q6[R].linestyles[1]),M.render(F),null!=this.ja.q6[R].fillstyle&&(this.O1b(this.O9,J,K,this.ja.X0a,[{x:M.be(),y:M.He()}],0),this.O9.ra(this.ja.q6[R].fillstyle),this.O9.qa(new Y(new xd(255,255,255,0))),this.O9.render(F)))};a.prototype.Voa=function(F){var I,J,K,M=0,P=this.ja.x.length,R=null!=this.ja.Us&&this.ja.Us.visible&&null!=this.ja.Us.ncc&&0<this.ja.Us.ncc.length,Q=null!=this.ja.labels;if(R||Q){if(null==this.sUa||this.Bzc!==F.constructor)this.sUa=[],this.Bzc=F.constructor;for(I=
0;I<this.ja.y.length;I++)if(!(null!=this.ja.H2&&this.ja.H2.length>I&&null!=this.ja.H2[I].visible)||this.ja.H2[I].visible){if(!0===this.ja.b1a){var V=this.ja.gbd[I].toArray(!0);var Z=this.ja.alc[I].toArray(!0);var aa=this.RW?this.Eh.OR[I].indices:this.ja.x[I>=P?P-1:I].toArray(!1);var na=this.RW?this.Eh.OR[I].values:this.ja.y[I].toArray(!1);var ya=[];for(J=0;J<V.length;J++)-1!==aa.indexOf(V[J])&&ya.push(J);for(J=0;J<ya.length;J++)V[J]=V[ya[J]],Z[J]=Z[ya[J]];V.splice(ya.length);Z.splice(ya.length)}else V=
this.RW?this.Eh.OR[I].indices:this.ja.x[I>=P?P-1:I].toArray(!1),Z=this.RW?this.Eh.OR[I].values:this.ja.y[I].toArray(!1);if(0!==V.length&&0!==Z.length){J=!0===this.ja.Us.visible||this.ja.Us.visible[I];if(R&&J){aa=this.ja.Us;J=aa.width;ya=aa.height;null!=aa.Sxa&&null!=aa.Sxa[I]&&(J=aa.Sxa[I].ca(),ya=aa.Sxa[I].da());M=aa.step;if(null!=aa.BA&&0<aa.BA.length){var va=aa.BA[I];va||(va=rf.bo)}else va=rf.bo;null!=aa.QU&&0<aa.QU.length?(K=aa.QU[I])||(K=new Y("transparent",0)):K=new Y("transparent",0);var qa=
aa.ncc[I];null==aa.width&&(J=10);null==aa.height&&(ya=10);null==aa.step&&(M=1);if(null!==va||null!=K){aa=this.sUa[I];null==aa&&(x.fa({width:J,height:ya,sizeisindevicespace:this.Of.symbols.sizeisindevicespace,painter:qa,linestyle:K,fillstyle:va}),aa=null==x.Fa()?0:x.Fa().ca()+1,aa=F.Ez(x.ca()+aa,x.da()+aa),q(x,aa),!1===F.fc()&&(this.sUa[I]=aa));va=null!=aa?aa.ca()/2:0;K=null!=aa?aa.da()/2:0;qa=F.mg();var Ja=F.Ea();qa=U.g7(qa,2*J,2*ya);var Qa=null;ya=Math.sqrt(J*J+ya*ya);var Oa=!0===this.Of.symbols.decimate;
for(J=0;J<V.length;J+=M||1){var Ua=Ja.Pc(V[J],Z[J]);if(Oa){if(null!=Qa&&N.xf(Qa,Ua)<ya)continue;null==Qa?Qa=Ua.clone():Qa.Da(Ua.x,Ua.y)}!1!==qa.contains(Ua.x,Ua.y)&&(null!=aa?aa.render(F,Ua.x-va,Ua.y-K):x.Jb(V[J],Z[J]).render(F))}}}if(Q)for(ya=M,J=this.ja.labels,null!=J.step&&(ya=J.step),qa=J.anchor||O.hg,va=null!=J.offsetx?J.offsetx:5,K=null!=J.offsety?J.offsety:-5,null==J.offsetx&&null==J.offsety&&null!=J.offset&&(aa=Number(J.offset),K=va=0,ok.zv(qa)?va=aa:ok.cw(qa)&&(va=-aa),ok.NA(qa)?K=aa:ok.cD(qa)&&
(K=-aa)),va=Math.sign(va)*Hd.sb(va,0,F.Ea()),K=Math.sign(K)*Hd.sb(0,K,F.Ea()),this.getParent().Xo()&&(K*=-1,ok.NA(qa)?qa=ok.zv(qa)?O.hg:ok.cw(qa)?O.Ah:O.Se:ok.cD(qa)&&(qa=ok.zv(qa)?O.Id:ok.cw(qa)?O.Nf:O.ee)),aa=J.padding||0,Ja=null!=J.annotations&&null!=J.annotations[I]?J.annotations[I]:null,B.kb(null!=J.textstyles?J.textstyles[I]:null),B.ra(null!=J.fillstyles?J.fillstyles[I]:null),B.qa(null!=J.linestyles?J.linestyles[I]:null),null!=Ja&&(Ja instanceof PH||Ja instanceof BH)&&(Ja=Ja.toArray(!1)),B.yc(qa).kM(aa).nu(!0),
J=0;J<V.length;J+=ya||1)B.Jb(V[J]+va,Z[J]+K),null!=Ja?B.Eb(Ja[J]):this.ja.b1a?B.Eb(na[J]):B.Eb(Z[J]),B.render(F)}}}};a.prototype.O1b=function(F,I,J,K,M,P){F.clear();if(this.ja.b1a||null!=this.ja.q6)if(M[P]!==this.Lu()&&null!=M[P]){if(M[P].x[0]<=I[0]&&M[P].x[M[P].x.length-1]>=I[I.length-1]){var R=0;var Q=I.length-1;var V=W.findIndex(I[0],M[P].x);var Z=W.findIndex(I[I.length-1],M[P].x)}else if(M[P].x[0]<=I[0]){if(R=0,V=W.findIndex(I[0],M[P].x),Z=M[P].x.length-1,Q=W.findIndex(M[P].x[M[P].x.length-1],
I),V===Z||0>V)R=I.length-1,Q=I.length-1}else if(M[P].x[M[P].x.length-1]>=I[I.length-1]){if(Q=I.length-1,Z=W.findIndex(I[I.length-1],M[P].x),V=0,R=W.findIndex(M[P].x[0],I),V===Z||0>Z)R=I.length-1,Q=I.length-1}else V=0,Z=M[P].x.length-1,R=W.findIndex(M[P].x[0],I),Q=W.findIndex(M[P].x[M[P].x.length-1],I);if(K){var aa=ch.G1(I,J);var na=aa.MX;var ya=aa.NX;var va=aa.mZ;var qa=aa.nZ}if(0<=Z&&0<=V){F.moveTo(M[P].x[V],M[P].y[V]);if(K){var Ja=ch.G1(M[P].x,M[P].y);var Qa=Ja.MX;var Oa=Ja.NX;var Ua=Ja.mZ;Ja=Ja.nZ;
for(aa=V;aa<Z;aa++)F.bezierCurveTo(Qa[aa],Oa[aa],Ua[aa],Ja[aa],M[P].x[aa+1],M[P].y[aa+1]);F.lineTo(I[Q],J[Q]);for(aa=Q;aa>R;aa--)F.bezierCurveTo(va[aa-1],qa[aa-1],na[aa-1],ya[aa-1],I[aa-1],J[aa-1])}else{for(aa=V;aa<=Z;aa++)F.lineTo(M[P].x[aa],M[P].y[aa]);F.lineTo(I[Q],J[Q]);for(aa=Q;aa>=R;aa--)F.lineTo(I[aa],J[aa])}F.moveTo(M[P].x[V],M[P].y[V]);F.close()}Z=-1;for(aa=0;aa<R;aa++){V=0;F.moveTo(I[aa],J[aa]);for(Qa=P-1;0<Qa;Qa--)if(I[aa]>=M[Qa].x[0]&&I[aa]<=M[Qa].x[M[Qa].x.length-1]&&(Z=W.findIndex(I[aa],
M[Qa].x)),Z!==M[Qa].x.length-1&&-1!==Z){V=Qa;break}M[V]!==this.Lu()?K?(F.bezierCurveTo(na[aa],ya[aa],va[aa],qa[aa],I[aa+1],J[aa+1]),F.lineTo(M[V].x[Z+1],M[V].y[Z+1]),Ja=ch.G1(M[V].x,M[V].y),Qa=Ja.MX,Oa=Ja.NX,Ua=Ja.mZ,Ja=Ja.nZ,F.bezierCurveTo(Ua[Z],Ja[Z],Qa[Z],Oa[Z],M[V].x[Z],M[V].y[Z])):(F.lineTo(I[aa+1],J[aa+1]),F.lineTo(M[V].x[Z+1],M[V].y[Z+1]),F.lineTo(M[V].x[Z],M[V].y[Z])):(K?F.bezierCurveTo(na[aa],ya[aa],va[aa],qa[aa],I[aa+1],J[aa+1]):F.lineTo(I[aa+1],J[aa+1]),F.lineTo(I[aa+1],M[V]),F.lineTo(I[aa],
M[V]));F.lineTo(I[aa],J[aa]);F.close()}for(aa=I.length-1;aa>Q;aa--){V=0;F.moveTo(I[aa],J[aa]);for(Qa=P-1;0<Qa;Qa--)if(I[aa]>=M[Qa].x[0]&&I[aa]<=M[Qa].x[M[Qa].x.length-1]&&(Z=W.findIndex(I[aa],M[Qa].x)),-1!==Z){V=Qa;break}M[V]!==this.Lu()?K?(F.bezierCurveTo(va[aa-1],qa[aa-1],na[aa-1],ya[aa-1],I[aa-1],J[aa-1]),F.lineTo(M[V].x[Z-1],M[V].y[Z-1]),Ja=ch.G1(M[V].x,M[V].y),Qa=Ja.MX,Oa=Ja.NX,Ua=Ja.mZ,Ja=Ja.nZ,F.bezierCurveTo(Qa[Z-1],Oa[Z-1],Ua[Z-1],Ja[Z-1],M[V].x[Z],M[V].y[Z])):(F.lineTo(I[aa-1],J[aa-1]),
F.lineTo(M[V].x[Z-1],M[V].y[Z-1]),F.lineTo(M[V].x[Z],M[V].y[Z])):(K?F.bezierCurveTo(va[aa-1],qa[aa-1],na[aa-1],ya[aa-1],I[aa-1],J[aa-1]):F.lineTo(I[aa-1],J[aa-1]),F.lineTo(I[aa-1],M[V]),F.lineTo(I[aa],M[V]));F.lineTo(I[aa],J[aa]);F.close()}}else{F.moveTo(I[0],M[P]);if(K)io.prototype.ne.call(F,I,J);else for(aa=0;aa<I.length;aa++)F.lineTo(I[aa],J[aa]);F.lineTo(I[I.length-1],M[P]);F.lineTo(I[0],M[P]);F.close()}else{F.moveTo(I[0],M);P=Math.min(I.length,J.length);if(K)io.prototype.ne.call(F,I,J);else for(aa=
0;aa<P;aa++)F.lineTo(I[aa],J[aa]);F.lineTo(I[P-1],M);F.lineTo(I[0],M);F.close()}return F};a.prototype.H1d=function(F){function I(M,P){void 0!==M.major&&J("major",M.major,P);void 0!==M.minor&&J("minor",M.minor,P);void 0!==M.edge&&J("edge",M.edge,P)}function J(M,P,R){R.Nj(M,Y.Ra(P))}if(void 0!==F.x){var K=this.Vc.Oe(Rh.rb);I(F.x,K)}void 0!==F.y&&(K=this.Vc.Oe(Rh.yb),I(F.y,K));this.ha();return this};a.prototype.WC=function(){return this.Vc};a.prototype.dKe=function(F){for(var I=[],J=0;J<F.length;J++)I.push(p(F[J]));
return I};a.prototype.gj=function(F,I,J){if(F instanceof U)var K=F.clone();else F instanceof N&&(I=I||z,K=new U(F.x-I,F.y-I,F.x+I,F.y+I));I=new Zj;if(null!=K){F=this.getRoot().oa();J===Rh.rb?(K.setY(F.getY()),K.$a(F.da())):J===Rh.yb&&(K.setX(F.getX()),K.Qa(F.ca()));var M=[K.ka(),K.na(),K.na(),K.ka()];var P=[K.la(),K.la(),K.ma(),K.ma()];return I.select(this.getRoot(),M,P,!0).filter(function(R){return!(R instanceof Ee)&&R.visual===this}.bind(this))}null!=F&&Array.isArray(F.x)&&Array.isArray(F.y)&&(M=
F.x,P=F.y);return null!=M&&null!=P&&2<M.length&&2<P.length?I.select(this.getRoot(),M,P,!0).filter(function(R){return!(R instanceof Ee)&&R.visual===this}.bind(this)):null};a.prototype.fAb=function(){return this.Of.autodatalimits};a.prototype.kfc=function(F){if(this.Of.autodatalimits===F)return this;this.ha();this.Of.autodatalimits=F;this.xa().ha();return this};a.prototype.zl=function(){null==this.GQa&&this.pWd();return this.GQa};a.prototype.ia=function(){var F=ni.prototype.ia.call(this);return F=G(this.ta(),
F)};a.prototype.fa=function(F){F=jc(F);if(null==F)return this;ni.prototype.fa.call(this,F);this.setOptions(F);return this};a.prototype.J2=function(F){"number"===typeof F&&(this.QD=F,this.NJc(),this.xa().ha());return this};a.prototype.Uha=function(){return this.QD};a.prototype.K2=function(F){"number"===typeof F&&(this.zC=F,this.eHc(),this.xa().ha());return this};a.prototype.Vha=function(){return this.zC};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRPcHRpbWl6YXRpb25UeXBlIjoiZ1MiLCJzZXRPcHRpbWl6YXRpb24iOiJZSiIsInNldE9wdGltaXphdGlvblN5bWJvbCI6IkFqYiIsInVwZGF0ZVN0YXRlIjoieGEiLCJnZXRPcHRpb25zIjoidGEiLCJnZXRNb2RlbExpbWl0cyI6Im9hIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsInJlbmRlckNvbnRlbnQiOiJ1aiIsInJlbmRlckNvbnRlbnRBc3luYyI6IkZ0Iiwic2V0R3JpZFN0eWxlIjoiSDFkIiwiZ2V0R3JpZCI6IldDIiwiaGl0VGVzdCI6ImdqIiwiZ2V0QXV0b0RhdGFMaW1pdHMiOiJmQWIiLCJzZXRBdXRvRGF0YUxpbWl0cyI6ImtmYyIsImdldERhdGFMaW1pdHMiOiJ6bCIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSIsInNldEdhcEZpbGxDdXRvZmZWYWx1ZSI6IkoyIiwiZ2V0R2FwRmlsbEN1dG9mZlZhbHVlIjoiVWhhIiwic2V0R2FwVmFsdWUiOiJLMiIsImdldEdhcFZhbHVlIjoiVmhhIn19fSAg");var AR=/*#__PURE__*/function(){function d(a,b){a||(a={});G({innerradius:0},a);bR.call(this,a,b)}D(d,bR);L(d,"geotoolkit.controls.shapes.PieChart");d.prototype.setOptions=function(a){a=xb(a,{});G({innerradius:0},a);bR.prototype.setOptions.call(this,a);return this};return d}();var BR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){var b={name:"Polar Chart",data:null,polargrid:null,center:new N(0,0),startangle:0,modelradius:90,outerradius:50};Ag.call(this,a);this.center=this.bx=this.WL=this.outerRadius=this.Eca=null;this.options=G(a,b);this.setData(this.options)}L(d,"geotoolkit.scene.shapes.PolarChart");D(d,Ag);d.prototype.fa=function(a){a=jc(a);if(null==a)return this;Ag.prototype.fa.call(this,a);this.setData(a);return this};d.prototype.ia=function(){var a=Ag.prototype.ia.call(this);a.polargrid=
this.Eca;a.outerradius=this.outerRadius;a.modelradius=this.WL;a.startangle=this.bx;a.center=this.center;return a};d.prototype.dhc=function(a){this.WL=a;this.ha();return this};d.prototype.m8b=function(){return this.WL};d.prototype.setData=function(a){this.options=G(a,this.options);this.name=null!=a.name?a.name:this.name;this.data=a.data;this.Eca=null!=a.polargrid?a.polargrid:this.Eca;this.outerRadius=null!=a.outerradius?a.outerradius:this.outerRadius;this.WL=null!=a.modelradius?a.modelradius:this.WL;
this.bx=null!=a.startangle?a.startangle:this.bx;this.center=N.Ra(a.center||this.center);null!=this.Eca&&(a=this.Eca.ta(),this.options=G(a,this.options),this.center=a.center,this.outerRadius=a.outerradius,this.bx=a.startangle,this.WL=a.modelradius);this.La=new U(this.center.x-this.outerRadius,this.center.y-this.outerRadius,this.center.x+this.outerRadius,this.center.y+this.outerRadius);this.ha();return this};d.prototype.ga=function(){return null!=this.La?this.La:null};d.prototype.ta=function(){return this.options};
d.prototype.sa=function(a){this.La=a;this.xa();return this};d.prototype.VAa=function(a,b,c){var e=b.data,f=Math.min(e.radius.length,e.angle.length);if(0!==f){var g=(new $g).ra(ug.fd(b.fillstyle)).qa(Y.Ra(b.linestyle)),h=null,k,l=0,m=0;l=null;for(k=0;k<f;k++)l=this.DO(e.radius[k]),m=e.angle[k]+this.bx,l=this.rra(l,m).translate(this.center.x,this.center.y),0===k&&(h=l,g.moveTo(l.x,l.y)),g.lineTo(l.x,l.y);g.lineTo(h.x,h.y);g.render(a);var n=[];if(null!=b.symbol||null!=b.hightlightedsymbol){g=b.symbol?
b.symbol:a.fc()?b.hightlightedsymbol:null;b=b.hightlightedsymbol?b.hightlightedsymbol:g;var p=function(){n.push({index:q,angle:e.angle[q],value:e.radius[q]})};for(k=0;k<f;k++)if(h=e.selected&&!0===e.selected[k]?b:g)if(l=this.DO(e.radius[k]),m=e.angle[k]+this.bx,l=this.rra(l,m).translate(this.center.x,this.center.y),h.Jb(l),a.fc()){var q=k;a.Hn(h,p.bind(this))}else h.render(a)}a.fc()&&0<n.length&&a.eV({visual:this,series:c,indices:n.map(function(r){return r.index}),points:n})}};d.prototype.Aib=function(){if(0<
this.data.length){for(var a=0;a<this.data.length;++a){var b=this.data[a].data;if(b.selected)for(var c=Math.min(b.radius.length,b.angle.length),e=0;e<c;++e)b.selected[e]=!1}this.ha()}};d.prototype.zY=function(a,b,c){if(this.data.length>b){b=this.data[b].data;b.selected||(b.selected=[]);for(var e=Math.min(b.radius.length,b.angle.length),f=0;f<e;++f)this.xac(a,f)?!0===c&&(b.selected[f]=!1):b.selected[f]=!0;this.ha()}return this};d.prototype.xac=function(a,b){return a.every(function(c){return c!==b})};
d.prototype.gj=function(a,b){var c=new Zj;return a instanceof U?(b=[a.ka(),a.na(),a.na(),a.ka()],a=[a.la(),a.la(),a.ma(),a.ma()],c.select(this.getRoot(),b,a,!0).filter(function(e){return!(e instanceof Ee)&&e.visual===this}.bind(this))):c.select(this.getRoot(),a.x,a.y,b?b:10).filter(function(e){return!(e instanceof Ee)&&e.visual===this}.bind(this))};d.prototype.render=function(a){if(null!=this.data)for(var b=0;b<this.data.length;b++)this.VAa(a,this.data[b],b)};d.prototype.rra=function(a,b){b=b*Math.PI/
180;return new N(a*Math.cos(b),a*Math.sin(b))};d.prototype.DO=function(a){return Math.min(a/this.WL,1)*this.outerRadius};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRNb2RlbFJhZGl1cyI6ImRoYyIsImdldE1vZGVsUmFkaXVzIjoibThiIiwiZ2V0Qm91bmRzIjoiZ2EiLCJnZXRPcHRpb25zIjoidGEiLCJzZXRCb3VuZHMiOiJzYSIsInJlc2V0SGlnaGxpZ2h0aW5nIjoiQWliIiwiaGlnaGxpZ2h0SW5kaWNlcyI6InpZIiwiaGl0VGVzdCI6ImdqIiwicG9sYXJUb0NhcnRlc2lhbiI6InJyYSIsIm1vZGVsVG9PdXRlclJhZGl1cyI6IkRPIn19fSAg");var CR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=G(c,{center:null,outerradius:50,modelradius:90,startangle:0,data:null,polargrid:null,painter:null});PQ.call(this,a({},c));this.TLa=c}function a(c,e){G(c,e);null!=e.polargrid&&(e=G(e.polargrid.ta(),e));c=e.center;c=b(e.data,null!=c?c.x:null,null!=c?c.y:null,e.startangle,e.outerradius,e.modelradius);c.minx=NaN;c.maxx=NaN;c.miny=NaN;c.maxy=NaN;c.colorprovider=e.colorprovider;c.painter=e.painter;c.defaultcolor=e.defaultcolor;c.symbolsize=e.symbolsize;c.highlightcolor=
e.highlightcolor;return G(c,e)}function b(c,e,f,g,h,k){var l={};if(null!=c&&null!=e&&null!=f){if(null!=c.radius&&c.angle){l.datax=[];l.datay=[];for(var m,n,p=0;p<c.radius.length;++p)null==c.radius[p]||null==c.angle[p]||isNaN(c.radius[p])||isNaN(c.angle[p])||c.radius[p]>k||0>c.radius[p]?(l.datax[p]=Number.NaN,l.datay[p]=Number.NaN):(m=(g+c.angle[p])*Math.PI/180,n=c.radius[p]/k*h,l.datax[p]=n*Math.cos(m)+e,l.datay[p]=n*Math.sin(m)+f)}null!=c.variable&&(l.dataz=c.variable)}return l}D(d,PQ);L(d,"geotoolkit.controls.shapes.PolarCrossPlot");
d.prototype.setData=function(c){this.TLa=this.TLa||{};PQ.prototype.setData.call(this,a(c,this.TLa));return this};d.prototype.rra=function(c,e){e=e*Math.PI/180;return new N(c*Math.cos(e),c*Math.sin(e))};d.prototype.f2b=function(c,e){var f=Math.sqrt(c*c+e*e);c=180*Math.atan2(e,c)/Math.PI;return new N(f,c)};d.prototype.ia=function(){var c=Ag.prototype.ia;c=c.call(this);c.options={};for(var e in this.TLa)this.TLa.hasOwnProperty(e)&&"data"!==e&&(c.options[e]=this.TLa[e],c[e]=this.TLa[e]);return c};d.prototype.fa=
function(c){var e=Ag.prototype.fa;e.call(this,c);void 0!==c.options?this.setData(c.options):this.setData(c);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJwb2xhclRvQ2FydGVzaWFuIjoicnJhIiwiY2FydGVzaWFuVG9Qb2xhciI6ImYyYiIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSJ9fX0g");var DR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=G(b,{center:{x:0,y:0},outerradius:50,modelradius:90,angle:45,startangle:0});var c=b.outerradius,e=b.center;c=new U(e.x-c,e.y-c,e.x+c,e.y+c);Pm.call(this,c);this.ZGb=[];this.setOptions(b,!1)}function a(b){null==b.linestyle||b.linestyle instanceof Y||(b.linestyle=new Y(b.linestyle));null==b.center||b.center instanceof N||(b.center=new N(b.center.x,b.center.y));null==b.center&&(b.center=new N);null==b.gridlines&&(b.gridlines={});null==b.gridlines&&(b.gridlines={});var c=
b.gridlines;null==c.radius&&(c.radius={});null==c.angles&&(c.angles={});var e=c.radius;c=c.angles;null==e.linestyle?e.linestyle=b.linestyle:e.linestyle instanceof Y||(e.linestyle=new Y(e.linestyle));null==c.linestyle?c.linestyle=b.linestyle:c.linestyle instanceof Y||(c.linestyle=new Y(c.linestyle));null==c.textstyle?c.textstyle=new Fi({color:"black"}):c.textstyle instanceof Fi||(c.textstyle=new Fi(c.textstyle));null==e.step&&(e.step=10);Array.isArray(e.values)||(e.values=null);null==e.visible&&(e.visible=
!0);null==e.highlighted&&(e.highlighted=null);null==c.visible&&(c.visible=!0);null==c.visiblelabels&&(c.visiblelabels=!0);if(null==c.labels){e={values:[],text:[]};for(var f=0;359>f;f+=b.angle)e.values.push(f),e.text.push(f);c.labels=e}null==c.labeloffset&&(c.labeloffset=0);null==c.labelsalongcircumference&&(c.labelsalongcircumference=!1)}D(d,Pm);L(d,"geotoolkit.controls.shapes.PolarGrid");d.prototype.G4d=function(b){this.ZGb=b;this.ha();return this};d.prototype.setOptions=function(b,c){this.options=
G(b,this.options);a(this.options);this.center=this.options.center;this.radius=this.options.outerradius;this.Xqa=this.options.modelradius;this.bx=this.options.startangle;this.angle=this.options.angle;this.kVa=this.options.gridlines.angles.linestyle;this.$Wd=this.options.gridlines.radius.linestyle;this.ZWd=this.options.gridlines.radius.step;this.eib=null==this.options.gridlines.radius.values?this.Gwd(this.Xqa,this.ZWd):this.dwd(this.options.gridlines.radius.values);this.BTc=this.options.gridlines.radius.highlighted;
this.Okc=this.options.gridlines.radius.visible;this.Fsd=this.options.gridlines.angles.visible;this.Av=this.options.gridlines.angles.textstyle;this.labels=this.options.gridlines.angles.labels;this.zO=this.options.gridlines.angles.labeloffset;this.CEb=this.options.gridlines.angles.labelsalongcircumference;this.Vad=this.options.gridlines.angles.visiblelabels;void 0!==b.linestyle&&this.qa(b.linestyle);null!=c&&!0!==c||this.ha();return this};d.prototype.ta=function(){return this.options};d.prototype.DO=
function(b){return b/this.Xqa*this.radius};d.prototype.render=function(b){this.cJc(b);this.fJc(b);this.WIc(b);var c=this.center.x-this.radius,e=this.center.y-this.radius,f=2*this.radius,g=2*this.radius;b.qa(this.Fa());b.Cq(c,e,f,g);this.zcb(b)};d.prototype.cJc=function(b){if(this.ZGb){for(var c=new rf("white"),e=0;e<this.ZGb.length;e++){var f=this.ZGb[e],g=(this.bx+f.start)*Math.PI/180,h=(this.bx+f.end)*Math.PI/180,k=f.color;c.setColor(k);f=f.length;var l=null!=f?f/this.Xqa*this.radius:this.radius;
f=this.center.x-l;k=this.center.y-l;var m=2*l;l*=2;b.ra(c);b.Ey(f,k,m,l,g,h)}b.ra(null)}};d.prototype.WIc=function(b){if(this.Fsd){b.qa(this.kVa);for(var c=this.bx;c<=359+this.bx;c+=this.angle){var e=c*Math.PI/180;b.Xc(this.center.getX(),this.center.getY(),this.center.getX()+this.radius*Math.cos(e),this.center.getY()+this.radius*Math.sin(e))}}};d.prototype.al=function(b){b%=2*Math.PI;0>b&&(b+=2*Math.PI);return 0===b?O.Bd:b<Math.PI/2?O.Id:b===Math.PI/2?O.ee:b<Math.PI?O.Nf:b===Math.PI?O.we:b<3*Math.PI/
2?O.Ah:b===3*Math.PI/2?O.Se:O.hg};d.prototype.zcb=function(b){!0===this.CEb?this.Acb(b):this.Bcb(b)};d.prototype.Bcb=function(b){if(this.Vad){var c=this.Av.clone(),e=new ek;e.kb(c);e.nu(!0);c=this.radius+2/Math.max(Math.abs(b.Ea().lb()),Math.abs(b.Ea().Ab()));for(var f,g=0;g<this.labels.values.length;g++){f=this.labels.values[g]+this.bx;f=f*Math.PI/180;var h=this.center.getX()+(c+this.zO)*Math.cos(f),k=this.center.getY()+(c+this.zO)*Math.sin(f);e.Eb(this.labels.text[g]);e.yc(this.al(f));e.Jb(h,k);
e.render(b)}}};d.prototype.Acb=function(b){if(this.Vad){var c=this.Av.clone(),e=new ek;e.kb(c);c=this.radius+7/Math.max(Math.abs(b.Ea().lb()),Math.abs(b.Ea().Ab()));for(var f,g=0;g<this.labels.values.length;g++){f=this.labels.values[g]+this.bx;f=f*Math.PI/180;var h=this.center.getX()+(c+this.zO)*Math.cos(f),k=this.center.getY()+(c+this.zO)*Math.sin(f);e.Eb(this.labels.text[g]);e.yc(O.Oa);e.rotate(f+Math.PI/2,h,k);e.Jb(h,k);e.render(b);e.rotate(-(f+Math.PI/2),h,k)}}};d.prototype.Gwd=function(b,c){b=
this.DO(b);c=this.DO(c);for(var e=[],f=c;f<b;)e.push(f),f+=c;return e};d.prototype.dwd=function(b){var c=[];if(Array.isArray(b))for(var e=0;e<b.length;++e)c.push(this.DO(b[e]));return c};d.prototype.fJc=function(b){if(this.Okc&&this.eib){b.qa(this.$Wd);var c;if(null!=this.BTc){var e=this.DO(this.Xqa);var f=new rf(this.BTc);var g=0;for(c=0;;){var h=g;g=c<this.eib.length?this.eib[c]:e;g>e&&(g=e);if(0===c%2){var k=this.center.x;var l=this.center.y;b.ra(f);b.pJ(k,l,h,g,0,2*Math.PI);b.ra(null)}c++;if(g>=
e)break}}for(c=0;c<this.eib.length;++c)f=this.eib[c],k=this.center.x-f,l=this.center.y-f,e=2*f,f*=2,b.Cq(k,l,e,f)}};d.prototype.rra=function(b,c){c=c*Math.PI/180;return new N(b*Math.cos(c),b*Math.sin(c))};d.prototype.f2b=function(b,c){var e=Math.sqrt(b*b+c*c);b=180*Math.atan2(c,b)/Math.PI;return new N(e,b)};d.prototype.ia=function(){var b=Pm.prototype.ia.call(this);b=xb(this.options,b);b.options=this.options;return b};d.prototype.fa=function(b){Pm.prototype.fa.call(this,b);void 0!==b.options?this.setOptions(b.options):
this.setOptions(b);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTZWN0b3JzIjoiRzRkIiwiZ2V0T3B0aW9ucyI6InRhIiwibW9kZWxUb091dGVyUmFkaXVzIjoiRE8iLCJkcmF3U2VjdG9ycyI6ImNKYyIsImRyYXdBbmdsZUdyaWQiOiJXSWMiLCJkcmF3QW5nbGVBeGlzIjoiemNiIiwiZHJhd0FuZ2xlQXhpc1JlZ3VsYXIiOiJCY2IiLCJkcmF3QW5nbGVBeGlzQWxvbmdDaXJjdW1mZXJlbmNlIjoiQWNiIiwiZHJhd1ZhbHVlR3JpZCI6ImZKYyIsInBvbGFyVG9DYXJ0ZXNpYW4iOiJycmEiLCJjYXJ0ZXNpYW5Ub1BvbGFyIjoiZjJiIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var ER=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){Uh.call(this,a);var b={name:[],value:[],fillstyle:"cyan pink green red orange brown yellow magenta".split(" "),invert:!1,align:"right",linestyle:[new Y("black")],border:[new Y("white",3)],linelength:20,highlight:!0,highlightstyle:new xd(255,255,255)};this.ic=b.name;this.Ri=b.value;this.$la=b.fillstyle;this.jva=b.invert;this.IPa=b.align;this.j5=b.linestyle;this.hm=b.border;this.z7a=b.linelength;this.WM=b.highlight;this.n6a=b.highlightstyle;this.Kwc=[];this.Lwc=[];this.HPb=
[];this.IPb=[];this.iwc=[];this.fe=new U(50,50,750,350);this.eh=new Zj;this.Gwa=new Um;this.b6=[];this.mvb={x:[],y:[],id:null};this.UZb=null;this.setData(a)}D(d,Uh);L(d,"geotoolkit.controls.shapes.PyramidChart");d.prototype.setData=function(a){a||(a={});for(var b in a)if(b!==b.toLowerCase()){var c=b.toLowerCase();a[c]=a[b]}this.ic=a.name&&Array.isArray(a.name)?a.name:this.ic;this.Ri=a.value&&Array.isArray(a.value)?a.value:this.Ri;this.$la=a.fillstyle&&Array.isArray(a.fillstyle)?a.fillstyle:this.$la;
this.jva="boolean"===typeof a.invert?a.invert:this.jva;this.IPa="string"===typeof a.align?a.align:this.IPa;this.j5=a.linestyle&&Array.isArray(a.linestyle)?a.linestyle:[new Y("black")];this.hm=a.border&&Array.isArray(a.border)?a.border:[new Y("white",3)];this.z7a="number"===typeof a.linelength?a.linelength:this.z7a;this.WM="boolean"===typeof a.hightlight?a.highlight:this.WM;this.n6a=a.highlightstyle instanceof xd?a.highlightstyle:this.n6a;this.Eva=this.ic.length<=this.Ri.length?this.ic.length:this.Ri.length;
this.m3b();this.ha();return this};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;this.setData(a);this.m3b();this.ha();return this};d.prototype.ia=function(){var a=Uh.prototype.ia.call(this);a.name=this.ic;a.value=this.Ri;a.fillstyle=this.$la;a.linestyle=this.j5;a.border=this.hm;a.invert=this.jva;a.align=this.IPa;a.linelength=this.z7a;a.highlight=this.WM;a.highlightstyle=this.n6a;return a};d.prototype.getData=function(){return{name:this.ic,value:this.Ri,fillstyle:this.$la,invert:this.jva,
align:this.IPa,linestyle:this.j5,border:this.hm,linelength:this.z7a,highlight:this.WM,highlightstyle:this.n6a}};d.prototype.oa=function(){return this.fe};d.prototype.Ha=function(a){if(null!=this.fe&&this.fe.Gi(a))return this;this.fe!==a&&(this.fe=a?new U(a):null);this.m3b();this.xa();this.notify(ze.Jr,this);this.ha();return this};d.prototype.$aa=function(){var a=.01,b=this.z7a,c=this.oa(),e=c.ca(),f=c.da(),g=c.getX();c=c.getY();var h=this.Ri;var k=this.Kwc,l=this.Lwc,m=this.HPb,n=this.IPb,p=0,q=0,
r=0;var t=this.Xg(h);this.KG={SFb:{Aa:[],Ca:[]},TFb:{Aa:[],Ca:[]},UFb:{Aa:[],Ca:[]},VFb:{Aa:[],Ca:[]}};!0===this.jva&&(q=100);for(h=0;h<this.Eva;h++){var u=r;var w=r=u+=t[h];!0===this.jva&&(w=u=100-u,u=0<100-u?100-u:100);this.KG.SFb.Aa[h]=g+e/2-e/2*p*a;this.KG.SFb.Ca[h]=c+f*q*a;this.KG.TFb.Aa[h]=g+e/2+e/2*p*a;this.KG.TFb.Ca[h]=c+f*q*a;this.KG.UFb.Aa[h]=g+(e/2+e/2*u*a);this.KG.UFb.Ca[h]=c+f*w*a;this.KG.VFb.Aa[h]=g+(e/2-e/2*u*a);this.KG.VFb.Ca[h]=c+f*w*a;"right"===this.IPa?(!0===this.jva&&(q=w),k[h]=
g+(e/2+e/2*(t[h]/2+p)*a),l[h]=c+f*(t[h]/2+q)*a,m[h]=k[h]+b):(!0===this.jva&&(q=w),k[h]=g+e/2-e/2*(t[h]/2+p)*a,l[h]=c+f*(t[h]/2+q)*a,m[h]=k[h]-b);n[h]=l[h];p=u;q=w}};d.prototype.m3b=function(){var a,b=this.Eva-1;this.b6=[];var c=[],e=[];this.$aa();this.removeChild(this.Gwa);this.rh(!0);this.ha();for(a=0;a<this.Eva;a++){var f={x:[this.KG.SFb.Aa[a],this.KG.TFb.Aa[a],this.KG.UFb.Aa[a],this.KG.VFb.Aa[a]],y:[this.KG.SFb.Ca[a],this.KG.TFb.Ca[a],this.KG.UFb.Ca[a],this.KG.VFb.Ca[a]]};this.b6[a]=new Um(f);
this.b6[a].ra(this.$la[b]);1===this.hm.length?this.b6[a].qa(this.hm[0]):this.b6[a].qa(this.hm[b]);f=new N(this.Kwc[a],this.Lwc[a]);var g=new N(this.HPb[a],this.IPb[a]);c[a]=new Bk(f,g);1===this.j5.length?c[a].qa(this.j5[0]):c[a].qa(this.j5[b]);e[a]=(new ek).yc(O.we);this.iwc[a]=this.ic[b]+"<br>("+this.Ri[b]+")";b--;"right"===this.IPa&&e[a].yc(O.Bd);e[a].Jb(this.HPb[a],this.IPb[a]).Eb(this.iwc[a]);this.pa(this.b6[a]);this.b6[a].Fd(a);this.pa(c[a]);this.pa(e[a]);this.ha()}0!==this.Eva&&this.pa(this.Gwa)};
d.prototype.EKd=function(a){if(null==a)return null;for(var b=0;b<this.b6.length;b++)if(this.b6[b].kc()===a)return a=this.Eva-a-1,{name:this.ic[a],value:this.Ri[a]};return null};d.prototype.aD=function(a){if(null==this.b6[a]||!1===this.WM)return this;this.Gwa.va(!1);this.UZb=null;var b=this.b6[a];a=this.GKd(a);b.kc()!==this.UZb&&(this.Gwa=this.F4d(a),b=Pd.Rg(this.n6a),b.dC(.5),this.Gwa.ra(b),this.UZb=a.id,this.Gwa.va(!0));return this};d.prototype.GKd=function(a){a=this.b6[a];this.mvb.x=a.be();this.mvb.y=
a.He();this.mvb.id=a.kc();return this.mvb};d.prototype.F4d=function(a){this.Gwa.ne(a.x,a.y);return this.Gwa};d.prototype.gj=function(a,b){a=this.eh.select(this.getRoot(),a.x,a.y,b);if(null==a)return-1;for(b=0;b<a.length;b++)if(a[b]instanceof Um)return a[b].kc();return-1};d.prototype.Xg=function(a){var b=[],c,e=this.Eva-1,f=0;for(c=0;c<this.Eva;c++)f+=a[c];for(c=0;c<this.Eva;c++){var g=a[c];g=g/f*100;b[e]=g;e--}return b};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRNb2RlbExpbWl0cyI6Im9hIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsImdldFNlY3Rpb25JbmZvIjoiRUtkIiwiaGlnaGxpZ2h0IjoiYUQiLCJoaXRUZXN0IjoiZ2oifX19");var FR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(k){k=xb(k,{center:{x:0,y:0},outerradius:50,modelradius:10,angle:45,startangle:-90,outlinevisible:!0,linestyle:new Y,gridlines:{step:f,visible:!0},categories:{labelsalongcircumference:!1,data:[]}},!0);Pm.call(this,k);this.selection=null;this.Av={ispointingup:!0,visible:!0,padding:0,linestyle:new Y({width:0})};this.cs=[];this.sma=a;this.Ahc(k)}function a(k){var l=k.linestyle;k=k.fillstyle;null!=l&&l.Qa(l.ca()+1);if(null!=k){var m=k.DE().dC(255);k.setColor(m)}return{linestyle:l,
fillstyle:k}}function b(k){if(void 0!==k&&null!==k){k instanceof Array||(k=[k]);for(var l=0;l<k.length;l++){var m=k[l];m.data instanceof Array&&(m.data=new DH({data:m.data,name:m.name}));null==m.linestyle?m.linestyle=new Y({color:"black"}):m.linestyle instanceof Y||(m.linestyle=new Y(m.linestyle));null==m.fillstyle?m.fillstyle=new rf({color:"black"}):m.fillstyle instanceof rf||(m.fillstyle=new rf(m.fillstyle))}}}var c=2,e=10,f=2,g=new Bk,h=new ek;D(d,Pm);L(d,"geotoolkit.controls.shapes.RadarChart");
d.prototype.Ahc=function(k,l){var m=k.center;null!=m&&(this.center=m instanceof N?m:new N(m.x,m.y));null!=k.outerradius&&(this.radius=k.outerradius);null!=k.modelradius&&(this.Xqa=k.modelradius);null!=k.startangle&&(this.bx=k.startangle);null!=k.outlinevisible&&(this.zXc=k.outlinevisible);m=k.gridlines;null!=m&&(null!=m.visible&&(this.qTc=m.visible),this.dib=this.dib instanceof Y?this.dib=Y.Qe(this,this.dib,m.linestyle,!0):Y.Ra(m.linestyle),null!=m.step&&(this.hGb=m.step),null!=m.count&&(this.x$b=
m.count,0!==this.x$b&&(this.hGb=this.Xqa/this.x$b)),this.Okc=0!==this.hGb?this.qTc:!1);m=k.categories;if(null!=m){null!=m.linestyle&&(this.kVa=this.kVa instanceof Y?Y.Qe(this,this.kVa,m.linestyle,!0):Y.Ra(m.linestyle));null!=m.textstyle&&(this.mS=this.mS instanceof Fi?Fi.Qe(this,this.mS,m.textstyle,!0):Fi.Ra(m.textstyle));null!=m.labelsalongcircumference&&(this.CEb=m.labelsalongcircumference);var n=m.labelstyle;null!=n&&(null!=n.visible&&(this.Av.visible=n.visible),null!=n.ispointingup&&(this.Av.ispointingup=
n.ispointingup),null!=n.offset&&(this.Av.offset=n.offset),null!=n.padding&&(this.Av.padding=n.padding),null!=n.linestyle&&(this.Av.linestyle=this.Av.linestyle instanceof Y?Y.Qe(this,this.Av.linestyle,n.linestyle,!0):Y.Ra(n.linestyle)),null!=n.fillstyle&&(this.Av.fillstyle=this.Av.fillstyle instanceof rf?ug.Su(this,this.Av.fillstyle,n.fillstyle,!0):ug.fd(n.fillstyle)));null!=m.data&&(this.cs=m.data.map(function(p){return{label:p,highlighted:!1}}))}null!=k.content&&(b(k.content),this.Sj=k.content);
this.lL();null!=l&&!0!==l||this.ha()};d.prototype.JQc=function(){return{center:{x:this.center.getX(),y:this.center.getY()},gridlines:{linestyle:this.dib,step:this.hGb,count:this.x$b,visible:this.qTc},outerradius:this.radius,modelradius:this.Xqa,startangle:this.bx,outlinevisible:this.zXc,categories:{labelsalongcircumference:this.CEb,linestyle:this.kVa,textstyle:this.mS,labelstyle:this.Av}}};d.prototype.lL=function(){for(var k=0,l=360/this.cs.length,m=0;m<this.cs.length;m++){var n=this.bx+l*m;h.Eb(this.cs[m].label);
n=Math.abs(h.ca()*Math.cos(n*Math.PI/180));n>k&&(k=n)}k=new U(this.center.x-this.radius-k,this.center.y-this.radius-k,this.center.x+this.radius+k,this.center.y+this.radius+k);this.sa(k)};d.prototype.setOptions=function(k,l){hb("geotoolkit.controls.shapes.RadarChart.setOptions is deprecated since 2021.2 (3.3). Use geotoolkit.controls.shapes.RadarChart.setProperties instead.");this.Ahc(k,l);return this};d.prototype.ta=function(){hb("geotoolkit.controls.shapes.RadarChart.getOptions is deprecated since 2021.2 (3.3). Use geotoolkit.controls.shapes.RadarChart.getProperties instead.");
return this.JQc()};d.prototype.DO=function(k){return k/this.Xqa*this.radius};d.prototype.Cja=function(k){b(k);this.Sj=k;this.ha();return this};d.prototype.Oo=function(){return this.Sj};d.prototype.render=function(k){this.selection={};var l=null!=this.Sa()?k.bc(this.Sa()):k;this.Yh(l);this.uj(l);this.Av.visible&&this.YF(l);this.yh(l);k.fc()&&k.ou(this.selection)};d.prototype.a1b=function(k,l){var m=null!=this.selection[k]?this.selection[k]:[];this.selection[k]=m.concat(l)};d.prototype.uj=function(k){var l,
m=[],n=[],p=[],q=[],r=this.DO(this.Xqa),t=[],u=360/this.cs.length;for(l=0;l<this.cs.length;l++){var w=this.bx+u*l;var y=w*Math.PI/180;w=Math.cos(y);y=Math.sin(y);m.push(w);n.push(y);p.push(this.center.x+w*r);q.push(this.center.y+y*r)}u=this.zXc?this.Fa():null;k.qa(u);k.ra(this.eb());k.tk(p,q);for(l=0;l<m.length;l++)w=m[l],y=n[l],g.Cr({from:this.center,to:new N(this.center.getX()+this.radius*w,this.center.getY()+this.radius*y)}),p=this.kVa.clone(),!0===this.cs[l].highlighted&&"function"===typeof this.sma&&
(q=this.sma({axislinestyle:p}),null!=q.axislinestyle&&(p=q.axislinestyle)),g.qa(p),k.fc()?k.Hn(g,function(){t.push(l)}):g.render(k);0!==t.length&&this.a1b("axes",t);if(this.Okc)for(k.qa(this.dib),k.ra(null),w=u=this.DO(this.hGb);w<r;){p=[];q=[];for(l=0;l<m.length;l++)p.push(this.center.x+m[l]*w),q.push(this.center.y+n[l]*w);k.tk(p,q);w+=u}if(null!=this.Sj)if(this.Sj instanceof Array){r=[];for(l=0;l<this.Sj.length;l++)p=this.XIc(k,this.Sj[l],m,n),k.fc()&&p&&r.push(l);0!==r.length&&this.a1b("series",
r)}else this.XIc(k,this.Sj,m,n)};d.prototype.XIc=function(k,l,m,n){var p=[],q=[],r;for(r=0;r<m.length;r++){var t=this.DO(l.data.getValue(r));isNaN(t)&&(t=0);p.push(this.center.x+m[r]*t);q.push(this.center.y+n[r]*t)}m=l.linestyle;n=l.fillstyle;!0===l.highlighted&&"function"===typeof this.sma&&(l=this.sma({linestyle:m.clone(),fillstyle:n.clone()}),null!=l.linestyle&&(m=l.linestyle),null!=l.fillstyle&&(n=l.fillstyle));k.qa(m);k.ra(n);var u=!1;k.fc()?(k.XLa(function(){u=!0}),k.tk(p,q),k.sra()):k.tk(p,
q);return u};d.prototype.ZNd=function(k){var l,m=!1;if(null!=this.Sj&&null!=k.series)for(l=0;l<this.Sj.length;l++){var n=0!==k.series.filter(function(p){return p===l}).length;this.Sj[l].highlighted!==n&&(m=!0,this.Sj[l].highlighted=n)}if(null!=k.axes)for(l=0;l<this.cs.length;l++)n=0!==k.axes.filter(function(p){return p===l}).length,this.cs[l].highlighted!==n&&(m=!0,this.cs[l].highlighted=n);m&&this.ha();return this};d.prototype.Aib=function(){var k,l=!1;for(k=0;k<this.Sj.length;k++)!1!==this.Sj[k].highlighted&&
(l=!0,this.Sj[k].highlighted=!1);for(k=0;k<this.cs.length;k++)!1!==this.cs[k].highlighted&&(l=!0,this.cs[k].highlighted=!1);l&&this.ha();return this};d.prototype.W1d=function(k){if(this.sma===k)return this;this.sma=k;return this};d.prototype.hGd=function(){return this.sma};d.prototype.gj=function(k,l){k=k instanceof U?Zj.$H(this.getRoot(),k):Zj.$H(this.getRoot(),k.x,k.y,null==l?e:l);k=k.filter(function(m){return m.FL()===this&&null!=m.getData()}.bind(this));return k=k.reduce(function(m,n){var p=n.getData();
n=p.hasOwnProperty("series")?p.series:[];p=p.hasOwnProperty("axes")?p.axes:[];m.series=m.series.concat(n);m.axes=m.axes.concat(p);return m},{series:[],axes:[]})};d.prototype.al=function(k){k%=2*Math.PI;0>k&&(k+=2*Math.PI);return 0===k?O.Bd:k<Math.PI/2?O.Id:k===Math.PI/2?O.ee:k<Math.PI?O.Nf:k===Math.PI?O.we:k<3*Math.PI/2?O.Ah:k===3*Math.PI/2?O.Se:O.hg};d.prototype.OBd=function(k,l){k=l.Lj();return"center"===k?O.Se:"left"===k?O.hg:O.Ah};d.prototype.YF=function(k){!0===this.CEb?this.Acb(k):this.Bcb(k)};
d.prototype.zcb=function(k,l){var m=c,n="regular"===l;null!=this.Av?(null!=this.Av.offset&&(m=this.Av.offset),null!=this.Av.ispointingup&&(n=this.Av.ispointingup),h.nu(n).kM(this.Av.padding||0).sD(this.Av.radius||0).qa(this.Av.linestyle,!1).ra(this.Av.fillstyle,!1)):h.nu(n).kM(0).sD(0).qa(null).ra(null);for(var p=Math.max(Math.abs(k.Ea().lb()),Math.abs(k.Ea().Ab())),q=360/this.cs.length,r,t,u=[],w=0;w<this.cs.length;w++){var y=this.mS;t=m;"function"===typeof this.sma&&(null!=this.Av?h.nu(n).kM(this.Av.padding||
0).sD(this.Av.radius||0).qa(this.Av.linestyle,!1).ra(this.Av.fillstyle,!1):h.nu(n).kM(0).sD(0).qa(null).ra(null),!0===this.cs[w].highlighted&&(y=y.clone(),t=null!=this.Av?xb(this.Av,{}):null,r=this.sma({textstyle:y,labelstyle:t}),null!=r&&(null!=r.textstyle&&(y=r.textstyle),null!=r.labelstyle&&(t=r.labelstyle)),null!=t&&(void 0!==t.offset&&(m=t.offset),void 0!==t.ispointingup&&h.nu(t.ispointingup),void 0!==t.padding&&h.kM(t.padding),void 0!==t.radius&&h.sD(t.radius),void 0!==t.linestyle&&h.qa(t.linestyle,
!1),void 0!==t.fillstyle&&h.ra(t.fillstyle,!1))));t=m+h.S6();t=this.radius+t/p;r=q*w+this.bx;r=r*Math.PI/180;var z=this.center.getX()+t*Math.cos(r);t=this.center.getY()+t*Math.sin(r);h.Eb(this.cs[w].label).kb(y).Jb(z,t);"alongCircumference"===l?(h.yc(this.OBd(r,y)),h.rotate(r+Math.PI/2,z,t)):h.yc(this.al(r));k.fc()?k.Hn(h,function(){u.push(w)}):h.render(k);"alongCircumference"===l&&h.rotate(-(r+Math.PI/2),z,t)}0!==u.length&&this.a1b("axes",u)};d.prototype.Bcb=function(k){this.zcb(k,"regular")};d.prototype.Acb=
function(k){this.zcb(k,"alongCircumference")};d.prototype.rra=function(k,l){l=l*Math.PI/180;return new N(k*Math.cos(l),k*Math.sin(l))};d.prototype.ia=function(){var k=Pm.prototype.ia.call(this),l=this.JQc();k=G(k,l);k.options=l;return k};d.prototype.fa=function(k){k=jc(k);if(null==k)return this;Pm.prototype.fa.call(this,k);void 0!==k.options&&this.setOptions(k.options);this.Ahc(k);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJtb2RlbFRvT3V0ZXJSYWRpdXMiOiJETyIsInNldENvbnRlbnQiOiJDamEiLCJnZXRDb250ZW50IjoiT28iLCJyZW5kZXJDb250ZW50IjoidWoiLCJoaWdobGlnaHRTZWxlY3RlZCI6IlpOZCIsInJlc2V0SGlnaGxpZ2h0aW5nIjoiQWliIiwic2V0SGlnaGxpZ2h0U3R5bGVzSGFuZGxlciI6IlcxZCIsImdldEhpZ2hsaWdodFN0eWxlc0hhbmRsZXIiOiJoR2QiLCJoaXRUZXN0IjoiZ2oiLCJkcmF3TGFiZWxzIjoiWUYiLCJkcmF3QW5nbGVBeGlzUmVndWxhciI6IkJjYiIsImRyYXdBbmdsZUF4aXNBbG9uZ0NpcmN1bWZlcmVuY2UiOiJBY2IiLCJwb2xhclRvQ2FydGVzaWFuIjoicnJhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var GR=/*#__PURE__*/ta(/*#__PURE__*/{pDa:"updatedmodel"},2,"eyJVcGRhdGVkTW9kZWwiOiJwRGEifSAg"),HR=/*#__PURE__*/ta(/*#__PURE__*/{thd:0,uhd:1,r3a:2,vhd:3},2,"eyJQODAiOiJ0aGQiLCJQOTAiOiJ1aGQiLCJQOTUiOiJyM2EiLCJQOTkiOiJ2aGQifSAg"),IR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b,c){te.call(this);b=G(b,{customfunc:c},!0);this.XW=null;this.r4=1;this.Ot=[];this.eua=!1;this.ja={x:null,y:null};this.IWb=!0;this.gdc=this.J2b=d.bOb.r3a;this.Ysc=a[this.J2b];this.yzc=a[this.gdc];this.oE=[];this.SW=0;this.oX=null;this.setOptions(b)}var a=[[3.077,1.885,1.637,1.533,1.475,1.439,1.414,1.396,1.383,1.372,1.363,1.356,1.35,1.345,1.34,1.336,1.333,1.33,1.327,1.325,1.323,1.321,1.319,1.317,1.316,1.314,1.313,1.312,
1.311,1.3,1.28],[6.314,2.92,2.353,2.131,2.015,1.943,1.895,1.86,1.833,1.812,1.796,1.782,1.771,1.761,1.753,1.746,1.74,1.734,1.729,1.725,1.717,1.714,1.711,1.708,1.706,1.703,1.701,1.699,1.697,1.645],[12.706,4.302,3.182,2.776,2.57,2.446,2.364,2.306,2.262,2.228,2.2,2.178,2.16,2.144,2.131,2.119,2.109,2.1,2.093,2.085,2.079,2.073,2.068,2.063,2.059,2.055,2.051,2.048,2.045,2.042,1.959],[63.656,9.924,5.84,4.604,4.032,3.707,3.499,3.355,3.249,3.169,3.105,3.054,3.012,2.976,2.946,2.92,2.898,2.878,2.86,2.845,2.831,
2.818,2.807,2.796,2.787,2.778,2.77,2.763,2.756,2.75,2.575]];D(d,te);L(d,"geotoolkit.controls.util.regression.RegressionBase");d.Ka=GR;d.bOb=HR;d.prototype.ZF=function(b,c,e){this.ja.x=Array.isArray(b)?b.concat(this.ja.x?this.ja.x:[]):this.ja.x;this.ja.y=Array.isArray(c)?c.concat(this.ja.y?this.ja.y:[]):this.ja.y;this.oE=Array.isArray(e)?e.concat(this.oE?this.oE:[]):this.oE;this.SW=Math.min(this.ja.x.length,this.ja.y.length)};d.prototype.getData=function(){return{datax:this.ja.x,datay:this.ja.y,weights:this.oE}};
d.prototype.fZ=function(b){if("number"===typeof b)return this.XW(b);var c=[];if(Array.isArray(b))for(var e=0;e<b.length;e++)c.push(this.XW(b[e]));return c};d.prototype.setOptions=function(b){b=jc(b);if(null==b)return this;Array.isArray(b.coefficients)&&(this.Ot=b.coefficients,this.eua=!0);b.customfunc&&(this.XW=b.customfunc);return this};d.prototype.C_a=function(){this.Ot=[];this.eua=!1;this.oX=null;this.SW=0;this.ja.x=null;this.ja.y=null;this.oE=[]};d.prototype.BUc=function(){return this.eua};d.prototype.ta=
function(){var b={};b.coefficients=this.Ot;b.customfunc=this.XW;return b};d.prototype.fa=function(b){return this.setOptions(b)};d.prototype.ia=function(){return this.ta()};d.prototype.T1c=function(b){a[b]&&(this.J2b=b,this.Ysc=a[b]);return this};d.prototype.ZLc=function(){return this.J2b};d.prototype.e6c=function(b){a[b]&&(this.gdc=b,this.yzc=a[b]);return this};d.prototype.GQc=function(){return this.gdc};d.prototype.DXa=function(b){if(this.ja[b]){b=this.ja[b];for(var c=b.length,e=0,f=0;f<c;f++)e+=
b[f];return e/c}return null};d.prototype.pYa=function(b){if(this.ja[b]){var c=this.DXa(b);b=this.ja[b];for(var e=b.length,f=0,g=0;g<e;g++)f+=Math.pow(b[g]-c,2);return f}return null};d.prototype.xfb=function(){if(this.ja.x&&this.ja.y){for(var b=0,c=this.ja.x,e=this.ja.y,f=c.length,g=0;g<f;g++){var h=this.fZ(c[g]);b+=Math.pow(e[g]-h,2)}return b}return null};d.prototype.PAb=function(){return this.SW-this.r4};d.prototype.QCb=function(){var b=this.xfb(),c=this.pYa("y");return"number"===typeof b&&"number"===
typeof c?1-b/c:null};d.prototype.aKd=function(){var b=[];if(this.ja.x&&this.ja.y){for(var c=this.ja.x,e=this.ja.y,f=0;f<e.length;f++)b.push(e[f]-this.fZ(c[f]));return b}return null};d.prototype.e6b=function(b){if(this.ja.x&&this.ja.y){b=Math.pow(b-this.DXa("x"),2);var c=30;30>=this.SW&&(c=this.SW-1);return this.Ysc[c]*Math.sqrt(this.xfb()/this.PAb())*Math.sqrt(1/this.SW+b/this.pYa("x"))}return null};d.prototype.U8b=function(b){if(this.ja.x&&this.ja.y){b=Math.pow(b-this.DXa("x"),2);var c=30;30>=this.SW&&
(c=this.SW-1);return this.yzc[c]*Math.sqrt(this.xfb()/this.PAb())*Math.sqrt(1+1/this.SW+b/this.pYa("x"))}return null};d.prototype.Gq=function(){var b={};b.rsquared=this.QCb();b.meanx=this.DXa("x");b.meany=this.DXa("y");b.df=this.PAb();b.sumsquaredx=this.pYa("x");b.sumsquaredy=this.pYa("y");b.sumsquaredres=this.xfb();return b};d.prototype.X5b=function(){return this.Ot};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaXQiOiJaRiIsInByZWRpY3QiOiJmWiIsInJlc2V0TW9kZWwiOiJDX2EiLCJpc0N1c3RvbWl6ZWRDb2VmIjoiQlVjIiwiZ2V0T3B0aW9ucyI6InRhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0Q29uZmlkZW5jZVByb2JhYmlsaXR5IjoiVDFjIiwiZ2V0Q29uZmlkZW5jZVByb2JhYmlsaXR5IjoiWkxjIiwic2V0UHJlZGljdGlvblByb2JhYmlsaXR5IjoiZTZjIiwiZ2V0UHJlZGljdGlvblByb2JhYmlsaXR5IjoiR1FjIiwiZ2V0TWVhbiI6IkRYYSIsImdldFRvdGFsU3VtU3F1YXJlZCI6InBZYSIsImdldFN1bVNxdWFyZWRSZXNpZHVhbCI6InhmYiIsImdldERlZ3JlZU9mRnJlZWRvbSI6IlBBYiIsImdldFJzcXVhcmVkIjoiUUNiIiwiZ2V0UmVzaWR1YWxzIjoiYUtkIiwiZ2V0Q29uZmlkZW5jZUludGVydmFsIjoiZTZiIiwiZ2V0UHJlZGljdGlvbkludGVydmFsIjoiVThiIiwiZ2V0U3RhdGlzdGljcyI6IkdxIiwiZ2V0Q29lZmZpY2llbnRzIjoiWDViIn19fSAg");var KR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){IR.call(this,a);this.r4=2;this.oX=null}D(d,IR);L(d,"geotoolkit.controls.util.regression.Linear");d.prototype.ZF=function(a,b,c){IR.prototype.ZF.call(this,a,b,c);a=Array.isArray(a)?a:this.ja.x;b=Array.isArray(b)?b:this.ja.y;if(this.Ot.length>=this.r4&&this.eua)this.XW=function(m){return this.Ot[0]*m+this.Ot[1]};else{var e=[0,0,0,0,0],f=0;null!=this.oX&&(e=this.oX);for(var g=Math.min(a.length,b.length);f<g;f++)if(null!=b[f]){var h=c&&null!=c[f]&&0<c[f]?c[f]:1;e[0]+=h*
a[f];e[1]+=h*b[f];e[2]+=h*a[f]*a[f];e[3]+=h*a[f]*b[f];e[4]+=h}var k=(e[4]*e[3]-e[0]*e[1])/(e[4]*e[2]-e[0]*e[0]),l=e[1]/e[4]-k*e[0]/e[4];this.oX=e;this.Ot=[k,l];this.XW=function(m){return m*k+l}}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaXQiOiJaRiJ9fX0g");var LR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){IR.call(this,a);this.r4=3;this.gUb=null}D(d,IR);L(d,"geotoolkit.controls.util.regression.Exponential");d.prototype.ZF=function(a,b,c){IR.prototype.ZF.call(this,a,b,c);a=Array.isArray(a)?a:this.ja.x;b=Array.isArray(b)?b:this.ja.y;if(this.Ot.length>=this.r4&&this.eua)this.XW=function(p){return Math.exp(this.Ot[0])*Math.exp(this.Ot[1]*p)+this.Ot[2]};else{var e=[0,0,0,0,0],f=0;null!=this.oX&&(e=this.oX);var g=Math.min(a.length,b.length),h=W.qf(b.slice(0,g)),k=0;0>h&&(b=
b.map(function(p){return p-h+Number.MIN_VALUE}),k=h);for(;f<g;f++)if(null!=b[f]){var l=c&&null!=c[f]&&0<c[f]?c[f]:1;e[0]+=l*a[f];e[1]+=l*Math.log(b[f]);e[2]+=l*a[f]*a[f];e[3]+=l*a[f]*Math.log(b[f]);e[4]+=l}var m=(e[4]*e[3]-e[0]*e[1])/(e[4]*e[2]-e[0]*e[0]),n=e[1]/e[4]-m*e[0]/e[4];this.oX=e;this.Ot=[n,m,k];this.XW=function(p){return Math.exp(m*p+n)+k};this.gUb=function(p){return(Math.log(p-k)-n)/m}}};d.prototype.bR=function(a){null==a&&(a=1);var b;null!==this.Ot[0]&&null!==this.Ot[1]&&(b=0<this.Ot[1]?
(Math.log(a/this.Ot[1])-this.Ot[0])/this.Ot[1]:(Math.log(-a/this.Ot[1])-this.Ot[0])/this.Ot[1]);return b};d.prototype.ygb=function(a){if("number"===typeof a)return this.gUb(a);if(Array.isArray(a)){for(var b=[],c=0;c<a.length;c++)b.push(this.gUb(a[c]));return b}return null};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaXQiOiJaRiIsImdldEVkZ2UiOiJiUiIsImludmVyc2VQcmVkaWN0IjoieWdiIn19fSAg");var MR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e){Zg.call(this,e);var f={regressionmodel:{type:KR},regressionline:{linestyle:new Y({color:a}),visible:!0},confidenceline:{visible:!1,linestyle:new Y({color:b}),probability:HR.r3a},predictionline:{visible:!1,linestyle:new Y({color:c}),probability:HR.r3a}};e=xb(e,f);this.Lc={regression:new io,confidenceupper:new io,confidencelower:new io,predictionupper:new io,predictionlower:new io};this.xm=this.Ul=null;this.oE=[];this.OD=this.MC=this.Ej=this.Pub=this.Xea=this.E9=this.Ila=
null;this.Mrb=3;this.gwa=this.hga=0;this.H5a=!1;this.fe=this.Va=null;this.ufa=!0;this.TUa=this.HRa=!1;this.setOptions(e);(e.datax||e.datay)&&this.setData(e,!1)}var a="#757575",b="#eeeeee",c="#eeeeee";D(d,Zg);L(d,"geotoolkit.controls.shapes.RegressionLine");d.prototype.setOptions=function(e){null!=e.extended&&this.W2c(e.extended);e.plotinterval&&this.a6c(e.plotinterval);e.regressionmodel&&this.p4d(e.regressionmodel);e.regressionline&&this.o4d(e.regressionline);e.confidenceline&&this.M0d(e.confidenceline);
e.predictionline&&this.e4d(e.predictionline);e.horizontallogmode&&(this.HRa="boolean"===typeof e.horizontallogmode?e.horizontallogmode:!1);e.verticallogmode&&(this.TUa="boolean"===typeof e.verticallogmode?e.verticallogmode:!1);this.ha();return this};d.prototype.Ha=function(e){this.fe!==e&&(this.fe=e.clone(),this.H5a&&this.Ul&&this.xm&&(this.Jh(),this.ufa=!0,this.ha()));return this};d.prototype.oa=function(){return this.fe?this.fe.lock():this.getParent()?this.getParent().oa():null};d.prototype.sa=
function(e){this.Va!==e&&(this.Va=e.clone());return this};d.prototype.ga=function(){return this.Va?this.Va:this.oa()};d.prototype.fa=function(e){e=jc(e);if(null==e)return this;Zg.prototype.fa.call(this,e);this.setOptions(e);(e.datax||e.datay)&&this.setData(e,!1);return this};d.prototype.ia=function(){var e=Zg.prototype.ia.call(this);e=xb(this.ta(),e);e.datax=this.Ul;e.datay=this.xm;e.horizontallogmode=this.HRa;e.verticallogmode=this.TUa;return e};d.prototype.SQc=function(){if(this.Ej){var e={};e.type=
this.Ej;return e=G(this.Ej.ta(),e)}return null};d.prototype.ta=function(){var e={};e.plotinterval=this.Mrb;e.extended=this.H5a;e.regressionmodel=this.SQc();e.regressionline=this.N7b("regression");e.confidenceline=this.N7b("confidence");e.predictionline=this.N7b("prediction");return e};d.prototype.W2c=function(e){"boolean"==typeof e&&this.H5a!==e&&(this.H5a=e,this.Jh(),this.ufa=!0);this.ha();return this};d.prototype.a6c=function(e){"number"==typeof e&&(this.Mrb=e,this.ufa=!0,this.ha());return this};
d.prototype.p4d=function(e){if(e.type){var f=e.type;f instanceof IR?(this.Ej&&this.Ej.za(GR.pDa,this.E8a),this.Ej=f,this.Ej.setOptions(e)):"function"==typeof f.Pa?this.Pub&&f.Pa()===this.Pub.Pa()||(this.Ej&&this.Ej.za(GR.pDa,this.E8a),this.Ej=new f(e),this.Pub=f):(this.Ej&&this.Ej.za(GR.pDa,this.E8a),this.Ej=new IR(e,f),this.Pub=null);this.Ej.on(GR.pDa,this.E8a.bind(this))}else this.Ej&&this.Ej.setOptions(e);this.Ej&&this.Ul&&this.xm&&(this.Ej.ZF(this.Ul,this.xm,this.oE),this.Jh());this.ufa=!0;this.ha();
return this};d.prototype.setData=function(e,f){if(!e)return this;if(e.datax){var g=this.rTb(e.datax,this.Ila);this.Ul=f&&g?g.rawdata.concat(this.Ul?this.Ul:[]):g.rawdata;this.Ila=g.datasource}if(e.datay){var h=this.rTb(e.datay,this.E9);this.xm=f&&h?h.rawdata.concat(this.xm?this.xm:[]):h.rawdata;this.E9=h.datasource}if(e.weights){var k=this.rTb(e.weights,this.Xea);this.oE=f&&k?k.rawdata.concat(this.oE?this.oE:[]):k.rawdata;this.Xea=k.datasource}this.Ul&&this.xm&&this.Ej&&(this.Ej.BUc()||f||this.Ej.C_a(),
this.Ej.ZF(g?g.rawdata:this.Ul,h?h.rawdata:this.xm,k?k.rawdata:this.oE),this.Jh());this.ufa=!0;this.ha();return this};d.prototype.rTb=function(e,f){if(Array.isArray(e))return{rawdata:e,datasource:null};if(e instanceof DH||e instanceof RH){null!=f&&(f.za(wH.xP,this.Z8a),f.za(wH.yP,this.t4),f.za(wH.yk,this.t4),f instanceof PH&&f.za(NH.nP,this.t4));if(f!==e&&(f=e,f.on(wH.xP,this.Z8a.bind(this)),f.on(wH.yP,this.t4.bind(this)),f.on(wH.yk,this.t4.bind(this)),f instanceof PH))f.on(NH.nP,this.t4.bind(this));
return{rawdata:f.toArray(!0),datasource:f}}return null};d.prototype.Z8a=function(e,f,g){this.Ul=this.Ila?this.Ila.toArray(!0):this.Ul;this.xm=this.E9?this.E9.toArray(!0):this.xm;this.oE=this.Xea?this.Xea.toArray(!0):this.oE;e=this.Ul.slice(g.from,g.from+g.count);f=this.xm.slice(g.from,g.from+g.count);g=this.oE.slice(g.from,g.from+g.count);e.length===f.length&&this.Ej&&(this.Ej.ZF(e,f,g),this.Jh());this.ufa=!0;this.ha()};d.prototype.t4=function(e,f,g){this.Ul=this.Ila?this.Ila.toArray(!0):this.Ul;
this.xm=this.E9?this.E9.toArray(!0):this.xm;this.oE=this.Xea?this.Xea.toArray(!0):this.oE;this.Ej.C_a();this.Ul&&this.xm&&(this.Ej.ZF(this.Ul,this.xm,this.oE),this.Jh());this.ufa=!0;this.ha()};d.prototype.Jh=function(){if(null!=this.Ul&&null!=this.xm){var e=this.oa();if(this.H5a)e&&(this.MC=e.ka(),this.OD=e.na(),this.yN=e.la(),this.vW=e.ma());else{var f=W.Ol(this.Ul),g=W.Ol(this.xm);this.MC=f[0];this.OD=f[1];this.yN=g[0];this.vW=g[1];e&&(this.MC=this.MC<e.ka()?e.ka():this.MC,this.OD=this.OD>e.na()?
e.na():this.OD,this.yN=this.yN<e.la()?e.la():this.yN,this.vW=this.vW>e.ma()?e.ma():this.vW)}}};d.prototype.E8a=function(e,f){this.ufa=!0;this.ha()};d.prototype.Gq=function(){return this.Ej.Gq()};d.prototype.tkc=function(e,f,g,h,k,l,m){var n=this.TUa?W.log10(this.Ej.fZ(0===e?1:e)):this.Ej.fZ(e);this.HRa?f.push(W.log10(0===e?1:e)):f.push(e);f=this.Ej.e6b(e);e=this.Ej.U8b(e);g.push(n);h.push(n+f);k.push(n-f);l.push(n+e);m.push(n-e)};d.prototype.G$c=function(e,f,g,h,k,l,m){var n=this.HRa?W.log10(this.Ej.ygb(0===
e?1:e)):this.Ej.ygb(e);this.TUa?f.push(W.log10(0===e?1:e)):f.push(e);f=this.Ej.e6b(n);var p=this.Ej.U8b(n);g.push(n);h.push(e+f);k.push(e-f);l.push(e+p);m.push(e-p)};d.prototype.w8=function(){if(this.Ej&&null!=this.MC&&null!=this.OD){var e=[],f=[],g=[],h=[],k=[],l=[],m;if(this.Ej instanceof LR){var n=this.Ej.bR(this.gwa/this.hga);var p=this.Ej.X5b()[1];if(0===p)for(p=Math.abs(this.OD-this.MC)<Math.abs(this.hga)?Math.abs(this.OD-this.MC):this.hga,n=this.TUa?W.log10(this.xm[0]):this.xm[0],m=this.MC;m<=
this.OD;m+=p)this.HRa?e.push(W.log10(m)):e.push(m),f.push(n),g.push(n),h.push(n),k.push(n),l.push(n);else if(0<p){p=Math.abs(this.OD-this.MC)<Math.abs(this.hga)?Math.abs(this.OD-this.MC):this.hga;if(this.MC<n){var q=this.OD<n?this.OD:n;if(this.Ej.fZ(q)>this.yN){for(m=this.MC;m<q;m+=p)this.tkc(m,e,f,g,h,k,l);e.push(q);f.push(this.Ej.fZ(q))}}if(this.OD>n&&(p=Math.abs(this.vW-this.yN)<Math.abs(this.gwa)?Math.abs(this.vW-this.yN):this.gwa,m=this.yN>this.Ej.fZ(n)?this.yN:this.Ej.fZ(n),0===f.length||m<=
f[f.length-1]))for(;m<=this.vW;m+=p)0<f.length&&f[f.length-1]===m||this.G$c(m,f,e,g,h,k,l)}else{if(this.MC<n&&(p=Math.abs(this.vW-this.yN)<Math.abs(this.gwa)?Math.abs(this.vW-this.yN):this.gwa,q=this.yN>this.Ej.fZ(n)?this.yN:this.Ej.fZ(n),this.Ej.ygb(q)>this.MC)){for(m=this.vW;m>=q;m-=p)this.G$c(m,f,e,g,h,k,l);e.push(this.Ej.ygb(q));f.push(q)}if(this.OD>n&&(p=Math.abs(this.OD-this.MC)<Math.abs(this.hga)?Math.abs(this.OD-this.MC):this.hga,m=this.MC<n?n:this.MC,0===e.length||m<=e[e.length-1]))for(;m<
this.OD;m+=p)this.tkc(m,e,f,g,h,k,l)}}else if(this.Ej instanceof KR&&isNaN(this.Ej.X5b()[0]))for(p=Math.abs(this.vW-this.yN)<Math.abs(this.gwa)?Math.abs(this.vW-this.yN):this.gwa,q=this.HRa?W.log10(this.Ul[0]):this.Ul[0],m=this.yN;m<=this.vW;m+=p)n=this.TUa?W.log10(m):m,e.push(q),f.push(n),g.push(n),h.push(n),k.push(n),l.push(n);else for(p=Math.abs(this.OD-this.MC)<Math.abs(this.hga)?Math.abs(this.OD-this.MC):this.hga,m=this.MC;m<=this.OD;m+=p)this.tkc(m,e,f,g,h,k,l);2>e.length&&(e=null);this.Lc.regression.ne(e,
f);this.Lc.confidenceupper.ne(e,g);this.Lc.confidencelower.ne(e,h);this.Lc.predictionupper.ne(e,k);this.Lc.predictionlower.ne(e,l);this.ufa=!1}};d.prototype.Tgc=function(e,f){var g=Y.Ra(e.linestyle);"regression"===f?(g instanceof Y&&this.Lc[f].qa(e.linestyle),"boolean"===typeof e.visible&&this.Lc[f].va(e.visible)):(g instanceof Y&&(this.Lc[f+"upper"].qa(e.linestyle),this.Lc[f+"lower"].qa(e.linestyle)),"boolean"===typeof e.visible&&(this.Lc[f+"upper"].va(e.visible),this.Lc[f+"lower"].va(e.visible)));
this.xa();this.ha()};d.prototype.N7b=function(e){var f={};"regression"===e?(f.linestyle=this.Lc[e].Fa(),f.visible=this.Lc[e].Ia()):(f.linestyle=this.Lc[e+"upper"].Fa(),f.visible=this.Lc[e+"upper"].Ia(),"confidence"===e&&this.Ej&&(f.probability=this.Ej.ZLc()),"prediction"===e&&this.Ej&&(f.probability=this.Ej.GQc()));return f};d.prototype.render=function(e){var f=null!=this.Sa()?e.bc(this.Sa()):e;this.MC&&this.OD&&this.yN&&this.vW||this.Jh();if(this.ufa){var g=f.Ea();this.hga=Math.abs(this.Mrb/g.lb());
this.gwa=Math.abs(this.Mrb/g.Ab());if(this.Ul&&1<this.Ul.length)this.w8();else return}this.Yh(f);for(var h in this.Lc)this.Lc.hasOwnProperty(h)&&this.Lc[h].Ia()&&this.Lc[h].render(f);this.yh(e)};d.prototype.e4d=function(e){this.Tgc(e,"prediction");"number"==typeof e.probability&&this.Ej&&this.Ej.e6c(e.probability);return this};d.prototype.M0d=function(e){this.Tgc(e,"confidence");"number"==typeof e.probability&&this.Ej&&this.Ej.T1c(e.probability);return this};d.prototype.o4d=function(e){this.Tgc(e,
"regression");return this};d.prototype.dispose=function(){this.Ila&&(this.Ila.za(wH.xP,this.Z8a),this.E9.za(wH.yP,this.t4),this.Ila.za(wH.yk,this.t4));this.E9&&(this.E9.za(wH.xP,this.Z8a),this.E9.za(wH.yP,this.t4),this.E9.za(wH.yk,this.t4));this.Xea&&(this.Xea.za(wH.xP,this.Z8a),this.Xea.za(wH.yP,this.t4),this.Xea.za(wH.yk,this.t4));this.Ej&&this.Ej.za(GR.pDa,this.E8a);Zg.prototype.dispose.call(this)};d.prototype.RQc=function(){return this.Ej};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRNb2RlbExpbWl0cyI6IkhhIiwiZ2V0TW9kZWxMaW1pdHMiOiJvYSIsInNldEJvdW5kcyI6InNhIiwiZ2V0Qm91bmRzIjoiZ2EiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRSZWdyZXNzaW9uTW9kZWxPcHRpb25zIjoiU1FjIiwiZ2V0T3B0aW9ucyI6InRhIiwic2V0RXh0ZW5kZWQiOiJXMmMiLCJzZXRQbG90SW50ZXJ2YWwiOiJhNmMiLCJnZXRTdGF0aXN0aWNzIjoiR3EiLCJnZXRSZWdyZXNzaW9uTW9kZWwiOiJSUWMifX19");var NR=/*#__PURE__*/ta(/*#__PURE__*/{ZKb:"bar",KOa:"histogram",Tka:"slices"},2,"eyJCYXIiOiJaS2IiLCJIaXN0b2dyYW0iOiJLT2EiLCJTbGljZXMiOiJUa2EifSAg"),OR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){var c={name:"Rose Chart",data:null,polargrid:null,center:new N,startangle:0,modelradius:200,outerradius:200,rosemode:d.SV.ZKb};Ag.call(this,b);this.options=G(b,c);this.hha=[];this.QDb=0;this.Zv=[];this.dw=[];this.setData(this.options)}var a=function(){function b(c,e,f,g){Hg.call(this);this.w6=c;this.length=c.values.length;this.XIa=e;this.getStyle=f;this.C9b=g;this.reset()}D(b,Hg);b.prototype.next=function(){return this.wg()?
(this.match=!1,this.wLa):null};b.prototype.wg=function(){if(this.match)return!0;for(;this.yv<this.C9b.call(this.w6);)if(this.wLa=this.getStyle.call(this.w6,this.yv++),this.XIa(this.wLa))return this.match=!0;return!1};b.prototype.forEach=function(c){for(var e=0;e<this.C9b.call(this.w6);e++){var f=this.getStyle.call(this.w6,e);this.XIa(f)&&c(f)}return this};b.prototype.filter=function(c){for(var e=[],f=0;f<this.C9b.call(this.w6);f++){var g=this.getStyle.call(this.w6,f);this.XIa(g)&&c(g)&&e.push(g)}return e};
b.prototype.reset=function(){this.wLa=null;this.yv=0;this.match=!1;return this};return b}();L(d,"geotoolkit.controls.shapes.RoseChart");D(d,Ag);d.SV=NR;d.prototype.fa=function(b){b=jc(b);if(null==b)return this;Ag.prototype.fa.call(this,b);return this.setData(b)};d.prototype.ia=function(){var b=Ag.prototype.ia.call(this);return xb(this.ta(),b)};d.prototype.hM=function(b){if(null!=this.Zv)for(var c=0;c<this.Zv.length;c++)this.sk(this.Zv[c],ze.ib,this.tb());!1===b instanceof Hg&&(!1===Array.isArray(b)&&
(b=[b]),b=Hg.zi(b));for(this.Zv=[];b.wg();)c=ug.fd(b.next()),this.Zv.push(c),null!=c&&this.cg(c,ze.ib,this.tb());return this};d.prototype.dR=function(b){return this.MO===d.SV.Tka?new a(this,b,this.eb.bind(this),this.O6b.bind(this)):null===this.Zv?null:Hg.zi(this.Zv,b)};d.prototype.eb=function(b){return void 0===b?Ag.prototype.eb.call(this):this.MO===d.SV.Tka?null==this.values||null==this.values[b]?null:this.values[b].fillstyle||(0!==this.Zv.length?this.Zv[b%this.Zv.length]:null):this.Zv[b]};d.prototype.O6b=
function(){return this.MO===d.SV.Tka?null!=this.values?this.values.length:0:null!=this.Zv?this.Zv.length:0};d.prototype.XO=function(b){if(null!=this.dw)for(var c=0;c<this.dw.length;c++)this.sk(this.dw[c],ze.ib,this.tb());!1===b instanceof Hg&&(!1===Array.isArray(b)&&(b=[b]),b=Hg.zi(b));for(this.dw=[];b.wg();)c=Y.Ra(b.next()),this.dw.push(c),null!=c&&this.cg(c,ze.ib,this.tb());return this};d.prototype.jR=function(b){return this.MO===d.SV.Tka?new a(this,b,this.Fa.bind(this),this.P7b.bind(this)):null===
this.dw?null:Hg.zi(this.dw,b)};d.prototype.Fa=function(b){return void 0===b?Ag.prototype.Fa.call(this):this.MO===d.SV.Tka?null==this.values||null==this.values[b]?null:this.values[b].linestyle||(0!==this.dw.length?this.dw[b%this.dw.length]:null):this.dw[b]};d.prototype.P7b=function(){return this.MO===d.SV.Tka?null!=this.values?this.values.length:0:null!=this.dw?this.dw.length:0};d.prototype.setValues=function(b){this.values=b;this.MO===d.SV.KOa&&this.Pdc();this.xa().ha();return this};d.prototype.u4d=
function(b){if(this.MO===b)return this;this.MO=b;this.xa().ha();return this};d.prototype.jKd=function(){return this.MO};d.prototype.dhc=function(b){if(this.WL===b)return this;this.WL=b;this.xa().ha();return this};d.prototype.m8b=function(){return this.WL};d.prototype.setData=function(b){this.options=G(b,this.options);this.name=b.name||this.name;this.Eca=b.polargrid||this.Eca;this.MO=b.rosemode||this.MO;this.outerRadius=b.outerradius||this.outerRadius;this.WL=b.modelradius||this.WL;this.bx=b.startangle||
this.bx;this.center=b.center||this.center;void 0!==b.fillstyle&&this.ra(b.fillstyle);void 0!==b.linestyle&&this.qa(b.linestyle);if(void 0!==b.data){var c=b.data;this.data=b.data;this.mIa=c.bins||this.mIa;void 0!==c.values&&(this.values=c.values);void 0!==c.fillstyles?this.hM(c.fillstyles):void 0!==c.fillstyle&&this.hM([c.fillstyle]);void 0!==c.linestyles?this.XO(c.linestyles):void 0!==c.linestyle&&this.XO([c.linestyle])}null!=this.Eca&&(b=this.Eca.ta(),this.options=G(b,this.options),this.center=b.center,
this.outerRadius=b.outerradius,this.bx=b.startangle,this.WL=b.modelradius);this.La=new U(this.center.x-this.outerRadius,this.center.y-this.outerRadius,this.center.x+this.outerRadius,this.center.y+this.outerRadius);this.MO===d.SV.KOa&&this.Pdc();this.xa().ha();return this};d.prototype.ta=function(){return{name:"name",rosemode:this.MO,outerradius:this.outerRadius,modelradius:this.WL,startangle:this.bx,center:this.center,linestyle:this.eb(),fillstyle:this.eb(),data:{values:this.values,bins:this.mIa,
linestyles:this.jR(),fillstyles:this.dR()}}};d.prototype.Pdc=function(){this.hha=[];this.QDb=0;var b=360/this.mIa,c;for(c=0;c<this.values.length;c++){var e=Math.floor(this.values[c]/b);null==this.hha[e]&&(this.hha[e]=0);this.hha[e]++;this.hha[e]>this.QDb&&(this.QDb=this.hha[e])}for(c=0;c<this.hha.length;c++)this.hha[c]=this.hha[c]/this.QDb*this.WL;return this};d.prototype.RX=function(){return this.mIa};d.prototype.T7=function(b){if(this.mIa===b)return this;this.mIa=b;this.Pdc().xa().ha();return this};
d.prototype.sa=function(b){if(null!=this.La&&this.La.Gi(b,W.Tb))return this;this.La=b;this.xa().ha();return this};d.prototype.ga=function(){return null!=this.La?this.La.lock():null};d.prototype.VAa=function(b,c,e,f){c=this.DO(c);e=e*Math.PI/180;f=f*Math.PI/180;var g=2*c,h=2*c,k=this.center.x-c;c=this.center.y-c;b.Ey(k,c,g,h,e,f)};d.prototype.uj=function(b){for(var c=this.MO!==d.SV.KOa?this.values:this.hha,e=360/(this.MO===d.SV.ZKb?this.values.length:this.mIa),f=this.bx,g=f+e,h,k=this.O6b(),l=this.P7b(),
m,n,p=0;p<c.length;p++)(h=c[p],null==h||Number.isNaN(h)||(n=0!==k?this.eb(p%k):null,m=0!==l?this.Fa(p%l):null,this.MO===d.SV.Tka&&(void 0!==h.fillstyle&&(n=ug.fd(h.fillstyle)),void 0!==h.linestyle&&(m=Y.Ra(h.linestyle))),null==n&&null==m))||(b.ra(n),b.qa(m),this.MO===d.SV.Tka?this.VAa(b,h.value,h.start,h.end):(this.VAa(b,h,f,g),f=g,g=f+e))};d.prototype.render=function(b){var c=this.ga();if(null!=c){b=this.Sa()?b.bc(this.Sa()):b;var e=this.eb();null!=e&&(b.ra(this.eb(),c),b.qa(null),null==this.Eca?
b.Bc(c.ka(),c.la(),c.ca(),c.da()):this.VAa(b,this.WL,0,360));e=this.Fa();null!=e&&(b.ra(null),b.qa(e),null==this.Eca?b.Bc(c.ka(),c.la(),c.ca(),c.da()):this.VAa(b,this.WL,0,360));null!=this.data&&null!=this.values&&this.uj(b)}};d.prototype.DO=function(b){return Math.min(b/this.WL,1)*this.outerRadius};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRGaWxsU3R5bGVzIjoiaE0iLCJnZXRGaWxsU3R5bGVzIjoiZFIiLCJnZXRGaWxsU3R5bGUiOiJlYiIsImdldEZpbGxTdHlsZXNDb3VudCI6Ik82YiIsInNldExpbmVTdHlsZXMiOiJYTyIsImdldExpbmVTdHlsZXMiOiJqUiIsImdldExpbmVTdHlsZSI6IkZhIiwiZ2V0TGluZVN0eWxlc0NvdW50IjoiUDdiIiwic2V0Um9zZU1vZGUiOiJ1NGQiLCJnZXRSb3NlTW9kZSI6ImpLZCIsInNldE1vZGVsUmFkaXVzIjoiZGhjIiwiZ2V0TW9kZWxSYWRpdXMiOiJtOGIiLCJnZXRPcHRpb25zIjoidGEiLCJnZXRCaW5Db3VudCI6IlJYIiwic2V0QmluQ291bnQiOiJUNyIsInNldEJvdW5kcyI6InNhIiwiZ2V0Qm91bmRzIjoiZ2EiLCJtb2RlbFRvT3V0ZXJSYWRpdXMiOiJETyJ9fX0g");var PR=/*#__PURE__*/function(){function d(a,b,c){this.Nd=null;this.ab=a;this.eW=c;this.Pfa=null;this.XDa=function(){var e=this.Nd.wa().transform(this.Nd.oa());this.Pfa.sa(this.ab.wa().sc(e));this.Pfa.Ha(this.Nd.oa())}.bind(this);b&&this.Uy(b,this.ab)}L(d,"geotoolkit.controls.tools.SimpleAdapter");d.prototype.Uy=function(a,b){this.ab=b;this.Nd=a;this.Pfa=new ni;this.Pfa.nb("ghost_node");this.XDa();this.Nd.on(ze.jK,this.XDa);this.ab.pa(this.Pfa);return this};d.prototype.LH=function(){return this.Nd};d.prototype.hs=
function(){return this.mc()};d.prototype.contains=function(a){var b=this.Nd.oa();b=this.Nd.wa().transform(b);return b.contains(a)};d.prototype.AJb=function(a,b,c){a&&(b=a.Gb().ga().clone(),c=c.wa().transform(b),c=this.mc().wa().sc(c),a.Gb().sa(c),a.$h());return!0};d.prototype.SJb=function(a){return a};d.prototype.Ujc=function(a){return a};d.prototype.Jkb=function(a){return a};d.prototype.Ikb=function(a){return a};d.prototype.intersect=function(a){return a};d.prototype.lWc=function(){return!1};d.prototype.mc=
function(){return this.Pfa||this.ab};d.prototype.dispose=function(){this.Nd&&this.Nd.za(ze.jK,this.XDa);this.Pfa&&(this.Pfa.rh(),this.Pfa.dispose(),this.Pfa=null)};d.Ym=function(a){return a instanceof ni};d.$8b=function(){return 1};return d}();var QR=/*#__PURE__*/function(){function d(){this.eob=[]}L(d,"geotoolkit.controls.tools.AdaptersRegistry");d.prototype.lwd=function(b,c,e){for(var f=PR,g=-Infinity,h=0;h<this.eob.length;h++){var k=this.eob[h];k.Ym(c)&&k.$8b()>g&&(f=k,g=k.$8b())}return new f(b,c,e)};d.prototype.register=function(b){-1===this.eob.indexOf(b)&&this.eob.push(b);return this};var a=null;d.ya=function(){null==a&&(a=new d);return a};return d}();var RR=/*#__PURE__*/ta(/*#__PURE__*/{Vw:"onStateChanged",hj:"onEnabledStateChanged",Xia:"onEnter",Oz:"onLeave",TZa:"onRebuild",Zbc:"onListenerAdded",zhb:"onListenerRemoved"},2,"eyJvblN0YXRlQ2hhbmdlZCI6IlZ3Iiwib25FbmFibGVkU3RhdGVDaGFuZ2VkIjoiaGoiLCJvbkVudGVyIjoiWGlhIiwib25MZWF2ZSI6Ik96Iiwib25SZWJ1aWxkIjoiVFphIiwib25MaXN0ZW5lckFkZGVkIjoiWmJjIiwib25MaXN0ZW5lclJlbW92ZWQiOiJ6aGIifSAg"),SR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(h,k){h=G(h,{slots:h&&"object"===typeof h&&null==h.name&&null==h.layer?h:{},name:"string"===typeof k?k:"",enabled:!0,mouseradius:2,touchradius:5,layer:null},!0);this.yu=null;this.wC={};this.$m(h.slots);this.Vf=h.enabled;this.vw=!1;this.ic=h.name;this.LK=h.mouseradius;this.GN=h.touchradius;this.BEa={};this.Wk={};this.UDa=null;this.ab=
h.layer;this.yxc=[0,1];this.kEa=0;this.Ezc=new N(-Infinity,-Infinity);this.BW=!1;this.nm=null}var a=500,b=20,c=10,e=null;mc(d,Il);L(d,"geotoolkit.controls.tools.AbstractTool");QR.ya().register(PR);d.Ka=RR;d.prototype.$m=function(h,k){var l=this.jza();null!=l&&this.detach(l);var m;if(!0===k&&null!=this.wC)for(m in h)this.wC[m]=h[m];else this.wC=h;for(m in this.wC)if(this.wC.hasOwnProperty(m)){var n=d.aKa(m);if(Array.isArray(n))for(k=this.wC[m],delete this.wC[m],h=0;h<n.length;++h)this.wC[n[h]]=k}for(m in this.wC)if(this.wC.hasOwnProperty(m)&&
(k=this.wC[m],null==k||Array.isArray(k)||(this.wC[m]=[k]),k=this.wC[m],null!=k))for(h=0;h<k.length;h++)"function"===typeof k[h]&&(k[h]={callback:k[h],object:null,enabled:!0});null!=l&&this.attach(l);return this};d.prototype.mJ=function(h){return this};d.prototype.Nja=function(h){this.LK=h;return this};d.prototype.wU=function(){return this.LK};d.prototype.Uja=function(h){this.GN=h;return this};d.prototype.wY=function(){return this.GN};d.prototype.bXa=function(h){return this.pn(h)?this.GN:this.LK};
d.lock=function(h,k){void 0===d.c4a&&(d.c4a=[]);for(var l=d.c4a,m=0;m<l.length;m++)if(l[m].NAa===h){l[m].s1a=k;return}l.push({NAa:h,s1a:k})};d.unlock=function(h){if(void 0!==d.c4a){var k=d.c4a,l;if(h instanceof d)for(l=k.length-1;0<=l;l--)k[l].s1a===h&&k.splice(l,1);else for(l=0;l<k.length;l++)if(k[l].NAa===h){k.splice(l,1);break}}};d.Tdb=function(h){var k=d.c4a;if(void 0===k||0===k.length)return null;for(var l=0;l<k.length;l++)if(null==k[l].NAa||k[l].NAa===h)return k[l].s1a;return null};d.aKa=function(h){e||
(e="ontouchstart"in $a.document.documentElement?{pointerdown:["mousedown","touchstart"],pointermove:["mousemove","touchmove"],pointerup:["mouseup","touchend"]}:$a.PointerEvent?{pointerdown:["pointerdown"],pointermove:["pointermove"],pointerup:["pointerup"]}:$a.TouchEvent?{pointerdown:["mousedown","touchstart"],pointermove:["mousemove","touchmove"],pointerup:["mouseup","touchend"]}:{pointerdown:["mousedown"],pointermove:["mousemove"],pointerup:["mouseup"]});if("string"===typeof h){var k=h.toLowerCase();
return null!=e[k]?e[k]:[h]}return[]};d.prototype.Rs=function(h,k,l){h=d.aKa(h);for(var m=0;m<h.length;++m){var n=h[m];if(null!=this.wC[n])for(var p=0;p<this.wC[n].length;++p){var q=this.wC[n][p];q.object!==l&&l||(q.enabled=k)}}return this};d.prototype.nb=function(h){this.ic=h;return this};d.prototype.Ga=function(){return this.ic};d.prototype.mc=function(){return this.ab};d.prototype.Bud=function(){void 0!==this.Yc&&this.Yc(null);this.UDa&&d.aKa("pointerup").forEach(function(h){$a.removeEventListener(h,
this.UDa,!1)}.bind(this))};d.prototype.Cud=function(){null==this.UDa&&(this.UDa=this.Bud.bind(this));d.aKa("pointerup").forEach(function(h){$a.addEventListener(h,this.UDa,!1)}.bind(this))};d.prototype.dispose=function(){if(!this.te()){this.UDa&&d.aKa("pointerup").forEach(function(k){$a.removeEventListener(k,this.UDa,!1)}.bind(this));var h=this.jza();null!=h&&(this.detach(h),h.remove(this));this.BEa=null;this.Wk={};this.wC=null;this.BW=!0}};var f=new RegExp(/touch/),g=new RegExp(/pointer/);d.prototype.pn=
function(h){null!=h.Je&&(h=h.Je());return f.test(h.type)||g.test(h.type)&&"mouse"!==h.pointerType};d.tyb=function(h,k){var l=k.getBoundingClientRect();if("touchend"===h.type&&null!=h.changedTouches&&0<h.changedTouches.length){var m=h.changedTouches[0].clientX;h=h.changedTouches[0].clientY}else null!=h.touches&&0<h.touches.length?(m=h.touches[0].clientX,h=h.touches[0].clientY):(m=h.clientX,h=h.clientY);m=(m-l.left)/(l.right-l.left)*k.ca();k=(h-l.top)/(l.bottom-l.top)*k.da();return{x:Math.round(10*
m)/10,y:Math.round(10*k)/10}};d.prototype.$ia=function(h,k){var l=null!=k?k:h.Ye();h=null!=k?h:h.Je();return d.tyb(h,l)};d.prototype.Sd=function(h,k){k=k.he();k=new N(k.getX(),k.getY());null!=h&&(h=h.wa(),null!=h&&h.rd(k,k));return k};d.prototype.addListener=function(h,k){null==this.Wk[h]&&(this.Wk[h]=[]);var l=this.Wk[h],m=Array.isArray(k)?k:[k];m.forEach(function(n){l.push(n)});h={tool:this,eventName:h,listener:k};this.fireEvent(d.Ka.Zbc,h);return this};d.prototype.removeListener=function(h,k){var l=
{tool:this,eventName:h,listener:k};if(null==this.Wk[h])return this.fireEvent(d.Ka.zhb,l),this;if(null==k)return this.Wk[h]=null,this.fireEvent(d.Ka.zhb,l),this;var m=this.Wk[h];h=Array.isArray(k)?k:[k];h.forEach(function(n){n=m.indexOf(n);-1!==n&&m.splice(n,1)});this.fireEvent(d.Ka.zhb,l);return this};d.prototype.KEd=function(h){return this.Wk[h]};d.prototype.dAd=function(){var h=[],k;for(k in this.Wk)if(this.Wk.hasOwnProperty(k)){var l=this.Wk[k];l&&h.push(k)}return Hg.zi(h)};d.prototype.fireEvent=
function(h,k){if(null!=this.Wk[h]){h=this.Wk[h];for(var l=0;l<h.length;++l){var m=h[l];null!=m&&("function"===typeof m?m.call(this,this,k):null!=m.processEvent&&m.processEvent.call(m,this,k))}}};d.prototype.Rb=function(h){if(this.Vf===h)return this;this.Vf=h;this.hj();this.tn();return this};d.prototype.isEnabled=function(){return this.Vf};d.prototype.toggle=function(){this.Rb(!this.Vf);return this};d.prototype.start=function(h){return this.setActive(!0)};d.prototype.stop=function(){return this.setActive(!1)};
d.prototype.setActive=function(h){if(this.vw===h)return this;this.vw=h;this.tn();return this};d.prototype.Pd=function(){return this.vw};d.prototype.tn=function(){this.fireEvent(d.Ka.Vw,null)};d.prototype.hj=function(){this.fireEvent(d.Ka.hj,null)};d.prototype.attach=function(h){function k(m,n){if(!n.Kk()){m=this.wC[m];for(var p=0;p<m.length;++p){var q=m[p];if(!1!==q.enabled&&n.jQd(q.object)&&(q.callback.call(this,n),n.Kk()))break}}}this.CIb(h);for(var l in this.wC)this.wC.hasOwnProperty(l)&&null!=
this.wC[l]&&(null==this.BEa[l]&&(this.BEa[l]=[]),this.BEa[l].push(h.on(l,this,h,k.bind(this,l))));return this};d.prototype.detach=function(h){h===this.jza()&&this.CIb(null);var k;for(k in this.BEa)if(this.BEa.hasOwnProperty(k)){var l=this.BEa[k];for(var m=l.length-1;0<=m;m--){var n=l[m];n.YLc()===h&&(n.za(),l.splice(m,1))}}return this};d.prototype.jza=function(){return this.yu};d.prototype.CIb=function(h){this.yu=h;return this};d.prototype.on=function(h,k,l,m){return null};d.prototype.za=function(h){return this};
d.prototype.wId=function(h){if(null==h||null==this.wC[h])return null;var k=[];this.wC[h].forEach(function(l){-1===k.indexOf(l.object)&&k.push(l.object)});return k};d.prototype.Dgb=function(h){var k=Date.now(),l=k-this.kEa;if(l<a&&N.xf(h,this.Ezc)<c&&l>b)return!0;this.kEa=k;this.Ezc.Da(h.getX(),h.getY());return!1};d.prototype.Aac=function(h){return-1!==this.yxc.indexOf(h)};d.prototype.h3d=function(h){this.yxc=h;return this};d.prototype.te=function(){return this.BW};d.prototype.Bfb=function(h,k,l){if(this.nm&&
this.nm.LH()===h)return this.nm;h=QR.ya().lwd(this.ab,h,k);this.nm&&l&&this.nm.dispose();return h};d.prototype.fa=function(h){h=jc(h);if(null==h)return this;void 0!==h.slots&&this.$m(h.slots);void 0!==h.name&&this.nb(h.name);void 0!==h.enabled&&this.Rb(h.enabled);void 0!==h.mouseradius&&this.Nja(h.mouseradius);void 0!==h.touchradius&&this.Uja(h.touchradius);void 0!==h.layer&&(this.ab=h.layer);return this};d.prototype.ia=function(){return{name:this.ic,enabled:this.isEnabled(),mouseRadius:this.LK,touchRadius:this.GN,
layer:this.ab}};return d}(),2,"eyJnZXRFeGNsdXNpdmVUb29sIjoiVGRiIiwiZ2V0TmF0aXZlRXZlbnROYW1lIjoiYUthIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsic2V0U2xvdHMiOiIkbSIsImF0dGFjaFRvUGxvdCI6Im1KIiwic2V0TW91c2VSYWRpdXMiOiJOamEiLCJnZXRNb3VzZVJhZGl1cyI6IndVIiwic2V0VG91Y2hSYWRpdXMiOiJVamEiLCJnZXRUb3VjaFJhZGl1cyI6IndZIiwic2V0U2xvdEVuYWJsZWQiOiJScyIsInNldE5hbWUiOiJuYiIsImdldE5hbWUiOiJHYSIsImdldE1hbmlwdWxhdG9yTGF5ZXIiOiJtYyIsImNhcHR1cmVNb3VzZVVwIjoiQ3VkIiwiaXNUb3VjaEV2ZW50IjoicG4iLCJwYWdlVG9DYW52YXMiOiIkaWEiLCJwb2ludFRvTW9kZWwiOiJTZCIsInNldEVuYWJsZWQiOiJSYiIsImlzQWN0aXZlIjoiUGQiLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6InRuIiwib25FbmFibGVkU3RhdGVDaGFuZ2VkIjoiaGoiLCJnZXRQYXJlbnRUb29sIjoianphIiwiaXNEaXNwb3NlZCI6InRlIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var TR=/*#__PURE__*/ta(/*#__PURE__*/{ara:"onActivate",LTd:"onScrollStart",KTd:"onScaleStart",Yn:"onScroll",lFb:"onScale",fw:"onScrollEnd",mFb:"onScaleEnd",cra:"onRangeChanged"},2,"eyJvbkFjdGl2YXRlIjoiYXJhIiwib25TY3JvbGxTdGFydCI6IkxUZCIsIm9uU2NhbGVTdGFydCI6IktUZCIsIm9uU2Nyb2xsIjoiWW4iLCJvblNjYWxlIjoibEZiIiwib25TY3JvbGxFbmQiOiJmdyIsIm9uU2NhbGVFbmQiOiJtRmIiLCJvblJhbmdlQ2hhbmdlZCI6ImNyYSJ9"),UR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){ni.call(this);this.de(new jl).hd(!0);this.yB=c&&c.transparency||1;this.FRb=c&&c.size||15;void 0!==c.backgroundfillstyle&&this.ra(c.backgroundfillstyle);void 0!==c.floating&&this.TO(c.floating);var e={wheel:this.kq.bind(this),pointerdown:this.gd.bind(this),pointermove:[{callback:this.Ic.bind(this),object:null},{callback:this.zca.bind(this),
object:$a,enabled:!1}],pointerup:[{callback:this.gra.bind(this),object:$a.document,enabled:!1}],dblclick:[{callback:this.zr.bind(this),object:null}],"cg-leave":function(f){!1===this.fr.Pd()&&1!==this.rYa()&&null!=this.Md&&(this.H_a(),this.Md=null)}.bind(this)};this.fr=new SR(e,c.name);this.F6a=null;this.GN=5;this.LK=2;this.o4a=new Le({attributeName:"transparency","function":function(f,g,h,k,l){f=h+k;return h<f?h+k:h+k*g/l},begin:"auto",duration:500})}var a=function(){function c(e,f){this.from=e;this.Re=
f}c.prototype.ll=function(){return this.from};c.prototype.$l=function(){return this.Re};c.prototype.transform=function(e){null!=e&&(e.Ma(this.Re,this.Re),e.Ma(this.from,this.from));return this};c.prototype.getLength=function(){return N.xf(this.from,this.Re)};c.prototype.bd=function(e,f){var g=this.getLength(),h=e===this.Re?this.from:this.Re,k=e===this.Re?this.Re:this.from,l=(k.x-h.x)/g*f+k.x;f=(k.y-h.y)/g*f+k.y;e===this.from?this.from.Da(l,f):this.Re.Da(l,f);return this};return c}(),b=100;D(d,ni);
L(d,"geotoolkit.controls.tools.scroll.AbstractScroll");d.Zlb=.7;d.prototype.Bo=function(c){this.fr.Rs("pointermove",c,$a);this.fr.Rs("pointerup",c,$a.document)};d.Ka=TR;d.prototype.notify=function(c,e,f){ni.prototype.notify.call(this,c,e,f);null!=this.fr&&this.fr.fireEvent(c,f)};d.prototype.gd=Fb;d.prototype.Ic=Fb;d.prototype.kq=Fb;d.prototype.Yc=Fb;d.prototype.zr=function(c){var e=this.Mc().pn(c),f=c.he();e=e?this.GN:this.LK;!0===this.uL().bd(e,e).contains(f)&&c.stopPropagation()};d.prototype.zca=
Fb;d.prototype.gra=function(c){this.dXa()&&this.H_a()};d.prototype.Mc=function(){return this.fr};d.prototype.addListener=function(c,e){var f=function(g,h){e.call(this,this,h)}.bind(this);this.Mc().addListener(c,f);return this};d.prototype.XMd=function(c,e){return new a(c,e)};d.prototype.H_a=function(){this.$R(this.o4a);this.nsa(0)};d.prototype.e1a=function(){this.$R(null)};d.prototype.render=function(c){if(c.fc())ni.prototype.render.call(this,c);else{if(1>this.yB){var e=c.wJ();c.Br(this.yB)}ni.prototype.render.call(this,
c);1>this.yB&&c.Br(e)}};d.prototype.TO=function(c){if(this.dXa()===c)return this;c||this.e1a();this.nsa(c?.5:1);c&&this.H_a();return this};d.prototype.dXa=function(){return 1!==this.yB};d.prototype.rYa=function(){return this.yB};d.prototype.nsa=function(c){if(this.yB===c)return this;this.yB=c;this.xa().ha();return this};d.prototype.Ha=function(c,e,f,g){if(1!==this.yB&&!1!==g)if(c=this.Zya(),e=this.Gza(),c.Yoa(e,W.Tb))this.e1a(),this.nsa(0);else if(this.yB!==d.Zlb||this.HWa())this.e1a(),this.nsa(d.Zlb),
this.H_a();return this};d.prototype.ia=function(){var c=ni.prototype.ia.call(this);null!=this.eb()&&(c.backgroundfillstyle=this.eb());c.floating=this.dXa();c.transparency=this.yB;c.size=this.FRb;c.name=this.fr.Ga();return G(c,this.ta())};d.prototype.fa=function(c){c=jc(c);if(null==c)return this;ni.prototype.fa.call(this,c);void 0!==c.name&&this.fr.nb(c.name);void 0!==c.backgroundfillstyle&&this.ra(c.backgroundfillstyle);void 0!==c.floating&&this.TO(c.floating);void 0!==c.transparency&&(this.yB=c.transparency);
void 0!==c.size&&(this.FRb=c.size);this.ha();this.setOptions(c);return this};d.prototype.setOptions=Hb;d.prototype.ta=Hb;d.prototype.aba=function(){return this.FRb};d.prototype.c1a=function(c){null!=this.F6a&&null==c&&(clearInterval(this.F6a),this.F6a=null)};d.prototype.kjc=function(c){null==this.F6a&&(this.F6a=setInterval(this.gd.bind(this),b,c))};d.prototype.dispose=function(){this.fr.dispose();this.fr=null;ni.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlRG93biI6ImdkIiwib25Nb3VzZU1vdmUiOiJJYyIsIm9uTW91c2VXaGVlbCI6ImtxIiwib25Nb3VzZVVwIjoiWWMiLCJvbkRvdWJsZUNsaWNrIjoienIiLCJvbldpbmRvd01vdXNlTW92ZSI6InpjYSIsIm9uV2luZG93TW91c2VVcCI6ImdyYSIsImdldFRvb2wiOiJNYyIsInNldEZsb2F0aW5nTW9kZSI6IlRPIiwiZ2V0RmxvYXRpbmdNb2RlIjoiZFhhIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldE9wdGlvbnMiOiJ0YSIsImdldERlc2lyZWRTaXplIjoiYWJhIn19fSAg");var VR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){this.vqb=a;this.Lvc=this.I6a=!1}d.prototype.Oh=function(){return this.vqb};d.prototype.stopPropagation=function(){this.I6a=!0;return this};d.prototype.preventDefault=function(){this.Lvc=!0;return this};d.prototype.Kk=function(){return this.I6a};d.prototype.tEb=function(){return this.Lvc};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRFdmVudE5hbWUiOiJPaCIsImlzQ2FuY2VsZWQiOiJLayIsImlzUHJldmVudERlZmF1bHQiOiJ0RWIifX19");var WR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e,f){VR.call(this,a);this.CPb=!1;this.ttb=b;this.oTa=c;this.uc=f;this.Nd=e;this.saa=null;this.jvc=!1;this.ivb=null;null!=this.uc&&null!=this.oTa&&(this.jvc=0<=this.oTa.getX()&&this.oTa.getX()<this.uc.ca()&&0<=this.oTa.getY()&&this.oTa.getY()<this.uc.da())}D(d,VR);d.prototype.Sdb=function(){return null==this.ttb?null:this.ttb.currentTarget||this.ttb.target};d.prototype.he=function(){return this.oTa};d.prototype.Ye=function(){return this.uc};d.prototype.ub=function(){return this.Nd};
d.prototype.Je=function(){return this.ttb};d.prototype.jIa=function(a){return null==a?this.CPb:this.CPb=a};d.prototype.stopPropagation=function(a,b){VR.prototype.stopPropagation.call(this);a&&(VR.prototype.preventDefault.call(this),this.jIa(!1),null!=this.Je()&&this.Je().preventDefault());b&&null!=this.Je()&&this.Je().stopPropagation();return this};d.prototype.jQd=function(a){var b=this.Je()?this.Je().currentTarget||this.Je().target:null;return null==this.Je()||a===b||null===a&&null!=this.Ye()&&b===
this.Ye().Pw()?!0:!1};d.prototype.e7=function(){return this.jvc};d.prototype.O0a=function(a){this.saa=a;return this};d.prototype.eqa=function(){return this.saa};d.prototype.uLc=function(){if(null==this.ivb){this.ivb=new N;var a=this.Je();a=null!=a.touches&&0<a.touches.length?a.touches[0]:a;this.ivb.Da(a.clientX,a.clientY)}return this.ivb};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRFdmVudFRhcmdldCI6IlNkYiIsImdldFBsb3RQb2ludCI6ImhlIiwiZ2V0UGxvdCI6IlllIiwiZ2V0Tm9kZSI6InViIiwiZ2V0TmF0aXZlRXZlbnRBcmdzIjoiSmUiLCJhbGxvd05hdGl2ZSI6ImpJYSIsImluUGxvdCI6ImU3Iiwic2V0VG91Y2hlcyI6Ik8wYSIsImdldFRvdWNoZXMiOiJlcWEiLCJnZXRDU1NQb2ludCI6InVMYyJ9fX0g");var YR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){WR.call(this,b);this.c0=a;this.Bm=null!=a;this.bh=null}D(d,WR);d.prototype.q1d=function(a){this.bh=a;return this};d.prototype.Sdb=function(){return null!=this.bh?this.bh:null==this.c0?null:this.c0.Sdb()};d.prototype.C4b=function(){return!1===this.Bm};d.prototype.ub=function(){return this.Bm?this.c0.ub():null};d.prototype.Ye=function(){return this.Bm?this.c0.Ye():null};d.prototype.he=function(){return this.Bm?this.c0.he():null};d.prototype.Oh=function(){var a=WR.prototype.Oh.call(this);
return null!=a?a:this.Bm?this.c0.Oh():null};d.prototype.Je=function(){return this.Bm?this.c0.Je():null};d.prototype.stopPropagation=function(a,b){this.Bm&&this.c0.stopPropagation(a,b);return this};d.prototype.Kk=function(){return this.Bm?this.c0.Kk():!1};d.prototype.jIa=function(a){return this.Bm?this.c0.jIa(a):!0};d.prototype.e7=function(){return this.Bm?this.c0.e7():!1};d.prototype.O0a=function(a){this.Bm&&this.c0.O0a(a);return this};d.prototype.eqa=function(){return this.Bm?this.c0.eqa():[]};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRFdmVudFRhcmdldCI6InExZCIsImdldEV2ZW50VGFyZ2V0IjoiU2RiIiwiZ2V0Tm9kZSI6InViIiwiZ2V0UGxvdCI6IlllIiwiZ2V0UGxvdFBvaW50IjoiaGUiLCJnZXRFdmVudE5hbWUiOiJPaCIsImdldE5hdGl2ZUV2ZW50QXJncyI6IkplIiwiaXNDYW5jZWxlZCI6IktrIiwiYWxsb3dOYXRpdmUiOiJqSWEiLCJpblBsb3QiOiJlNyIsInNldFRvdWNoZXMiOiJPMGEiLCJnZXRUb3VjaGVzIjoiZXFhIn19fSAg");var ZR=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){YR.call(this,a);this.Dh=b}D(d,YR);L(d,"geotoolkit.controls.tools.scroll.ScrollEventArgs");d.prototype.wb=function(){return this.Dh};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRWaXNpYmxlTW9kZWxMaW1pdHMiOiJ3YiJ9fX0g");var $R=/*#__PURE__*/function(){function d(){}function a(e){e=e.getBoundingClientRect();var f=$a.document.body,g=$a.document.documentElement,h=$a.pageYOffset||g.scrollTop||f.scrollTop,k=g.clientTop||f.clientTop||0,l=$a.pageXOffset||g.scrollLeft||f.scrollLeft;f=g.clientLeft||f.clientLeft||0;h=e.top+h-k;e=e.left+l-f;return{top:Math.round(h),left:Math.round(e)}}function b(e){for(var f=0,g=0;e;)f+=parseInt(e.offsetTop),g+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:f,left:g}}var c=new WeakMap;L(d,"geotoolkit.controls.util.Helpers");
d.fq=function(e){return e.getBoundingClientRect?a(e):b(e)};d.fl=function(e,f,g){if(null==e||null==f)return e;var h=null;h=null!=e.Pw?[e.Pw()]:Array.isArray(e)?e:[e];h.forEach(function(k){if(null!=k){c.has(k)||c.set(k,{});var l=c.get(k),m;for(m in f){var n=f[m];if(null!=n||null!=l[m]){l[m]=l[m]||[{s1a:null,value:k.style[m]}];for(var p=0;p<l[m].length;p++)if(l[m][p].s1a===g){l[m].splice(p,1);break}null!=n?l[m].push({s1a:g,value:n}):(p=l[m].length,n=l[m][p-1].value,2>p&&(l[m]=null));k.style[m]!==n&&
(k.style[m]=n)}}}});return e};return d}();var aS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(n){n=G(n,{modellimits:null!=n&&n.modellimits instanceof U?n.modellimits:new U(0,0,1,1),visiblelimits:null!=n&&n.visiblelimits instanceof U?n.visiblelimits:new U(0,0,1,1),size:a,name:"VerticalScroll",minimumcarretsize:20,rounded:!1,resizable:!1});UR.call(this,n);this.ki=n.isVertical;this.bh=this.JK=null;null!=n.target&&(n.modellimits=n.target.oa(),n.visiblelimits=n.target.wb(),this.Uy(n.target));var p=n.size;this.ki?(n.modellimits=n.modellimits.clone().setX(0).Qa(p),n.visiblelimits=
n.visiblelimits.clone().setX(0).Qa(1)):(n.modellimits=n.modellimits.clone().setY(0).$a(p),n.visiblelimits=n.visiblelimits.clone().setY(0).$a(1));this.w$=n.minimumcarretsize;this.PTa=n.rounded;this.nb(n.name);var q=null==n.minscrollbutton||!1!==n.minscrollbutton.visible,r=null==n.maxscrollbutton||!1!==n.maxscrollbutton.visible;this.pa([this.uX=(new ni).nb("scrollbar-button-min").Zc("scrollbar-button").va(q).hd(!1).Ha(h).pa([(new bi).Zc("scrollbar-button-border").Fg(!1).qa(b.clone()).ra(c.clone()),
this.h_b=(new $g).Zc("scrollbar-button-icon").Fg(!0).qa(g.clone())]),this.m9=(new ni).nb("scrollbar-button-max").Zc("scrollbar-button").va(r).hd(!1).Ha(h).pa([(new bi).Zc("scrollbar-button-border").Fg(!1).qa(b.clone()).ra(c.clone()),this.hQb=(new $g).Zc("scrollbar-button-icon").Fg(!0).qa(g.clone())]),this.Az=(new ni).Ha(n.modellimits).pa([(new bi).Fg(!1).qa(b.clone()).ra(c.clone()),this.WTa=(new ni).sa(n.modellimits.clone()).qa("transparent"),this.XTa=(new ni).sa(n.modellimits.clone()).qa("transparent"),
this.Vr=(new ni).Ha(n.modellimits).sa(n.visiblelimits).pa([this.JYb=(new bi).Fg(!1).qa(f.clone()).ra(e.clone()).va(!this.PTa),this.qga=(new ho).Fg(!1).qa(f.clone()).ra(e.clone()).va(this.PTa)]),this.dxa=(new ni).va(!1).sa(n.visiblelimits).pa([(new bi).qa({color:"red"})])])]);this.WV=!1;this.eh=new Zj;this.Md=null;this.pd=new N(0,0);this.ei=new N(0,0);this.WK=null;this.Zub=n.resizable;this.Be=k;this.e8d(a).setSize(p)}var a=15,b=(new Y("transparent")).Zg({x:!0,y:!0}),c=new rf("#f1f1f1"),e=new rf("#bcbcbc"),
f=(new Y("#a8a8a8")).Zg({x:!0,y:!0}),g=new Y({color:"#4a4a4a",linejoin:wg.Kka}),h=new U(0,0,a,a),k="Move",l="ResizeBegin",m="ResizeEnd";D(d,UR);L(d,"geotoolkit.controls.tools.scroll.HVBaseScroll");d.prototype.iM=function(n){this.ki?this.ql(n):this.Rl(n);return this};d.prototype.xa=function(n,p){if(!0===this.Co()||!1===Ee.xO())return this;UR.prototype.xa.call(this,n,p);if(null==this.Az)return this;p!==De.lp&&p!==De.c_||this.v$c();return this};d.prototype.e8d=function(n){var p=3;n=n-p-1;var q=(n+p)/
2;this.h_b.clear();this.hQb.clear();this.ki?(this.h_b.moveTo(p,9).lineTo(q,5).lineTo(n,9),this.hQb.moveTo(p,4).lineTo(q,8).lineTo(n,4)):(this.h_b.moveTo(9,p).lineTo(5,q).lineTo(9,n),this.hQb.moveTo(4,p).lineTo(8,q).lineTo(4,n));return this};d.prototype.setSize=function(n){if(null==n||n===this.Wb)return this;this.Wb=n;this.ki?(this.Na({width:n}),this.Az.Na({top:n,left:0,right:0,bottom:n}),this.uX.Na({top:0,left:0,right:0,height:n}),this.m9.Na({height:n,left:0,right:0,bottom:0})):(this.Na({height:n}),
this.Az.Na({left:n,top:0,bottom:0,right:n}),this.uX.Na({top:0,left:0,bottom:0,width:n}),this.m9.Na({width:n,top:0,right:0,bottom:0}));return this};d.prototype.Uy=function(n){hb("geotoolkit.controls.tools.scroll.HVBaseScrol.prototype.setTarget is deprecated since 2020 (3.0)");if(null==n||!(n instanceof Uh))return this;null!=this.bh&&(this.removeListener("onScrollEnd",this.JK),this.removeListener("onScroll",this.JK));this.bh=n;var p=this.ki?this.bh.Xo():this.bh.Ji();this.Ha(this.bh.oa(),this.bh.wb(),
this.bh instanceof ni?p:!1);this.JK=function(q,r){if(null!=n){q=n.wb();var t=r.wb();this.ki?(q=(q.la()-t.la())*n.wa().Ab(),this.bh.translate(0,q)):(q=(q.ka()-t.ka())*n.wa().lb(),this.bh.translate(q,0));this.Ha(this.bh.oa(),this.bh.wb(),this.bh instanceof ni?p:!1);r.stopPropagation(!0,!0)}}.bind(this);this.addListener(TR.fw,this.JK);this.addListener(TR.Yn,this.JK);return this};d.prototype.scrollTo=function(n,p){var q=this.Az.oa();this.ki?(n.la()<q.la()&&n.setY(q.getY()),n.ma()>q.ma()&&n.setY(q.ma()-
n.da())):(n.ka()<q.ka()&&n.setX(q.getX()),n.na()>q.na()&&n.setX(q.na()-n.ca()));this.notify(UR.Ka.ara,this,new ZR(p,null));this.notify(UR.Ka.Yn,this,new ZR(p,n));this.notify(UR.Ka.fw,this,new ZR(p,n));this.Ha(q,n)};d.prototype.Zya=function(){return this.ki?new Kd(this.Az.oa().la(),this.Az.oa().ma()):new Kd(this.Az.oa().ka(),this.Az.oa().na())};d.prototype.Gza=function(){return this.ki?new Kd(this.dxa.ga().la(),this.dxa.ga().ma()):new Kd(this.dxa.ga().ka(),this.dxa.ga().na())};d.prototype.v$c=function(){var n=
Hd.xh(this.Vr.ga().ca(),0,this.Az.wa()),p=Hd.xh(0,this.Vr.ga().da(),this.Az.wa()),q=this.Vr.oa().clone().Qa(n).$a(p);this.Vr.Ha(q);this.ki?(this.qga.sD(n/2),n=Hd.sb(1,0,this.qga.wa()),this.qga.sa(this.Vr.oa().clone().Qa(this.Vr.oa().ca()-n-n).setX(this.Vr.oa().getX()+n))):(this.qga.sD(p/2),n=Hd.sb(0,1,this.qga.wa()),this.qga.sa(this.Vr.oa().clone().$a(this.Vr.oa().da()-n-n).setY(this.Vr.oa().getY()+n)))};d.prototype.Ha=function(n,p,q,r){if(null==p)return this;null!=q&&this.iM(q);this.ki?(n=n.clone().setX(0).Qa(1),
p=p.clone().setX(0).Qa(1)):(n=n.clone().setY(0).$a(1),p=p.clone().setY(0).$a(1));if(this.Az.oa().Gi(n)&&this.Vr.ga().Gi(p))return this;this.Az.Ha(n);this.ki?(this.WTa.sa(n.clone().$a(p.la()-n.la())),this.XTa.sa(n.clone().setY(p.ma()).$a(n.ma()-p.ma()))):(this.WTa.sa(n.clone().Qa(p.ka()-n.ka())),this.XTa.sa(n.clone().setX(p.na()).Qa(n.na()-p.na())));this.Vr.sa(p);this.Vr.Ha(n);this.Vr.va(this.Zub||(this.ki?!1===W.equals(n.da(),p.da()):!1===W.equals(n.ca(),p.ca())));this.dxa.sa(p);var t=this.XMd(this.Vr.ga().Gy(O.Id),
this.Vr.ga().Gy(this.ki?O.hg:O.Nf)).transform(this.Az.wa()),u=t.getLength();if(0<u&&u<this.w$){if(this.ki){var w=Math.abs(p.Dc()-n.Dc())/(.5*n.da());u=(this.w$-u)/2-(this.w$-u)/2*w;p.Dc()<n.Dc()?t.bd(t.$l(),this.w$-u-t.getLength()).bd(t.ll(),u):t.bd(t.ll(),this.w$-u-t.getLength()).bd(t.$l(),u);t.transform(this.Az.wa().xc());t=this.Vr.ga().clone().setY(t.ll().getY()).$a(t.getLength())}else w=Math.abs(p.hc()-n.hc())/(.5*n.ca()),u=(this.w$-u)/2-(this.w$-u)/2*w,p.hc()<n.hc()?t.bd(t.$l(),this.w$-u-t.getLength()).bd(t.ll(),
u):t.bd(t.ll(),this.w$-u-t.getLength()).bd(t.$l(),u),t.transform(this.Az.wa().xc()),t=this.Vr.ga().clone().setX(t.ll().getX()).Qa(t.getLength());this.Vr.sa(t)}this.v$c();UR.prototype.Ha.call(this,n,p,q,r);return this};d.prototype.SFc=function(n,p){n=n.he();p.Da(n.x,n.y);return this.Az.wa().sc(p,p)};d.prototype.YR=function(n,p){p=n.he();n=(n=this.Mc().pn(n))?this.GN:this.LK;if(!1===this.uL().bd(n,n).contains(p))return null;p=this.eh.select(this.getRoot(),p.x,p.y,2);return p.filter(function(q){return q===
this.uX||q===this.m9||q===this.Vr||q===this.WTa||q===this.XTa||q===this.Vr.getParent()}.bind(this)).reverse()[0]};d.prototype.Ic=function(n){var p=this.YR(n,!0);this.c1a(p);if(this.Mc())if(this.Mc().Pd()&&null!=this.Md)!1===this.WV&&(this.notify(UR.Ka.ara,this,new ZR(n,null)),this.WV=!0),n.stopPropagation(!0,!1);else{var q=null;if(p===this.Vr){q="move";this.Be=k;var r=n.he(),t=this.Vr.uL();if(this.Zub){var u=this.qga.E1();this.ki?Math.abs(r.y-t.la())<u?(q="ns-resize",this.Be=l):Math.abs(r.y-t.ma())<
u&&(q="ns-resize",this.Be=m):Math.abs(r.x-t.ka())<u?(q="ew-resize",this.Be=l):Math.abs(r.x-t.na())<u&&(q="ew-resize",this.Be=m)}}$R.fl(n.Ye(),{cursor:q},this);1!==this.rYa()&&(null==p?(null!=this.Md&&this.H_a(),this.Md=null):($R.fl(n.Ye(),{cursor:null},this),q=this.Zya(),r=this.Gza(),!1===q.Yoa(r)&&(this.Md=p,this.e1a(),this.nsa(UR.Zlb),n.stopPropagation(!0,!0))))}};d.prototype.gra=function(n){this.Mc()&&(null==this.YR(n,!0)&&UR.prototype.gra.call(this),this.Yc(n))};d.prototype.gd=function(n){if(this.Mc()&&
!this.Az.oa().Gi(this.dxa.ga())){var p=this.YR(n,!0);if(null!=p){p!==this.Vr&&this.kjc(n);this.Bo(!0);n.stopPropagation("touchstart"===n.Oh());this.WK=this.dxa.ga().clone();var q=this.WK.clone();if(p===this.WTa||p===this.XTa){if(this.ki){var r=q.da()/5;p===this.WTa?q.setY(q.getY()-r):p===this.XTa&&q.setY(q.getY()+r)}else r=q.ca()/5,p===this.WTa?q.setX(q.getX()-r):p===this.XTa&&q.setX(q.getX()+r);this.scrollTo(q,n)}else p===this.uX||p===this.m9?(p===this.uX?this.ki?q.setY(q.getY()-q.da()/10):q.setX(q.getX()-
q.ca()/10):this.ki?q.setY(q.getY()+q.da()/10):q.setX(q.getX()+q.ca()/10),this.scrollTo(q,n)):(this.Md=p,this.e1a(),this.Mc().start(),SR.lock(n.Ye(),this.Mc()),this.WV=!1,this.pd=this.SFc(n,this.pd))}}};d.prototype.zca=function(n){if(this.Mc()&&this.Mc().Pd()&&null!=this.Md){var p=n.Je();p.stopPropagation(!0,!0);p.preventDefault();var q=this.Az.oa(),r=this.WK.clone();this.ei=this.SFc(n,this.ei);if(this.Md===this.Vr){if(this.ki)if(this.Be===k)r.setY(r.getY()-(this.pd.getY()-this.ei.getY())),r.la()<
q.la()&&r.setY(q.getY()),r.ma()>q.ma()&&r.setY(q.ma()-r.da());else{if(this.Be===l){var t=this.ei.getY();var u=r.ma()}else t=r.la(),u=this.ei.getY();t>u?(n=Math.max(u,q.getY()),q=Math.min(t,q.ma())):(n=Math.max(t,q.getY()),q=Math.min(u,q.ma()));r.setY(n);r.$a(q-n)}else this.Be===k?(r.setX(r.getX()-(this.pd.getX()-this.ei.getX())),r.ka()<q.ka()&&r.setX(q.getX()),r.na()>q.na()&&r.setX(q.na()-r.ca())):(this.Be===l?(t=this.ei.getX(),u=r.na()):(t=r.ka(),u=this.ei.getX()),t>u?(n=Math.max(u,q.getX()),q=Math.min(t,
q.na())):(n=Math.max(t,q.getX()),q=Math.min(u,q.na())),r.setX(n),r.Qa(q-n));this.notify(UR.Ka.Yn,this,new ZR(p,r))}}};d.prototype.Yc=function(n){this.c1a(null);if(this.Mc()){this.Mc().Pd()&&null!=n&&n.stopPropagation(!0,!1);this.WV=!1;this.Bo(!1);var p=this.Az.oa(),q=this.WK.clone();this.ki?(q.la()<p.la()&&q.setY(p.getY()),q.ma()>p.ma()&&q.setY(p.ma()-q.da())):(q.ka()<p.ka()&&q.setX(p.getX()),q.na()>p.na()&&q.setX(p.na()-q.ca()));this.Mc().stop();SR.unlock(this.Mc());this.ei=this.Mc().Sd(this.Az,
n);if(null!=this.Md){if(this.Md===this.Vr){if(this.ki)if(this.Be===k)q.setY(q.getY()-(this.pd.getY()-this.ei.getY())),q.la()<p.la()&&q.setY(p.getY()),q.ma()>p.ma()&&q.setY(p.ma()-q.da());else{if(this.Be===l){var r=this.ei.getY();var t=q.ma()}else r=q.la(),t=this.ei.getY();if(r>t){var u=Math.max(t,p.getY());p=Math.min(r,p.ma())}else u=Math.max(r,p.getY()),p=Math.min(t,p.ma());q.setY(u);q.$a(p-u)}else this.Be===k?(q.setX(q.getX()-(this.pd.getX()-this.ei.getX())),q.ka()<p.ka()&&q.setX(p.getX()),q.na()>
p.na()&&q.setX(p.na()-q.ca())):(this.Be===l?(r=this.ei.getX(),t=q.na()):(r=q.ka(),t=this.ei.getX()),r>t?(u=Math.max(t,p.getX()),p=Math.min(r,p.na())):(u=Math.max(r,p.getX()),p=Math.min(t,p.na())),q.setX(u),q.Qa(p-u));this.notify(UR.Ka.fw,this,new ZR(n,q))}this.Md=null}this.WK=null}};d.prototype.kq=function(n){var p=this.YR(n,!0);if(null!=p){p=n.Je();p.preventDefault();n.stopPropagation();var q=this.dxa.ga().clone();0<p.deltaY?this.ki?q.setY(q.getY()+q.da()/10):q.setX(q.getX()+q.ca()/10):this.ki?q.setY(q.getY()-
q.da()/10):q.setX(q.getX()-q.ca()/10);this.scrollTo(q,n)}};d.prototype.ta=function(){var n={};n.size=this.Wb;n.minimumcarretsize=this.w$;n.rounded=this.PTa;null!=this.Mc()&&(n.name=this.Mc().Ga());n.borderlinestyle=this.uX.gb(0).Fa();n.linestyle=this.Az.gb(0).Fa();n.fillstyle=this.Az.gb(0).eb();n.caretfillstyle=this.Vr.gb(0).eb();n.caretlinestyle=this.Vr.gb(0).Fa();n.arrowlinestyle=this.uX.gb(1).Fa();n.resizable=this.Zub;return n};d.prototype.setOptions=function(n){n=jc(n);if(null==n)return this;
void 0!==n.size&&this.setSize(n.size);if(void 0!==n.minscrollbutton){var p=n.minscrollbutton;void 0!==p.visible&&this.uX.va(p.visible);this.Az.Na(this.ki?{top:this.uX.Ia()?this.Wb:0}:{left:this.uX.Ia()?this.Wb:0})}void 0!==n.maxscrollbutton&&(p=n.maxscrollbutton,void 0!==p.visible&&this.m9.va(p.visible),this.Az.Na(this.ki?{bottom:this.m9.Ia()?this.Wb:0}:{right:this.m9.Ia()?this.Wb:0}));void 0!==n.minimumcarretsize&&(this.w$=n.minimumcarretsize);void 0!==n.rounded&&(this.PTa=n.rounded,this.JYb.va(!1===
this.PTa),this.qga.va(!0===this.PTa));n.hasOwnProperty("name")&&null!=this.fr&&this.Mc().nb(n.name);void 0!==n.borderlinestyle&&(p=Y.Ra(n.borderlinestyle),this.uX.gb(0).qa(p),this.m9.gb(0).qa(p));void 0!==n.fillstyle&&(p=ug.fd(n.fillstyle),this.Az.gb(0).ra(p),this.uX.gb(0).ra(p),this.m9.gb(0).ra(p));void 0!==n.linestyle&&(p=Y.Ra(n.linestyle),this.Az.gb(0).qa(p),this.uX.gb(0).qa(p),this.m9.gb(0).qa(p));void 0!==n.caretfillstyle&&(p=ug.fd(n.caretfillstyle),this.JYb.ra(p),this.qga.ra(p));void 0!==n.caretlinestyle&&
(p=Y.Ra(n.caretlinestyle),this.JYb.qa(p),this.qga.qa(p));void 0!==n.arrowlinestyle&&(p=Y.Ra(n.arrowlinestyle),this.uX.gb(1).qa(p),this.m9.gb(1).qa(p));void 0!==n.resizable&&(this.Zub=n.resizable);this.Af();this.ha();return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGbGlwIjoiaU0iLCJ1cGRhdGVTdGF0ZSI6InhhIiwic2V0VGFyZ2V0IjoiVXkiLCJnZXRNb2RlbFJhbmdlIjoiWnlhIiwiZ2V0VmlzaWJsZU1vZGVsUmFuZ2UiOiJHemEiLCJzZXRNb2RlbExpbWl0cyI6IkhhIiwib25Nb3VzZU1vdmUiOiJJYyIsIm9uV2luZG93TW91c2VVcCI6ImdyYSIsIm9uTW91c2VEb3duIjoiZ2QiLCJvbldpbmRvd01vdXNlTW92ZSI6InpjYSIsIm9uTW91c2VVcCI6IlljIiwib25Nb3VzZVdoZWVsIjoia3EiLCJnZXRPcHRpb25zIjoidGEifX19");var bS=/*#__PURE__*/TR,cS=/*#__PURE__*/function(){function d(a){a=G(a,{name:"HorizontalScroll",isVertical:!1});aS.call(this,a)}D(d,aS);L(d,"geotoolkit.controls.tools.scroll.HorizontalScroll");d.Ka=bS;return d}();var dS=/*#__PURE__*/TR,eS=/*#__PURE__*/function(){function d(a){a=G(a,{name:"VerticalScroll",isVertical:!0});aS.call(this,a)}D(d,aS);L(d,"geotoolkit.controls.tools.scroll.VerticalScroll");d.Ka=dS;return d}();var fS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}var a=null,b={};L(d,"geotoolkit.controls.tools.scroll.ScrollBarConverter");d.ya=function(){return a=a||new d};d.prototype.Vdc=function(c,e){b[e]=c};d.prototype.FIa=function(c,e){var f=b[e];return null==f?{options:c,type:e}:f(c)};return d}(),1,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsicmVnaXN0ZXJDb252ZXJ0ZXIiOiJWZGMiLCJjb252ZXJ0U2Nyb2xsQmFyT3B0aW9ucyI6IkZJYSJ9fX0g");var gS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){b=G(b||a,{anchorpoint:a instanceof N?a:null,linestyle:(new Y("gray")).Zg({x:!0,y:!0}),fillstyle:new rf("white"),centerlinestyle:(new Y("gray")).Zg({x:!0,y:!0}),shadowlinestyle:(new Y("lightgray")).Zg({x:!0,y:!0})},!0);ni.call(this,b);this.gv=b.anchorpoint;a=8;var c=14;this.qzc=new U(0,0,a,c);this.uxc=new U(0,0,a,c);this.pla=(new $g).moveTo(2,0).lineTo(a-2,0).lineTo(a,2).lineTo(a,c-2).lineTo(a-2,c).lineTo(2,c).lineTo(0,c-2).lineTo(0,2).lineTo(2,0).close().Fg(!1);this.g0b=
(new $g).moveTo(3,3).lineTo(3,c-3).moveTo(5,3).lineTo(5,c-3);this.UYb=(new $g).moveTo(2,c-1).lineTo(a-2,c-1).moveTo(a-1,c-2).lineTo(a-1,2);this.pa([this.pla,this.g0b,this.UYb]);this.fa(b)}D(d,ni);d.prototype.Jb=function(a,b){this.gv.Da(a,b);this.xa();return this};d.prototype.al=function(){return this.gv};d.prototype.ga=function(){if(null==this.getParent())return null;var a=this.getParent().wa();a.sc(this.qzc,this.uxc);return this.uxc.aI(this.gv.getX(),this.gv.getY())};d.prototype.oa=function(){return this.qzc};
d.prototype.fa=function(a){a=jc(a);if(null==a)return this;ni.prototype.fa.call(this,a);void 0!==a.anchorpoint&&this.Jb(a.anchorpoint.getX(),a.anchorpoint.getY());void 0!==a.linestyle&&this.pla.qa(a.linestyle,!(a.linestyle instanceof Y));void 0!==a.fillstyle&&this.pla.ra(a.fillstyle,!(a.fillstyle instanceof rf));void 0!==a.centerlinestyle&&this.g0b.qa(a.centerlinestyle,!(a.centerlinestyle instanceof Y));void 0!==a.shadowlinestyle&&this.UYb.qa(a.shadowlinestyle,!(a.shadowlinestyle instanceof Y));return this};
d.prototype.ia=function(){var a=ni.prototype.ia.call(this);a.anchorpoint=this.al();a.linestyle=this.pla.Fa();a.fillstyle=this.pla.eb();a.centerlinestyle=this.g0b.Fa();a.shadowlinestyle=this.UYb.Fa();return a};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var hS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e,f){var g=G(a,{name:null!=f?f:"AdvancedScroll",modellimits:a instanceof U?a:null,visiblelimits:b,tickgenerator:c,axis:e},!0);UR.call(this,g);a=g.modellimits;b=g.visiblelimits;e=g.axis;var h=a;c=h.clone().setY(0).setX(15).Qa(h.ca()-30).$a(h.da()-15);f=h.clone().setX(0).setY(h.da()-15).$a(15);h=f.clone().setY(0).setX(15).Qa(h.ca()-30);null==e&&(e=(new pk(null!=g.tickgenerator?g.tickgenerator:new ik)).setOrientation("horizontal").Hm("bottom").nV(null));this.vd=e;e=
{axislinestyle:(new Y("#6b6b6b")).Zg({x:!0,y:!0}),borderlinestyle:(new Y("transparent")).Zg({x:!0,y:!0}),buttonborderlinestyle:(new Y("transparent")).Zg({x:!0,y:!0}),buttonbackgroundfillstyle:new og({startColor:"#fafafa",endColor:"#cdcdcd",startPoint:new N(0,0),endPoint:new N(0,1)}),topbackgroundfillstyle:new rf("#f1f1ff"),backgroundfillstyle:new og({startColor:"#cdcdcd",endColor:"#f1f1f1",startPoint:new N(0,0),endPoint:new N(0,1)}),toplinelinestyle:(new Y("#e1e1ff")).Zg({x:!0,y:!0}),caretfillstyle:new og({startColor:"#cdcdcd",
endColor:"#a0a0a0",startPoint:new N(0,0),endPoint:new N(0,1)}),caretlinestyle:(new Y("#a8a8a8")).Zg({x:!0,y:!0}),arrowlinestyle:(new Y({color:"#4a4a4a",linejoin:wg.Kka})).Zg({x:!0,y:!0}),handle:{linestyle:(new Y("gray")).Zg({x:!0,y:!0}),fillstyle:new rf("white"),centerlinestyle:(new Y("gray")).Zg({x:!0,y:!0}),shadowlinestyle:(new Y("lightgray")).Zg({x:!0,y:!0})}};g=15;var k=4/15*g,l=g-k-1/15*g,m=l-k+1/15*g;this.pa([this.sI=(new ni).sa(c).Ha(a).pa([(new bi).qa(e.axislinestyle).Fg(!1).oV({top:!1,left:!0,
right:!0,bottom:!1}),this.Dwc=(new ni).sa(a.clone().Qa(b.ka()-a.ka())).Ha(new U(0,0,1,1)).pa((new bi).qa(e.toplinelinestyle).ra(e.topbackgroundfillstyle)),this.dAc=(new ni).sa(a.clone().Qa(a.na()-b.na()).setX(b.na())).Ha(new U(0,0,1,1)).pa((new bi).qa(e.toplinelinestyle).ra(e.topbackgroundfillstyle)),this.Okd=(new xm).Fd("AXIS_MODEL"),this.vd,this.LFa=(new ni).sa(b).Ha(b).pa((new bi).qa(e.borderlinestyle).Fg(!1)),this.JI=(new gS(new N(b.ka(),a.Dc()))).va(!1),this.TK=(new gS(new N(b.na(),a.Dc()))).va(!1)]),
this.Xpd=(new ni).sa(f).hd(!0).pa([this.Fma=(new ni).sa(new U(0,0,15,f.da())).Ha(new U(0,0,15,f.da())).pa([(new bi).qa(e.buttonborderlinestyle).ra(e.buttonbackgroundfillstyle).Fg(!1),(new $g).moveTo(8/15*g,k).lineTo(1/3*g,m).lineTo(8/15*g,l).Fg(!1).qa(e.arrowlinestyle)]),this.zz=(new ni).sa(h).Ha(a).pa([(new bi).qa(e.borderlinestyle).ra(e.backgroundfillstyle).oV({top:!0,left:!1,right:!1,bottom:!0}).Fg(!1),this.Vr=(new ni).sa(b).Ha(b).pa((new bi).qa(e.caretlinestyle).ra(e.caretfillstyle).Fg(!1))]),
this.kwa=(new ni).sa(new U(f.na()-15,0,f.na(),f.da())).Ha(new U(0,0,15,f.da())).pa([(new bi).qa(e.buttonborderlinestyle).ra(e.buttonbackgroundfillstyle).Fg(!1),(new $g).moveTo(1/3*g,k).lineTo(8/15*g,m).lineTo(1/3*g,l).Fg(!1).qa(e.arrowlinestyle)])])]);this.WV=!1;this.eh=new Zj;this.Md=null;this.pd=new N(0,0);this.ei=new N(0,0);this.WK=null}D(d,UR);L(d,"geotoolkit.controls.tools.scroll.AdvancedScroll");d.prototype.setOptions=function(a){function b(g){return g instanceof rf}function c(g){return g instanceof
Y}if(null==a)return this;var e=a.axislinestyle;this.sI.gb(0).qa(e,!c(e));e=a.toplinelinestyle;var f=a.topbackgroundfillstyle;this.Dwc.gb(0).qa(e,!c(e)).ra(f,!b(f));this.dAc.gb(0).qa(e,!c(e)).ra(f,!b(f));e=a.borderlinestyle;f=a.backgroundfillstyle;this.LFa.gb(0).qa(e,!c(e));this.zz.gb(0).qa(e,!c(e)).ra(f,!b(f));e=a.buttonborderlinestyle;f=a.buttonbackgroundfillstyle;this.Fma.gb(0).qa(e,!c(e)).ra(f,!b(f));this.kwa.gb(0).qa(e,!c(e)).ra(f,!b(f));e=a.arrowlinestyle;this.Fma.gb(1).qa(e,!c(e));this.kwa.gb(1).qa(e,
!c(e));this.Fma.gb(1).xa();this.kwa.gb(1).xa();e=a.caretlinestyle;f=a.caretfillstyle;this.Vr.gb(0).qa(e,!c(e)).ra(f,!b(f));this.JI.fa(a.handle);this.TK.fa(a.handle);this.ha();return this};d.prototype.iM=function(a){this.Rl(a);return this};d.prototype.ALe=function(){return this.Okd};d.prototype.gTc=function(){return this.LFa};d.prototype.pb=function(){this.uZ(!1);var a=this.oa();if(null==this.sI||!a)return this;var b=a.clone().setY(0).setX(15).Qa(a.ca()-30).$a(a.da()-15),c=a.clone().setX(0).setY(a.da()-
15).$a(15);a=c.clone().setY(0).setX(15).Qa(a.ca()-30);this.sI.sa(b);this.Xpd.sa(c);this.zz.sa(a);this.kwa.sa(new U(c.na()-15,0,c.na(),c.da()));this.Fma.sa(new U(0,0,15,c.da()));return this};d.prototype.Z7d=function(a,b){this.sI.Ha(a);this.LFa.sa(b).Ha(b);this.Dwc.sa(a.clone().Qa(b.ka()-a.ka()));this.dAc.sa(a.clone().Qa(a.na()-b.na()).setX(b.na()));this.JI.Jb(b.ka(),a.Dc());this.TK.Jb(b.na(),a.Dc())};d.prototype.Ha=function(a,b){this.Z7d(a,b);a=a.clone().setY(0).$a(1);b=b.clone().setY(0).$a(1);this.zz.Ha(a);
this.Vr.sa(b).Ha(b)};d.prototype.yg=function(a){this.vd.yg(a)};d.prototype.YR=function(a,b){a=a.he();var c=null;if(!this.fj().contains(a.getX(),a.getY()))return null;a=this.eh.select(this.getRoot(),a.getX(),a.getY(),2);a.filter(function(e){return e===this.JI||e===this.TK||e===this.Fma||e===this.kwa||e===this.Vr||!b&&e===this}.bind(this)).forEach(function(e){if(null==c||c===this){if(e===this.JI||e===this.TK||e===this.Fma||e===this.kwa||e===this.Vr)c=e;b||null!=c||e!==this||(c=e)}}.bind(this));return c};
d.prototype.K0c=function(a,b,c){var e=this.sI.oa(),f=this.LFa.ga().clone();a?f.setX(f.getX()-b):f.setX(f.getX()+b);f.ka()<e.ka()&&f.setX(e.getX());f.na()>e.na()&&f.setX(e.na()-f.ca());this.notify(UR.Ka.ara,this,c);this.notify(UR.Ka.fw,this,new ZR(c,f))};d.prototype.gd=function(a){if(this.Mc()){var b=this.YR(a,!0);this.WK=this.LFa.ga().clone();var c=this.WK.clone(),e=c.ca()/10*(this.Ji()?-1:1),f=!1,g=!1;if(null==b){var h=a.he();if(this.zz.fj().contains(h.getX(),h.getY()))e=c.ca(),h.getX()<this.LFa.fj().hc()?
f=!0:g=!0;else return}this.Bo(!0);b===this.Fma||f||b===this.kwa||g?(this.kjc(a),this.K0c(b===this.Fma||f,e,a)):(this.Md=b,a.stopPropagation("touchstart"===a.Oh()),this.Mc().start(),this.WV=!1,this.pd=this.Mc().Sd(this.sI,a))}};d.prototype.kq=function(a){var b=this.YR(a,!0),c=a.he();if(null!=b||!1!==this.zz.fj().contains(c))b=a.Je(),b.preventDefault(),a.stopPropagation(),c=this.LFa.ga().clone(),c=c.ca()/10*(this.Ji()?-1:1),this.K0c(0>b.deltaY,c,a)};d.prototype.sTc=function(a,b){if(!(this.ei.x<a.ka()||
this.ei.x>a.na())){a=this.Md!==this.JI?this.JI.al().getX():this.ei.x;var c=this.Md!==this.TK?this.TK.al().getX():this.ei.x;if(a>c){var e=a;a=c;c=e;this.Md=this.Md===this.JI?this.TK:this.JI}b.setX(a);b.Qa(c-a)}};d.prototype.zca=function(a){if(this.Mc()&&this.Mc().Pd()&&null!=this.Md){var b=a.Je();b.stopPropagation();b.preventDefault();var c=this.sI.oa(),e=this.WK.clone();this.ei=this.Mc().Sd(this.sI,a);this.Md===this.Vr?(e.setX(e.getX()-(this.pd.getX()-this.ei.getX())),e.ka()<c.ka()&&e.setX(c.getX()),
e.na()>c.na()&&e.setX(c.na()-e.ca()),this.notify(UR.Ka.Yn,this,new ZR(b,e))):(this.sTc(c,e),this.notify(UR.Ka.lFb,this,new ZR(b,e)))}};d.prototype.gra=function(a){UR.prototype.gra.call(this,a);this.Yc(a)};d.prototype.Ic=function(a){var b=this.YR(a,!1);this.c1a(b);if(this.Mc())if(this.Mc().Pd()&&null!=this.Md)!1===this.WV&&(this.notify(UR.Ka.ara,this,a),this.WV=!0);else{var c=b===this||b===this.JI||b===this.TK;this.TK.va(c).ha();this.JI.va(c).ha();c=null;null==b||b===this||b!==this.JI&&b!==this.TK?
b===this.Fma||b===this.kwa?c="pointer":b===this.Vr&&(c="move"):c="ew-resize";$R.fl(a.Ye(),{cursor:c},this)}};d.prototype.Yc=function(a){this.c1a(null);if(this.Mc()){this.Mc().Pd()&&null!=a&&a.stopPropagation(!0,!1);this.WV=!1;this.Bo(!1);var b=this.sI.oa(),c=this.WK.clone();if(!(c.ka()<b.ka()||c.na()>b.na())){this.Mc().stop();this.ei=this.Mc().Sd(this.sI,a);if(null!=this.Md){if(this.Md===this.JI||this.Md===this.TK)this.sTc(b,c),this.notify(UR.Ka.mFb,this,new ZR(a,c)),this.TK.va(!1).ha(),this.JI.va(!1).ha();
this.Md===this.Vr&&(c.setX(c.getX()-(this.pd.getX()-this.ei.getX())),c.ka()<b.ka()&&c.setX(b.getX()),c.na()>b.na()&&c.setX(b.na()-c.ca()),this.notify(UR.Ka.fw,this,new ZR(a,c)));this.Md=null}this.WK=null}}};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGbGlwIjoiaU0iLCJ1cGRhdGVMYXlvdXQiOiJwYiIsInNldE1vZGVsTGltaXRzIjoiSGEiLCJvbk1vdXNlRG93biI6ImdkIiwib25Nb3VzZVdoZWVsIjoia3EiLCJvbldpbmRvd01vdXNlTW92ZSI6InpjYSIsIm9uTW91c2VNb3ZlIjoiSWMiLCJvbk1vdXNlVXAiOiJZYyJ9fX0g");var iS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){this.Rm={};this.t_a(cS.Pa(),function(b){return new cS(b)});this.t_a(eS.Pa(),function(b){return new eS(b)});this.t_a("geotoolkit.controls.tools.scroll.CompactHorizontalScroll",function(b){b=fS.ya().FIa(b,"geotoolkit.controls.tools.scroll.CompactHorizontalScroll").options;return new cS(b)});this.t_a("geotoolkit.controls.tools.scroll.CompactVerticalScroll",function(b){b=fS.ya().FIa(b,"geotoolkit.controls.tools.scroll.CompactVerticalScroll").options;return new eS(b)});this.t_a(hS.Pa(),
function(b){return new hS(b.modellimits,b.visiblelimits,b.tickgenerator,b.axis,b.name)})}L(d,"geotoolkit.controls.tools.scroll.ScrollFactory");fS.ya().Vdc(function(b){b=G(b,{resizable:!0,rounded:!0,size:10});return{options:b,type:cS.Pa()}},"geotoolkit.controls.tools.scroll.CompactHorizontalScroll");fS.ya().Vdc(function(b){b=G(b,{resizable:!0,rounded:!0,size:10});return{options:b,type:eS.Pa()}},"geotoolkit.controls.tools.scroll.CompactVerticalScroll");var a=null;d.ya=function(){null==a&&(a=new d);
return a};d.prototype.t_a=function(b,c){if(null==b||null==c||"function"!=typeof c)return this;this.Rm[b]=c;return this};d.prototype.nO=function(b,c){var e=null;null!=this.Rm[b]&&"function"===typeof this.Rm[b]&&(e=this.Rm[b].call(this,c));return e};return d}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsicmVnaXN0ZXJTY3JvbGxiYXIiOiJ0X2EiLCJnZXRTY3JvbGxiYXIiOiJuTyJ9fX0g");var jS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){ni.call(this,a);this.content=(new ni).bf(!0).Ha(Si.Uo()).de(new Al);a=xb(a,{scroll:{vertical:{type:"geotoolkit.controls.tools.scroll.VerticalScroll",size:15,visible:!0,floating:!0,options:{rounded:!1}},horizontal:{type:"geotoolkit.controls.tools.scroll.HorizontalScroll",size:15,visible:!0,floating:!0,options:{rounded:!1}}}});this.Fw=a.scroll;this.AKb=iS.ya().nO(this.Fw.vertical.type,{modellimits:this.content.oa(),visiblelimits:this.content.oa(),size:this.Fw.vertical.size}).TO(this.Fw.vertical.floating).va(this.Fw.vertical.visible).setOptions(this.Fw.vertical.options).addListener(TR.Yn,
function(b,c){b=this.content.wb();c=c.wb();c=(b.la()-c.la())*this.content.wa().Ab();this.content.translate(0,c);c=this.content.oa();b=this.content.wb();this.AKb.Ha(c,b,!1)}.bind(this));this.RDb=iS.ya().nO(this.Fw.horizontal.type,{modellimits:this.content.oa(),visiblelimits:this.content.oa(),size:this.Fw.horizontal.size}).TO(this.Fw.horizontal.floating).va(this.Fw.horizontal.visible).setOptions(this.Fw.horizontal.options).addListener(TR.Yn,function(b,c){b=this.content.wb();c=c.wb();c=(b.ka()-c.ka())*
this.content.wa().lb();this.content.translate(c,0);c=this.content.oa();b=this.content.wb();this.RDb.Ha(c,b,!1)}.bind(this));this.bf(!0).hd(!0).de(new jl).qa("black").Na({left:0,top:0,right:0,bottom:0});this.pa([this.content,this.AKb,this.RDb]);this.E$=function(){this.Jh()}.bind(this);if(a=a.content)a instanceof te&&(a=[a]),a.forEach(function(b){b.on(Wh.Wda,this.E$)}.bind(this)),this.Oo().pa(a)}D(d,ni);L(d,"geotoolkit.controls.shapes.ScrollablePanel");d.prototype.dispose=function(){this.te()||(this.content.Df().forEach(function(a){a.za(Wh.Wda,
this.E$)}.bind(this)),ni.prototype.dispose.call(this))};d.prototype.Oo=function(){return this.content};d.prototype.Jh=function(){if(this.content){if(this.VC()){this.content.ze(!0);this.content.xb(!1);this.content.De().zc(new U(0,0,Number.MAX_VALUE,Number.MAX_VALUE),this.content.Df());var a=null;this.content.Df().forEach(function(c){if(c instanceof mg){var e=c.ob();c=e?e.transform(c.ga()):c.ga();null==a?a=c:c&&a.union(c)}});this.content.Ha(new U(0,0,a.ca(),a.da()));this.content.sa(new U(0,0,a.ca(),
a.da()));this.content.xb(!0);this.content.ze(!1)}var b=this.ge().sc(new Ud(this.Fw.vertical.size,this.Fw.horizontal.size));this.AKb.setSize(b.ca()).Na({width:b.ca(),top:0,right:0,bottom:b.da()}).Ha(this.content.oa(),this.content.wb(),!1);this.RDb.setSize(b.da()).Na({height:b.da(),left:0,right:b.ca(),bottom:0}).Ha(this.content.oa(),this.content.wb(),!1);this.pb()}return this};d.prototype.sa=function(a){ni.prototype.sa.call(this,a);this.content.cj()};d.prototype.upa=function(){return this.content.ga()};
d.prototype.rKc=function(){if(this.content.ga()){var a=this.ga().clone().Qa(this.content.ga().ca()).$a(this.content.ga().da());this.sa(a)}return this};d.prototype.b2=function(){return[this.AKb.Mc(),this.RDb.Mc()]};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb250ZW50IjoiT28iLCJ1cGRhdGVMaW1pdHMiOiJKaCIsInNldEJvdW5kcyI6InNhIiwiZml0Q29udGVudCI6InJLYyIsImdldFRvb2xzIjoiYjIifX19");var kS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=xb(a,{content:a instanceof Pm?a:null},!0);ni.call(this,a);this.hd(!0);this.TD=(new ni).hd(!0);this.pa(this.TD);this.Cja(a.content)}D(d,ni);L(d,"geotoolkit.controls.shapes.tableview.ContentView");d.prototype.Cja=function(a){if(a===this.Sj)return this;var b=this.TD.dl(this.Sj);this.TD.removeChild(this.Sj);this.Sj=a;-1===b?this.TD.pa(this.Sj):this.TD.Xf(b,this.Sj);return this};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;ni.prototype.fa.call(this,a);void 0!==
a.content&&this.Cja(a.content);return this};d.prototype.ia=function(){var a=ni.prototype.ia.call(this);a.content=this.Sj;return a};d.prototype.nw=function(a,b,c,e){this.Sj.nw(a,b,c,e);this.TD.Ha(this.Sj.ga());this.TD.sa(this.Sj.ga())};d.prototype.so=function(){return this.TD};d.prototype.Oo=function(){return this.Sj};d.prototype.sa=function(a){ni.prototype.sa.call(this,a);this.Ha(new U(0,0,a.ca(),a.da()));return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRDb250ZW50IjoiQ2phIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0VGFibGVCb3VuZHMiOiJudyIsImdldENvbnRlbnRWaWV3Ijoic28iLCJnZXRDb250ZW50IjoiT28iLCJzZXRCb3VuZHMiOiJzYSJ9fX0g");var lS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(y,z){y=xb(y,{rows:"number"===typeof y?y:null,tableview:z},!0);Pm.call(this,y);a.call(this,y);this.rg=null;this.kk=new Y({color:g,pixelsnapmode:{x:!0,y:!0}});this.jc=new Fi({color:h,alignment:Ai.cc,baseline:zi.il,font:p});this.DFa=new Y({color:k,pixelsnapmode:{x:!0,y:!0}});this.pSa=new rf(l);this.eQ=new rf(n);this.MP=new rf(m);this.rta=new rf(e);this.$ua=new rf(f)}function a(y){void 0!==y.rows&&(this.bg=y.rows);void 0!==y.tableview&&(this.Wa=y.tableview);this.Wc=this.Wa.NAb();
this.jd=this.Wc.NH;this.td=this.Wc.wf.da()*this.bg;this.cb(0,0,this.jd,this.td);return this}var b,c=Zd.ya().Xa("px"),e="rgba(0,0,255,0.2)",f="rgba(255,0,0,0.2)",g="white",h="#6b6b6b",k="white",l="red",m="#d4d4d4",n="#ededed",p="bold 12px Courier",q=10,r=new U,t=new U,u=new U,w={selection:{},background:{fillstyle:null,linestyle:null,bounds:null},text:{textstyle:null,fillstyle:null,linestyle:null,value:null,bounds:null},icon:{fillstyle:null,linestyle:null,value:null,bounds:null}};D(d,Pm);L(d,"geotoolkit.controls.shapes.tableview.FixedColumnContent");
d.prototype.fa=function(y){y=jc(y);if(null==y)return this;Pm.prototype.fa.call(this,y);return a.call(this,y)};d.prototype.ia=function(){var y=Pm.prototype.ia.call(this);y.rows=this.bg;y.tableview=this.Wa;return y};d.prototype.setData=function(y){if(null==y)return this;void 0!==y.highlightrowfillstyle&&(this.$ua=ug.fd(y.highlightrowfillstyle));void 0!==y.activerowfillstyle&&(this.rta=ug.fd(y.activerowfillstyle));void 0!==y.defaultcellsize&&(this.Wc.wf=y.defaultcellsize);if(!y.hasOwnProperty("index"))return this;
var z=y.index;void 0!==z.gridstyle&&(z.gridstyle.hasOwnProperty("horizontal")||z.gridstyle.hasOwnProperty("vertical")?(this.kk=z.gridstyle,this.kk.horizontal=Y.Ra(this.kk.horizontal),this.kk.vertical=Y.Ra(this.kk.vertical)):this.kk=Y.Ra(z.gridstyle));void 0!==z.textstyle&&(this.jc=Fi.Ra(z.textstyle));void 0!==z.oddfillstyle&&(this.eQ=ug.fd(z.oddfillstyle));void 0!==z.evenfillstyle&&(this.MP=ug.fd(z.evenfillstyle));void 0!==z.markerfillstyle&&(this.pSa=ug.fd(z.markerfillstyle));void 0!==z.markerlinestyle&&
(this.DFa=Y.Ra(z.markerlinestyle));void 0!==z.highlightrowfillstyle&&(this.$ua=ug.fd(y.highlightrowfillstyle));void 0!==z.activerowfillstyle&&(this.rta=ug.fd(y.activerowfillstyle));return this};d.prototype.nw=function(y,z,x,C){this.bg=y;this.rg=C;this.Nh=null!=this.rg?[]:null;if(null!=this.rg)for(this.td=this.rg[0],this.Nh[0]=0,y=1;y<this.rg.length;y++)this.td+=this.rg[y],this.Nh[y]=this.Nh[y-1]+this.rg[y-1];else this.td=this.Wc.wf.da()*y;this.cb(0,0,this.jd,this.td);return this};d.prototype.eDb=
function(){return this.Wa};d.prototype.render=function(y){y=null!=this.Sa()?y.bc(this.Sa()):y;var z=this.ga().clone().Qa(this.Wc.NH);if(y.fc())return y.ra(rf.zh),y.Bc(z),this;this.uj(y);return this};d.prototype.Dba=function(y,z){return 0<=y?y=null!=this.Nh?this.Nh[y]:y*this.Wc.wf.da():null!=z?z.la():0};d.prototype.W1=function(y,z){return 0<=y?(z=null!=this.Nh?this.Nh[y]:y*this.Wc.wf.da(),z=null!=this.rg?z+this.rg[y]:z+this.Wc.wf.da()):null!=z?z.ma():0};d.prototype.rDb=function(y,z,x){if(null==this.Nh)return Math.floor(y.la()/
this.Wc.wf.da());z=null==z?0:z;for(x=null==x?this.bg-1:x;z<=x;){var C=Math.floor((z+x)/2),A=null!=this.rg?this.rg[C]:this.Wc.wf.da();if(this.Nh[C]<=y.la()&&y.la()<=this.Nh[C]+A)return C;y.la()<this.Nh[C]?x=C-1:z=C+1}return-1};d.prototype.oAb=function(y,z,x){if(null==this.Nh)return Math.floor(Math.min(this.bg-1,y.ma()/this.Wc.wf.da()));for(x=null==x?this.bg-1:x;z<=x;){var C=Math.floor((z+x)/2),A=null!=this.rg?this.rg[C]:this.Wc.wf.da(),v=null!=this.rg?this.rg[this.rg.length-1]:this.Wc.wf.da();v=Math.min(y.ma(),
this.Nh[this.Nh.length-1]+v);if(this.Nh[C]<=v&&v<=this.Nh[C]+A)return C;v<this.Nh[C]?x=C-1:z=C+1}return-1};d.prototype.Dra=function(y,z,x,C,A){if(null!=C){y.ra(C);y.beginPath();for(var v=z=0===z%2&&!0===A||0!==z%2&&!1===A?z:z+1;v<=x;v+=2){z=0;A=this.Dba(v);C=this.Wc.NH;var B=this.W1(v);y.moveTo(z,A).lineTo(C,A).lineTo(C,B).lineTo(z,B).lineTo(z,A)}y.closePath().Si()}return this};d.prototype.JU=function(y,z,x,C,A){y>=z&&y<=x&&(A.ra(C),A.beginPath(),z=0,x=this.Wc.NH,C=this.Dba(y),y=this.W1(y),A.moveTo(z,
C),A.lineTo(x,C),A.lineTo(x,y),A.lineTo(z,y),A.closePath(),A.Si());return this};d.prototype.I_c=function(y,z,x){for(var C=null!=this.Wa.vGd()?this.v_c:this.K_c;y<=z;y++)this.fMa(x,y,C);return this};d.prototype.J_c=function(y,z,x){if(null==this.kk)return this;if(this.kk.horizontal instanceof Y||this.kk instanceof Y){var C=this.kk.horizontal instanceof Y?this.kk.horizontal:this.kk;x.beginPath();x.qa(C);C=0;var A=this.Wc.NH;for(var v=y;v<=z;v++)y=this.W1(v),x.moveTo(C,y),x.lineTo(A,y);x.stroke()}return this};
d.prototype.L_c=function(y,z,x){if(null==this.kk)return this;if(this.kk.vertical instanceof Y||this.kk instanceof Y){var C=this.kk.vertical instanceof Y?this.kk.vertical:this.kk;var A=this.Wc.NH;y=this.Dba(y);z=this.W1(z);A=new U(0,y,A,z);var v=x.eg();x.cy(A);x.Ih({ZJ:!0});var B=1===bc()?x.Ea():x.Ea().clone().scale(bc(),bc());x.qa(C);var E=lh.Pu(C,c);b=b||new Ud;b.setSize(E-E%2,E-E%2);b=B.sc(b,b);E=b.ca()/2;B=A.ka()+E;A=A.na()-E;x.beginPath().qa(C).moveTo(B,y).lineTo(B,z).moveTo(A,y).lineTo(A,z).stroke();
x.xo();x.cy(v)}return this};d.prototype.uj=function(y){var z=y.Ea().sc(y.mg());z.cb({x:Math.max(0,z.getX()),y:Math.max(0,z.getY()),width:Math.max(0,z.ca()),height:Math.max(0,z.da())});var x=this.rDb(z),C=this.oAb(z,x);this.Dra(y,x,C,this.eQ,!1);this.Dra(y,x,C,this.MP,!0);null!=this.$ua&&0<=this.Wa.ZX()&&this.JU(this.Wa.ZX(),x,C,this.$ua,y);null!=this.rta&&0<this.Wa.$N().length&&this.Wa.$N().forEach(function(A){this.JU(A,x,C,this.rta,y)}.bind(this));this.Wa.hdc(x,C);this.I_c(x,C,y);y.qa(this.DFa);
y.ra(this.pSa);for(z=x;z<C;z++)this.Q_c(y,z);this.J_c(x,C,y);this.L_c(x,C,y);return this};d.prototype.fMa=function(y,z,x){var C=0,A=this.Wc.NH,v=null==this.Nh?z*this.Wc.wf.da():this.Nh[z],B=null==this.rg?this.Wc.wf.da():this.rg[z];y.save();C=y.Ea().Ua(new U(C,v,C+A,v+B));y.uh(C,Bd.DD);x.call(this,y,z);y.restore();return this};d.prototype.K_c=function(y,z){var x=this.Wa.n7b(z);if(null==x)return this;var C=this.Wc.NH,A=null!=this.rg?this.Nh[z]:z*this.Wc.wf.da(),v=0;null!=this.kk&&(this.kk instanceof
Y?v=this.kk.ca():null!=this.kk.vertical&&(v=this.kk.vertical.ca()));var B=this.jc;switch(B.Lj()){case Ai.tc:C=v;break;case Ai.cc:v=Hd.sb(2+v,0,y.Ea());C-=v;break;default:C/=2}y.kb(this.jc);y.le(C,A+(null==this.rg?this.Wc.wf.da():this.rg[z])/2,x);return this};d.prototype.UTc=function(y,z,x,C){w.selection.row=this.Wa.ZX();w.selection.column=this.Wa.zL();w.background.fillstyle=null;w.background.linestyle=null;w.background.bounds=y;w.text.fillstyle=null;w.text.linestyle=null;w.text.textstyle=this.jc;
w.text.value=C;w.text.bounds=z;w.icon.fillstyle=null;w.icon.linestyle=null;w.icon.value=null;w.icon.bounds=x;return this};d.prototype.w_c=function(y,z,x){null==y||null==z.background.fillstyle&&null==z.background.linestyle||(x.ra(ug.fd(z.background.fillstyle)),x.qa(Y.Ra(z.background.linestyle)),x.Bc(y));return this};d.prototype.x_c=function(y,z,x,C,A){if(null!=y){if(null!=z.icon.fillstyle||null!=z.icon.linestyle)A.ra(ug.fd(z.icon.fillstyle)),A.qa(Y.Ra(z.icon.linestyle)),A.Bc(y);null!=z.icon.value&&
(y=A.bc(X.jf(x,C)),z.icon.value.render(y))}return this};d.prototype.y_c=function(y,z,x){if(null==y)return this;if(null!=z.text.fillstyle||null!=z.text.linestyle)x.ra(ug.fd(z.text.fillstyle)),x.qa(Y.Ra(z.text.linestyle)),x.Bc(y);var C=z.text.value,A=z.text.textstyle;if(null!=C&&null!=A){switch(A.Lj()){case Ai.cc:z=y.na();break;case Ai.Oa:z=y.hc();break;default:z=y.ka()}x.kb(A);x.le(z,y.Dc(),C)}return this};d.prototype.v_c=function(y,z){var x=0,C=null==this.Nh?z*this.Wc.wf.da():this.Nh[z],A=this.Wc.NH,
v=null==this.rg?this.Wc.wf.da():this.rg[z];r.cb(0,0,A,v);t.cb(0,0,A,v);u.cb(0,0,A,v);this.UTc(r,t,u,this.Wa.n7b(z));z=this.Wa.fBd(z,w);if(null==z)return this;A=z.background.bounds;v=z.text.bounds;var B=z.icon.bounds;null!=A&&A.setX(x+A.getX()).setY(C+A.getY());null!=v&&v.setX(x+v.getX()).setY(C+v.getY());null!=B&&B.setX(x+B.getX()).setY(C+B.getY());this.w_c(A,z,y);this.x_c(B,z,x,C,y);this.y_c(v,z,y);return this};d.prototype.Q_c=function(y,z){var x=this.Wa.oPc(z);if(!1===x)return this;x=z*this.Wc.wf.da();
var C=(this.Wc.wf.da()-q)/2;null!=this.Nh&&(x=this.Nh[z],C=(this.rg[z]-q)/2);y.Bc(C,x+C,q,q);return this};d.prototype.jb=function(){return this.jc};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRUYWJsZUJvdW5kcyI6Im53IiwiZ2V0VGFibGVWaWV3IjoiZURiIiwiZ2V0Um93VG9wIjoiRGJhIiwiZ2V0Um93Qm90dG9tIjoiVzEiLCJnZXRUb3BSb3dJbmRleCI6InJEYiIsImdldEJvdHRvbVJvd0luZGV4Ijoib0FiIiwicmVuZGVyRmlsbFN0eWxlIjoiRHJhIiwiaGlnaGxpZ2h0Um93IjoiSlUiLCJyZW5kZXJJbmRleCI6IklfYyIsInJlbmRlckluZGV4SG9yaXpvbnRhbEdyaWRMaW5lIjoiSl9jIiwicmVuZGVySW5kZXhWZXJ0aWNhbEdyaWRMaW5lIjoiTF9jIiwicmVuZGVyQ29udGVudCI6InVqIiwicmVuZGVyQ2xpcCI6ImZNYSIsInJlbmRlckluZGV4VGV4dCI6IktfYyIsImluaXRpYWxpemVJbmRleFN0eWxlIjoiVVRjIiwicmVuZGVyQ3VzdG9tSW5kZXhGaWxsU3R5bGUiOiJ3X2MiLCJyZW5kZXJDdXN0b21JbmRleEljb24iOiJ4X2MiLCJyZW5kZXJDdXN0b21JbmRleFRleHQiOiJ5X2MiLCJyZW5kZXJDdXN0b21JbmRleCI6InZfYyIsInJlbmRlclJvd01hcmtlciI6IlFfYyIsImdldFRleHRTdHlsZSI6ImpiIn19fSAg");var mS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(n,p){n=xb(n,{columns:"number"===typeof n?n:null,tableview:p},!0);Pm.call(this,n);a.call(this,n);this.Bf=null;this.di=[];this.Wf=0;this.paa=ck.co;this.Rp=new ek({alignment:O.Oa});this.kk=new Y({color:c,pixelsnapmode:{x:!0,y:!0}});this.jc=new Fi({color:e,alignment:Ai.Oa,baseline:zi.il,font:g});this.Ouc=new rf(f);this.DPa=new rf(b);this.MP=this.eQ=null}function a(n){void 0!==n.columns&&(this.sf=n.columns);void 0!==n.tableview&&(this.Wa=n.tableview);this.Wc=this.Wa.NAb();
this.jd=this.Wc.wf.ca()*this.sf;this.td=this.Wc.SB;this.cb(0,0,this.jd,this.td);return this}var b="rgba(0,0,255,0.2)",c="white",e="#6b6b6b",f="#bdbdbd",g="bold 11px Tahoma",h=new U,k=new U,l=new U,m={selection:{},background:{fillstyle:null,linestyle:null,bounds:null},text:{textstyle:null,fillstyle:null,linestyle:null,value:null,bounds:null},icon:{fillstyle:null,linestyle:null,value:null,bounds:null}};D(d,Pm);L(d,"geotoolkit.controls.shapes.tableview.HeaderContent");d.prototype.fa=function(n){n=jc(n);
if(null==n)return this;Pm.prototype.fa.call(this,n);return a.call(this,n)};d.prototype.ia=function(){var n=Pm.prototype.ia.call(this);n.columns=this.sf;n.tableview=this.Wa;return n};d.prototype.setData=function(n){if(null==n)return this;void 0!==n.highlightcolumnfillstyle&&(this.DPa=ug.fd(n.highlightcolumnfillstyle));void 0!==n.activecolumnfillstyle&&(this.DPa=ug.fd(n.activecolumnfillstyle));void 0!==n.defaultheadersize?this.Wc.SB=n.defaultheadersize.da():null!=n.defaultcellsize&&(this.Wc.SB=n.defaultcellsize.da());
if(!n.hasOwnProperty("header"))return this;n=n.header;"number"===typeof n.padding&&(this.Wf=n.padding);void 0!==n.gridstyle&&(n.gridstyle.hasOwnProperty("horizontal")||n.gridstyle.hasOwnProperty("vertical")?(this.kk=n.gridstyle,this.kk.horizontal=Y.Ra(this.kk.horizontal),this.kk.vertical=Y.Ra(this.kk.vertical)):this.kk=Y.Ra(n.gridstyle));void 0!==n.textstyle&&(this.jc=Fi.Ra(n.textstyle));void 0!==n.headerfillstyle&&(this.Ouc=ug.fd(n.headerfillstyle));void 0!==n.oddfillstyle&&(this.eQ=ug.fd(n.oddfillstyle));
void 0!==n.evenfillstyle&&(this.MP=ug.fd(n.evenfillstyle));void 0!==n.highlightcolumnfillstyle&&(this.DPa=ug.fd(n.highlightcolumnfillstyle));void 0!==n.activecolumnfillstyle&&(this.DPa=ug.fd(n.activecolumnfillstyle));return this};d.prototype.sAb=function(n,p){var q=0,r;if(null!=p&&p.length===n)for(r=this.di[0]=0;r<n;++r)this.Bf[r]=p[r],q+=this.Bf[r],0<r&&(this.di[r]=this.di[r-1]+this.Bf[r-1]);else if(q=this.Wc.wf.ca()*n,null!=this.Bf)for(r=0;r<n;++r)this.Bf[r]=this.Wc.wf.ca(),this.di[r]=r*this.Wc.wf.ca();
return q};d.prototype.nw=function(n,p,q){this.Bf=q;this.di=null!=this.Bf?[]:null;this.sf=p;this.jd=this.sAb(p,q);this.cb(0,0,this.jd,this.td);return this};d.prototype.eDb=function(){return this.Wa};d.prototype.render=function(n){n=null!=this.Sa()?n.bc(this.Sa()):n;n.Sh(this);if(n.fc()){var p=this.ga();n.ra(rf.zh);n.Bc(p)}else this.uj(n);return this};d.prototype.Dra=function(n,p,q,r,t){if(null==r)return this;n.ra(r);n.beginPath();for(var u,w=p=0===p%2&&!0===t||0!==p%2&&!1===t?p:p+1;w<=q;w+=2)p=this.gU(w),
r=this.UX(w),t=0,u=this.Wc.SB,n.moveTo(p,t).lineTo(r,t).lineTo(r,u).lineTo(p,u).lineTo(p,t);n.closePath().Si();return this};d.prototype.VBb=function(n,p,q){if(null==this.di)return Math.floor(n.ka()/this.Wc.wf.ca());p=null==p?0:p;for(q=null==q?this.sf-1:q;p<=q;){var r=Math.floor((p+q)/2),t=null!=this.Bf?this.Bf[r]:this.Wc.wf.ca();if(this.di[r]<=n.ka()&&n.ka()<=this.di[r]+t)return r;n.ka()<this.di[r]?q=r-1:p=r+1}return-1};d.prototype.JCb=function(n,p,q){if(null==this.di)return Math.floor(Math.min(this.sf-
1,n.na()/this.Wc.wf.ca()));for(q=null==q?this.sf-1:q;p<=q;){var r=Math.floor((p+q)/2),t=null!=this.Bf?this.Bf[r]:this.Wc.wf.ca(),u=null!=this.Bf?this.Bf[this.Bf.length-1]:this.Wc.wf.ca();u=Math.min(n.na(),this.di[this.di.length-1]+u);if(this.di[r]<=u&&u<=this.di[r]+t)return r;u<this.di[r]?q=r-1:p=r+1}return-1};d.prototype.gU=function(n,p){return 0<=n?n=null!=this.di?this.di[n]:n*this.Wc.wf.ca():null!=p?p.ka():0};d.prototype.UX=function(n,p){return 0<=n?(p=null!=this.di?this.di[n]:n*this.Wc.wf.ca(),
p=null!=this.Bf?p+this.Bf[n]:p+this.Wc.wf.ca()):null!=p?p.na():0};d.prototype.E_c=function(n,p,q,r){r.ra(q);r.beginPath();n=this.gU(-1,n);p=this.UX(p);q=0;var t=this.Wc.SB;r.moveTo(n,q);r.lineTo(p,q);r.lineTo(p,t);r.lineTo(n,t);r.lineTo(n,q);r.closePath();r.Si();return this};d.prototype.sO=function(n,p,q,r){null!=this.DPa&&n>=q&&n<=p&&(p=this.gU(n),n=this.UX(n),r.ra(this.DPa),r.beginPath().moveTo(p,0).lineTo(n,0).lineTo(n,this.Wc.SB).lineTo(p,this.Wc.SB).closePath().Si());return this};d.prototype.D_c=
function(n,p,q){for(var r=null!=this.Wa.WFd()?this.r_c:this.G_c;n<=p;n++)this.fMa(q,n,r);return this};d.prototype.F_c=function(n,p,q){if(null==this.kk)return this;var r;if(this.kk instanceof Y)var t=r=this.kk;else r=this.kk.vertical,t=this.kk.horizontal;if(null==r&&null==t)return this;var u,w=0,y=this.Wc.SB-t.ca();if(null!=r){q.qa(r);q.beginPath();for(u=n;u<=p;u++)r=this.gU(u),q.moveTo(r,w),q.lineTo(r,y);u=this.UX(p);q.moveTo(u,w);q.lineTo(u,y);q.stroke()}q.qa(t);q.beginPath();r=this.gU(n);u=this.UX(p);
q.moveTo(r,w);q.lineTo(u,w);q.moveTo(r,y);q.lineTo(u,y);q.stroke();return this};d.prototype.uj=function(n){var p=n.Ea().sc(n.mg());p.cb({x:Math.max(0,p.getX()),y:Math.max(0,p.getY()),width:Math.max(0,p.ca()),height:Math.max(0,p.da())});var q=this.VBb(p),r=this.JCb(p,q);this.E_c(p,r,this.Ouc,n);this.Dra(n,q,r,this.MP,!0);this.Dra(n,q,r,this.eQ,!1);p=this.Wa.zL();this.sO(p,r,q,n);this.D_c(q,r,n);this.F_c(q,r,n);return this};d.prototype.fMa=function(n,p,q){var r=null!=this.di?this.di[p]:Math.round(this.Wc.wf.ca()*
p),t=null!=this.Bf?this.Bf[p]:this.Wc.wf.ca(),u=0,w=this.Wc.SB;n.save();r=n.Ea().Ua(new U(r,u,r+t,u+w));n.uh(r,Bd.DD);q.call(this,n,p);n.restore();return this};d.prototype.G_c=function(n,p){var q=null!=this.di?this.di[p]:Math.round(this.Wc.wf.ca()*p),r=this.Wa.K1(p);this.Rp.Eb(r);this.Rp.yc(O.Oa);this.Rp.kb(this.jc).wk(this.paa);p=null!=this.Bf?this.Bf[p]:this.Wc.wf.ca();this.Rp.Qa(p);this.Rp.Jb(q+p/2,this.Wc.SB/2);this.Rp.render(n);return this};d.prototype.ONc=function(n){return new U({x:this.gU(n),
y:0,width:null!=this.Bf?this.Bf[n]:this.Wc.wf.ca(),height:this.Wc.SB})};d.prototype.TTc=function(n,p,q,r,t){m.selection.row=this.Wa.ZX();m.selection.column=this.Wa.zL();m.background.fillstyle=null;m.background.linestyle=null;m.background.bounds=n;m.text.fillstyle=null;m.text.linestyle=null;m.text.textstyle=t.clone();m.text.value=r;m.text.bounds=p;m.icon.fillstyle=null;m.icon.linestyle=null;m.icon.value=null;m.icon.bounds=q;return this};d.prototype.s_c=function(n,p,q){null==n||null==p.background.fillstyle&&
null==p.background.linestyle||(q.ra(ug.fd(p.background.fillstyle)),q.qa(Y.Ra(p.background.linestyle)),q.Bc(n));return this};d.prototype.u_c=function(n,p,q){if(null==n)return this;if(null!=p.text.fillstyle||null!=p.text.linestyle)q.ra(ug.fd(p.text.fillstyle)),q.qa(Y.Ra(p.text.linestyle)),q.Bc(n);var r=p.text.textstyle,t=p.text.value;if(null!=t&&null!=r){switch(r.Lj()){case Ai.cc:this.Rp.yc(O.we);p=n.na();break;case Ai.Oa:this.Rp.yc(O.Oa);p=n.hc();break;default:this.Rp.yc(O.Bd),p=n.ka()}this.Rp.Eb(t);
this.Rp.kb(r).wk(this.paa);this.Rp.Jb(p,n.Dc());this.Rp.Qa(n.ca());this.Rp.render(q)}return this};d.prototype.t_c=function(n,p,q,r){if(null==n)return this;if(null!=p.icon.fillstyle||null!=p.icon.linestyle)r.ra(ug.fd(p.icon.fillstyle)),r.qa(Y.Ra(p.icon.linestyle)),r.Bc(n);null!=p.icon.value&&(r.save(),n=r.bc(X.jf(q.getX(),q.getY())),p.icon.value.render(n),r.restore());return this};d.prototype.r_c=function(n,p){var q=this.ONc(p);h.cb(0,0,q.ca(),q.da());k.cb(0,0,q.ca(),q.da()).bd(-this.Wf,0);l.cb(0,
0,q.ca(),q.da());this.TTc(h,k,l,this.Wa.K1(p),this.jc);p=this.Wa.eBd(p,m);if(null==p)return this;var r=p.background.bounds,t=p.text.bounds,u=p.icon.bounds;null!=r&&r.setX(q.getX()+r.getX()).setY(q.getY()+r.getY());null!=t&&t.setX(q.getX()+t.getX()).setY(q.getY()+t.getY());null!=u&&u.setX(q.getX()+u.getX()).setY(q.getY()+u.getY());this.s_c(r,p,n);this.t_c(u,p,q,n);this.u_c(t,p,n);return this};d.prototype.jb=function(){return this.jc};d.prototype.kda=function(n){this.paa=n;return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRDYWxjdWxhdGVkVGFibGVXaWR0aCI6InNBYiIsInNldFRhYmxlQm91bmRzIjoibnciLCJnZXRUYWJsZVZpZXciOiJlRGIiLCJyZW5kZXJGaWxsU3R5bGUiOiJEcmEiLCJnZXRMZWZ0Q29sdW1uSW5kZXgiOiJWQmIiLCJnZXRSaWdodENvbHVtbkluZGV4IjoiSkNiIiwiZ2V0Q29sdW1uTGVmdCI6ImdVIiwiZ2V0Q29sdW1uUmlnaHQiOiJVWCIsInJlbmRlckhlYWRlckZpbGxTdHlsZSI6IkVfYyIsImhpZ2hsaWdodENvbHVtbiI6InNPIiwicmVuZGVySGVhZGVyIjoiRF9jIiwicmVuZGVySGVhZGVyR3JpZExpbmUiOiJGX2MiLCJyZW5kZXJDb250ZW50IjoidWoiLCJyZW5kZXJDbGlwIjoiZk1hIiwicmVuZGVySGVhZGVyVGV4dCI6IkdfYyIsImdldEhlYWRlclJlY3QiOiJPTmMiLCJpbml0aWFsaXplSGVhZGVyU3R5bGUiOiJUVGMiLCJyZW5kZXJDdXN0b21IZWFkZXJGaWxsU3R5bGUiOiJzX2MiLCJyZW5kZXJDdXN0b21IZWFkZXJUZXh0IjoidV9jIiwicmVuZGVyQ3VzdG9tSGVhZGVySWNvbiI6InRfYyIsInJlbmRlckN1c3RvbUhlYWRlciI6InJfYyIsImdldFRleHRTdHlsZSI6ImpiIiwic2V0VGV4dFNpemVNb2RlIjoia2RhIn19fSAg");var nS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(r,t,u){r=xb(r,{rows:"number"===typeof r?r:null,columns:t,tableview:u},!0);Pm.call(this,r);this.dt={selection:{},background:{fillstyle:null,linestyle:null,bounds:null},text:{textstyle:null,fillstyle:null,linestyle:null,shape:null,value:null,bounds:null},icon:{fillstyle:null,linestyle:null,value:null,bounds:null}};this.rg=this.Bf=null;this.di=[];this.Wf=0;a.call(this,r);this.kk=new Y({color:k,pixelsnapmode:{x:!0,y:!0}});this.jc=new Fi({color:l,alignment:Ai.cc,baseline:zi.il,
font:m});this.eQ=new rf(c);this.MP=new rf(b);this.Stc=this.Zxc=null;this.rta=new rf(e);this.$ua=new rf(f);this.ETb=new rf(g);this.b9=new Y({color:h,width:1,pixelsnapmode:{x:!0,y:!0}});this.ykd=null}function a(r){void 0!==r.rows&&(this.bg=r.rows);void 0!==r.columns&&(this.sf=r.columns);void 0!==r.tableview&&(this.Wa=r.tableview);this.Wc=this.Wa.NAb();this.jd=this.Wc.wf.ca()*this.sf;this.td=this.Wc.wf.da()*this.bg;this.cb(0,0,this.jd,this.td);return this}var b="#e6e6e6",c="#f5f5f5",e="rgba(51, 116, 235, 0.4)",
f="rgba(255,0,0,0.2)",g="rgba(51, 116, 235, 0.4)",h="rgba(51, 116, 235, 0.8)",k="white",l="#6b6b6b",m="12px Courier",n=new U,p=new U,q=new U;D(d,Pm);L(d,"geotoolkit.controls.shapes.tableview.TableContent");d.prototype.fa=function(r){r=jc(r);if(null==r)return this;Pm.prototype.fa.call(this,r);return a.call(this,r)};d.prototype.ia=function(){var r=Pm.prototype.ia.call(this);r.rows=this.bg;r.columns=this.sf;r.tableview=this.Wa;return r};d.prototype.setData=function(r){if(null==r)return this;void 0!==
r.activerowfillstyle&&(this.rta=ug.fd(r.activerowfillstyle));void 0!==r.highlightrowfillstyle&&(this.$ua=ug.fd(r.highlightrowfillstyle));void 0!==r.highlightcolumnfillstyle&&(this.ETb=ug.fd(r.highlightcolumnfillstyle));void 0!==r.activecelllinestyle&&(this.b9=Y.Ra(r.activecelllinestyle));void 0!==r.activecellfillstyle&&(this.ykd=ug.fd(r.activecellfillstyle));void 0!==r.defaultcellsize&&(this.Wc.wf=r.defaultcellsize);if(!r.hasOwnProperty("content"))return this;r=r.content;"number"===typeof r.padding&&
(this.Wf=r.padding);void 0!==r.gridstyle&&(r.gridstyle.hasOwnProperty("horizontal")||r.gridstyle.hasOwnProperty("vertical")?(this.kk=r.gridstyle,this.kk.horizontal=Y.Ra(this.kk.horizontal),this.kk.vertical=Y.Ra(this.kk.vertical)):this.kk=Y.Ra(r.gridstyle));void 0!==r.textstyle&&(this.jc=Fi.Ra(r.textstyle));void 0!==r.oddfillstyle&&(this.eQ=ug.fd(r.oddfillstyle));void 0!==r.evenfillstyle&&(this.MP=ug.fd(r.evenfillstyle));void 0!==r.oddfillstylecolumn&&(this.Zxc=ug.fd(r.oddfillstylecolumn));void 0!==
r.evenfillstylecolumn&&(this.Stc=ug.fd(r.evenfillstylecolumn));return this};d.prototype.wCd=function(r){var t=0;if(null!=this.rg)for(var u=this.Nh[0]=0;u<r;++u)t+=this.rg[u],0<u&&(this.Nh[u]=this.Nh[u-1]+this.rg[u-1]);else t=this.Wc.wf.da()*r;return t};d.prototype.sAb=function(r){var t=0,u;if(null!=this.Bf&&this.Bf.length===r)for(u=this.di[0]=0;u<r;++u)t+=this.Bf[u],0<u&&(this.di[u]=this.di[u-1]+this.Bf[u-1]);else if(t=this.Wc.wf.ca()*r,null!=this.Bf)for(u=0;u<r;++u)this.Bf[u]=this.Wc.wf.ca(),this.di[u]=
u*this.Wc.wf.ca();return t};d.prototype.nw=function(r,t,u,w){this.Bf=u;this.rg=w;this.di=null!=this.Bf?[]:null;this.Nh=null!=this.rg?[]:null;this.bg=r;this.sf=t;this.td=this.wCd(r);this.jd=this.sAb(t);this.cb(0,0,this.jd,this.td);return this};d.prototype.eDb=function(){return this.Wa};d.prototype.render=function(r){r=null!=this.Sa()?r.bc(this.Sa()):r;r.Sh(this);if(r.fc()&&null==this.Wa.cMc())return r.ra(rf.zh).Bc(this.ga()),this;this.uj(r);return this};d.prototype.C_c=function(r,t,u,w,y,z,x){if(null!=
z){r.ra(z);r.beginPath();for(var C=t=0===t%2&&!0===x||0!==t%2&&!1===x?t:t+1;C<=u;C+=2){t=this.gU(-1,y);z=this.UX(w);x=this.Dba(C);var A=this.W1(C);r.moveTo(t,x).lineTo(z,x).lineTo(z,A).lineTo(t,A).lineTo(t,x)}r.closePath().Si()}return this};d.prototype.B_c=function(r,t,u,w,y,z,x){if(null!=z){r.ra(z);r.beginPath();for(var C=u=0===u%2&&!0===x||0!==u%2&&!1===x?u:u+1;C<=w;C+=2){u=this.gU(C);z=this.UX(C);x=this.Dba(-1,y);var A=this.W1(t);r.moveTo(u,x).lineTo(z,x).lineTo(z,A).lineTo(u,A).lineTo(u,x)}r.closePath().Si()}return this};
d.prototype.Dra=function(r,t,u){this.C_c(r,t.Dkb,t.voa,t.Ira,u,this.eQ,!1);this.C_c(r,t.Dkb,t.voa,t.Ira,u,this.MP,!0);this.B_c(r,t.voa,t.Rgb,t.Ira,u,this.Zxc,!1);this.B_c(r,t.voa,t.Rgb,t.Ira,u,this.Stc,!0);return this};d.prototype.VBb=function(r,t,u){if(null==this.di)return Math.floor(r.ka()/this.Wc.wf.ca());t=null==t?0:t;for(u=null==u?this.sf-1:u;t<=u;){var w=Math.floor((t+u)/2),y=null!=this.Bf?this.Bf[w]:this.Wc.wf.ca();if(this.di[w]<=r.ka()&&r.ka()<=this.di[w]+y)return w;r.ka()<this.di[w]?u=w-
1:t=w+1}return-1};d.prototype.JCb=function(r,t,u){if(null==this.di)return Math.floor(Math.min(this.sf-1,r.na()/this.Wc.wf.ca()));for(u=null==u?this.sf-1:u;t<=u;){var w=Math.floor((t+u)/2),y=null!=this.Bf?this.Bf[w]:this.Wc.wf.ca(),z=null!=this.Bf?this.Bf[this.Bf.length-1]:this.Wc.wf.ca();z=Math.min(r.na(),this.di[this.di.length-1]+z);if(this.di[w]<=z&&z<=this.di[w]+y)return w;z<this.di[w]?u=w-1:t=w+1}return-1};d.prototype.rDb=function(r,t,u){if(null==this.Nh)return Math.floor(r.la()/this.Wc.wf.da());
t=null==t?0:t;for(u=null==u?this.bg-1:u;t<=u;){var w=Math.floor((t+u)/2),y=null!=this.rg?this.rg[w]:this.Wc.wf.da();if(this.Nh[w]<=r.la()&&r.la()<=this.Nh[w]+y)return w;r.la()<this.Nh[w]?u=w-1:t=w+1}return-1};d.prototype.oAb=function(r,t,u){if(null==this.Nh)return Math.floor(Math.min(this.bg-1,r.ma()/this.Wc.wf.da()));for(u=null==u?this.bg-1:u;t<=u;){var w=Math.floor((t+u)/2),y=null!=this.rg?this.rg[w]:this.Wc.wf.da(),z=null!=this.rg?this.rg[this.rg.length-1]:this.Wc.wf.da();z=Math.min(r.ma(),this.Nh[this.Nh.length-
1]+z);if(this.Nh[w]<=z&&z<=this.Nh[w]+y)return w;z<this.Nh[w]?u=w-1:t=w+1}return-1};d.prototype.gU=function(r,t){return 0<=r?r=null!=this.di?this.di[r]:r*this.Wc.wf.ca():null!=t?t.ka():0};d.prototype.UX=function(r,t){return 0<=r?(t=null!=this.di?this.di[r]:r*this.Wc.wf.ca(),t=null!=this.Bf?t+this.Bf[r]:t+this.Wc.wf.ca()):null!=t?t.na():0};d.prototype.Dba=function(r,t){return 0<=r?r=null!=this.Nh?this.Nh[r]:r*this.Wc.wf.da():null!=t?t.la():0};d.prototype.W1=function(r,t){return 0<=r?(t=null!=this.Nh?
this.Nh[r]:r*this.Wc.wf.da(),t=null!=this.rg?t+this.rg[r]:t+this.Wc.wf.da()):null!=t?t.ma():0};d.prototype.JU=function(r,t,u,w,y){0<=r&&r<this.bg&&(y.ra(w),y.beginPath(),u=this.gU(-1,u),t=this.UX(t.Ira),w=this.Dba(r),r=this.W1(r),y.moveTo(u,w),y.lineTo(t,w),y.lineTo(t,r),y.lineTo(u,r),y.lineTo(u,w),y.closePath(),y.Si());return this};d.prototype.sO=function(r,t,u,w,y){0<=r&&r<this.sf&&(y.ra(w),y.beginPath(),w=this.gU(r),r=this.UX(r),u=this.Dba(-1,u),t=this.W1(t.voa),y.moveTo(w,u),y.lineTo(r,u),y.lineTo(r,
t),y.lineTo(w,t),y.lineTo(w,u),y.closePath(),y.Si());return this};d.prototype.YYd=function(r,t,u){if(null==this.kk)return this;var w=this.kk instanceof Y?this.kk:this.kk.horizontal;if(w instanceof Y){u.qa(w);u.beginPath();t=this.gU(-1,t);w=this.UX(r.Ira);for(var y=r.Dkb;y<=r.voa;y++){var z=this.W1(y);u.moveTo(t,z);u.lineTo(w,z)}}u.closePath();u.stroke();return this};d.prototype.vZd=function(r,t,u){if(null==this.kk)return this;u.beginPath();var w=this.kk instanceof Y?this.kk:this.kk.vertical;if(w instanceof
Y){var y=this.gU(-1,t);t=this.Dba(-1,t);var z=this.W1(r.voa);u.qa(w);u.moveTo(y,t);u.lineTo(y,z);for(y=r.Rgb;y<=r.Ira;y++)w=this.UX(y),u.moveTo(w,t),u.lineTo(w,z)}u.closePath();u.stroke();return this};d.prototype.LYd=function(r,t){for(var u=null!=this.Wa.cMc()?this.QYd:this.MYd,w=r.Dkb;w<=r.voa;w++)for(var y=r.Rgb;y<=r.Ira;y++)this.fMa(t,w,y,u);return this};d.prototype.FYd=function(r,t,u,w,y){null!=w&&t>=u.Rgb&&t<=u.Ira&&r>=u.Dkb&&r<=u.voa&&(u={row:r,column:t},y.qa(w),w=this.gU(u.column),r=this.UX(u.column),
t=this.Dba(u.row),u=this.W1(u.row),y.beginPath(),y.moveTo(w,t),y.lineTo(r,t),y.lineTo(r,u),y.lineTo(w,u),y.closePath(),y.stroke());return this};d.prototype.uj=function(r){var t=r.Ea().sc(r.mg());t.cb({x:Math.max(0,t.getX()),y:Math.max(0,t.getY()),width:Math.max(0,t.ca()),height:Math.max(0,t.da())});var u=this.VBb(t),w=this.JCb(t,u),y=this.rDb(t),z=this.oAb(t,y),x={Dkb:y,voa:z,Rgb:u,Ira:w},C=this.Wa.zL(),A=this.Wa.ZX();this.Dra(r,x,t);null!=this.$ua&&this.JU(A,x,t,this.$ua,r);null!=this.rta&&0<this.Wa.$N().length&&
this.Wa.$N().forEach(function(v){this.JU(v,x,t,this.rta,r)}.bind(this));null!=this.ETb&&this.sO(C,x,t,this.ETb,r);this.YYd(x,t,r);this.vZd(x,t,r);this.Wa.XFb(y,z,u,w);this.LYd(x,r);this.FYd(this.Wa.$N()[0],C,x,this.b9,r);return this};d.prototype.fMa=function(r,t,u,w){var y=null!=this.di?this.di[u]:Math.round(this.Wc.wf.ca()*u),z=null!=this.Bf?this.Bf[u]:this.Wc.wf.ca(),x=null==this.Nh?t*this.Wc.wf.da():this.Nh[t],C=null==this.rg?this.Wc.wf.da():this.rg[t];r.save();y=r.Ea().Ua(new U(y,x,y+z,x+C));
r.uh(y,Bd.DD);w.call(this,r,t,u);r.restore();return this};d.prototype.MYd=function(r,t,u){var w=null!=this.di?this.di[u]:Math.round(this.Wc.wf.ca()*u),y=null==this.Nh?t*this.Wc.wf.da():this.Nh[t],z=0;null!=this.kk&&(this.kk instanceof Y?z=this.kk.ca():null!=this.kk.vertical&&(z=this.kk.vertical.ca()));switch(this.jc.Lj()){case Ai.tc:w+=this.Wf+z;break;case Ai.cc:w+=(null!=this.Bf?this.Bf[u]:this.Wc.wf.ca())-this.Wf-z;break;case Ai.Oa:w+=(null!=this.Bf?this.Bf[u]:this.Wc.wf.ca())/2;break;default:w+=
null!=this.Bf?this.Bf[u]:this.Wc.wf.ca()}u=this.Wa.Nha(u,t);r.kb(this.jc);r.le(w,y+(null==this.rg?this.Wc.wf.da():this.rg[t])/2,u);return this};d.prototype.ELc=function(r,t){return new U({x:null!=this.di?this.di[t]:t*this.Wc.wf.ca(),y:null!=this.Nh?this.Nh[r]:r*this.Wc.wf.da(),width:null!=this.Bf?this.Bf[t]:this.Wc.wf.ca(),height:null!=this.rg?this.rg[r]:this.Wc.wf.da()})};d.prototype.Ssd=function(r,t,u,w){r.cb(0,0,w.ca(),w.da());t.cb(0,0,w.ca(),w.da()).bd(-this.Wf,0);u.cb(0,0,w.ca(),w.da());return this};
d.prototype.yOd=function(r,t,u,w){this.dt.selection.row=this.Wa.ZX();this.dt.selection.column=this.Wa.zL();this.dt.background.fillstyle=null;this.dt.background.linestyle=null;this.dt.background.bounds=r;this.dt.text.fillstyle=null;this.dt.text.linestyle=null;this.dt.text.shape=null;this.dt.text.textstyle=this.jc;this.dt.text.value=w;this.dt.text.bounds=t;this.dt.icon.fillstyle=null;this.dt.icon.linestyle=null;this.dt.icon.value=null;this.dt.icon.bounds=u;this.dt.border=null;this.dt.isPicking=!1;return this};
d.prototype.TYd=function(r,t,u,w){if(null==t)return this;if(null!=r.icon.fillstyle||null!=r.icon.linestyle)w.ra(ug.fd(r.icon.fillstyle)),w.qa(Y.Ra(r.icon.linestyle)),w.Bc(t);r=r.icon.value;null!=r&&(w.save(),u=w.bc(X.jf(u.getX(),u.getY())),u.fc()&&null!=r.ng()&&(r.ng().transformation=u.Ea()),r.render(u),w.restore());return this};d.prototype.UYd=function(r,t,u,w,y){if(null==t)return this;var z=u.getX();u=u.getY();if(null!=r.text.fillstyle||null!=r.text.linestyle)y.ra(ug.fd(r.text.fillstyle)),y.qa(Y.Ra(r.text.linestyle)),
y.Bc(t);var x=r.text.textstyle;r=r.text.shape;if(null!=r)r.Ia()&&(t=r.ga().clone(),t.setX(t.getX()+z).setY(t.getY()+u),r.sa(t).render(y));else if(null!=w&&null!=x){switch(x.Lj()){case Ai.tc:z=t.ka();break;case Ai.cc:z=t.na();break;case Ai.Oa:z=t.hc();break;default:z=t.ka()}y.kb(x);y.le(z,t.Dc(),w)}return this};d.prototype.RYd=function(r,t,u){var w=t.getX(),y=t.getY(),z=t.ca();t=t.da();if(null==r.border)return this;null!=r.border.top&&(u.beginPath(),u.qa(Y.Ra(r.border.top)),u.moveTo(w,y),u.lineTo(w+
z,y),u.stroke());null!=r.border.right&&(u.beginPath(),u.qa(Y.Ra(r.border.right)),u.moveTo(w+z,y),u.lineTo(w+z,y+t),u.stroke());null!=r.border.bottom&&(u.beginPath(),u.qa(Y.Ra(r.border.bottom)),u.moveTo(w+z,y+t),u.lineTo(w,y+t),u.stroke());null!=r.border.left&&(u.beginPath(),u.qa(Y.Ra(r.border.left)),u.moveTo(w,y+t),u.lineTo(w,y),u.stroke());return this};d.prototype.SYd=function(r,t,u){null==t||null==r.background.fillstyle&&null==r.background.linestyle||(u.ra(ug.fd(r.background.fillstyle)),u.qa(Y.Ra(r.background.linestyle)),
u.Bc(t));return this};d.prototype.QYd=function(r,t,u){var w=this.ELc(t,u);this.Ssd(n,p,q,w);this.yOd(n,p,q,this.Wa.Nha(u,t));r.fc()&&(this.dt.isPicking=!0);t=this.Wa.bBd(u,t,this.dt);if(null!=t){u=t.background.bounds;var y=t.text.bounds,z=t.icon.bounds;null!=u&&u.setX(w.getX()+u.getX()).setY(w.getY()+u.getY());null!=y&&y.setX(w.getX()+y.getX()).setY(w.getY()+y.getY());null!=z&&z.setX(w.getX()+z.getX()).setY(w.getY()+z.getY());this.SYd(t,u,r);this.RYd(t,w,r);this.TYd(t,z,w,r);this.UYd(t,y,w,t.text.value,
r)}return this};d.prototype.jb=function(){return this.jc};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var oS=/*#__PURE__*/ta(/*#__PURE__*/{Rlb:"onColumnWidthChanging",vCa:"onColumnWidthChanged",tnb:"onRowHeightChanging",eDa:"onRowHeightChanged"},2,"eyJDb2x1bW5XaWR0aENoYW5naW5nIjoiUmxiIiwiQ29sdW1uV2lkdGhDaGFuZ2VkIjoidkNhIiwiUm93SGVpZ2h0Q2hhbmdpbmciOiJ0bmIiLCJSb3dIZWlnaHRDaGFuZ2VkIjoiZURhIn0g"),pS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(k,l){var m=0;if(k.la()<l.la()||k.ma()>l.ma())m=k.Dc()<l.Dc()?l.la()-k.la():l.ma()-k.ma();return m}function a(k,l){var m=0;if(k.ka()<l.ka()||k.na()>l.na())m=k.hc()<l.hc()?l.ka()-k.ka():l.na()-k.na();return m}function b(k){null==k&&(k={});k=G(k,{rows:null!=k.rows&&0<k.rows?k.rows:1,cols:null!=k.cols&&0<k.cols?k.cols:1,bounds:k.bounds instanceof U?k.bounds:new U(0,
0,400,400),fixedsize:null!=k.fixedsize?k.fixedsize:!1,indexwidth:null!=k.indexwidth?k.indexwidth:100,headerheight:null!=k.headerheight?k.headerheight:20,cellsize:k.cellsize instanceof Ud?k.cellsize:new Ud(100,20)});ni.call(this,k);this.Wc={wf:k.cellsize,SB:k.headerheight,NH:k.indexwidth};this.bf(!0);this.K_=(new bi).cBa("fixed-bounds").ra(new rf(c)).qa(new Y({color:e,pixelsnapmode:{x:!0,y:!0}}));this.$Ea=(new ek({text:g,ax:Math.round(this.Wc.NH/2),ay:Math.round(this.Wc.SB/2),textstyle:new Fi({color:f,
baseline:zi.il,alignment:Ai.Oa,font:h,multiline:!0}),alignment:O.Oa})).wk(ck.co);this.Au=new kS(new nS(k.rows,k.cols,this));this.Au.bf(!0);this.pa(this.Au);this.RD=new kS(new mS(k.cols,this));this.RD.bf(!0);this.pa(this.RD);this.yw=new kS(new lS(k.rows,this));this.yw.bf(!0);this.pa(this.yw);this.pa(this.K_);this.pa(this.$Ea);this.glb();this.bma=k.fixedsize;this.P7a=this.MRa=this.w6a=this.x6a=this.i6a=this.b5a=this.d5a=this.Bf=this.Bla=null;this.td=this.jd=0;this.uPb=[];this.GTb=this.ITb=-1;this.setData(k)}var c="#bdbdbd",e="white",f="#6b6b6b",g="Depth",h="bold 11px Tahoma";D(b,ni);L(b,"geotoolkit.controls.shapes.tableview.TableView");b.Ka=oS;b.prototype.nw=function(k,l,m){k=null==k?this.bg:k;l=null==l?this.sf:l;if(this.bg===k&&this.sf===l&&!1===m||null==k||null==l)return this;this.bg=k;this.sf=l;this.jhb();this.Au.nw(k,l,this.Bf,this.rg);this.RD.nw(k,l,this.Bf,this.rg);this.yw.nw(k,1,this.Bf,this.rg);null!=this.ga()&&this.sa(this.ga());return this};b.prototype.PCb=function(k){return 0>k?this.Wc.SB:
null!=this.rg?this.rg[k]:this.Wc.wf.da()};b.prototype.LIb=function(k,l){if(0>k)return this.D3c(l);if(k>=this.bg)throw Error("Index is out of range");null==this.rg&&(this.bma=!1,this.jhb());var m={row:k,height:{old:this.rg[k],"new":l}};this.notify(oS.tnb,this,m);l=m.height["new"];var n=this.rg[k];l!==n&&(this.td+=l-(0<n?n:0),this.rg[k]=l,this.Au.nw(this.bg,this.sf,this.Bf,this.rg),this.RD.nw(this.bg,this.sf,this.Bf,this.rg),this.yw.nw(this.bg,this.sf,this.Bf,this.rg),this.roa(),this.ha());m.height.current=
this.rg[k];this.notify(oS.eDa,this,m);return this};b.prototype.rJa=function(k){return 0>k?this.Wc.NH:null!=this.Bf?this.Bf[k]||0:this.Wc.wf.ca()};b.prototype.EMa=function(k,l){if(0>k)return this.T3c(l);if(k>=this.sf)throw Error("Index is out of range");null==this.Bf&&(this.bma=!1,this.jhb());var m={column:k,width:{old:this.Bf[k],"new":l}};this.notify(oS.Rlb,this,m);l=m.width["new"];var n=this.Bf[k];l!==n&&(this.jd+=l-(0<n?n:0),this.Bf[k]=l,this.Au.nw(this.bg,this.sf,this.Bf,this.rg),this.RD.nw(this.bg,
this.sf,this.Bf,this.rg),this.yw.nw(this.bg,this.sf,this.Bf,this.rg),this.roa(),this.ha());m.width.current=this.Bf[k];this.notify(oS.vCa,this,m);return this};b.prototype.T3c=function(k){if(this.Wc.NH===k)return this;this.Wc.NH=k;this.glb();return this};b.prototype.fOc=function(){return this.Wc.NH};b.prototype.D3c=function(k){if(this.Wc.SB===k)return this;this.Wc.SB=k;this.glb();return this};b.prototype.tBb=function(){return this.Wc.SB};b.prototype.NAb=function(){return this.Wc};b.prototype.WQ=function(k){var l=
this.yR().ca(),m=this.yw.Ia(),n=this.wb().ca();if((m||0<l)&&0<n){var p=m?-1:0;if(k)for(l=m?l+1:l,n/=l,l=this.yR().ca(),k=p;k<l;k++)this.EMa(k,n);else{m=0;for(k=p;k<l;k++)m+=this.rJa(k);for(k=p;k<l;k++)p=this.rJa(k)*n/m,this.EMa(k,p)}}return this};b.prototype.sa=function(k){if(null==k)return this;ni.prototype.sa.call(this,k);this.Ha(new U(0,0,k.ca(),k.da()));this.glb();return this};b.prototype.Uba=function(){return this.Au.so().wb()};b.prototype.uya=function(){return this.Au.so().ga()};b.prototype.hXa=
function(){return this.RD.ga()};b.prototype.$db=function(){return this.yw.ga()};b.prototype.yR=function(){return new Ud(this.sf,this.bg)};b.prototype.tNc=function(){return this.bma};b.prototype.PCd=function(k,l){k=null==k?0:k;l=null==l?this.uya().na():l;var m=0,n=0,p=0,q=-1;if(null==this.rg)q=k/this.Wc.wf.da(),k=l/this.Wc.wf.da();else{for(;q+1<this.rg.length&&!(m>=k);)q++,m+=this.rg[q];n=1-(m-k)/this.rg[0>q?0:q];for(k=q;k+1<this.rg.length&&!(m>=l);)k++,m+=this.rg[k];p=1-(m-l)/this.rg[0>k?0:k]}return{Jt:q+
n,RC:k+p-1,Hh:k+p-1-q-n+1}};b.prototype.nKd=function(k,l){k=null==k?0:k;l=null==l?this.uya().ma():l;var m=0,n=0,p=0,q=-1;if(null==this.Bf)q=k/this.Wc.wf.ca(),k=l/this.Wc.wf.ca();else{for(;q+1<this.Bf.length&&!(m>=k);)q++,m+=this.Bf[q];n=1-(m-k)/this.Bf[0>q?0:q];for(k=q;k+1<this.Bf.length&&!(m>=l);)k++,m+=this.Bf[k];p=1-(m-l)/this.Bf[0>k?0:k]}return{Jt:q+n,RC:k+p,Hh:k+p-q-n+1}};b.prototype.g2=function(){var k=this.Uba(),l=this.nKd(k.ka(),k.na());k=this.PCd(k.la(),k.ma());return new U(l.Jt,k.Jt,l.RC,
k.RC)};b.prototype.Wja=function(k,l){if(null==k&&null==l)return this;var m=this.Uba(),n=this.C1(null==k?this.g2().la():k,null==l?this.g2().ka():l);if(null==n||m.zA(n))return this;if(null==k){var p=new U({x:n.ka(),y:m.la(),width:n.ca(),height:n.da()});k=d(p,m)}else k=d(n,m);null==l?(p=new U({x:m.getX(),y:n.la(),width:n.ca(),height:n.da()}),l=a(p,m)):l=a(n,m);this.SBa(l,k);return this};b.prototype.scroll=function(k,l){this.Wja(k,l);return this};b.prototype.dDb=function(){return new U(0,0,this.sf,this.bg)};
b.prototype.SBa=function(k,l){this.Au.so().translate(k,l);this.RD.so().translate(k,0);this.yw.so().translate(0,l);this.roa();return this};b.prototype.roa=function(){this.Au.so().cj();this.RD.so().cj();this.yw.so().cj();return this};b.prototype.setData=function(k){if(null==k)return this;if(null!=k.defaultcellsize||null!=k.defaultheadersize){var l=null!=k.defaultcellsize?k.defaultcellsize.ca():k.defaultheadersize.ca();k.defaultcellsize=k.defaultcellsize||this.Wc.wf;k.defaultheadersize=k.defaultheadersize||
k.defaultcellsize||this.Wc.SB;0===l&&(l=Math.max(k.defaultcellsize.ca(),k.defaultheadersize.ca()));k.defaultcellsize.setSize(l,k.defaultcellsize.da());k.defaultheadersize.setSize(l,k.defaultheadersize.da());this.rg=this.Bf=null}this.Au.Oo().setData(k);null!=k.content&&this.Au.Oo().setData(k.content);this.RD.Oo().setData(k);null!=k.header&&this.RD.Oo().setData(k.header);this.yw.Oo().setData(k);null!=k.index&&this.yw.Oo().setData(k.index);null!=k.header&&(null!=k.header.textstyle&&this.$Ea.kb(k.header.textstyle),
null!=k.header.headerfillstyle&&this.K_.ra(k.header.headerfillstyle),null!=k.header.gridstyle&&(l=k.header.gridstyle,null!=l&&l.vertical!==l.horizontal?(this.K_.oV({left:null!=l.vertical,right:null!=l.vertical,bottom:null!=l.horizontal,top:null!=l.horizontal}),null!=l.vertical&&null!=l.horizontal&&this.K_.XO({left:l.vertical,right:l.vertical,top:l.horizontal,bottom:l.horizontal}),l=l.vertical||l.horizontal):this.K_.oV({left:!0,right:!0,bottom:!0,top:!0}),this.K_.qa(l)));null!=k.headerprovider&&this.Zx(k.headerprovider);
null!=k.headerformatprovider&&this.C3c(k.headerformatprovider);null!=k.contentmeasure&&this.X1c(k.contentmeasure);null!=k.contentprepare&&this.Z1c(k.contentprepare);null!=k.contentprovider&&this.$1c(k.contentprovider);null!=k.contentformatprovider&&this.W1c(k.contentformatprovider);null!=k.indexprepare&&this.V3c(k.indexprepare);null!=k.indexprovider&&this.W3c(k.indexprovider);null!=k.indexformatprovider&&this.U3c(k.indexformatprovider);null!=k.markerprovider&&this.S4c(k.markerprovider);l=k.fixedsize;
null!=l&&this.bma!==l&&(this.bma=l,!0===this.bma&&(this.Bf=null),this.jhb());null!=k.bounds&&this.sa(k.bounds);this.g8d(k.defaultcellsize,k.defaultheadersize);this.nw(k.rows,k.cols,void 0!==k.defaultcellsize||void 0!==k.contentmeasure);var m=null;null!=k.indexvisible&&(m=!1!==k.indexvisible);null!=k.indextitle&&this.WHb(k.indextitle);null!=k.index&&(null==k.index?(m=!1,this.WHb(null)):(null!=k.index.visible&&(m=!0===k.index.visible),null!=k.index.title&&this.WHb(k.index.title)));l=null;null!=k.headervisible&&
(l=!1!==k.headervisible);null!=k.header&&(null==k.header?l=!1:null!=k.header.visible&&(l=!0===k.header.visible));null!=m&&this.yw.va(m);m=this.yw.Ia();null!=l&&this.RD.va(l);l=this.RD.Ia();this.$Ea.va(m&&l);this.K_.va(m&&l);!0===k.fittowidth&&this.WQ();k=this.ga();m=m?this.Wc.NH:0;l=l?this.Wc.SB:0;this.RD.sa(new U(m,0,k.na(),l));this.yw.sa(new U(0,l,m,k.ma()));this.Au.sa(new U(m,l,k.na(),k.ma()));k=this.K_.Fa().ca()/2;this.$Ea.sa(new U(0,0,m+k,l));this.K_.sa(new U(0,0,m+k,l));this.roa();return this};
b.prototype.WHb=function(k){this.$Ea.Eb(k);return this};b.prototype.xGd=function(){return this.$Ea.me()};b.prototype.X1c=function(k){this.Bla=k;return this};b.prototype.Z1c=function(k){this.d5a=k;return this};b.prototype.Zx=function(k){if(null==k)return this;this.i6a=k;return this};b.prototype.C3c=function(k){if(null==k)return this;this.UEa=k;return this};b.prototype.$1c=function(k){this.b5a=k;return this};b.prototype.W1c=function(k){this.c5a=k;return this};b.prototype.V3c=function(k){if(null==k)return this;
this.x6a=k;return this};b.prototype.W3c=function(k){if(null==k)return this;this.w6a=k;return this};b.prototype.hdc=function(k,l){return null==this.x6a?null:"function"===typeof this.x6a?this.x6a.call(this,k>>0,l>>0):this.x6a.prepareIndex(k>>0,l>>0)};b.prototype.n7b=function(k){return null!=this.w6a?"function"===typeof this.w6a?this.w6a.call(this,k>>0):this.w6a.getIndexData(k>>0):"Row #"+k};b.prototype.oPc=function(k){return null!=this.P7a?"function"===typeof this.P7a?this.P7a.call(this,k>>0):this.P7a.getMarkerData(k>>
0):!1};b.prototype.Lra=function(k){function l(m,n){return m.length===n.length&&m.every(function(p){return-1!==n.indexOf(p)})}null==k&&(k=[]);k=Array.isArray(k)?k:[k];l(k,this.uPb)||(this.uPb=k.slice(0),this.xa(),this.ha());return this};b.prototype.$N=function(){return this.uPb};b.prototype.JU=function(k){this.ITb!==k&&(this.ITb=k,this.xa(),this.ha());return this};b.prototype.ZX=function(){return this.ITb};b.prototype.sO=function(k){this.GTb!==k&&(this.GTb=k,this.xa(),this.ha());return this};b.prototype.zL=
function(){return this.GTb};b.prototype.xd=function(k,l){if(0<=k){var m=0;if(null!=this.Bf)for(var n=0;n<this.sf;n++){var p=null!=this.Bf?this.Bf[n]:this.Wc.wf.ca();p="number"===typeof p&&0<p?p:0;if(m+p>k){var q=n+(!0===l?(k-m)/p:0);break}m+=p}else q=k/this.Wc.wf.ca(),q=!0===l?q:Math.floor(q)}null==q&&(q=-1);return q};b.prototype.pe=function(k,l){if(0<=k){var m=0;if(null!=this.rg)for(var n=0;n<this.bg;n++){var p=null!=this.rg?this.rg[n]:this.Wc.wf.da();p="number"===typeof p&&0<p?p:0;if(m+p>k){var q=
n+(!0===l?(k-m)/p:0);break}m+=p}else q=k/this.Wc.wf.da(),q=!0===l?q:Math.floor(q)}null==q&&(q=-1);return q};b.prototype.Shb=function(k,l){k instanceof N&&(l=k.y,k=k.x);l=this.wa().Ma(new N(k,l));var m=this.yw.so().wa().rd(l);m.x>this.$db().ca()&&(m=null);l=this.RD.so().wa().rd(l,l);k=l.x;l=l.y;l=Math.floor(l/this.RD.ga().da());return null!=m?new N(-1,l):new N(this.xd(k),l)};b.prototype.Ucc=function(k,l){k instanceof N&&(l=k.y,k=k.x);l=this.wa().Ma(new N(k,l));k=this.yw.TD.wa().rd(l);if(k.x>=this.$db().ca())return new N(-1,
-1);l=this.yw.TD.wa().rd(l,l);k=l.x;l=l.y;k=Math.floor(k/this.yw.ga().ca());return new N(k,this.pe(l))};b.prototype.ZH=function(k,l,m){k instanceof N&&(l=k.y,k=k.x);var n=this.wa().Ma(new N(k,l));n=this.Au.so().wa().rd(n,n);l=l<=this.RD.ga().da()?-1:n.y;k=k<=this.yw.ga().ca()?-1:n.x;return new N(this.xd(k,m),this.pe(l,m))};b.prototype.C1=function(k,l){if(l>=this.sf||k>=this.bg)return null;var m=0,n=0,p;if(null==this.rg)n=this.Wc.wf.da()*k;else for(p=0;p<k;p++)n+=0<this.rg[p]?this.rg[p]:0;var q=Math.floor(k);
p=0;0<=q&&(p=null!=this.rg?this.rg[q]:this.Wc.wf.da());var r=k-q;k=0;0<k&&q<this.rg.length-1&&(k=null!=this.rg?this.rg[q+1]:this.Wc.wf.da(),k*=r);if(-1===l)return new U(0,n,this.yw.ga().ca(),n+p+k);if(null==this.Bf)m=this.Wc.wf.ca()*l;else for(q=0;q<l;q++)m+=0<this.Bf[q]?this.Bf[q]:0;r=Math.floor(l);q=0;0<=r&&(q=null!=this.Bf?this.Bf[r]:this.Wc.wf.ca());l-=r;var t=0;0<l&&r<this.Bf.length-1&&(r=null!=this.Bf?this.Bf[r+1]:this.Wc.wf.ca(),t=r*l);return new U(m,n,m+q+t,n+p+k)};b.prototype.XFb=function(k,
l,m,n){return null!=this.d5a?"function"===typeof this.d5a?this.d5a.call(this,k>>0,l>>0,m>>0,n>>0):this.d5a.prepareContent(k>>0,l>>0,m>>0,n>>0):null};b.prototype.Nha=function(k,l){return null!=this.b5a?"function"===typeof this.b5a?this.b5a.call(this,k>>0,l>>0):this.b5a.getContentData(k>>0,l>>0):k+"x"+l};b.prototype.U3c=function(k){if(null==k)return this;this.MRa=k;return this};b.prototype.S4c=function(k){if(null==k)return this;this.P7a=k;return this};b.prototype.K1=function(k){return null!=this.i6a?
"function"===typeof this.i6a?this.i6a.call(this,k>>0):this.i6a.getHeaderData(k>>0):"Column #"+k};b.prototype.Y3c=function(k){if(null==k)return this;this.K_.ra(ug.fd(k));return this};b.prototype.dMe=function(){return this.K_.eb()};b.prototype.cSd=function(){for(var k=[],l=this.jd=0;l<this.sf;l++){var m=this.Wc.wf.ca();null!=this.Bf&&null!=this.Bf[l]&&(m=this.Bf[l]);m=0<m?m:0;m={width:m};m=this.dSd(l,this.RD.Oo().jb(),this.Au.Oo().jb(),m);k[l]=m.width;this.jd+=m.width}return k};b.prototype.fSd=function(){for(var k=
[],l=this.td=0;l<this.bg;l++){var m=this.Wc.wf.da();null!=this.rg&&null!=this.rg[l]&&(m=this.rg[l]);m=0<m?m:0;m={height:m};m=this.eSd(l,this.RD.Oo().jb(),this.Au.Oo().jb(),m);k[l]=m.height;this.td+=m.height}return k};b.prototype.jhb=function(){if(!0===this.bma)return this.jd=this.Wc.wf.ca()*this.sf,this;this.Bf=this.cSd();this.rg=this.fSd();return this};b.prototype.so=function(){return this.Au};b.prototype.uBb=function(){return this.RD};b.prototype.lFd=function(){return this.yw};b.prototype.glb=function(){var k=
this.yw.Ia(),l=this.RD.Ia();this.Au.sa(new U(k?this.Wc.NH:0,l?this.Wc.SB:0,this.ga().ca(),this.ga().da()));k&&this.yw.sa(new U(0,this.Wc.SB,this.Wc.NH,this.ga().da()));l&&this.RD.sa(new U(k?this.Wc.NH:0,0,this.ga().ca(),this.Wc.SB));k&&l&&(k=this.K_.Fa().ca()/2,this.K_.sa(new U(0,0,this.Wc.NH+k,this.Wc.SB)),this.$Ea.Jb(Math.round(this.Wc.NH/2),Math.round(this.Wc.SB/2)))};b.prototype.g8d=function(k,l){if(null==k)return this;null==l&&(l=k);this.Wc.wf=k;this.Wc.SB=l.da();this.glb();return this};b.prototype.cMc=
function(){return this.c5a};b.prototype.WFd=function(){return this.UEa};b.prototype.vGd=function(){return this.MRa};b.prototype.dSd=function(k,l,m,n){if(null!=this.Bla){if("function"===typeof this.Bla)return this.Bla.call(this,k>>0,l,m,n);var p=this.Bla.measureContent||this.Bla.measureColumn;if(p)return p(k>>0,l,m,n)}return n};b.prototype.eSd=function(k,l,m,n){return this.bFc()?this.Bla.measureRow(k,l,m,n):n};b.prototype.bFc=function(){return null!=this.Bla&&null!=this.Bla.measureRow};b.prototype.bBd=
function(k,l,m){return null!=this.c5a?"function"===typeof this.c5a?this.c5a.call(this,k>>0,l>>0,m):this.c5a.getContentFormat(k>>0,l>>0,m):m};b.prototype.eBd=function(k,l){return null!=this.UEa?"function"===typeof this.UEa?this.UEa.call(this,k>>0,l):"function"===this.UEa.getContentFormat?this.UEa.getContentFormat(k>>0,l):this.UEa.getHeaderFormat(k>>0,l):l};b.prototype.fBd=function(k,l){if(null!=this.MRa)if("function"===typeof this.MRa)this.MRa.call(this,k>>0,l);else return this.MRa.getIndexFormat(k>>
0,l);return l};return b}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRUYWJsZUJvdW5kcyI6Im53IiwiZ2V0Um93SGVpZ2h0IjoiUENiIiwic2V0Um93SGVpZ2h0IjoiTEliIiwiZ2V0Q29sdW1uV2lkdGgiOiJySmEiLCJzZXRDb2x1bW5XaWR0aCI6IkVNYSIsInNldEluZGV4Q29sdW1uV2lkdGgiOiJUM2MiLCJnZXRJbmRleENvbHVtbldpZHRoIjoiZk9jIiwic2V0SGVhZGVyUm93SGVpZ2h0IjoiRDNjIiwiZ2V0SGVhZGVyUm93SGVpZ2h0IjoidEJiIiwiZ2V0RGVmYXVsdFRhYmxlRWxlbWVudFNpemUiOiJOQWIiLCJmaXRUb1dpZHRoIjoiV1EiLCJzZXRCb3VuZHMiOiJzYSIsImdldFZpc2libGVUYWJsZU1vZGVsTGltaXRzIjoiVWJhIiwiZ2V0Q29udGVudFRhYmxlQm91bmRzIjoidXlhIiwiZ2V0SGVhZGVyQm91bmRzIjoiaFhhIiwiZ2V0Rml4ZWRUYWJsZUJvdW5kcyI6IiRkYiIsImdldFRhYmxlU2l6ZSI6InlSIiwiZ2V0Rml4ZWRTaXplIjoidE5jIiwiZ2V0VmlzaWJsZVRhYmxlTGltaXRzIjoiZzIiLCJzZXRWaXNpYmxlVGFibGVMaW1pdHMiOiJXamEiLCJnZXRUYWJsZUJvdW5kcyI6ImREYiIsInRyYW5zbGF0ZVRhYmxlIjoiU0JhIiwiYWRqdXN0VGFibGUiOiJyb2EiLCJzZXRJbmRleFRpdGxlIjoiV0hiIiwiZ2V0SW5kZXhUaXRsZSI6InhHZCIsInNldENvbnRlbnRNZWFzdXJlIjoiWDFjIiwic2V0Q29udGVudFByZXBhcmUiOiJaMWMiLCJzZXRIZWFkZXJQcm92aWRlciI6Ilp4Iiwic2V0SGVhZGVyRm9ybWF0UHJvdmlkZXIiOiJDM2MiLCJzZXRDb250ZW50UHJvdmlkZXIiOiIkMWMiLCJzZXRDb250ZW50Rm9ybWF0UHJvdmlkZXIiOiJXMWMiLCJzZXRJbmRleFByZXBhcmUiOiJWM2MiLCJzZXRJbmRleFByb3ZpZGVyIjoiVzNjIiwicHJlcGFyZUluZGV4IjoiaGRjIiwiZ2V0SW5kZXhEYXRhIjoibjdiIiwiZ2V0TWFya2VyRGF0YSI6Im9QYyIsInNldEFjdGl2ZVJvd3MiOiJMcmEiLCJnZXRBY3RpdmVSb3dzIjoiJE4iLCJoaWdobGlnaHRSb3ciOiJKVSIsImdldEhpZ2hsaWdodGVkUm93IjoiWlgiLCJoaWdobGlnaHRDb2x1bW4iOiJzTyIsImdldEhpZ2hsaWdodGVkQ29sdW1uIjoiekwiLCJnZXRDb2x1bW4iOiJ4ZCIsImdldFJvdyI6InBlIiwicGlja0hlYWRlciI6IlNoYiIsInBpY2tGaXhlZFJvdyI6IlVjYyIsInJlc29sdmVDZWxsQ29vcmRpbmF0ZSI6IlpIIiwiZ2V0Q2VsbEJvdW5kcyI6IkMxIiwicHJlcGFyZUNvbnRlbnQiOiJYRmIiLCJnZXRDb250ZW50RGF0YSI6Ik5oYSIsInNldEluZGV4Rm9ybWF0UHJvdmlkZXIiOiJVM2MiLCJzZXRNYXJrZXJQcm92aWRlciI6IlM0YyIsImdldEhlYWRlckRhdGEiOiJLMSJ9fX0g");var qS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e,f){return e.every(function(g){return g!==f})}function a(e){var f={name:"Ternary Chart",data:null,ternarygrid:null};Ag.call(this,e);this.data=this.center=this.size=this.Asa=null;this.setData(G(e,f,!0))}function b(e){var f=Number.MAX_SAFE_INTEGER;e.left&&(f=Math.min(e.left.length,f));e.right&&(f=Math.min(e.right.length,f));e.top&&(f=Math.min(e.top.length,f));return f}var c=new $g;L(a,"geotoolkit.scene.shapes.TernaryChart");D(a,Ag);a.prototype.fa=function(e){e=jc(e);if(null==
e)return this;Ag.prototype.fa.call(this,e);this.setData(e);return this};a.prototype.ia=function(){var e=Ag.prototype.ia.call(this);e.ternarygrid=this.Asa;return e};a.prototype.setData=function(e){var f;if(null!=this.data)for(f=0;f<this.data.length;f++){var g=this.data[f];null!=g.fillstyleobject&&this.sk(g.fillstyleobject,ze.ib,this.tb());null!=g.linestyleobject&&this.sk(g.linestyleobject,ze.ib,this.tb())}this.name=null!=e.name?e.name:this.name;this.data=e.data;this.Asa=null!=e.ternarygrid?e.ternarygrid:
this.Asa;null!=this.Asa&&(e=this.Asa.ia(),this.center=e.center,this.size=e.size);this.eI=this.size/2;this.cM=this.eI/100;this.QO=this.eI*Math.sqrt(3)/100;this.La=new U(this.center.x-this.eI,this.center.y-this.eI,this.center.x+this.eI,this.center.y+this.eI);for(f=0;f<this.data.length;f++)g=this.data[f],null!=g.fillstyle&&(g.fillstyleobject=ug.fd(g.fillstyle),this.cg(g.fillstyleobject,ze.ib,this.tb())),null!=g.linestyle&&(g.linestyleobject=Y.Ra(g.linestyle),this.cg(g.linestyleobject,ze.ib,this.tb()));
this.ha();return this};a.prototype.dispose=function(){if(null!=this.data)for(var e=0;e<this.data.length;e++){var f=this.data[e];null!=f.fillstyleobject&&this.sk(f.fillstyleobject,ze.ib,this.tb());null!=f.linestyleobject&&this.sk(f.linestyleobject,ze.ib,this.tb())}Ag.prototype.dispose.call(this)};a.prototype.ga=function(){return null!=this.La?this.La:null};a.prototype.sa=function(e){this.La=e;this.xa();return this};a.prototype.render=function(e){if(null!=this.data&&null!=this.Asa){e=this.Sa()?e.bc(this.Sa()):
e;for(var f=0;f<this.data.length;f++)this.VAa(e,this.data[f],f)}};a.prototype.VAa=function(e,f,g){var h=f.values,k=b(h);if(0!==k){var l=0,m=[],n=null,p=null!=f.fillstyleobject||null!=f.linestyleobject?c.clear():null;for(l=0;l<k;l++){var q=null!=h.left?h.left[l]:null,r=null!=h.right?h.right[l]:null,t=null!=h.top?h.top[l]:null;q=this.Asa.j1a({left:q,right:r,top:t}).translate(this.center.x,this.center.y);0===l&&(n=q,p&&p.moveTo(q.x,q.y));m.push(q);p&&p.lineTo(q.x,q.y)}p&&(p.lineTo(n.x,n.y),p.ra(f.fillstyleobject),
p.qa(f.linestyleobject),p.render(e));var u=[];if(null!=f.symbol||null!=f.hightlightedsymbol)for(k=f.symbol?f.symbol:e.fc()?f.hightlightedsymbol:null,n=f.hightlightedsymbol?f.hightlightedsymbol:k,q=function(){var y=this.Asa.g2b(this.Asa.j1a({top:null!=h.top?h.top[w]:null,left:null!=h.left?h.left[w]:null,right:null!=h.right?h.right[w]:null}));u.push({index:w,top:null!=h.top?h.top[w]:y.top,left:null!=h.left?h.left[w]:y.left,right:null!=h.right?h.right[w]:y.right})},l=0;l<m.length;l++)if(p=h.selected&&
!0===h.selected[l]?n:k)if(p.Jb(m[l]),h.color&&f.colorprovider&&p.ra({color:f.colorprovider.mb(h.color[l])}),h.size&&p.setSize(h.size[l],h.size[l]),e.fc()){var w=l;e.Hn(p,q.bind(this))}else p.render(e);e.fc()&&0<u.length&&e.eV({visual:this,series:g,indices:u.map(function(y){return y.index}),points:u})}};a.prototype.Aib=function(){if(0<this.data.length){for(var e=0;e<this.data.length;++e){var f=this.data[e].values;if(f.selected)for(var g=b(f),h=0;h<g;++h)f.selected[h]=!1}this.ha()}};a.prototype.zY=
function(e,f,g){if(this.data.length>f){f=this.data[f].values;f.selected||(f.selected=[]);for(var h=b(f),k=0;k<h;++k)d(e,k)?!0===g&&(f.selected[k]=!1):f.selected[k]=!0;this.ha()}return this};a.prototype.gj=function(e,f){var g=new Zj;return e instanceof U?(f=[e.ka(),e.na(),e.na(),e.ka()],e=[e.la(),e.la(),e.ma(),e.ma()],g.select(this.getRoot(),f,e,!0).filter(function(h){return!(h instanceof Ee)&&h.visual===this}.bind(this))):g.select(this.getRoot(),e.x,e.y,f?f:10).filter(function(h){return!(h instanceof
Ee)&&h.visual===this}.bind(this))};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJnZXRCb3VuZHMiOiJnYSIsInNldEJvdW5kcyI6InNhIiwicmVzZXRIaWdobGlnaHRpbmciOiJBaWIiLCJoaWdobGlnaHRJbmRpY2VzIjoielkiLCJoaXRUZXN0IjoiZ2oifX19");var rS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=xb(b,{center:{x:0,y:0},size:100},!0);this.center={x:0,y:0};this.size=100;this.eI=this.size/2;this.cM=this.eI/100;this.QO=this.eI*Math.sqrt(3)/100;this.v0c=this.pVc=this.S9c=this.Xb=null;this.Fib=this.Sgb=this.Ckb=10;this.w0c=this.qVc=this.T9c=!1;this.t0c=this.nVc=this.Q9c=null;this.u0c=this.oVc=this.R9c=!1;this.Lec=this.fbc=this.Njc=this.x0c=this.rVc=this.U9c=null;this.rEc=!1;this.borderStyle=null;this.bYc(b)}var a=new Fd;D(d,Pm);L(d,"geotoolkit.controls.shapes.TernaryGrid");
d.prototype.bYc=function(b){b.linestyle=Y.Ra(b.linestyle);null==b.center||b.center instanceof N||(b.center=new N(b.center.x,b.center.y));null==b.center&&(b.center=new N(0,0));null==b.limits&&(b.limits={});null==b.gridlines&&(b.gridlines={});null==b.labels&&(b.labels={});null==b.border&&(b.border={});var c=b.limits;if(null==c.left||"number"!==typeof c.left.min||"number"!==typeof c.left.max||c.left.min>=c.left.max)c.left=null;if(null==c.right||"number"!==typeof c.right.min||"number"!==typeof c.right.max||
c.right.min>=c.right.max)c.right=null;if(null==c.top||"number"!==typeof c.top.min||"number"!==typeof c.top.max||c.top.min>=c.top.max)c.top=null;var e=b.gridlines;null==e.left&&(e.left={});null==e.right&&(e.right={});null==e.top&&(e.top={});var f=e.top,g=e.left;e=e.right;null==f.linestyle?f.linestyle=b.linestyle:f.linestyle instanceof Y||(f.linestyle=new Y(f.linestyle));null==g.linestyle?g.linestyle=b.linestyle:g.linestyle instanceof Y||(g.linestyle=new Y(g.linestyle));null==e.linestyle?e.linestyle=
b.linestyle:e.linestyle instanceof Y||(e.linestyle=new Y(e.linestyle));var h=Fi.Ra(b.textstyle)||new Fi({color:"black"});f.textstyle=Fi.Ra(f.textstyle)||h;g.textstyle=Fi.Ra(g.textstyle)||h;e.textstyle=Fi.Ra(e.textstyle)||h;null==f.visiblelabels&&(f.visiblelabels=!0);null==g.visiblelabels&&(g.visiblelabels=!0);null==e.visiblelabels&&(e.visiblelabels=!0);null==f.step&&(f.step=10);null==f.visible&&(f.visible=!0);null==g.step&&(g.step=10);null==g.visible&&(g.visible=!0);null==e.step&&(e.step=10);null==
e.visible&&(e.visible=!0);var k=b.labels;null==k.left&&(k.left={});null==k.right&&(k.right={});null==k.top&&(k.top={});var l=k.top,m=k.left;k=k.right;l.textstyle=Fi.Ra(l.textstyle)||h;m.textstyle=Fi.Ra(m.textstyle)||h;k.textstyle=Fi.Ra(k.textstyle)||h;null==l.text&&(l.text=null);null==m.text&&(m.text=null);null==k.text&&(k.text=null);h=b.border;null==h.linestyle?h.linestyle=b.linestyle:h.linestyle instanceof Y||(h.linestyle=new Y(h.linestyle));null==h.visible&&(h.visible=!0);this.center=b.center;
this.size=b.size;this.eI=this.size/2;this.cM=this.eI/100;this.QO=this.eI*Math.sqrt(3)/100;var n=new U(this.center.x-this.eI,this.center.y-this.eI,this.center.x+this.eI,this.center.y+this.eI);Pm.call(this,n);this.Xb=c;this.S9c=f.linestyle;this.pVc=g.linestyle;this.v0c=e.linestyle;this.Ckb=f.step;this.Sgb=g.step;this.Fib=e.step;this.T9c=f.visible;this.qVc=g.visible;this.w0c=e.visible;this.Q9c=f.textstyle;this.nVc=g.textstyle;this.t0c=e.textstyle;this.R9c=f.visiblelabels;this.oVc=g.visiblelabels;this.u0c=
e.visiblelabels;this.U9c=l.textstyle;this.rVc=m.textstyle;this.x0c=k.textstyle;this.Njc=l.text;this.fbc=m.text;this.Lec=k.text;this.rEc=h.visible;this.borderStyle=h.linestyle;void 0!==b.linestyle&&this.qa(b.linestyle)};d.prototype.qf=function(b){switch(b){case "top":return null!=this.Xb&&null!=this.Xb.top?this.Xb.top.min:0;case "left":return null!=this.Xb&&null!=this.Xb.left?this.Xb.left.min:0;case "right":return null!=this.Xb&&null!=this.Xb.right?this.Xb.right.min:0}return Number.NaN};d.prototype.Rf=
function(b){switch(b){case "top":return null!=this.Xb&&null!=this.Xb.top?this.Xb.top.max:100;case "left":return null!=this.Xb&&null!=this.Xb.left?this.Xb.left.max:100;case "right":return null!=this.Xb&&null!=this.Xb.right?this.Xb.right.max:100}return Number.NaN};d.prototype.j1a=function(b){null!=this.Xb&&null!=this.Xb.left&&null!=b.left&&(b.left=(b.left-this.Xb.left.min)/(this.Xb.left.max-this.Xb.left.min)*100);null!=this.Xb&&null!=this.Xb.right&&null!=b.right&&(b.right=(b.right-this.Xb.right.min)/
(this.Xb.right.max-this.Xb.right.min)*100);null!=this.Xb&&null!=this.Xb.top&&null!=b.top&&(b.top=(b.top-this.Xb.top.min)/(this.Xb.top.max-this.Xb.top.min)*100);return this.lS(b)};d.prototype.lS=function(b){var c=null!=b.right?b.right:100-b.left-b.top;b=null!=b.top?b.top:100-b.right-b.left;return new N(this.size*this.cM*(2*c+b)/100-this.eI,-this.size*this.QO*b/100+this.eI)};d.prototype.g2b=function(b){b=this.Dud(b);null==this.Xb||null==this.Xb.left||isNaN(b.left)||(b.left=b.left/100*(this.Xb.left.max-
this.Xb.left.min)+this.Xb.left.min);null==this.Xb||null==this.Xb.right||isNaN(b.right)||(b.right=b.right/100*(this.Xb.right.max-this.Xb.right.min)+this.Xb.right.min);null==this.Xb||null==this.Xb.top||isNaN(b.top)||(b.top=b.top/100*(this.Xb.top.max-this.Xb.top.min)+this.Xb.top.min);return b};d.prototype.Dud=function(b){var c=100*-(b.getY()-this.eI)/this.size/this.QO;b=(100*(b.getX()+this.eI)/this.size/this.cM-c)/2;var e=100-c-b;if(0>c||100<c||0>b||100<b||0>e||100<e)e=b=c=Number.NaN;return{left:e,right:b,
top:c}};d.prototype.render=function(b){this.f4b(b);this.fzd(b);this.yl(b);this.YF(b)};d.prototype.yl=function(b){if(this.rEc){var c=this.lS({left:100,right:0}).translate(this.center.x,this.center.y),e=this.lS({left:0,right:100}).translate(this.center.x,this.center.y),f=this.lS({left:0,right:0}).translate(this.center.x,this.center.y);a.clear().moveTo(c.getX(),c.getY()).lineTo(e.getX(),e.getY()).lineTo(f.getX(),f.getY()).lineTo(c.getX(),c.getY()).close();b.qa(this.borderStyle);b.Fy(a);b.stroke()}};
d.prototype.f4b=function(b){var c;if(this.T9c){b.qa(this.S9c);var e=null!=this.Xb&&null!=this.Xb.top?this.Xb.top.min:0;var f=null!=this.Xb&&null!=this.Xb.top?this.Xb.top.max:100;for(c=f-this.Ckb;c>e;c-=this.Ckb){var g=null!=this.Xb&&null!=this.Xb.top?(c-e)/(f-e)*100:c;var h=this.lS({left:g,right:0}).translate(this.center.x,this.center.y);g=this.lS({left:0,right:g}).translate(this.center.x,this.center.y);b.Xc(h.getX(),h.getY(),g.getX(),g.getY())}}if(this.qVc)for(b.qa(this.pVc),e=null!=this.Xb&&null!=
this.Xb.left?this.Xb.left.min:0,f=null!=this.Xb&&null!=this.Xb.left?this.Xb.left.max:100,c=f-this.Sgb;c>e;c-=this.Sgb)g=null!=this.Xb&&null!=this.Xb.left?(c-e)/(f-e)*100:c,h=this.lS({top:g,right:0}).translate(this.center.x,this.center.y),g=this.lS({top:0,right:g}).translate(this.center.x,this.center.y),b.Xc(h.getX(),h.getY(),g.getX(),g.getY());if(this.w0c)for(b.qa(this.v0c),e=null!=this.Xb&&null!=this.Xb.right?this.Xb.right.min:0,f=null!=this.Xb&&null!=this.Xb.right?this.Xb.right.max:100,c=f-this.Fib;c>
e;c-=this.Fib)g=null!=this.Xb&&null!=this.Xb.right?(c-e)/(f-e)*100:c,h=this.lS({left:g,top:0}).translate(this.center.x,this.center.y),g=this.lS({left:0,top:g}).translate(this.center.x,this.center.y),b.Xc(h.getX(),h.getY(),g.getX(),g.getY())};d.prototype.fzd=function(b){var c,e=new ek;if(this.R9c){e.kb(this.Q9c);e.nu(!0);e.Vz(Math.PI/3);e.yc(O.Se);var f=null!=this.Xb&&null!=this.Xb.top?this.Xb.top.min:0;var g=null!=this.Xb&&null!=this.Xb.top?this.Xb.top.max:100;for(c=g-this.Ckb;c>f;c=Math.round(100*
(c-this.Ckb))/100){e.Eb(Math.round(100*c)/100);var h=null!=this.Xb&&null!=this.Xb.top?(c-f)/(g-f)*100:c;h=this.lS({top:h,left:-2}).translate(this.center.x,this.center.y);e.Jb(h.getX(),h.getY());e.render(b)}}if(this.oVc)for(e.kb(this.nVc),e.nu(!0),e.Vz(-Math.PI/3),e.yc(O.Se),f=null!=this.Xb&&null!=this.Xb.left?this.Xb.left.min:0,g=null!=this.Xb&&null!=this.Xb.left?this.Xb.left.max:100,c=g-this.Sgb;c>f;c=Math.round(100*(c-this.Sgb))/100)e.Eb(Math.round(100*c)/100),h=null!=this.Xb&&null!=this.Xb.left?
(c-f)/(g-f)*100:c,h=this.lS({left:h,right:-2}).translate(this.center.x,this.center.y),e.Jb(h.getX(),h.getY()),e.render(b);if(this.u0c)for(e.kb(this.t0c),e.nu(!0),e.Vz(0),e.yc(O.ee),f=null!=this.Xb&&null!=this.Xb.right?this.Xb.right.min:0,g=null!=this.Xb&&null!=this.Xb.right?this.Xb.right.max:100,c=g-this.Fib;c>f;c=Math.round(100*(c-this.Fib))/100)e.Eb(Math.round(100*c)/100),h=null!=this.Xb&&null!=this.Xb.right?(c-f)/(g-f)*100:c,h=this.lS({right:h,top:-2}).translate(this.center.x,this.center.y),e.Jb(h.getX(),
h.getY()),e.render(b)};d.prototype.YF=function(b){var c=new ek;c.nu(!0);if(this.Njc){c.kb(this.U9c);c.yc(O.Se);var e=this.lS({right:-1,left:-1}).translate(this.center.x,this.center.y);c.Jb(e.getX(),e.getY());c.Eb(this.Njc);c.render(b)}this.fbc&&(c.kb(this.rVc),c.yc(O.Nf),e=this.lS({top:-1,right:-1}).translate(this.center.x,this.center.y),c.Jb(e.getX(),e.getY()),c.Eb(this.fbc),c.render(b));this.Lec&&(c.kb(this.x0c),c.yc(O.Id),e=this.lS({top:-1,left:-1}).translate(this.center.x,this.center.y),c.Jb(e.getX(),
e.getY()),c.Eb(this.Lec),c.render(b))};d.prototype.ia=function(){var b=Pm.prototype.ia.call(this);b=xb(this.options,b);b.options=this.options;b.center=this.center;b.size=this.size;return b};d.prototype.fa=function(b){Pm.prototype.fa.call(this,b);this.options=G(void 0!==b.options?b.options:b,this.options,!0);this.bYc(this.options);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ0ZXJuYXJ5VG9DYXJ0ZXNpYW4iOiJqMWEiLCJjYXJ0ZXNpYW5Ub1Rlcm5hcnkiOiJnMmIiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var sS=/*#__PURE__*/ta(/*#__PURE__*/{Qoc:"maxtomin",Uoc:"mintomax",Jc:"none"},2,"eyJNYXhUb01pbiI6IlFvYyIsIk1pblRvTWF4IjoiVW9jIiwiTm9uZSI6IkpjIn0g"),tS=/*#__PURE__*/ta(/*#__PURE__*/{Ok:0,kp:1,Oa:2},2,"eyJJbnNpZGUiOiJPayIsIk91dHNpZGUiOiJrcCIsIkNlbnRlciI6Ik9hIn0g"),uS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){Ag.call(this,c);c=G(c,{left:null,right:null,label:null,bounds:new U(0,0,200,200),leftfillstyle:"rgba(128,100,255,1.0)",rightfillstyle:"rgba(128,100,255,1.0)",linestyle:new Y({color:"rgba(0,0,0,1.0)",pixelsnapmode:!0}),leftlinestyle:new Y({color:"rgba(0,0,0,1.0)",pixelsnapmode:!0}),rightlinestyle:new Y({color:"rgba(0,0,0,1.0)",pixelsnapmode:!0}),lefttextstyle:new Fi(a,"middle","left",b),righttextstyle:new Fi(a,
"middle","right",b),labelposition:d.L3a.Oa,spacing:.2,autogradient:!0,sort:sS.Jc,drawlabels:!1},!0);this.iHa=c.sort;this.sa(c.bounds);this.L5=c.spacing;this.VQa=c.drawlabels;this.ja=[];this.sq=[];this.g9=c.autogradient;this.yUa=c.labelposition;void 0!==c.data?this.setData(c.data):this.setData(c);this.Lhc(c.righttextstyle);this.Qgc(c.lefttextstyle);this.Lja(c.leftlinestyle);this.Oja(c.rightlinestyle);this.l0a(c.leftfillstyle);this.B0a(c.rightfillstyle);this.ra(c.fillstyle);this.qa(c.linestyle)}var a=
"#757575",b="12px Roboto";L(d,"geotoolkit.controls.shapes.TornadoChart");D(d,Ag);d.$id=sS;d.L3a=tS;d.prototype.setData=function(c){if(null==c)return this;var e=c.left,f=c.right,g=c.label;null!=c.sort&&c.sort&&(this.iHa=c.sort);this.ja=[];this.sq=[];if(null!=e&&e instanceof Array&&null!=f&&f instanceof Array){for(c=0;c<e.length&&c<f.length;c++){var h=null;null!=g&&null!=g[c]&&(h=g[c]);this.ja.push({left:e[c],right:f[c],label:h})}this.djc()}e=Number.NEGATIVE_INFINITY;for(c=0;c<this.sq.length;c++)this.sq[c].left>
e&&(e=this.sq[c].left),this.sq[c].right>e&&(e=this.sq[c].right);this.Xb=e===Number.NEGATIVE_INFINITY?new U(0,0,1,1):new U(-e,.5,e,this.sq.length+.5);this.Jtd();return this};d.prototype.djc=function(){this.iHa===sS.Jc?this.sq=this.ja:(this.sq=this.ja.slice(),this.iHa===sS.Qoc?this.sq.sort(function(c,e){return e.left+e.right-(c.left+c.right)}):this.iHa===sS.Uoc&&this.sq.sort(function(c,e){return c.left+c.right-(e.left+e.right)}))};d.prototype.Jtd=function(){var c,e=[];for(c=0;c<this.sq.length;++c)e.push({position:c+
1,grade:"major"});var f=[];for(c=0;c<this.sq.length;++c)f.push({position:c+1,grade:"major",label:this.sq[c].label});this.BQ={ticks:e,labels:f}};d.prototype.lDb=function(){return this.BQ};d.prototype.BMa=function(c){this.g9!==c&&(this.g9=c,this.B0a(this.XAa),this.l0a(this.gAa));return this};d.prototype.JWa=function(){return this.g9};d.prototype.PIb=function(c){this.L5=c;return this};d.prototype.sY=function(){return this.L5};d.prototype.J2c=function(c){this.VQa=c;if(!this.VQa){c=Number.NEGATIVE_INFINITY;
for(var e=0;e<this.sq.length;e++)this.sq[e].left>c&&(c=this.sq[e].left),this.sq[e].right>c&&(c=this.sq[e].right);this.Xb=new U(-c,.5,c,this.sq.length+.5)}return this};d.prototype.vEd=function(){return this.VQa};d.prototype.Qs=function(c){this.yUa=c;return this};d.prototype.mba=function(){return this.yUa};d.prototype.getData=function(){return this.sq};d.prototype.render=function(c){c=null!=this.Sa()?c.bc(this.Sa()):c;this.Yh(c);c.fc()?(c.ra(rf.zh),c.Bc(this.oa())):(this.Uxa(c),this.yh(c))};d.prototype.Oja=
function(c,e){if(this.Gib===c)return this;this.Gib=Y.Qe(this,this.Gib,c,e,this.tb());this.xa().ha();return this};d.prototype.Lja=function(c,e){if(this.Tgb===c)return this;this.Tgb=Y.Qe(this,this.Tgb,c,e,this.tb());this.xa().ha();return this};d.prototype.B0a=function(c,e){if(this.XAa===c)return this;this.XAa=ug.Su(this,this.XAa,c,e,this.tb());this.Jra=null;if(this.g9){e=Pd.Rg(this.XAa.mb());c=new Oe(e);c.Caa(-.1);c.LN(.1);e=c.bP();var f=Pd.Rg(this.XAa.mb());c=new Oe(f);c.Caa(.1);c.LN(-.1);f=c.bP();
c=f.um();e=e.um();f=f.um();this.Jra=new og;this.Jra.OVa();this.Jra.Mo(0,c);this.Jra.Mo(.5,e);this.Jra.Mo(1,f);this.Jra.Rja(new N(0,0));this.Jra.setEndPoint(new N(0,1))}this.xa().ha();return this};d.prototype.WXa=function(){return this.Gib};d.prototype.wXa=function(){return this.Tgb};d.prototype.h9b=function(){return this.XAa};d.prototype.I7b=function(){return this.gAa};d.prototype.l0a=function(c,e){if(this.gAa===c)return this;this.gAa=ug.Su(this,this.gAa,c,e,this.tb());this.Jqa=null;if(this.g9){e=
Pd.Rg(this.gAa.mb());c=new Oe(e);c.Caa(-.1);c.LN(.1);e=c.bP();var f=Pd.Rg(this.gAa.mb());c=new Oe(f);c.Caa(.1);c.LN(-.1);f=c.bP();c=f.um();e=e.um();f=f.um();this.Jqa=new og;this.Jqa.OVa();this.Jqa.Mo(0,c);this.Jqa.Mo(.5,e);this.Jqa.Mo(1,f);this.Jqa.Rja(new N(0,0));this.Jqa.setEndPoint(new N(0,1))}this.xa().ha();return this};d.prototype.Qgc=function(c,e){if(this.Ugb===c)return this;this.Ugb=Fi.Qe(this,this.Ugb,c,e,this.tb());this.xa().ha();return this};d.prototype.Lhc=function(c,e){if(this.Hib===c)return this;
this.Hib=Fi.Qe(this,this.Hib,c,e,this.tb());this.xa().ha();return this};d.prototype.Uxa=function(c){if(!(0>=this.sq.length)){var e=c.Ea(),f=e.wd(c.mg());e=e.Ua(this.ga());c.qa(this.Fa());this.GNd(c,e);e=new X;e.tBa(this.oa(),this.ga(),!1,!1,!1);var g=this.gAa,h=this.XAa;null!=this.Jqa&&(g=this.Jqa);null!=this.Jra&&(h=this.Jra);for(var k=this.sq.length,l=0;l<k;l++){var m=this.Xb.la()+(1*l+this.L5/2),n=m+(1-this.L5),p=new U(-this.sq[l].left,m,0,n);m=new U(0,m,this.sq[l].right,n);e.Ua(p,p);e.Ua(m,m);
f.Dd(p)&&(c.qa(this.Tgb),c.ra(g,p),c.Bc(p));f.Dd(m)&&(c.qa(this.Gib),c.ra(h,m),c.Bc(m))}this.VQa&&this.YF(c,e);c.qa(this.Fa());f=this.La.ka()+this.La.ca()/2;c.Xc(f,this.La.la(),f,this.La.ma())}};d.prototype.YF=function(c,e){var f=c.Ea();e=X.multiply(f,e);c.Sb(new X);c.kb(this.Ugb);c.sL().textBaseline="middle";var g;for(g=0;g<this.cSa.length;g++){c.sL().textAlign=this.cSa[g].align;var h=e.Ma(this.cSa[g].position);c.le(h.x,h.y,this.cSa[g].label)}c.kb(this.Hib);c.sL().textBaseline="middle";for(g=0;g<
this.MTa.length;g++)c.sL().textAlign=this.MTa[g].align,h=e.Ma(this.MTa[g].position),c.le(h.x,h.y,this.MTa[g].label);c.Sb(f)};d.prototype.GNd=function(c,e){if(this.VQa){c=!0;null!=this.cSa&&this.MTa?c=!1:(this.cSa=[],this.MTa=[]);var f=Number.NEGATIVE_INFINITY,g;for(g=0;g<this.sq.length;g++)this.sq[g].left>f&&(f=this.sq[g].left),this.sq[g].right>f&&(f=this.sq[g].right);var h=this.sq.length;for(g=0;g<h;g++){var k=e.ca()/2,l=k/f*this.sq[g].left,m=this.$k(this.sq[g].left),n=sg.measureText(m,this.Ugb),
p=k/f*this.sq[g].right,q=this.$k(this.sq[g].right),r=sg.measureText(q,this.Hib),t=new N(-this.sq[g].left,g+1),u=new N(this.sq[g].right,g+1),w="right",y="left";this.yUa===d.L3a.kp?(n.ca()+l>=k&&(n=n.ca()+l-k,l*=f/(l-n),l>f&&(f=l)),r.ca()+p>=k&&(n=r.ca()+p-k,l=f/(p-n)*p,l>f&&(f=l))):this.yUa===d.L3a.Ok?c&&(n.width<l&&(w="left"),r.width<p&&(y="right")):this.yUa===d.L3a.Oa&&c&&(n.width<l&&(t=new N(0,g+1)),r.width<p&&(u=new N(0,g+1)));c&&(this.cSa.push({label:m,position:t,align:w}),this.MTa.push({label:q,
position:u,align:y}))}this.Xb=new U(-f,.5,f,this.sq.length+.5)}};d.prototype.$k=function(c){var e=100;null!=this.Pr&&(e=this.Pr);c=(Math.round(c*e)/e).toString();return" "+c+" "};d.prototype.oa=function(){return this.Xb};d.prototype.eLd=function(){return this.iHa};d.prototype.R6c=function(c){this.iHa=c;this.djc();return this};d.prototype.ga=function(){return null!=this.La?this.La:this.Xb};d.prototype.sa=function(c){this.La=c;this.ha();return this};d.prototype.ia=function(){var c=Ag.prototype.ia.call(this);
c.bounds=this.La;c.lefttextstyle=this.Ugb;c.leftfillstyle=this.gAa;c.leftlinestyle=this.Tgb;c.linestyle=this.Lf;c.righttextstyle=this.Hib;c.rightlinestyle=this.Gib;c.rightfillstyle=this.XAa;c.autogradient=this.g9;c.spacing=this.L5;c.sort=this.iHa;c.drawlabels=this.VQa;c.labelposition=this.yUa;return c};d.prototype.fa=function(c){c=jc(c);if(null==c)return this;Ag.prototype.fa.call(this,c);void 0!==c.bounds&&(this.La=c.bounds);void 0!==c.lefttextstyle&&this.Qgc(c.lefttextstyle,!1===c.lefttextstyle instanceof
Fi);void 0!==c.leftfillstyle&&this.l0a(c.leftfillstyle,!1===c.leftfillstyle instanceof rf);void 0!==c.leftlinestyle&&this.Lja(c.leftlinestyle,!1===c.leftlinestyle instanceof Y);void 0!==c.linestyle&&this.qa(c.linestyle,!1===c.linestyle instanceof Y);void 0!==c.righttextstyle&&this.Lhc(c.righttextstyle,!1===c.righttextstyle instanceof Fi);void 0!==c.rightlinestyle&&this.Oja(c.rightlinestyle,!1===c.rightlinestyle instanceof Y);void 0!==c.rightfillstyle&&this.B0a(c.rightfillstyle,!1===c.rightfillstyle instanceof
rf);void 0!==c.data&&this.setData(c.data);void 0!==c.autogradient&&this.BMa(c.autogradient);void 0!==c.spacing&&(this.L5=c.spacing);void 0!==c.sort&&this.R6c(c.sort);void 0!==c.drawlabels&&this.J2c(c.drawlabels);void 0!==c.labelposition&&this.Qs(c.labelposition);c.hasOwnProperty("left")&&c.hasOwnProperty("right")&&this.setData(c);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzb3J0RGF0YSI6ImRqYyIsImdldFRpY2tzQW5kTGFiZWxzIjoibERiIiwic2V0QXV0b0dyYWRpZW50IjoiQk1hIiwiZ2V0QXV0b0dyYWRpZW50IjoiSldhIiwic2V0U3BhY2luZyI6IlBJYiIsImdldFNwYWNpbmciOiJzWSIsInNldERyYXdMYWJlbHMiOiJKMmMiLCJnZXREcmF3TGFiZWxzIjoidkVkIiwic2V0TGFiZWxQb3NpdGlvbiI6IlFzIiwiZ2V0TGFiZWxQb3NpdGlvbiI6Im1iYSIsInNldFJpZ2h0TGluZVN0eWxlIjoiT2phIiwic2V0TGVmdExpbmVTdHlsZSI6IkxqYSIsInNldFJpZ2h0RmlsbFN0eWxlIjoiQjBhIiwiZ2V0UmlnaHRMaW5lU3R5bGUiOiJXWGEiLCJnZXRMZWZ0TGluZVN0eWxlIjoid1hhIiwiZ2V0UmlnaHRGaWxsU3R5bGUiOiJoOWIiLCJnZXRMZWZ0RmlsbFN0eWxlIjoiSTdiIiwic2V0TGVmdEZpbGxTdHlsZSI6ImwwYSIsInNldExlZnRUZXh0U3R5bGUiOiJRZ2MiLCJzZXRSaWdodFRleHRTdHlsZSI6IkxoYyIsImdldE1vZGVsTGltaXRzIjoib2EiLCJnZXRTb3J0IjoiZUxkIiwic2V0U29ydCI6IlI2YyIsImdldEJvdW5kcyI6ImdhIiwic2V0Qm91bmRzIjoic2EiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var wS=/*#__PURE__*/ta(/*#__PURE__*/{nPa:"Squarify",Cmb:"HorizontalSliceAndDice",Vnb:"VerticalSliceAndDice",plb:"AlternateSliceAndDice"},2,"eyJTcXVhcmlmeSI6Im5QYSIsIkhvcml6b250YWxTbGljZUFuZERpY2UiOiJDbWIiLCJWZXJ0aWNhbFNsaWNlQW5kRGljZSI6IlZuYiIsIkFsdGVybmF0ZVNsaWNlQW5kRGljZSI6InBsYiJ9"),xS=/*#__PURE__*/ta(/*#__PURE__*/{qb:"Top",xlb:"Below",tc:"Left",cc:"Right"},2,"eyJUb3AiOiJxYiIsIkJlbG93IjoieGxiIiwiTGVmdCI6InRjIiwiUmlnaHQiOiJjYyJ9"),yS=/*#__PURE__*/ta(/*#__PURE__*/{NZ:"onDataChanged"},2,"eyJEYXRhQ2hhbmdlZCI6Ik5aIn0g"),zS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(m,n,p,q){n=q?n:p;for(q=p=0;q<m.length;q++)p+=m[q].value;return n/p}function a(m,n,p,q){return Math.max(q*q*n/(p*p),p*p/(q*q*m))}function b(m,n,p){n=n*p/e(m);for(p=0;p<m.length;p++)m[p].value*=n;return m}function c(m){m.sort(function(n,p){return p.value-n.value});return m}function e(m){null==m&&(m=
[]);for(var n=0,p=0;p<m.length;p++)n+=m[p].value;return n}function f(m,n){Pm.call(this,m);this.tx=new U;this.Bb=(new ek).eda(!0).nu(!0).fsa(!0).esa(!0).xb(!1);this.ea={nodevalues:{visible:!0,textstyle:new Fi,location:f.fpc.qb},linestyle:new Y({color:"gray",width:1}),fillstyle:new rf({color:"lightblue"})};this.Mxc=this.ea.nodevalues.visible;this.Lxc=this.ea.nodevalues.location;this.zfa=f.CS.nPa;this.jv=[];this.We=[];this.Bm=!1;this.uT=this.N5=0;this.C9a=!0;this.L6a=!1;this.ad=null;this.FIe=0;this.setOptions(m);
n&&this.setData(n)}function g(m){for(var n=0;n<m.length;n++)if(m[n].id=l++,m[n].hasOwnProperty("level")){g(m[n].level);for(var p=m[n].children=0;p<m[n].level.length;p++)m[n].children=m[n].children+m[n].level[p].children+1}else m[n].children=0}function h(m,n){for(var p=0;p<m.length;p++)m[p].atlevel=n,0<m[p].children&&(n+=1,h(m[p].level,n),--n)}function k(m,n){for(var p=0;p<m.length;p++){if(0===m[p].atlevel)m[p].parent=-1,n=[];else{var q=m[p].atlevel;n=n.slice(0,q);m[p].parent=n[n.length-1]}0<m[p].children&&
(n.push(m[p].id),k(m[p].level,n))}}var l=0;D(f,Pm);L(f,"geotoolkit.controls.shapes.Treemap");f.CS=wS;f.fpc=xS;f.Ka=yS;f.prototype.fa=function(m){m=jc(m);if(null==m)return this;Pm.prototype.fa.call(this,m);return this.setOptions(m)};f.prototype.ia=function(){var m=Pm.prototype.ia.call(this);return xb(this.ta(),m)};f.prototype.v2d=function(m){switch(m){case f.CS.plb:this.zfa=f.CS.plb;break;case f.CS.Cmb:this.zfa=f.CS.Cmb;break;case f.CS.Vnb:this.zfa=f.CS.Vnb;break;default:this.zfa=f.CS.nPa}this.Bm=
!1;this.xa().ha();return this};f.prototype.YGd=function(){return this.zfa};f.prototype.setData=function(m){m=G(m,{mode:f.CS.nPa,datasets:null});this.zfa=m.mode;m=m.datasets;this.jv=wb(m);this.notify(yS.NZ,this,this.jv);this.ha();return this};f.prototype.getData=function(){return{mode:this.zfa,datasets:this.jv}};f.prototype.p8d=function(m){Array.isArray(m)&&0<m.length&&(this.jv=m,this.Bm=!1,this.notify(yS.NZ,this,m))};f.prototype.setOptions=function(m){m=G(m,{});xb(m,this.ea);this.ea.nodevalues&&(this.Mxc=
this.ea.nodevalues.visible,this.Lxc=this.ea.nodevalues.location,this.Bb.kb(this.ea.nodevalues.textstyle));this.ea.linestyle=Y.Ra(this.ea.linestyle);this.ea.fillstyle=ug.fd(this.ea.fillstyle);this.ha();return this};f.prototype.ta=function(){return{nodevalues:{visible:this.Mxc,location:this.Lxc,textstyle:this.Bb.jb()}}};f.prototype.vBd=function(m,n){if(null!=this.jv&&n){m=m.slice(0);var p=n.getX(),q=n.getY(),r=n.ca();n=n.da();this.We=[];if(this.zfa===f.CS.nPa)m=b(m,r,n),m=c(m),this.ycb(m,[],r,n,p,q);
else{switch(this.zfa){case f.CS.Cmb:var t="vertical";break;case f.CS.Vnb:t="horizontal";break;case f.CS.plb:t="alternate";break;default:t=(t=this.td<this.jd)?"horizontal":"vertical"}this.QIc(m,r,n,p,q,t)}}};f.prototype.ycb=function(m,n,p,q,r,t){var u=q<p,w=u?q:p,y=m[0],z=null!=y?y.value:0,x=n.map(function(B){return B.value}),C=e(n),A=W.qf(x);x=W.Rf(x);z=a(Math.min(A,z),Math.max(x,z),C+z,w);A=a(A,x,C,w);if(0===n.length||z<A)m.shift(),n.push(y),this.ycb(m,n,p,q,r,t);else{x="";y=r;A=t;w=C/w;for(C=0;C<
n.length;C++){z=n[C].value/w;x=void 0!==n[C].name?n[C].name:"";var v=void 0!==n[C].color?n[C].color:"";u?(this.We.push({x:y,y:A,width:w,height:z,color:v,name:x,children:n[C].children,id:n[C].id,atlevel:n[C].atlevel,parent:n[C].parent}),void 0!==n[C].level&&(x=b(n[C].level,w,z),x=c(x),this.ycb(x,[],w,z,y,A)),A+=z):(this.We.push({x:y,y:A,width:z,height:w,color:v,name:x,children:n[C].children,id:n[C].id,atlevel:n[C].atlevel,parent:n[C].parent}),void 0!==n[C].level&&(x=b(n[C].level,z,w),x=c(x),this.ycb(x,
[],z,w,y,A)),y+=z)}u?(r+=w,p-=w):(t+=w,q-=w);0<m.length&&this.ycb(m,[],p,q,r,t)}};f.prototype.QIc=function(m,n,p,q,r,t){var u=[],w=!1;null==t&&(t="");switch(t){case "horizontal":t=!0;break;case "vertical":t=!1;break;case "alternate":t=p<n;w=!0;break;default:t=p<n}var y,z=n,x=p;if(w)for(y=t;0<m.length;){var C=d(m,z,x,y);u.push({scaledValue:m[0].value*C,color:m[0].hasOwnProperty("color")?m[0].color:"",child:m[0].hasOwnProperty("level")?m[0].level:null,name:m[0].hasOwnProperty("name")?m[0].name:"",children:m[0].children,
id:m[0].id,atlevel:m[0].atlevel,parent:m[0].parent});y?z-=m[0].value*C:x-=m[0].value*C;y=!y;m.shift()}else for(C=d(m,z,x,t);0<m.length;)u.push({scaledValue:m[0].value*C,color:m[0].hasOwnProperty("color")?m[0].color:"",child:m[0].hasOwnProperty("level")?m[0].level:null,name:m[0].hasOwnProperty("name")?m[0].name:"",children:m[0].children,id:m[0].id,atlevel:m[0].atlevel,parent:m[0].parent}),m.shift();y=t;for(m=0;m<u.length;m++)this.We.push({x:q,y:r,width:y?u[m].scaledValue:n,height:y?p:u[m].scaledValue,
color:u[m].color,name:u[m].name,children:u[m].children,id:u[m].id,atlevel:u[m].atlevel,parent:u[m].parent}),null!=u[m].child&&this.QIc(u[m].child,y?u[m].scaledValue:n,y?p:u[m].scaledValue,q,r,w?"alternate":t?"vertical":"horizontal"),w?(y?(q+=u[m].scaledValue,n-=u[m].scaledValue):(r+=u[m].scaledValue,p-=u[m].scaledValue),y=!y):t?q+=u[m].scaledValue:r+=u[m].scaledValue};f.prototype.GGb=function(m,n,p,q){var r={x:n.x,y:n.y,width:n.width,height:n.height},t=this.ea.fillstyle;""!==n.color&&null==p&&(t=
new rf({color:n.color}));null!=p&&""!==p&&(t=new rf({color:p}));n=this.tx.cb(r);!0===q&&(this.ad=X.Vd(n,this.La));null!=this.ad&&(n=this.ad.transform(n));m.ra(t,n);m.qa(this.ea.linestyle,n);m.Bc(n)};f.prototype.kMa=function(m,n){var p=n.name.trim(),q=n.x+n.width/2;n=n.y+n.height/2;null!=this.ad&&(n=this.ad.Pc(q,n),q=n.getX(),n=n.getY());this.Bb.Eb(p);this.Bb.Jb(q,n);this.Bb.render(m)};f.prototype.Hzd=function(){var m;if(0===this.uT)for(m=0;m<this.We.length;m++)this.We[m].visible=0===this.We[m].atlevel,
this.We[m].visibleborder=!0;else{var n=null,p=0;for(m=0;m<this.We.length;m++)null==n||p>=n?(this.We[m].id===this.N5?(this.We[m].visibleborder=!0,n=this.We[m].children):this.We[m].visibleborder=!1,this.We[m].visible=!1):(p+=1,this.We[m].visible=this.We[m].atlevel===this.uT,this.We[m].visibleborder=!0)}};f.prototype.xZd=function(m){var n=!0,p;for(p=0;p<this.We.length;p++)if(this.We[p].visible){this.GGb(m,this.We[p]);var q=this.We[p].color}else this.We[p].visibleborder&&(0<this.uT&&n?(this.GGb(m,this.We[p],
q,!0),n=!1):(0===this.uT&&(this.ad=null),this.GGb(m,this.We[p],q,!1)));for(p=0;p<this.We.length;p++)this.We[p].visible&&this.kMa(m,this.We[p])};f.prototype.yZd=function(m){for(var n=0;n<this.We.length;n++)this.GGb(m,this.We[n]),this.kMa(m,this.We[n])};f.prototype.IVc=function(){if(!this.Bm){this.Bm=!0;var m=this.ga(),n=[];0>=this.jv.length&&(this.jv=[{value:1,name:"Empty Tree"}]);if(0===m.ca()||0===m.da())m=null;n=wb(this.jv);l=0;this.C9a=!0;g(n);h(n,0);k(n,[]);this.vBd(n,m);this.zfa===f.CS.nPa&&
this.We.sort(function(p,q){return p.id-q.id})}};f.prototype.render=function(m){var n=null!=this.Sa()?m.bc(this.Sa()):m;this.Yh(n);this.IVc();this.C9a&&(this.C9a=!1,this.Hzd());this.L6a?this.xZd(n):this.yZd(n);this.yh(m)};f.prototype.FRd=function(m){this.IVc();if(this.Bm){for(var n=[],p=0;p<this.We.length;p++)this.We[p].name===m&&n.push(this.We[p].id);return n}return[]};f.prototype.gj=function(m){var n=this.wa();m=n.rd(m);n=[];for(var p=0;p<this.We.length;p++)if(this.tx.cb({x:this.We[p].x,y:this.We[p].y,
width:this.We[p].width,height:this.We[p].height}),!this.L6a||this.We[p].visible)null!=this.ad&&(this.tx=this.ad.transform(this.tx)),this.tx.contains(m.getX(),m.getY())&&n.push(this.We[p]);return n};f.prototype.i1d=function(m){this.L6a=m;return this};f.prototype.oTc=function(m){this.L6a=this.C9a=!0;if(isNaN(m)||0>m||m>this.We.length-1)this.N5=this.uT=0,this.ha(),this.ad=null;else{var n=this.We[m];if(null!=n){var p=n.parent;1<=n.children?(this.N5=m,this.uT=n.atlevel+1):-1===p?this.uT=this.N5=0:(this.N5=
p,this.uT=n.atlevel);this.ha()}}};f.prototype.CNd=function(m){if(!(isNaN(m)||0>m||m>this.We.length-1)&&(this.L6a=this.C9a=!0,m=this.We[m],null!=m)){m=m.parent;if(-1===m)this.uT=this.N5=0;else{var n=this.We[m].parent;-1===n?this.uT=this.N5=0:(this.N5=n,this.uT=this.We[m].atlevel)}this.ad=null;this.ha()}};f.prototype.Xic=function(m,n){n?this.CNd(m):this.oTc(m)};f.prototype.i6d=function(m){if(!(isNaN(m)||0>=m)){for(var n=0;n<m;n++)if(-1!==this.N5){var p=this.We[this.N5];this.N5=p.parent}this.oTc(this.N5)}};
return f}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRMYXlvdXRNb2RlIjoidjJkIiwiZ2V0TGF5b3V0TW9kZSI6IllHZCIsInVwZGF0ZURhdGFTZXRzIjoicDhkIiwiZ2V0T3B0aW9ucyI6InRhIiwibG9va1VwRm9ySWRCeU5hbWUiOiJGUmQiLCJoaXRUZXN0IjoiZ2oiLCJzaG93TGV2ZWwiOiJYaWMiLCJzaG93UGFyZW50TGV2ZWxBdERpc3RhbmNlIjoiaTZkIn19fSAg");var BS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e){e=xb(e,{element:null,icon:"",title:"",action:null,init:null,checkbox:{enabled:!1,checked:!1,name:[]},width:null,height:null,color:null,border:""});this.Jf=null==e.element?xc("div",b):e.element;this.CPa=e.action;this.Zi=e.init;this.Zob=e.checkbox.enabled;this.ic=Array.isArray(e.checkbox.name)?e.checkbox.name:[e.checkbox.name];this.jd=e.width;this.td=e.height;if(e.icon){var f=xc("span",e.icon);this.Jf.appendChild(f)}e.title&&(this.Jf.title=e.title);this.Zob&&e.checkbox.checked&&
this.Jf.classList.add(c);e.color&&this.setColor(e.color);e.border&&this.U7(e.border)}function a(e){e.preventDefault()}var b="cg-toolbar-button",c="cg-toolbar-checked";L(d,"geotoolkit.controls.toolbar.Button");d.prototype.clone=function(){return Cb(this)};d.prototype.Ba=function(e){this.Jf=e.Jf.cloneNode(!0);this.CPa=e.CPa;this.Zi=e.Zi;this.Zob=e.Zob;this.ic=e.ic;this.jd=e.jd;this.td=e.td;return this};d.prototype.yd=function(){return this.Jf};d.prototype.zBd=function(){return this.CPa};d.prototype.T_d=
function(e){this.CPa=e;return this};d.prototype.zGd=function(){return this.Zi};d.prototype.g2d=function(e){this.Zi=e;return this};d.prototype.Ga=function(){return this.ic};d.prototype.ca=function(){return this.jd};d.prototype.da=function(){return this.td};d.prototype.setSize=function(e,f){null==f&&(f=e);this.Jf.style.width=e+"px";this.Jf.style.minWidth=e+"px";this.Jf.style.height=f+"px";this.Jf.style.minHeight=f+"px";this.Jf.style.lineHeight=f+"px";this.jd=e;this.td=f;return this};d.prototype.V5b=
function(){return this.Jf.classList.contains(c)};d.prototype.Uib=function(e){e?this.Jf.classList.add(c):this.Jf.classList.remove(c);return this};d.prototype.setColor=function(e){this.Kha().style.backgroundColor=e;return this};d.prototype.mb=function(){return this.Kha().style.backgroundColor};d.prototype.U7=function(e){this.Kha().style.border=e;return this};d.prototype.ut=function(){return this.Kha().style.border};d.prototype.clear=function(e,f){if(this.Jf.parentNode){var g=f.indexOf(this);0<=g&&f.splice(g,
1);this.Zi&&this.Zi.call(this,e,!1);this.Kha().removeEventListener("click",this.JK);this.Kha().removeEventListener("contextmenu",a);e=this.Jf.parentNode;for(f=0;f<e.childElementCount;f++)if(e.children[f]===this.Jf){null==e.children[f+1]||e.children[f+1].classList.contains(b)?null==e.children[f-1]||e.children[f-1].classList.contains(b)||e.removeChild(e.children[f-1]):e.removeChild(e.children[f+1]);e.removeChild(this.Jf);break}}};d.prototype.Kha=function(){return this.Jf};d.prototype.init=function(e,
f,g,h,k,l){this.Zi&&this.Zi.call(this,e,!0);var m=this;this.JK=function(n){l(m);n.stopPropagation();n.preventDefault()};this.Jf.classList.contains(c)&&this.action(e,!0);this.Kha().addEventListener("click",this.JK);this.Kha().addEventListener("contextmenu",a);k=null!=k&&null!=h?2*k:k;null!=k&&g.childElementCount>k?(e=g.children[k],g.insertBefore(this.Jf,e),null!=h&&g.insertBefore(h.cloneNode(!0),e)):(null!=h&&0<g.childElementCount&&g.appendChild(h.cloneNode(!0)),g.appendChild(this.Jf));f.push(this);
null==this.jd&&null==this.td||this.setSize(this.jd,this.td);return this};d.prototype.action=function(e,f){this.Zob&&this.Uib(f);null!=this.CPa&&this.CPa.call(this,e,f);return this};d.prototype.match=function(e){e=e.Ga();if(0===this.ic.length||0===e.length)return!1;for(var f=0;f<this.ic.length;f++){var g=this.ic[f];if(0<=e.indexOf(g))return!0}return!1};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsImdldEVsZW1lbnQiOiJ5ZCIsImdldEFjdGlvbiI6InpCZCIsInNldEFjdGlvbiI6IlRfZCIsImdldEluaXQiOiJ6R2QiLCJzZXRJbml0IjoiZzJkIiwiZ2V0TmFtZSI6IkdhIiwiZ2V0V2lkdGgiOiJjYSIsImdldEhlaWdodCI6ImRhIiwiZ2V0Q2hlY2tlZCI6IlY1YiIsInNldENoZWNrZWQiOiJVaWIiLCJnZXRDb2xvciI6Im1iIiwic2V0Qm9yZGVyIjoiVTciLCJnZXRCb3JkZXIiOiJ1dCJ9fX0g");var CS=/*#__PURE__*/ta(/*#__PURE__*/{O8:"pointer",tP:"rubberband"},2,"eyJQb2ludGVyIjoiTzgiLCJSdWJiZXJCYW5kIjoidFAifSAg");var DS=/*#__PURE__*/ta(/*#__PURE__*/{Osa:"Distance",JZ:"Area"},2,"eyJEaXN0YW5jZSI6Ik9zYSIsIkFyZWEiOiJKWiJ9");var ES=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){this.zk={}}L(d,"geotoolkit.controls.toolbar.ButtonRegistry");d.prototype.register=function(b,c){this.zk[b]=c instanceof BS?c:new BS(c);return this};d.prototype.O5b=function(b){return this.zk.hasOwnProperty(b)?this.zk[b].clone():null};d.prototype.nGd=function(){return Object.keys(this.zk)};var a=null;d.ya=function(){null==a&&(a=new d,a.register("zoom-in",{title:"Zoom in",icon:"fas fa-plus",action:function(b){var c=b.$b("zoom"),e=b.ub();c&&e.ga&&(b=b.ub().ga())&&c.zoom(2,
2,b.hc(),b.Dc())}}).register("zoom-out",{title:"Zoom out",icon:"fas fa-minus",action:function(b){var c=b.$b("zoom"),e=b.ub();c&&e.ga&&(b=b.ub().ga())&&c.zoom(.5,.5,b.hc(),b.Dc())}}).register("export-png",{title:"Save as PNG",icon:"fas fa-file-image",action:function(b){b=b.Ye().Sk();var c=xc("a");c.href=b.toDataURL();c.download="screen.png";c.click()}}).register("point-selection",{title:"Point Selection",icon:"fas fa-hand-pointer",checkbox:{enabled:!0,name:"tools"},action:function(b,c){(b=b.$b("pick"))&&
b.Rb(c).Qja(CS.O8)}}).register("rubberband-selection",{title:"RubberBand Selection",icon:"fas fa-vector-square",checkbox:{enabled:!0,name:"tools"},action:function(b,c){(b=b.$b("pick"))&&b.Rb(c).Qja(CS.tP)}}).register("polygon-selection",{title:"Polygon Selection",icon:"fas fa-draw-polygon",checkbox:{enabled:!0,name:"tools"},action:function(b,c){(b=b.$b("polygon-selection"))&&b.Rb(c)}}).register("tooltip",{title:"Tooltip",icon:"fas fa-comment-alt",checkbox:{enabled:!0,name:"tools"},action:function(b,
c){(b=b.$b("tooltip"))&&b.Rb(c)}}).register("measure",{title:"Measure distance",icon:"fas fa-ruler-horizontal",checkbox:{enabled:!0,name:"tools"},action:function(b,c){(b=b.$b("measure"))&&b.Rb(c).lIb(DS.Osa)}}).register("measure-area",{title:"Measure area",icon:"fas fa-ruler-combined",checkbox:{enabled:!0,name:"tools"},action:function(b,c){(b=b.$b("measure"))&&b.Rb(c).lIb(DS.JZ)}}));return a};return d}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsiZ2V0QnV0dG9uIjoiTzViIiwiZ2V0SWRzIjoibkdkIn19fSAg");var FS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=G(c,{text:"",padding:10,checkbox:{enabled:!0}});BS.call(this,c);this.Wf=c.padding;if(c.text){var e=xc("div",b);e.innerText=c.text;this.yd().appendChild(e)}this.yd().classList.add(a);this.yd().style.paddingLeft=this.Wf+"px";this.yd().style.paddingRight=this.Wf+"px"}var a="cg-toolbar-checkbox",b="cg-toolbar-checkbox-text";D(d,BS);L(d,"geotoolkit.controls.toolbar.Checkbox");d.prototype.Ba=function(c){this.Wf=c.Wf};d.prototype.setSize=function(c,e){null==e&&null!=c&&
(e=c,c=this.ca());return BS.prototype.setSize.call(this,c,e)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSJ9fX0g");var GS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=xb(b,{icon:"fas fa-ellipsis-v",checkbox:{enabled:!0},buttons:[]});BS.call(this,b);this.zk=[];var c=ES.ya();b=Array.isArray(b.buttons)?b.buttons:[];for(var e=0;e<b.length;e++){var f="string"===typeof b[e]?c.O5b(b[e]):b[e];null!=f&&this.zk.push(f)}c=xc("div",a);c.appendChild(this.yd());this.Jf=c}var a="cg-toolbar-dropdown";D(d,BS);L(d,"geotoolkit.controls.toolbar.Dropdown");d.prototype.Ba=function(b){this.zk=[];for(var c=0;c<b.zk.length;c++)this.zk.push(b.zk[c].clone())};
d.prototype.init=function(b,c,e,f,g,h){BS.prototype.init.call(this,b,c,e,f,g,h);for(e=0;e<this.zk.length;e++)this.zk[e].init(b,c,this.yd(),f,null,h);return this};d.prototype.Kha=function(){return this.yd().firstChild};d.prototype.setSize=function(b,c){BS.prototype.setSize.call(this,b,c);var e=0<this.zk.length&&!this.V5b();e&&this.Uib(!0);for(var f=0;f<this.zk.length;f++)this.zk[f].setSize(b,c);e&&this.Uib(!1);return this};d.prototype.P5b=function(){return this.zk};d.prototype.setColor=function(b){BS.prototype.setColor.call(this,
b);for(var c=0;c<this.zk.length;c++)this.zk[c].setColor(b);return this};d.prototype.U7=function(b){BS.prototype.U7.call(this,b);for(var c=0;c<this.zk.length;c++)this.zk[c].U7(b);return this};d.prototype.clear=function(b,c){for(var e=0;e<this.zk.length;e++)this.zk[e].clear(b,c);this.zk.length=0;BS.prototype.clear.call(this,b,c)};ES.ya().register("selection",new d({title:"Selection Tools",icon:"fas fa-tools",buttons:["point-selection","polygon-selection","rubberband-selection"]})).register("tools",
new d({title:"Tools",icon:"fas fa-tools",buttons:"point-selection rubberband-selection polygon-selection tooltip measure measure-area".split(" ")}));return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsImdldEJ1dHRvbkVsZW1lbnQiOiJLaGEiLCJnZXRCdXR0b25zIjoiUDViIiwic2V0Qm9yZGVyIjoiVTcifX19");var HS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=G(b,{text:"",padding:5,icon:null});BS.call(this,b);this.Wf=b.padding;var c=xc("div",a);c.innerText=b.text;this.yd().appendChild(c);this.yd().classList.add(a);this.yd().style.paddingLeft=this.Wf+"px";this.yd().style.paddingRight=this.Wf+"px"}var a="cg-toolbar-label";D(d,BS);L(d,"geotoolkit.controls.toolbar.Label");d.prototype.Ba=function(b){this.Wf=b.Wf};d.prototype.Eb=function(b){var c=this.yd().getElementsByClassName(a)[0];c.innerText=b;return this};d.prototype.setSize=
function(b,c){if(null==c){c=b;var e=this.yd().getElementsByClassName(a)[0],f=0;e&&(f=e.offsetWidth+2*this.Wf);b=Math.max(b,f)}return BS.prototype.setSize.call(this,b,c)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldFRleHQiOiJFYiJ9fX0g");var IS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(l){l=G(l,{tools:null,element:null,buttons:[],alignment:O.Id,orientation:Rh.rb,offset:10,size:30,fontsize:15,gap:1,borderradius:5,border:"",color:"white",node:null});this.Te=l.alignment;this.Qk=l.tools;var m=this.Qk.Ye();k.has(m)||k.set(m,[]);this.Rm=k.get(m);this.Wb=l.size;this.bA=l.color;this.hm=l.border;this.Ib="number"===typeof l.offset?new Ud(l.offset,l.offset):l.offset;this.Jf=this.createElement(l);this.JK=this.gd.bind(this);this.zk=[];this.SM=this.Ewd(l.gap);for(var n=
null,p=0;p<l.buttons.length;p++)n=this.$2b(l.buttons[p],n,this.SM,null,null,this.JK);this.dGa=this.TE.bind(this);this.Qtb=this.Jf.offsetWidth;this.Ptb=this.Jf.offsetHeight;m.on(Ml.QV,this.dGa);this.uc=m;this.Nd=l.node;if(null!=this.Nd)this.Nd.on(ze.CD,this.dGa);this.TE()}var a="cg-toolbar-container",b="cg-toolbar-left",c="cg-toolbar-right",e="cg-toolbar-top",f="cg-toolbar-bottom",g="cg-toolbar-group",h="cg-toolbar-gap",k=new Map;L(d,"geotoolkit.controls.toolbar.Toolbar");d.prototype.IFc=function(){for(var l=
0;l<this.zk.length;l++)for(var m=0;m<this.zk[l].length;m++)this.zk[l][m].clear(this.Qk,this.Rm);for(;this.Jf.firstChild;)this.Jf.removeChild(this.Jf.lastChild);this.zk=[];return this};d.prototype.dQe=function(l){this.IFc();for(var m=null,n=0;n<l.length;n++)m=this.$2b(l[n],m,this.SM,null,null,this.JK);return this};d.prototype.getSize=function(){return this.Wb};d.prototype.Ap=function(l){this.Ib=l;this.TE();return this};d.prototype.yd=function(){return this.Jf};d.prototype.jU=function(){return this.Jf.style.display};
d.prototype.gBa=function(l){this.Jf.style.display=l;return this};d.prototype.Ia=function(){return"visible"===this.Jf.style.visibility};d.prototype.va=function(l){if(this.Ia()===l)return this;this.Jf.style.visibility=l?"visible":"hidden";return this};d.prototype.tCd=function(){return this.zk};d.prototype.ePd=function(l,m,n){var p=this.Jf.children[l];this.$2b(n,p,this.SM,l,m,this.JK);this.TE();return this};d.prototype.UXd=function(l){for(var m=0;m<this.zk.length;m++)for(var n=0;n<this.zk[m].length;n++)if(this.zk[m][n]===
l)return this.zk[m].splice(n,1),l.clear(this.Qk,this.Rm),this;return this};d.prototype.createElement=function(l){var m=l.element;null==m&&(this.p9=null,this.p9=l.orientation===Rh.rb?ok.cw(l.alignment)?c:b:ok.cD(l.alignment)?f:e,null!=l.classname&&(this.p9+=" "+l.classname),m=xc("div",this.p9),l.borderradius&&(m.style.borderRadius=l.borderradius+"px"),l.fontsize&&(m.style.fontSize=l.fontsize+"px"),m.style.position="absolute");l=this.Qk.Ye().Pw();var n=l.parentNode;if(n&&n.classList.contains(a))n.appendChild(m);
else{var p=xc("div",a);p.appendChild(l);p.appendChild(m);n&&n.appendChild(p)}m.style.visibility="visible";return m};d.prototype.$2b=function(l,m,n,p,q,r){if("-"===l)return null;"string"===typeof l?l=ES.ya().O5b(l):Array.isArray(l)&&(l=new GS({icon:"fas fa-ellipsis-v",buttons:l}));if(!l)return m;m||(m=xc("div",g),this.Jf.appendChild(m),this.zk.push([]));l.init(this.Qk,this.Rm,m,n,q,r);null!=this.Wb&&null==l.ca()&&null==l.da()&&l.setSize(this.Wb);this.hm&&l.U7(this.hm);l.setColor(this.bA);null==p&&
(p=this.zk.length-1);this.zk[p].push(l);return m};d.prototype.Ewd=function(l){if(0>=l&&!this.hm)return null;var m=xc("div",h);m.style.width=l+"px";m.style.minWidth=l+"px";m.style.height=l+"px";m.style.minHeight=l+"px";this.hm&&(l=parseInt(this.hm))&&(m.style.marginTop=-l+"px",m.style.marginLeft=-l+"px");return m};d.prototype.TE=function(){this.Qtb=this.Jf.offsetWidth||this.Qtb;this.Ptb=this.Jf.offsetHeight||this.Ptb;var l=this.Qk.Ye();l=l.Pw();l=new U(l.offsetLeft,l.offsetTop,l.offsetLeft+l.offsetWidth,
l.offsetTop+l.offsetHeight);null!=this.Nd&&(l=this.Nd.fj());ok.zv(this.Te)?this.Jf.style.left=l.ka()+this.Ib.ca()+"px":ok.cw(this.Te)?this.Jf.style.left=l.na()-this.Qtb-this.Ib.ca()+"px":this.Jf.style.left=l.hc()-this.Qtb/2-this.Ib.ca()+"px";this.Jf.style.top=ok.NA(this.Te)?l.la()+this.Ib.da()+"px":ok.cD(this.Te)?l.ma()-this.Ptb-this.Ib.da()+"px":l.Dc()-this.Ptb/2-this.Ib.da()+"px"};d.prototype.gd=function(l){var m=l.V5b();if(!m)for(var n=0;n<this.Rm.length;n++)this.Rm[n]!==l&&this.Rm[n].match(l)&&
this.Rm[n].action(this.Qk,!1);l.action(this.Qk,!m)};d.prototype.dispose=function(){null!=this.Qk&&(null!=this.Nd&&this.Nd.za(ze.CD,this.dGa),null!=this.uc&&this.uc.za(Ml.QV,this.dGa),this.IFc(),null!=this.Jf&&null!=this.Jf.parentNode&&this.Jf.parentNode.removeChild(this.Jf),this.Rm=this.Jf=this.Qk=null,this.zk.length=0,this.SM=null)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRPZmZzZXQiOiJBcCIsImdldEVsZW1lbnQiOiJ5ZCIsImdldFZpc2libGUiOiJJYSIsInNldFZpc2libGUiOiJ2YSIsImdldEJ1dHRvbkxpc3QiOiJ0Q2QiLCJpbnNlcnRCdXR0b24iOiJlUGQiLCJyZW1vdmVCdXR0b24iOiJVWGQifX19");var JS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e,f){this.yu=a;this.vqb=b;this.fr=c;this.Fk=e;this.ho=f;this.Vf=!0}d.prototype.YLc=function(){return this.yu};d.prototype.Oh=function(){return this.vqb};d.prototype.Kd=function(){return this.Fk};d.prototype.Mc=function(){return this.fr};d.prototype.isEnabled=function(){return this.Vf&&this.fr.isEnabled()};d.prototype.Rb=function(a){this.Vf=a;return this};d.prototype.OLe=function(){return this.ho};d.prototype.sg=function(a){if(a instanceof WR)return this.ho.call(this,
a),a;a=new WR(this.vqb,a);this.ho.call(this,a);return a};d.prototype.za=function(){this.yu.za(this);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb21wb3NpdGVUb29sIjoiWUxjIiwiZ2V0RXZlbnROYW1lIjoiT2giLCJnZXRPYmplY3QiOiJLZCIsImdldFRvb2wiOiJNYyIsInNldEVuYWJsZWQiOiJSYiIsImV4ZWN1dGUiOiJzZyJ9fX0g");var KS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e,f,g){for(var h,k,l=0;l<e.length;l++){h=e[l];k=h.Ga();if(0===k.length&&h instanceof c){var m=h.Q9b(f,g);if(null!=m)return m}if(k===f[g]){if(g===f.length-1)return h;if(h instanceof c)return h.Q9b(f,g+1)}}return null}function a(e,f){for(var g=[],h,k=0;k<e.length;k++){h=e[k];if(h instanceof f)return h;h instanceof c&&g.push(h)}if(0<g.length)for(e=0;e<g.length;e++)if(h=g[e].FU(f),null!=h)return h;return null}function b(e,f){for(var g=[],h,k=0;k<e.length;k++){h=e[k];if(h.Ga()===
f||h.Ga().replace(/-/g,"")===f.replace(/-/g,""))return h;h instanceof c&&g.push(h)}for(e=0;e<g.length;e++)if(h=g[e].$b(f),null!=h)return h;return null}function c(e){e="object"===typeof e?e:{name:e};SR.call(this,e);this.uc=null;this.Qk=[];this.zW={};this.tW={};this.n8a=!1}D(c,SR);L(c,"geotoolkit.controls.tools.AbstractCompositeTool");c.prototype.mJ=function(e){if(this.uc!==e){this.uc=e;for(var f in this.Qk)this.Qk.hasOwnProperty(f)&&this.Qk[f].mJ(e)}return SR.prototype.mJ.call(this,e)};c.prototype.dispose=
function(){if(!this.te()){this.mJ(null);for(var e=this.Qk.length-1;0<=e;--e)this.Qk[e]&&this.Qk[e].dispose();SR.prototype.dispose.call(this)}};c.prototype.Q9b=function(e,f){return f>=e.length?null:d(this.Qk,e,f)};c.prototype.$b=function(e){var f=b(this.Qk,e);null==f&&(e=e.split("."),0<e.length&&e[0]===this.Ga()&&(f=this.Q9b(e,1)));return f};c.prototype.FU=function(e){return a(this.Qk,e)};c.prototype.m7=function(){return this.PIc(this.Ga(),[])};c.prototype.PIc=function(e,f){for(var g,h,k=0;k<this.Qk.length;k++)g=
this.Qk[k],h=g.Ga(),g instanceof c?(h=0===h.length?e:0===e.length?h:e+"."+h,g.PIc(h,f)):f.push(0<e.length?e+"."+h:h);return f};c.prototype.vVc=function(){return this.OIc([])};c.prototype.OIc=function(e){for(var f,g=0;g<this.Qk.length;g++)f=this.Qk[g],f instanceof c?f.OIc(e):e.push(f);return e};c.prototype.Ifb=function(e){return this.Qk.indexOf(e)};c.prototype.Mf=function(e){!0===e&&(this.Qk.forEach(function(f){f.detach(this)}.bind(this)),this.Qk.forEach(function(f){f.attach(this)}.bind(this)));null!=
this.jza()&&this.jza().Mf(!0);this.fireEvent(RR.TZa,null);return this};c.prototype.vo=function(e,f){this.Qk.forEach(function(g){g.detach(this)}.bind(this));e=Array.isArray(f)?[e,0].concat(f):[e,0,f];Array.prototype.splice.apply(this.Qk,e);this.n8a=!1;this.Qk.forEach(function(g){g.mJ(this.uc);g.attach(this)}.bind(this));!0===this.n8a&&this.Mf();return this};c.prototype.add=function(e){if(null==e)return this;e=Array.isArray(e)?e:[e];this.n8a=!1;for(var f=0;f<e.length;++f)null!=e[f]&&(this.Qk.push(e[f]),
e[f].mJ(this.uc),e[f].attach(this));!0===this.n8a&&this.Mf();return this};c.prototype.remove=function(e){e=Array.isArray(e)?e:[e];for(var f=0;f<e.length;++f){var g=this.Qk.indexOf(e[f]);-1!==g&&(this.Qk.splice(g,1),e[f].detach(this),e[f].mJ(null))}return this};c.prototype.on=function(e,f,g,h){null==this.zW[e]&&(this.zW[e]=[],this.n8a=!0);0===this.zW[e].length&&this.attachEvent(e);f=new JS(this,e,f,g,h);this.zW[e].push(f);return f};c.prototype.za=function(e){if(null==e||!(e instanceof JS))return hb("A wrong handler is in AbstractCompositeTool.prototype.off"),
this;var f=this.zW[e.Oh()];if(null==f)return this;var g=f.indexOf(e);-1!==g&&f.splice(g,1);0===f.length&&this.detachEvent(e.Oh());return this};c.prototype.detachEvent=function(e){this.tW[e]=null;return this};c.prototype.attachEvent=function(e){if(null!=this.tW[e])return this;var f=function(g){return this.dispatchEvent(e,g)}.bind(this);this.tW[e]=f;return this};c.prototype.pEd=function(e){return null==e?this.tW:this.tW[e]};c.prototype.dispatchEvent=function(e,f){if(!this.isEnabled())return!1;var g=
f.eqa()?f.eqa().length:0;e=this.zW[e];if(null==e)return!1;for(var h=!0,k=SR.Tdb(f.Ye()),l=0;l<e.length;++l){var m=e[l];if(m.Mc().Aac(g)&&(!1!==m.Mc()instanceof c||null==k||m.Mc()===k)&&m.isEnabled()){h=m.sg(f);if(h.Kk())return h.jIa();h=h&&h.jIa()}}return h};c.prototype.Aac=function(e){return!0};return c}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhdHRhY2hUb1Bsb3QiOiJtSiIsImdldFRvb2xCeU5hbWUiOiIkYiIsImdldFRvb2xCeVR5cGUiOiJGVSIsImxpc3RUb29sc05hbWVzIjoibTciLCJnZXRUb29sSW5kZXgiOiJJZmIiLCJpbnNlcnQiOiJ2byIsImlzTXVsdGlUb3VjaENvbXBsaWFudCI6IkFhYyJ9fX0g");var LS=/*#__PURE__*/ta(/*#__PURE__*/{H8:0,yb:1,rb:2,tlb:3},2,"eyJGcmVlIjoiSDgiLCJIb3Jpem9udGFsIjoieWIiLCJWZXJ0aWNhbCI6InJiIiwiQXNwZWN0UmF0aW8iOiJ0bGIifSAg");var MS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){a=G(a,{name:"string"===typeof b?b:"",mode:null==c?LS.H8:c});SR.call(this,a);this.pd=new N(0,0);this.Nn=new N(0,0);this.N9a=a.mode;this.zk=Dc.tc}D(d,SR);L(d,"geotoolkit.controls.tools.AbstractRubberTool");d.prototype.w6c=function(a){this.N9a=a;return this};d.prototype.jRc=function(){return this.N9a};d.prototype.$Ec=function(a,b){var c=this.mc().wb(!0);if(this.N9a===LS.tlb){var e=c.da()/c.ca();c=b.getY()-a.getY();var f=b.getX()-a.getX(),g=Math.abs(c),h=Math.abs(f);
e<g/h?(c=g/e,0<f?b.Da(a.getX()+c,b.getY()):b.Da(a.getX()-c,b.getY())):(f=h*e,0<c?b.Da(b.getX(),a.getY()+f):b.Da(b.getX(),a.getY()-f))}else this.N9a===LS.rb?(a.Da(c.ka(),a.getY()),b.Da(c.na(),b.getY())):this.N9a===LS.yb&&(a.Da(a.getX(),c.la()),b.Da(b.getX(),c.ma()))};d.prototype.ZJa=function(){return this.zk};d.prototype.xjb=function(a){this.zk=a;return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRSdWJiZXJCYW5kUmVuZGVyTW9kZSI6Inc2YyIsImdldFJ1YmJlckJhbmRSZW5kZXJNb2RlIjoialJjIiwiZ2V0TW91c2VCdXR0b25zIjoiWkphIiwic2V0TW91c2VCdXR0b25zIjoieGpiIn19fSAg");var NS=/*#__PURE__*/ta(/*#__PURE__*/{q2a:"corner",Oa:"center"},2,"eyJDb3JuZXIiOiJxMmEiLCJDZW50ZXIiOiJPYSJ9");var OS=/*#__PURE__*/ta(/*#__PURE__*/{tc:"left",cc:"right",BD:"both"},2,"eyJMZWZ0IjoidGMiLCJSaWdodCI6ImNjIiwiQm90aCI6IkJEIn0g"),PS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"colorbarcursor",offset:0,symbolalignment:OS.BD,symbol:new Km({cssclass:a.cssclass||"colorbarcursor-symbol",width:6,height:6,alignment:O.Oa,sizeIsInDeviceSpace:!0,painter:Jm,fillstyle:"black",visible:!0})},!0);if(null==a.colorbar)throw Error("colorbar should be defined");var b={slots:{},name:a.name,layer:a.group};SR.call(this,b);this.Ze=a.colorbar;this.et=ff(this.Ze).vc(function(c){return c instanceof XN}).ug();this.$m({pointermove:this.Ic.bind(this),
"cg-enter":function(c){this.GMa(!0);this.fireEvent(RR.Xia,c)}.bind(this),"cg-leave":function(c){this.GMa(!1);this.fireEvent(RR.Oz,c)}.bind(this)});this.wu=a.callback;"function"===typeof a.init&&a.init(this);this.BN=this.AN=null;this.fBc=a.symbolalignment;this.Ib=a.offset;this.Ao(a.symbol);this.GMa(!1);this.E$=this.S8d.bind(this);this.Ze.on(Wh.Lv,this.E$)}D(d,SR);L(d,"geotoolkit.controls.tools.ColorBarCursorTool");d.ojd=OS;d.prototype.dispose=function(){this.Ze.za(Wh.Lv,this.E$);this.AN&&this.mc().removeChild(this.AN);
this.BN&&this.mc().removeChild(this.BN);SR.prototype.dispose.call(this)};d.prototype.Ap=function(a){if(this.Ib===a)return this;this.Ib=a;this.mad();return this};d.prototype.GMa=function(a){null!=this.AN&&this.AN.va(a);null!=this.BN&&this.BN.va(a);return this};d.prototype.setPosition=function(a){if(a===this.kg)return this.GMa(!0);var b=this.Ze.yQc(a);if(!1===Number.isFinite(b))return this.GMa(!1),this;this.kg=a;a=this.et.ga().clone();var c=this.et.getParent().wa();c.Ua(a,a);var e=this.mc().wa(),f=
this.od.ca()/2+this.Ib;if(this.Ze.bm()){c=a.getY();var g=this.Ze.getParent().wa().r8(b,0);if(this.AN){var h=e.Mx(g,c-f);b=this.AN.ob();this.AN.translate(h.getX()-b.cf(),h.getY()-b.Pe())}this.BN&&(h=e.Mx(g,c+f+a.da()),b=this.BN.ob(),this.BN.translate(h.getX()-b.cf(),h.getY()-b.Pe()))}else c=a.getX(),g=this.Ze.getParent().wa().vda(0,b),this.AN&&(h=e.Mx(c-f,g),b=this.AN.ob(),this.AN.translate(h.getX()-b.cf(),h.getY()-b.Pe())),this.BN&&(h=e.Mx(c+f+a.ca(),g),b=this.BN.ob(),this.BN.translate(h.getX()-b.cf(),
h.getY()-b.Pe()));return this.GMa(!0)};d.prototype.mad=function(){return null==this.kg?this:this.setPosition(this.kg)};d.prototype.Ic=function(a){if(this.isEnabled()&&this.Ze.Ia()&&null!=this.wu){var b=a.ub(),c=this.Sd(null,a);a=a.Je();b=this.wu.call(this,b?b.wa().rd(c):c,a,this);"number"===typeof b?this.setPosition(b):this.GMa(!1)}};d.prototype.x5b=function(a){var b=Math.PI/2;a=a===OS.cc;var c=this.Ze.oba();switch(c){case WN.ue:case WN.Ec:var e=a?0:2*b;break;case WN.Rc:case WN.lc:e=a?3*b:b}return e};
d.prototype.Ao=function(a){this.od=a;this.fBc!==OS.cc&&this.uIb(OS.tc);this.fBc!==OS.tc&&this.uIb(OS.cc);return this};d.prototype.uIb=function(a){var b=a===OS.cc;this.mc().removeChild(b?this.BN:this.AN);var c=this.od.clone();c.rotate(this.x5b(a),c.Wn(),c.Cm());b?this.BN=c:this.AN=c;this.mc().pa(c);return this};d.prototype.JMe=function(){var a=this.et.ga().clone();this.et.getParent().wa().Ua(a,a);return this.Ze.bm()?a.getY():a.getX()};d.prototype.S8d=function(){null!=this.AN&&(this.AN.Tc(null),this.AN.rotate(this.x5b(OS.tc),
this.AN.Wn(),this.AN.Cm()));null!=this.BN&&(this.BN.Tc(null),this.BN.rotate(this.x5b(OS.cc),this.BN.Wn(),this.BN.Cm()));this.kg=null};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRPZmZzZXQiOiJBcCIsInVwZGF0ZVBvc2l0aW9uIjoibWFkIiwic2V0U3ltYm9sIjoiQW8ifX19");var QS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){a=G(a,{name:b||"",node:a instanceof Uh?a:null},!0);KS.call(this,a);this.E5a=[];this.Nd=a.node;this.M$a=null}D(d,KS);L(d,"geotoolkit.controls.tools.CompositeTool");d.prototype.dispose=function(){this.M$a=this.Nd=null;KS.prototype.dispose.call(this)};d.prototype.ub=function(){return this.Nd};d.prototype.fm=function(a){this.Nd=a;return this};d.prototype.Vyd=function(a){var b=new YR(a),c=a.Sdb();if(null!=this.Nd&&null!=a.Ye()&&(null==a.Je()||c===a.Ye().Pw())){if(c=a.e7()){var e=
this.Sd(this.Nd,a);c=null!=this.Nd&&null!=this.Nd.wb?this.Nd.wb():null;if(null==c)return;var f=e.getX();e=e.getY();c=c.contains(f,e)}if(c)null==this.M$a&&("cg-enter"!==a.Oh()&&this.dispatchEvent("cg-enter",new YR(a,"cg-enter")),this.M$a=this.Nd);else{null!=this.M$a&&(this.dispatchEvent("cg-leave",new YR(a,"cg-leave")),this.M$a=null);return}}this.dispatchEvent(a.Oh(),b)};d.prototype.detach=function(a){a===this.jza()&&this.CIb(null);if(!this.isEnabled())return this;for(var b in this.zW)if(null!=this.zW[b])for(var c in this.E5a)for(var e=
this.E5a[c],f=0;f<e.length;f++)e[f]&&a.za(e[f]);return this};d.prototype.attach=function(a){this.CIb(a);if(!this.isEnabled())return this;for(var b in this.zW)null!=this.zW[b]&&(null==this.E5a[b]&&(this.E5a[b]=[]),this.E5a[b].push(a.on(b,this,this,this.Vyd.bind(this))));return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROb2RlIjoidWIiLCJzZXROb2RlIjoiZm0ifX19");var RS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){YR.call(this,a);this.Ie=b}D(d,YR);d.prototype.ec=function(){return this.Ie};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQb3NpdGlvbiI6ImVjIn19fSAg");var SS=/*#__PURE__*/ta(/*#__PURE__*/{Ry:"onPositionChanged",SZa:"onPointerUp",$bc:"onPointerDown"},2,"eyJvblBvc2l0aW9uQ2hhbmdlZCI6IlJ5Iiwib25Qb2ludGVyVXAiOiJTWmEiLCJvblBvaW50ZXJEb3duIjoiJGJjIn0g"),TS=/*#__PURE__*/$h,US=/*#__PURE__*/Rh,VS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(q,r,t){var u=null==q||"none"!==q.labels?(new Fi).setColor(f).yo(g):null;q=xb(q,{layer:q instanceof Uh?q:null,name:"string"===typeof r&&""!==r?r:"cross-hair",linestyle:(new Y(f,1,[3,2])).Zg({x:!0,y:!0}),textstyle:u},!0);null!=q.group&&(hb("parameter options.group in CrossHair() is deprecated since 2021.1 (3.3), use parameter options.layer instead"),q.layer=q.group);null!=t&&(hb("third argument in CrossHair() is deprecated since 2021.1 (3.3), use first argument instead"),
q=xb(t,q));SR.call(this,q);this.$m({pointermove:this.Ic.bind(this),pointerup:this.Yc.bind(this),pointerdown:this.gd.bind(this),"cg-enter":function(w){this.fireEvent(RR.Xia,w)}.bind(this),"cg-leave":function(w){this.setPosition(k,!1,w);this.fireEvent(RR.Oz,w)}.bind(this)});this.Up=!0;this.bh=this.nvb=this.YG=null;this.zg=(new n).qa(q.linestyle).setPosition(k);this.ab.pa(this.zg);this.bi=null;(e(q)||null==q||"none"!==q.labels)&&this.dWa(q.textstyle);a.call(this,q)}function a(q){q=jc(q);if(null==q)return this;
null!=q.linestyle&&this.zg.qa(q.linestyle);null!=q.fillstyle&&this.zg.ra(q.fillstyle);null!=q.outlinestyle&&this.zg.V2(q.outlinestyle);void 0!==q.horizontal&&this.zg.Yra(q.horizontal);void 0!==q.vertical&&this.zg.Vja(q.vertical);void 0!==q.radius&&this.zg.bI(q.radius);void 0!==q.symbol&&this.zg.Ao(q.symbol);this.zg.w8();if(null!=q.labels&&("none"===q.labels||!1===q.labels))return"none"!==q.labels&&!1!==q.labels||!this.bi||(this.ab.removeChild(this.bi),this.bi=null),this;e(q)&&!this.bi&&this.dWa(q.textstyle);
if(null==this.bi)return this;void 0!==q.textstyle&&this.bi.kb(q.textstyle);q.center&&(q.center.labelsoffset&&(this.bi.Jo=null!=q.center.labelsoffset.x?q.center.labelsoffset.x:0,this.bi.Yq=null!=q.center.labelsoffset.y?q.center.labelsoffset.y:0),this.bi.C7a=null!=q.center.lockx?q.center.lockx:this.bi.C7a,this.bi.D7a=null!=q.center.locky?q.center.locky:this.bi.D7a);void 0!==q.keeporientation&&(this.bi.gFa=q.keeporientation);this.$x($h.ue,q.north);this.$x($h.Ec,q.south);this.$x($h.Rc,q.east);this.$x($h.lc,
q.west);this.$x($h.Oa,q.center);this.bi.v8();return this}function b(q,r){return isNaN(r)?"":r.toFixed(2)}function c(q,r){return isNaN(q)?"":q.toFixed(2)}function e(q){if(!q)return!1;for(var r=0;r<l.length;++r)if(q[l[r]]&&!0===q[l[r]].visible)return!0;return"none"!==q.labels&&!1!==q.labels}var f="#757575",g="12px Roboto",h=new U,k=new N(Number.NaN,Number.NaN),l=["north","south","east","west","center"],m=function(){function q(r){ek.call(this,r);this.N8a=this.Zp()}D(q,ek);L(q,"geotoolkit.controls.tools.CrossHair.CrossHairText");
q.prototype.yc=function(r,t){ek.prototype.yc.call(this,r);!1!==t&&(this.N8a=r)};q.prototype.Yeb=function(){return this.N8a};return q}(),n=function(){function q(r){r=G(r,{radius:0},!0);Ag.call(this,r);this.Zc("cross-hair-cursor");this.Fg(!1);this.Ie=new N(Number.NaN,Number.NaN);this.Lc={cl:{left:null,UY:null,w7:null,right:null},vertical:{top:null,VY:null,v7:null,bottom:null}};this.qa((new Y(f,1,[3,2])).Zg(!0));this.GC=null;this.Fc=r.radius;r.outlinestyle&&this.V2(r.outlinestyle)}D(q,Ag);L(q,"geotoolkit.controls.tools.CrossHair.CrossHairCursor");
q.prototype.V2=function(r,t){if(this.GC===r)return this;this.GC=Y.Qe(this,this.GC,r,t,this.tb());this.xa().ha();return this};q.prototype.uba=function(){return this.GC};q.prototype.qa=function(r,t){Ag.prototype.qa.call(this,r,t);!0===t?(this.Vja(r,t),this.Yra(r,t)):(r=this.Fa(),this.Vja(r),this.Yra(r));return this};q.prototype.bI=function(r){this.Fc!==r&&(this.Fc=r,this.w8().ha());return this};q.prototype.Lx=function(){return this.Fc};q.prototype.cd=function(){return this.od};q.prototype.Ao=function(r){this.od!==
r&&(this.od=r,this.w8().ha());return this};q.prototype.Vja=function(r,t){if(this.bxa===r)return this;this.bxa=Y.Qe(this,this.bxa,r,t,this.tb());this.xa().ha();return this};q.prototype.DDb=function(){return this.bxa};q.prototype.Yra=function(r,t){if(this.cva===r)return this;this.cva=Y.Qe(this,this.cva,r,t,this.tb());this.xa().ha();return this};q.prototype.ABb=function(){return this.cva};q.prototype.setPosition=function(r){if(this.Ie===r||this.Ie.Ex(r,W.Tb))return this;this.ha();this.Ie=null==r?this.Ie.Da(NaN,
NaN):this.Ie.Da(r.getX(),r.getY());this.w8().ha();return this};q.prototype.ha=function(r,t){if(null==this.getParent())return this;r=this.getParent().wb();var u=null!==this.cva?.5*this.cva.ca():1,w=null!==this.bxa?.5*this.bxa.ca():1;u=h.cb(0,0,u,w);(w=this.getParent().wa())&&(u=w.wd(u,u));isNaN(this.Ie.y)||null==this.cva||(w=new U(r.ka(),this.Ie.y-u.height,r.na(),this.Ie.y+u.height),Ag.prototype.ha.call(this,w,t));isNaN(this.Ie.x)||null==this.bxa||(r=new U(this.Ie.x-u.width,r.la(),this.Ie.x+u.width,
r.ma()),Ag.prototype.ha.call(this,r,t));return this};q.prototype.w8=function(r){if(null==this.getParent())return this;var t=this.getParent().wb(),u=isNaN(this.Ie.getX())?t.hc():this.Ie.getX(),w=isNaN(this.Ie.getY())?t.Dc():this.Ie.getY(),y=t.na(),z=t.ma();this.Lc.cl.left=t.ka();this.Lc.cl.UY=[t.ka(),u];this.Lc.cl.w7=[u,y];this.Lc.cl.right=y;this.Lc.vertical.top=t.la();this.Lc.vertical.VY=[t.la(),w];this.Lc.vertical.v7=[w,z];this.Lc.vertical.bottom=z;if(0<this.Fc||null!=this.od)t=null!=this.od?this.od.ca()/
2:this.Fc,u=null!=this.od?this.od.da()/2:this.Fc,r=r||this.wa(),t=Hd.sb(t,0,r),u=Hd.sb(0,u,r),this.Lc.cl.UY[1]-=t,this.Lc.cl.w7[0]+=t,this.Lc.vertical.VY[1]-=u,this.Lc.vertical.v7[0]+=u;return this};q.prototype.ec=function(){return this.Ie};q.prototype.split=function(r,t,u){"horizontal"===r&&("left"===t&&(this.Lc.cl.left=u.ka(),this.Lc.cl.UY[0]=u.na()),"right"===t&&(this.Lc.cl.right=u.na(),this.Lc.cl.w7[1]=u.ka()),"center"===t&&(this.Lc.cl.UY=u.ka()>this.Lc.cl.UY[0]?[this.Lc.cl.UY[0],u.ka()]:null,
this.Lc.cl.w7=u.na()<this.Lc.cl.w7[1]?[u.na(),this.Lc.cl.w7[1]]:null));"vertical"===r&&("top"===t&&(this.Lc.vertical.top=u.la(),this.Lc.vertical.VY[0]=u.ma()),"bottom"===t&&(this.Lc.vertical.bottom=u.ma(),this.Lc.vertical.v7[1]=u.la()),"center"===t&&(this.Lc.vertical.VY=u.la()>this.Lc.vertical.VY[0]?[this.Lc.vertical.VY[0],u.la()]:null,this.Lc.vertical.v7=u.ma()<this.Lc.vertical.v7[1]?[u.ma(),this.Lc.vertical.v7[1]]:null))};q.prototype.H_c=function(r,t){this.Lc.cl.left!==t.ka()&&r.Xc(t.ka(),this.Ie.y,
this.Lc.cl.left,this.Ie.y);null!=this.Lc.cl.UY&&r.Xc(this.Lc.cl.UY[0],this.Ie.y,this.Lc.cl.UY[1],this.Ie.y);null!=this.Lc.cl.w7&&r.Xc(this.Lc.cl.w7[1],this.Ie.y,this.Lc.cl.w7[0],this.Ie.y);this.Lc.cl.right!==t.na()&&r.Xc(t.na(),this.Ie.y,this.Lc.cl.right,this.Ie.y)};q.prototype.U_c=function(r,t){this.Lc.vertical.top!==t.la()&&r.Xc(this.Ie.x,t.la(),this.Ie.x,this.Lc.vertical.top);null!=this.Lc.vertical.VY&&r.Xc(this.Ie.x,this.Lc.vertical.VY[0],this.Ie.x,this.Lc.vertical.VY[1]);null!=this.Lc.vertical.v7&&
r.Xc(this.Ie.x,this.Lc.vertical.v7[1],this.Ie.x,this.Lc.vertical.v7[0]);this.Lc.vertical.bottom!==t.ma()&&r.Xc(this.Ie.x,t.ma(),this.Ie.x,this.Lc.vertical.bottom)};q.prototype.pq=function(){Ag.prototype.pq.call(this);if(null!=this.od||0<this.Fc)this.dCc=!0;return this};q.prototype.render=function(r){if(null!=this.Fa()&&null!=this.Ie&&null!=this.getParent()){(null!=this.od||0<this.Fc)&&this.dCc&&(this.w8(r.Ea()),this.dCc=!1);var t=this.getParent().wb();isNaN(this.Ie.y)||null==this.cva||(null!=this.GC&&
(r.qa(this.GC),this.H_c(r,t)),r.qa(this.cva),this.H_c(r,t));isNaN(this.Ie.x)||null==this.bxa||(null!=this.GC&&(r.qa(this.GC),this.U_c(r,t)),r.qa(this.bxa),this.U_c(r,t));isNaN(this.Ie.x)||isNaN(this.Ie.y)||(null!=this.od?this.od.Ia()&&this.od.Jb(this.Ie).render(r):0<this.Fc&&(null!=this.GC&&(r.qa(this.GC),r.Cq(this.Lc.cl.UY[1],this.Lc.vertical.VY[1],this.Lc.cl.w7[0]-this.Lc.cl.UY[1],this.Lc.vertical.v7[0]-this.Lc.vertical.VY[1])),null!=this.Fa()||null!=this.eb())&&(r.ra(this.eb()),r.qa(this.Fa()),
r.Cq(this.Lc.cl.UY[1],this.Lc.vertical.VY[1],this.Lc.cl.w7[0]-this.Lc.cl.UY[1],this.Lc.vertical.v7[0]-this.Lc.vertical.VY[1])))}};q.prototype.ia=function(){var r=Ag.prototype.ia.call(this);r.radius=this.Lx();r.outlinestyle=this.uba();return r};q.prototype.fa=function(r){r=jc(r);if(null==r)return this;Ag.prototype.fa.call(this,r);void 0!==r.radius&&this.bI(r.radius);void 0!==r.outlinestyle&&this.V2(r.outlinestyle,!(r.outlinestyle instanceof Y));return this};return q}(),p=function(){function q(t){t=
G(t,{textstyle:null},!0);ni.call(this,t);this.Yq=this.Jo=0;this.gFa=this.D7a=this.C7a=!1;this.Fg(!1);this.Ie=new N(Number.NaN,Number.NaN);this.Ve={};null==t.textstyle?this.jc=new Fi:this.kb(t.textstyle);this.Foa=function(u,w,y){this.Ve[u]={border:{padding:0,visible:!1},text:(new m({text:"",alignment:w,ispointingup:!0})).Zc("cross-hair-label"),bWa:y};this.pa(this.Ve[u].text)};this.Foa($h.Oa,O.ee,b);this.Foa($h.lc,O.Id,b);this.Foa($h.Rc,O.Nf,b);this.Foa($h.ue,O.Nf,c);this.Foa($h.Ec,O.Ah,c);this.kb(this.jc)}var r=new U;D(q,ni);L(q,"geotoolkit.controls.tools.CrossHair.CrossHairLabels");q.prototype.render=function(t){if(0===this.Jo&&0===this.Yq)ni.prototype.render.call(this,t);else{var u=t.Ea(),w=this.Ve[$h.Oa].text,y=w.ob(),z=new X(u.uf,u.Mg,u.Gg,u.Ef,u.gi+this.Jo,u.Vh+this.Yq);u=X.multiply(u.xc(),z);w.xb(!1);w.Tc(u);w.xb(!0);ni.prototype.render.call(this,t);w.xb(!1);w.Tc(y);w.xb(!0)}};q.prototype.Cfc=function(t){this.Dla=t;return this};q.prototype.kb=function(t){if(t instanceof Fi){this.jc=t;for(var u in this.Ve)this.Ve.hasOwnProperty(u)&&
(t.hasOwnProperty(u)?this.Ve[u].text.kb(t[u]):this.Ve[u].text.kb(this.jc))}return this};q.prototype.jb=function(){return this.jc};q.prototype.YF=function(t){var u=!1,w;for(w in this.Ve)this.Ve.hasOwnProperty(w)&&(t.hasOwnProperty(w)?(t[w]&&!this.Ve[w].text.Ia()&&(u=!0),this.Ve[w].text.va(t[w])):this.Ve[w].text.va(!1));u&&this.v8();return this};q.prototype.setPosition=function(t){if(this.Ie===t||this.Ie.Ex(t,W.Tb))return this;this.Ie=null==t?this.Ie.Da(NaN,NaN):this.Ie.Da(t.getX(),t.getY());this.v8();
return this};q.prototype.v8=function(){if(null==this.getParent())return this;var t=this.getParent().wb(),u=this.ab?this.ab.wa():this.getParent().wa(),w=this.Ie.getX(),y=this.Ie.getY(),z=$h,x=0>u.Ab()&&this.gFa;u=0>u.lb()&&this.gFa;this.EZ(z.lc,u?t.na():t.ka(),y,w,y);this.EZ(z.Rc,u?t.ka():t.na(),y,w,y);this.EZ(z.ue,w,x?t.ma():t.la(),w,y);this.EZ(z.Ec,w,x?t.la():t.ma(),w,y);this.EZ(z.Oa,this.C7a?t.hc():w,this.D7a?t.Dc():y,w,y);return this};q.prototype.EZ=function(t,u,w,y,z){var x=this.Ve[t];isNaN(u)||
isNaN(w)?(null==x.visibility&&(x.visibility=x.text.Ia()),x.text.va(!1)):null!=x.visibility&&(x.text.va(x.visibility),x.visibility=null);if(x.text.Ia()){var C="";if(null!=x.bWa||null!=this.xpb)C=(x.bWa||this.xpb)(y,z);x.text.Eb(C);var A=x.text.S6();C=x.text.nr();var v=x.text.wa();z=y=0;0!==A&&(y=Hd.sb(A,0,v),z=Hd.sb(0,A,v));A=this.gFa?ok.transform(v,x.text.Yeb()):x.text.Yeb();null!=C&&(y=ok.zv(A)?C.ka():C.na(),z=ok.NA(A)?C.la():C.ma(),y=Hd.sb(y,0,v),z=Hd.sb(0,z,v));C=0>v.Ab()&&this.gFa;v=0>v.lb()&&
this.gFa;switch(A){case O.Bd:u+=2*y;break;case O.Id:u+=2*y;w+=2*z;break;case O.hg:u+=2*y;w-=2*z;break;case O.Nf:u-=2*y;w+=2*z;break;case O.Ah:u-=2*y;w-=2*z;break;case O.we:u-=2*y;break;case O.ee:w+=2*z;break;case O.Se:w-=2*z}x.text.yc(A,!1);x.text.Jb(u,w);u=$h;w=x.text.Yeb();if(t===u.lc&&w===O.Bd)r.cb(x.text.ga()).bd(y,z),this.Dla.split("horizontal",v?"right":"left",r);else if(t===u.Rc&&w===O.we)r.cb(x.text.ga()).bd(y,z),this.Dla.split("horizontal",v?"left":"right",r);else if(t===u.ue&&w===O.ee)r.cb(x.text.ga()).bd(y,
z),this.Dla.split("vertical",C?"bottom":"top",r);else if(t===u.Ec&&w===O.Se)r.cb(x.text.ga()).bd(y,z),this.Dla.split("vertical",C?"top":"bottom",r);else if(t===u.Oa)if(w===O.we||w===O.Bd)r.cb(x.text.ga()).bd(y,z),this.Dla.split("horizontal","center",r);else if(w===O.ee||w===O.Se)r.cb(x.text.ga()).bd(y,z),this.Dla.split("vertical","center",r)}};q.prototype.Jy=function(t){return this.Ve[t]};q.prototype.ec=function(){return this.Ie};return q}();D(d,SR);L(d,"geotoolkit.controls.tools.CrossHair");d.Ka=
SS;d.mgd=TS;d.Bgd=US;d.prototype.hj=function(){this.aCa();SR.prototype.hj.call(this)};d.prototype.qa=function(q,r){this.zg.qa(q,r);return this};d.prototype.Fa=function(){return this.zg.Fa()};d.prototype.ra=function(q,r){this.zg.ra(q,r);return this};d.prototype.eb=function(){return this.zg.eb()};d.prototype.V2=function(q,r){this.zg.V2(q,r);return this};d.prototype.uba=function(){return this.zg.uba()};d.prototype.bI=function(q){this.zg.bI(q);return this};d.prototype.Lx=function(){return this.zg.Lx()};
d.prototype.Ao=function(q){this.zg.Ao(q);return this};d.prototype.cd=function(){return this.zg.cd()};d.prototype.ia=function(){var q=SR.prototype.ia.call(this);q.linestyle=this.zg.Fa();q.fillstyle=this.zg.eb();q.outlinestyle=this.zg.uba();q.horizontal=this.zg.ABb();q.vertical=this.zg.DDb();q.radius=this.zg.Lx();q.symbol=this.zg.cd();if(null==this.bi)return q;q.textstyle=this.bi.jb();q.keeporientation=this.bi.gFa;q.north=this.sXa($h.ue);q.south=this.sXa($h.Ec);q.east=this.sXa($h.Rc);q.west=this.sXa($h.lc);
q.center=this.sXa($h.Oa);q.center.labelsoffset={};q.center.labelsoffset.x=this.bi.Jo;q.center.labelsoffset.y=this.bi.Yq;q.center.lockx=this.bi.C7a;q.center.locky=this.bi.D7a;return q};d.prototype.fa=function(q){SR.prototype.fa.call(this,q);a.call(this,q);return this};d.prototype.pu=function(q){hb("method CrossHair.setSettings is deprecated since 2021.1 (3.3), use method CrossHair.setProperties instead");return this.fa(q)};d.prototype.sXa=function(q){var r={};q=this.bi.Jy(q);if(null==q)return q;var t=
q.text;r.textconverter=q.bWa;r.textstyle=t.jb();r.fillstyle=t.eb();r.linestyle=t.Fa();r.visible=t.Ia();r.alignment=t.Zp();r.padding=t.S6();r.radius=t.E1();return r};d.prototype.$x=function(q,r){if(null==r)return this;if(null==this.bi){if(!0!==r.visible)return this;this.dWa()}q=this.bi.Jy(q);if(null==q)return this;var t=q.text;void 0!==r.textconverter&&(q.bWa=r.textconverter);null!=r.textstyle&&t.kb(r.textstyle);null!=r.fillstyle&&t.ra(r.fillstyle);null!=r.linestyle&&t.qa(r.linestyle);null!=r.visible&&
(q.visibility=null,t.va(r.visible));null!=r.alignment&&t.yc(r.alignment);null!=r.padding&&t.kM(r.padding);null!=r.offset&&t.$E(r.offset);null!=r.radius&&t.sD(r.radius);return this};d.prototype.kb=function(q){null!=this.bi&&this.bi.kb(q);return this};d.prototype.Vja=function(q,r){this.zg.Vja(q,r);return this};d.prototype.DDb=function(){return this.zg.DDb()};d.prototype.Yra=function(q,r){this.zg.Yra(q,r);return this};d.prototype.ABb=function(){return this.zg.ABb()};d.prototype.isVisible=function(){return this.zg.Ia()};
d.prototype.va=function(q){this.Up!==q&&(this.Up=q,this.aCa(),this.fireEvent(RR.Vw,null));return this};d.prototype.ec=function(){return this.zg.ec()};d.prototype.bka=function(q){var r=this.ec();null!=this.YG&&(r=this.t5a(this.YG));var t=this.YG;this.setPosition(r,q);this.YG=t;return this};d.prototype.setPosition=function(q,r,t){var u=this.zg.ec();if(u===q||null!=u&&u.Ex(q,W.Tb))return this;this.zg.setPosition(q);null!=this.bi&&this.bi.setPosition(q);this.YG=null;!0!==r&&(r=this.Pd(),this.setActive(!0),
this.fireEvent(d.Ka.Ry,new RS(t,q)),r||this.setActive(r));return this};d.prototype.Lgc=function(q,r){if(null==this.bi)return this;q=this.bi.Jy(q);null!=q&&(q.bWa=r);return this};d.prototype.YF=function(q){"boolean"===typeof q&&(q={west:q,north:q,south:q,east:q,center:q});null!=this.bi&&this.bi.YF(q);return this};d.prototype.OKd=function(){return this.nvb};d.prototype.Ojb=function(q){this.nvb=q;return this};d.prototype.LH=function(){return this.bh};d.prototype.Ic=function(q){if(this.isEnabled()&&this.ab){var r=
this.ab instanceof xm?this.ab.getParent():this.ab;if("function"===typeof this.nvb){var t=q.he();(this.bh=this.nvb(t))?(this.nm=this.Bfb(this.bh,!1,!0),r=this.nm.mc(),r.pa([this.zg,this.bi])):r=null}q.preventDefault();t=new N(Number.NaN,Number.NaN);r&&(nc(r,ep)?(t=r.sc(q.he()).clone(),(isNaN(t.getX())||isNaN(t.getY()))&&t.Da(Number.NaN,Number.NaN)):(t=this.Sd(r,q),r.wb().contains(t)||t.Da(Number.NaN,Number.NaN)));r=this.ec();if(null==r||!1===r.Ex(t,W.Tb))this.setPosition(t,!1,q),this.YG=this.n5(t)}};
d.prototype.n5=function(q){if(null==this.ab||isNaN(q.x)||isNaN(q.y))return q;var r=this.ab instanceof xm?this.ab.getParent():this.ab;return r&&r.wa()?r.wa().Ma(q):q};d.prototype.t5a=function(q){if(null==this.ab||isNaN(q.x)||isNaN(q.y))return q;var r=this.ab instanceof xm?this.ab.getParent():this.ab;return r&&r.wa()?r.wa().rd(q):q};d.prototype.Yc=function(q){this.isEnabled()&&this.ab&&this.fireEvent(d.Ka.SZa,new RS(q,this.ec()))};d.prototype.gd=function(q){if(this.isEnabled()&&this.ab){var r=new N(Number.NaN,
Number.NaN);this.ab instanceof xm?this.ab.getParent()&&(r=this.Sd(this.ab.getParent(),q),this.ab.getParent().wb().contains(r)||r.Da(Number.NaN,Number.NaN)):this.ab&&(r=this.Sd(this.ab,q),this.ab.wb().contains(r)||r.Da(Number.NaN,Number.NaN));this.fireEvent(d.Ka.$bc,new RS(q,r))}};d.prototype.dispose=function(){this.zg.dispose();null!=this.bi&&(this.bi.dispose(),this.bi=null);SR.prototype.dispose.call(this)};d.prototype.aCa=function(){var q=this.isEnabled()&&this.Up;this.zg.va(q);null!=this.bi&&this.bi.va(q);
return this};d.prototype.wZ=function(q){this.nm=null;null!=this.ab&&(this.ab.removeChild(this.zg),this.ab.removeChild(this.bi));this.ab=q;null!=this.ab&&(this.ab.pa(this.zg),this.ab.pa(this.bi));return this};d.prototype.dWa=function(q){this.bi||(q||(q=(new Fi).setColor(f).yo(g)),this.bi=(new p(q)).setPosition(k).YF(!1).va(this.Up).Cfc(this.zg),this.ab.pa(this.bi))};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkVuYWJsZWRTdGF0ZUNoYW5nZWQiOiJoaiIsInNldExpbmVTdHlsZSI6InFhIiwiZ2V0TGluZVN0eWxlIjoiRmEiLCJzZXRGaWxsU3R5bGUiOiJyYSIsImdldEZpbGxTdHlsZSI6ImViIiwic2V0T3V0TGluZVN0eWxlIjoiVjIiLCJnZXRPdXRMaW5lU3R5bGUiOiJ1YmEiLCJzZXRSYWRpdXMiOiJiSSIsImdldFJhZGl1cyI6Ikx4Iiwic2V0U3ltYm9sIjoiQW8iLCJnZXRTeW1ib2wiOiJjZCIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSIsInNldFNldHRpbmdzIjoicHUiLCJnZXRMYWJlbFNldHRpbmdzIjoic1hhIiwic2V0TGFiZWxTZXR0aW5ncyI6IiR4Iiwic2V0VGV4dFN0eWxlIjoia2IiLCJzZXRWZXJ0aWNhbExpbmVTdHlsZSI6IlZqYSIsImdldFZlcnRpY2FsTGluZVN0eWxlIjoiRERiIiwic2V0SG9yaXpvbnRhbExpbmVTdHlsZSI6IllyYSIsImdldEhvcml6b250YWxMaW5lU3R5bGUiOiJBQmIiLCJzZXRWaXNpYmxlIjoidmEiLCJnZXRQb3NpdGlvbiI6ImVjIiwidXBkYXRlQ3Vyc29yUG9zaXRpb24iOiJia2EiLCJzZXRMYWJlbHNUZXh0Q29udmVydGVyIjoiTGdjIiwic2V0U2VsZWN0VGFyZ2V0Q2FsbGJhY2siOiJPamIiLCJnZXRUYXJnZXQiOiJMSCJ9fX0g");var XS=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){YR.call(this,c);this.Gw=a;this.aj=b;this.I6a=!1}D(d,YR);L(d,"geotoolkit.controls.tools.DOMEventArgs");d.prototype.kCb=function(){return this.aj};d.prototype.getSelection=function(){return this.Gw};d.prototype.stopPropagation=function(a,b){this.C4b()?this.I6a=!0:YR.prototype.stopPropagation.call(this,a,b);return this};d.prototype.Kk=function(){return this.C4b()?this.I6a:YR.prototype.Kk.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRNb3VzZVBvc2l0aW9uIjoia0NiIiwiaXNDYW5jZWxlZCI6IktrIn19fSAg");var YS=/*#__PURE__*/ta(/*#__PURE__*/{dmc:"collision",Ok:"inside"},2,"eyJDb2xsaXNpb24iOiJkbWMiLCJJbnNpZGUiOiJPayJ9");var ZS=/*#__PURE__*/ta(/*#__PURE__*/{y3a:"rectangular",mOa:"circular"},2,"eyJSZWN0YW5ndWxhciI6InkzYSIsIkNpcmN1bGFyIjoibU9hIn0g");var $S=/*#__PURE__*/ta(/*#__PURE__*/{Ep:"hover",MZ:"click",SCa:"mousedown",Ysa:"mouseup",LV:"doubleclick",rPa:"taphold"},2,"eyJIb3ZlciI6IkVwIiwiQ2xpY2siOiJNWiIsIk1vdXNlRG93biI6IlNDYSIsIk1vdXNlVXAiOiJZc2EiLCJEb3VibGVDbGljayI6IkxWIiwiVGFwSG9sZCI6InJQYSJ9");var aT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){YR.call(this,a);this.Gw=b;this.hH=c}D(d,YR);L(d,"geotoolkit.controls.tools.SelectionEventArgs");d.prototype.ZCb=function(){return this.hH};d.prototype.getSelection=function(){return this.Gw};d.prototype.ou=function(a){this.Gw=a;return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZWxlY3Rpb25Nb2RlIjoiWkNiIiwic2V0U2VsZWN0aW9uIjoib3UifX19");var bT=/*#__PURE__*/ta(/*#__PURE__*/{GO:"onPick",DAa:"onSelectionEnd",Sy:"onSelectionChanged",gha:"beforeSelectionChange",zr:"onDoubleClick"},2,"eyJvblBpY2siOiJHTyIsIm9uU2VsZWN0aW9uRW5kIjoiREFhIiwib25TZWxlY3Rpb25DaGFuZ2VkIjoiU3kiLCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2UiOiJnaGEiLCJvbkRvdWJsZUNsaWNrIjoienIifSAg"),cT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f,g){f=G(f,{layer:f instanceof Uh?f:null,name:"pick",mode:g});MS.call(this,f);this.$m(xb(f.slots,{pointerdown:this.gd.bind(this),pointermove:[{callback:this.Ic.bind(this),object:null},{callback:this.Ic.bind(this),object:$a,enabled:!1}],pointerup:[{callback:this.Yc.bind(this),object:null},{callback:this.Yc.bind(this),object:$a.document,enabled:!1}]}));this.eh=Zj.tg();
this.IFa=this.X9a=null;this.d5=!1;this.jX=[];this.IG=this.OM=this.kB=null;this.jc=this.W$=this.nN=void 0;this.PF=this.VK=this.eE=null;this.hH=CS.O8;this.AYb=YS.dmc;this.XGa=ZS.y3a;this.EQb=NS.Oa;this.jna=$S.SCa;this.mk=this.ET=null}function a(f,g){if(f===g||!(g instanceof Ee))return!0;for(;g&&g.getParent();){if(g.getParent()===f)return!0;g=g.getParent()}return!1}var b="#bdbdbd",c="rgba(189,189,189,0.5)",e=750;D(d,MS);L(d,"geotoolkit.controls.tools.Selection");d.Ka=bT;d.prototype.SKd=function(){return this.X9a};
d.prototype.Qjb=function(f){this.X9a=f;return this};d.prototype.mMe=function(){return this.IFa};d.prototype.S2d=function(f){this.IFa=f;return this};d.prototype.Bo=function(f){this.Rs("pointermove",f,$a);this.Rs("pointerup",f,$a.document)};d.prototype.bNa=function(f){this.mk=f;return this};d.prototype.getRootNode=function(){return this.mk};d.prototype.Qja=function(f){if(this.hH===f)return this;this.hH=f;this.tn();return this};d.prototype.ZCb=function(){return this.hH};d.prototype.v6c=function(f){this.AYb=
f;return this};d.prototype.rKd=function(){return this.AYb};d.prototype.z4d=function(f){this.YFb();this.ZFb();this.XGa=f;this.ab.removeChild(this.eE);this.ab.removeChild(this.VK);this.ab.removeChild(this.PF);this.PF=this.VK=null;if(f===ZS.y3a)this.eE=(new ho(new U(0,0,0,0))).va(!1).qa(this.nN).ra(this.W$).Fg(!1);else if(f===ZS.mOa&&(this.eE=(new Qm(0,0,0,0)).va(!1).qa(this.nN).ra(this.W$).Fg(!1),this.IFa)){this.kdc();var g=this.ab.wa()?0>this.ab.wa().Ab():!1,h=new Km({width:7,height:12,sizeisindevicespace:!0,
painter:Zm,alignment:O.ee,linestyle:this.nN,fillstyle:this.nN.mb()});this.VK=(new Mm(new N(0,0),new N(0,0))).va(!1).qa(this.nN).hic(h).Fg(!1);this.PF=(new ek).va(!1).nu(!0).kb(this.jc).yc(g?O.ee:O.Se).Fg(!1)}this.ab.pa(this.eE);f===ZS.mOa&&this.IFa&&(this.ab.pa(this.VK),this.ab.pa(this.PF));return this};d.prototype.sKd=function(){return this.XGa};d.prototype.E0d=function(f){this.EQb=f;return this};d.prototype.GCd=function(){return this.EQb};d.prototype.v0a=function(f){this.jna=f;return this};d.prototype.lJd=
function(){return this.jna};d.prototype.wD=function(f){this.kB=f;return this};d.prototype.Gba=function(){return this.pd};d.prototype.Cya=function(){return this.Nn};d.prototype.YFb=function(){void 0===this.W$&&(this.W$=new rf(c));return this};d.prototype.ZFb=function(){void 0===this.nN&&(this.nN=(new Y(b,1,[2,3])).Zg({x:!0,y:!0}));return this};d.prototype.kdc=function(){void 0===this.jc&&(this.jc=(new Fi("black")).ce("center").Zh("middle"));return this};d.prototype.wZ=function(f){null!=this.ab&&this.hH!==
CS.O8&&(this.ab.removeChild(this.eE),this.ab.removeChild(this.VK),this.ab.removeChild(this.PF),this.PF=this.VK=this.eE=null,this.god&&this.ab.getParent().removeChild(this.ab));this.ab=f;return this};d.prototype.idc=function(f){if(this.hH!==CS.O8)if(null==this.ab&&(this.god=!0,this.ab=new xm,f=f.Ye().getRoot(),f.pa(this.ab)),this.ab.removeChild(this.eE),this.ab.removeChild(this.VK),this.ab.removeChild(this.PF),this.XGa===ZS.y3a)this.YFb(),this.ZFb(),this.eE=(new ho(new U(0,0,0,0))).va(!1).qa(this.nN).ra(this.W$).Fg(!1),
this.ab.pa(this.eE);else if(this.XGa===ZS.mOa&&(this.YFb(),this.ZFb(),this.eE=(new Qm(0,0,0,0,!1,this.nN,this.W$)).Fg(!1),this.ab.pa(this.eE),this.IFa)){this.kdc();f=this.ab.wa()?0>this.ab.wa().Ab():!1;var g=new Km({width:7,height:12,sizeisindevicespace:!0,painter:Zm,alignment:O.ee,linestyle:this.nN,fillstyle:this.nN.mb()});this.VK=(new Mm(new N(0,0),new N(0,0))).va(!1).qa(this.nN).hic(g).Fg(!1);this.PF=(new ek).va(!1).nu(!0).kb(this.jc).yc(f?O.ee:O.Se).Fg(!1);this.ab.pa(this.VK);this.ab.pa(this.PF)}return this};
d.prototype.C7d=function(){var f=null;this.fireEvent(d.Ka.Sy,new aT(f,this.jX,this.hH))};d.prototype.okb=function(){if(null!=this.OM)if(this.hH===CS.tP)this.setActive(!0),this.pd=this.Sd(this.ab,this.OM),this.Nn=this.Sd(this.ab,this.OM);else{var f=this.OM.ub(),g=this.OM.he(),h=this.bXa(this.OM);this.U9a(f,this.OM,g.x,g.y,h)}};d.prototype.gd=function(f){if(this.ZJa()&f.Je().buttons||this.pn(f))if(this.idc(f),this.OM=f,this.hH===CS.tP)this.Bo(!0),this.okb();else switch(this.IG=f.he(),this.jna){case $S.rPa:this.ET=
setTimeout(function(){this.hH===CS.O8&&this.jna===$S.rPa&&this.isEnabled()&&this.okb();this.ET=null}.bind(this),e);break;case $S.SCa:this.okb()}};d.prototype.HNa=function(f){return null!=this.ab?this.ab.wa().Ma(f):f};d.prototype.U9a=function(f,g,h,k,l){if(this.X9a)g=this.getRootNode()?function(n){a(this.getRootNode(),n)&&this.X9a(n)}.bind(this):this.X9a,this.eh.soa(g,f,h,k,l),this.C7d();else{f=this.eh.select(f,h,k,l);if(this.getRootNode()){var m=this.getRootNode();f=f.filter(function(n){return a(m,
n)})}this.YYa(f,g)}};d.prototype.Yc=function(f){if(!(this.ZJa()&f.Je().buttons)||this.pn(f)){var g=f.he();this.Dgb(g)&&this.zr(f);this.idc(f);if(this.hH===CS.tP){if(!1!==this.Pd()){this.Bo(!1);var h=[];g=f.ub();this.setActive(!1);var k=this.bXa(f),l=this.HNa(this.pd),m=this.HNa(this.Nn);this.hH===CS.tP&&null==this.Nn?this.YYa(h,f):(this.eE.va(!1).ha(),this.VK&&this.VK.va(!1).ha(),this.PF&&this.PF.va(!1).ha(),h=new U(l.x,l.y,m.x,m.y),.1>h.ca()&&h.setX(h.getX()-k/2).Qa(k/2),.1>h.da()&&h.setY(h.getY()-
k/2).$a(k/2),this.AYb===YS.Ok?this.XGa===ZS.mOa?this.U9a(g.getRoot(),f,this.Osc,this.$ob,this.$ob):this.U9a(g.getRoot(),f,[h.x,h.x+h.width,h.x+h.width,h.x],[h.y,h.y,h.y+h.height,h.y+h.height],!1):this.U9a(g.getRoot(),f,h))}}else if(this.jna===$S.rPa&&null!=this.ET)clearTimeout(this.ET),this.ET=null;else if(this.jna===$S.Ysa||this.jna===$S.MZ&&this.IG&&N.xf(this.IG,f.he())<this.bXa(f))this.OM=f,this.okb()}};d.prototype.Ic=function(f){this.idc(f);if(!this.Pd()){if(this.jna===$S.Ep){var g=f.ub();this.Nn=
this.Sd(this.ab,f);var h=this.HNa(this.Nn);this.U9a(g,f,h.x,h.y,this.wU())}}else if(this.hH===CS.tP){this.Nn=this.Sd(this.ab,f);this.$Ec(this.pd,this.Nn);this.XGa===ZS.y3a&&this.eE.cb(this.pd.x,this.pd.y,this.Nn.x,this.Nn.y).va(!0).ha();if(this.XGa===ZS.mOa){var k=this.HNa(this.pd);g=this.HNa(this.Nn);h=Math.abs(g.x-k.x);var l=Math.abs(g.y-k.y),m=Math.min(h,l);this.ab.wa().rd(new N(k.x+m,k.y+m));this.EQb===NS.Oa?(l=Math.sqrt(Math.pow(h,2)+Math.pow(l,2)),g=this.ab.wa().sc(new N(k.x+l,k.y+l)),h=this.ab.wa().rd(new N(k.x-
l,k.y-l)),this.Osc=k,this.$ob=l):(k=new N((k.x+g.x)/2,(k.y+g.y)/2),l=Math.sqrt(Math.pow(Math.abs(g.x-k.x),2)+Math.pow(Math.abs(g.y-k.y),2)),h=this.ab.wa().rd(new N(k.x-l,k.y-l)),g=this.ab.wa().rd(new N(k.x+l,k.y+l)),this.Osc=k,this.$ob=l);this.eE.cb(h.x,h.y,g.x,g.y).va(!0).ha();this.IFa?(k=new N((h.x+g.x)/2,(h.y+g.y)/2),l=new N(g.x,(h.y+g.y)/2),(m=this.IFa(this.$ob,k.clone(),l.clone()))?(this.VK.Cr({from:k,to:l}),this.PF.Eb(m).Jb(.25*h.x+.75*g.x,(h.y+g.y)/2),this.VK.va(!0).ha(),this.PF.va(!0).ha()):
(this.VK.va(!1).ha(),this.PF.va(!1).ha())):(this.VK&&this.VK.va(!1).ha(),this.PF&&this.PF.va(!1).ha())}f.stopPropagation(!0)}};d.prototype.YYa=function(f,g){null!=this.kB&&(f=this.kB.call(this,f));this.C6c(f,g)};d.prototype.zr=function(f){this.isEnabled()&&(this.fireEvent(d.Ka.zr,new aT(f,this.jX,this.hH)),this.hH===CS.O8&&this.jna===$S.LV&&(this.OM=f,this.okb()));return this};d.prototype.getSelection=function(){return this.jX};d.prototype.ou=function(f){return this.C6c(f,null)};d.prototype.C6c=function(f,
g){this.fireEvent(d.Ka.GO,new aT(g,f,this.hH));this.D2b(this.jX,f)||(this.fireEvent(d.Ka.gha,new aT(g,this.jX,this.hH)),this.jX=f,this.fireEvent(d.Ka.Sy,new aT(g,this.jX,this.hH)));this.Dqa()&&this.Rb(!1);this.fireEvent(d.Ka.DAa,new aT(g,f,this.hH));return this};d.prototype.D2b=function(f,g){if(!(f&&g&&f instanceof Array&&g instanceof Array)||f.length!==g.length)return!1;for(var h=0;h<f.length;h++)if(f[h]instanceof Array&&g[h]instanceof Array){if(!f[h].equals(g[h]))return!1}else if(f[h]!==g[h])return!1;
return!0};d.prototype.qa=function(f,g){null!=this.eE?(this.eE.qa(f,g),this.nN=this.eE.Fa()):(this.ZFb(),this.nN=Y.Qe(null,this.nN,f,g));return this};d.prototype.ra=function(f,g){null!=this.eE?(this.eE.ra(f,g),this.W$=this.eE.eb()):(this.YFb(),this.W$=ug.Su(null,this.W$,f,g));return this};d.prototype.kb=function(f,g){null!=this.PF?(this.PF.kb(f,g),this.jc=this.PF.jb()):(this.kdc(),this.jc=Fi.Qe(null,this.jc,f,g));return this};d.prototype.pu=function(f){null!=f.enabled&&this.Rb(f.enabled);null!=f.mode&&
this.Qja(f.mode);null!=f.linestyle&&this.qa(f.linestyle);null!=f.fillstyle&&this.ra(f.fillstyle);null!=f.autodisabled&&this.Vca(f.autodisabled);null!=f.mouseradius&&this.Nja(f.mouseradius);null!=f.touchradius&&this.Uja(f.touchradius);return this};d.prototype.Vca=function(f){this.d5=f;return this};d.prototype.Dqa=function(){return this.d5};d.prototype.dispose=function(){this.eE&&this.eE.dispose();this.VK&&this.VK.dispose();this.PF&&this.PF.dispose();this.jX=[];MS.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTZWxlY3RvckNhbGxiYWNrIjoiUWpiIiwic2V0TWVhc3VyZUNhbGxiYWNrIjoiUzJkIiwic2V0Um9vdE5vZGUiOiJiTmEiLCJzZXRTZWxlY3Rpb25Nb2RlIjoiUWphIiwiZ2V0U2VsZWN0aW9uTW9kZSI6IlpDYiIsInNldFJ1YmJlckJhbmRNb2RlIjoidjZjIiwiZ2V0UnViYmVyQmFuZE1vZGUiOiJyS2QiLCJzZXRSdWJiZXJCYW5kU2hhcGVNb2RlIjoiejRkIiwiZ2V0UnViYmVyQmFuZFNoYXBlTW9kZSI6InNLZCIsInNldENpcmN1bGFyTW9kZSI6IkUwZCIsImdldENpcmN1bGFyTW9kZSI6IkdDZCIsInNldFBvaW50ZXJNb2RlIjoidjBhIiwiZ2V0UG9pbnRlck1vZGUiOiJsSmQiLCJzZXROb2RlRmlsdGVyIjoid0QiLCJnZXRTdGFydFBvaW50IjoiR2JhIiwiZ2V0RW5kUG9pbnQiOiJDeWEiLCJvbk1vdXNlRG93biI6ImdkIiwib25Nb3VzZVVwIjoiWWMiLCJvbk1vdXNlTW92ZSI6IkljIiwic2V0U2VsZWN0aW9uIjoib3UiLCJzZXRMaW5lU3R5bGUiOiJxYSIsInNldEZpbGxTdHlsZSI6InJhIiwic2V0VGV4dFN0eWxlIjoia2IiLCJzZXRTZXR0aW5ncyI6InB1Iiwic2V0QXV0b0Rpc2FibGVkIjoiVmNhIiwiaXNBdXRvRGlzYWJsZWQiOiJEcWEifX19");var dT=/*#__PURE__*/function(){function d(b){cT.call(this);b=b||{};var c={pointermove:this.Ic.bind(this),pointerdown:this.gd.bind(this),pointerup:this.Yc.bind(this),"cg-leave":this.Oz.bind(this)};null==b.plot&&(hb("DOM events are supported out-of-box, no need to create geotoolkit.controls.tools.DOMSupport tools manually"),c={});this.nb(b.name||"domsupport");this.$m(c);this.uc=b.plot;this.aj=null;this.Gw=[];this.IG=null}function a(b,c,e){var f=new XS(c,e.he(),e);for(e=c.length-1;0<=e;e--)if(!1!==c[e]instanceof
Ee){var g=b.indexOf(c[e]);0<=g?(c[e].notify(Gc.Ep,c[e],f),b.splice(g,1)):c[e].iL($f.Ep).notify(Gc.imb,c[e],f)}for(e=b.length-1;0<=e;e--)b[e]instanceof Ee&&b[e].QJ($f.Ep).notify(Gc.Omb,b[e],f)}D(d,cT);L(d,"geotoolkit.controls.tools.DOMSupport");d.prototype.Ic=function(b){var c=b.he();null!=this.aj&&this.aj.Ex(c)||(this.aj=c,ve.ya().uTc(this.uc.getRoot())&&(c=this.u9b(b),a(this.Gw,c,b),this.Gw=c))};d.prototype.gd=function(b){this.IG=b.he();var c=this.u9b(b);this.pn(b)&&(a(this.Gw,c,b),this.Gw=c);this.oKc(c,
[Gc.SCa],b)};d.prototype.Yc=function(b){var c=this.u9b(b);var e=b.he();e=this.Dgb(e)?[Gc.Ysa,Gc.MZ,Gc.LV]:this.l2(b)?[Gc.Ysa,Gc.MZ]:[Gc.Ysa];this.oKc(c,e,b)};d.prototype.Oz=function(b){this.aj=null;a(this.Gw,[],b);this.Gw=[]};d.prototype.l2=function(b){var c=b.he();b=this.pn(b)?this.wY():this.wU();return this.IG&&N.xf(this.IG,c)<=b};d.prototype.oKc=function(b,c,e){e=new XS(b,e.he(),e);for(var f=b.length-1;0<=f;f--)if(!1!==b[f]instanceof Ee)for(var g=0;g<c.length;g++)if(b[f].notify(c[g],b[f],e),e.Kk())return};
d.prototype.u9b=function(b){var c=b.he();b=this.pn(b)?this.wY():this.wU();return Zj.select(this.uc.getRoot(),c.getX(),c.getY(),b)};return d}();var eT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){YR.call(this,a);this.dh=Array.isArray(b)?b.slice():[b]}D(d,YR);d.prototype.Js=function(){return this.dh};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRFbGVtZW50cyI6IkpzIn19fSAg");var fT=/*#__PURE__*/ta(/*#__PURE__*/{GO:"onPick",OA:"onDrag",Vbc:"onDrop"},2,"eyJvblBpY2siOiJHTyIsIm9uRHJhZyI6Ik9BIiwib25Ecm9wIjoiVmJjIn0g"),gT=/*#__PURE__*/ta(/*#__PURE__*/{aPb:"VisibleModelLimits",m3a:"ModelLimits"},2,"eyJWaXNpYmxlTW9kZWxMaW1pdHMiOiJhUGIiLCJNb2RlbExpbWl0cyI6Im0zYSJ9"),hT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){var b=[{drag:function(c){return c.filter(function(e){return e instanceof Ag})}}];a=xb(a,{nodefilters:b,inflatex:0,inflatey:0,dragmode:d.dMb.aPb,slots:{},name:"drag-and-drop"},!0);SR.call(this,a);this.$m({pointerdown:this.gd.bind(this),pointermove:{callback:this.Ic.bind(this),object:$a,enabled:!1},pointerup:{callback:this.Yc.bind(this),object:$a,enabled:!1}});this.uc=null;this.eh=
new Zj;this.Sga=new om;this.Ff=this.I_=this.kg=null;this.Bnd=a.inflatex;this.Cnd=a.inflatey;this.WRb=a.dragmode;this.r8a=a.nodefilters;this.Me=this.VS=null;this.Rb(!1)}D(d,SR);L(d,"geotoolkit.controls.tools.DragAndDrop");d.Ka=fT;d.dMb=gT;d.prototype.mJ=function(a){SR.prototype.mJ.call(this,a);this.uc=a;return this};d.prototype.dispose=function(){null!=this.Ff&&($a.document.body.removeChild(this.Ff),this.Ff=null);SR.prototype.dispose.call(this)};d.prototype.hj=function(){SR.prototype.hj.call(this);
!1===this.isEnabled()&&this.Cec()};d.prototype.tn=function(){SR.prototype.tn.call(this);!1===this.isEnabled()&&this.Cec()};d.prototype.Cec=function(){this.Me=this.VS=null;null!=this.Ff&&($a.document.body.removeChild(this.Ff),this.Ff=null);return this};d.prototype.SAd=function(a){var b=a.ub();a=this.Sd(b,a);b=this.eh.select(b,a.getX(),a.getY(),2);for(a=0;a<this.r8a.length;++a){this.Me=null;this.VS=this.r8a[a].drag(b);var c=this.r8a[a].container;c&&(this.Me=c(b));if(this.VS&&0!==this.VS.length){Array.isArray(this.VS)?
1<this.VS.length&&!c&&hb("NodeFilter.Drag returned an array. NodeFilters.Container should be specified!"):this.VS=[this.VS];break}}};d.prototype.gd=function(a){this.VS&&this.pn(a)?a.stopPropagation(!1,!0):(this.SAd(a),this.VS&&(this.start(a),this.fireEvent(d.Ka.GO,new eT(a,this.VS))))};d.prototype.start=function(a){a.stopPropagation(!1,!0);SR.prototype.start.call(this,a);SR.lock(this.uc,this);this.GOd(a);this.Rs("pointermove",!0,$a);this.Rs("pointerup",!0,$a);return this};d.prototype.stop=function(){SR.prototype.stop.call(this);
SR.unlock(this);this.Cec();this.Rs("pointermove",!1,$a);this.Rs("pointerup",!1,$a);return this};d.prototype.GOd=function(a){this.kg=null;var b=this.Me?this.Me:this.VS[0];if("function"===typeof b.ga){var c=b.ga().clone().bd(this.Bnd,this.Cnd);var e=b.wa();"function"===typeof b.ge&&null!==b.ge()&&(e=X.multiply(e,b.ge().xc()));if(this.WRb===d.dMb.aPb){if(b.fj&&b.wb)var f=b.fj();else f=e.transform(c),f.intersect(0,0,a.Ye().ca(),a.Ye().da());c=e.sc(f)}else f=e.transform(c);this.I_=Ac(this.uc.Pw());this.I_.x+=
f.getX();this.I_.y+=f.getY();a=e.transform(c).kd();e=X.multiply(X.jf(-a.getX(),-a.getY()),e);e.transform(c,c);c=new Fh(c.ca(),c.da());c.clear();b instanceof mg&&null!==b.ob()&&(e=X.multiply(e,b.ob().xc()));e=c.hr(e);this.Me&&e.Zga(this.Sga.aBa(this.VS));b.render(e);c.tp();this.Ff=c.Sk();this.Ff.style.opacity="0.7";this.Ff.style.position="absolute";this.Ff.style.left=this.I_.x+"px";this.Ff.style.top=this.I_.y+"px";this.Ff.style.width=f.ca()+"px";this.Ff.style.height=f.da()+"px";$a.document.body.appendChild(this.Ff)}};
d.prototype.Ic=function(a){if(0===a.Je().buttons)this.Yc(a);else{var b=a.uLc();null==this.kg?this.kg=b:(this.I_.x+=b.getX()-this.kg.getX(),this.I_.y+=b.getY()-this.kg.getY(),this.Ff.style.left=this.I_.x+"px",this.Ff.style.top=this.I_.y+"px",this.kg=b,this.fireEvent(d.Ka.OA,new eT(a,this.VS)))}};d.prototype.Yc=function(a){a.stopPropagation(!1,!0);this.fireEvent(d.Ka.Vbc,new eT(a,this.VS));this.stop()};d.prototype.jId=function(){return this.r8a};d.prototype.p3d=function(a){this.r8a=a;return this};d.prototype.uEd=
function(){return this.WRb};d.prototype.g1d=function(a){this.WRb=a;return this};d.prototype.Wca=function(a){$R.fl(this.Ff,{cursor:a},this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhdHRhY2hUb1Bsb3QiOiJtSiIsIm9uRW5hYmxlZFN0YXRlQ2hhbmdlZCI6ImhqIiwib25BY3RpdmVTdGF0ZUNoYW5nZWQiOiJ0biIsImdldE5vZGVGaWx0ZXJzIjoiaklkIiwic2V0Tm9kZUZpbHRlcnMiOiJwM2QiLCJnZXREcmFnTW9kZSI6InVFZCIsInNldERyYWdNb2RlIjoiZzFkIiwic2V0Q3Vyc29yIjoiV2NhIn19fSAg");var jT=/*#__PURE__*/ta(/*#__PURE__*/{QV:"Resized",zM:"Translated",sP:"Rotated",Nv:"Start",xS:"Continue",jp:"End",Sda:"Drag",X2a:"Inserted",ECa:"Deleted",EOa:"Flipped",KMb:"Grouped",ROb:"Ungrouped",Qj:"PropertyChanged",wnb:"SceneChanged",D2a:"EditorChanged",krc:"Undo",Jpc:"Redo",ska:"CommandApplied"},2,"eyJSZXNpemVkIjoiUVYiLCJUcmFuc2xhdGVkIjoiek0iLCJSb3RhdGVkIjoic1AiLCJTdGFydCI6Ik52IiwiQ29udGludWUiOiJ4UyIsIkVuZCI6ImpwIiwiRHJhZyI6IlNkYSIsIkluc2VydGVkIjoiWDJhIiwiRGVsZXRlZCI6IkVDYSIsIkZsaXBwZWQiOiJFT2EiLCJHcm91cGVkIjoiS01iIiwiVW5ncm91cGVkIjoiUk9iIiwiUHJvcGVydHlDaGFuZ2VkIjoiUWoiLCJTY2VuZUNoYW5nZWQiOiJ3bmIiLCJFZGl0b3JDaGFuZ2VkIjoiRDJhIiwiVW5kbyI6ImtyYyIsIlJlZG8iOiJKcGMiLCJDb21tYW5kQXBwbGllZCI6InNrYSJ9");var kT=/*#__PURE__*/ta(/*#__PURE__*/{ata:1,NOb:2,rnb:4,tS:8,r2a:16,yOa:32,bNb:64,y2a:128,Smc:7,Vdd:231,Xlb:248,hC:255},2,"eyJSZXNpemUiOiJhdGEiLCJUcmFuc2xhdGUiOiJOT2IiLCJSb3RhdGUiOiJybmIiLCJBZGRQb2ludCI6InRTIiwiQ3JlYXRlV2l0aEJvdW5kcyI6InIyYSIsIkRyYWdQb2ludCI6InlPYSIsIkluc2VydFBvaW50IjoiYk5iIiwiRGVsZXRlUG9pbnQiOiJ5MmEiLCJFZGl0QmJveCI6IlNtYyIsIkVkaXROb2RlIjoiVmRkIiwiQ3JlYXRlIjoiWGxiIiwiQWxsIjoiaEMifSAg");var lT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){this.lqb=[]}var a=null;L(d,"geotoolkit.controls.tools.editors.Registry");d.prototype.IB=function(b){for(var c=0;c<this.lqb.length;c++){var e=this.lqb[c];if(e.Iq(b))return new e.constructor(b)}return null};d.prototype.register=function(b){"function"===typeof b.Iq&&0>this.lqb.indexOf(b)&&this.lqb.push(b);return this};d.ya=function(){null===a&&(a=new d);return a};return d}(),2,"eyJnZXRJbnN0YW5jZSI6InlhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsiZ2V0RWRpdG9yIjoiSUIifX19");var mT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){te.call(this);this.Xnd=a;this.Vl=null;this.yla=[];this.$D=0}D(d,te);L(d,"geotoolkit.controls.tools.editors.History");d.prototype.mha=function(){return 0<this.$D};d.prototype.lha=function(){return this.$D!==this.yla.length};d.prototype.pS=function(){if(!this.mha())return this;var a=this.yla[--this.$D],b=a.ub(),c=a.xc().setOptions(a.ta());c.ub()||c.fm(b);b=this.c3b(c.ub());this.YE(b);null!=b&&b.apply(c).update();this.notify(jT.ska,this,c);this.notify(jT.krc,this,a);return a.Eac()?
this:this.pS()};d.prototype.lja=function(){if(!this.lha())return this;var a=this.yla[this.$D++],b=this.c3b(a.ub());this.YE(b);null!=b&&b.apply(a).update();this.notify(jT.ska,this,a);this.notify(jT.Jpc,this,a);a=this.yla[this.$D];return!a||a.Eac()?this:this.lja()};d.prototype.push=function(a,b){this.yla.length=this.$D;b=b||(a.ub()?this.c3b(a.ub()):this.Vl);if(null!=b){this.YE(b);a.ub()||a.fm(b.ub());b.apply(a).update();var c=this.yla[this.yla.length-1];if(b.Pd()&&null!=c&&c.ub()===a.ub()&&c.merge(a))return this.notify(jT.ska,
this,a),this}this.yla.push(a);this.$D++;this.notify(jT.ska,this,a);return this};d.prototype.getCurrentPosition=function(){return this.$D};d.prototype.clear=function(){this.YE(null);this.$D=this.yla.length=0;return this};d.prototype.YE=function(a){if(this.Vl===a)return this;this.Vl=a;this.notify(jT.D2a,this,a);return this};d.prototype.wLe=function(){return this.Vl};d.prototype.c3b=function(a){return null!=this.Vl&&this.Vl.ub()===a?this.Vl:lT.ya().IB({node:a,editmode:null!=this.Vl?this.Vl.yp():kT.hC,
layer:this.Xnd,history:this})};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjYW5VbmRvIjoibWhhIiwiY2FuUmVkbyI6ImxoYSIsInVuZG8iOiJwUyIsInJlZG8iOiJsamEifX19");var nT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){this.ea=this.Nd=null;this.Mvc=!0}L(d,"geotoolkit.controls.tools.editors.commands.AbstractCommand");d.prototype.fm=function(a){this.Nd=a;return this};d.prototype.ub=function(){return this.Nd};d.prototype.merge=function(a){return!1};d.prototype.xc=function(){return this};d.prototype.NIb=function(a){this.Mvc=a;return this};d.prototype.Eac=function(){return this.Mvc};d.prototype.setOptions=function(a){this.ea=a;return this};d.prototype.ta=function(){return this.ea};d.prototype.Oh=
function(){return null};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXROb2RlIjoiZm0iLCJnZXROb2RlIjoidWIiLCJjcmVhdGVJbnZlcnNlIjoieGMiLCJzZXRTZXBhcmF0ZSI6Ik5JYiIsImlzU2VwYXJhdGUiOiJFYWMiLCJnZXRPcHRpb25zIjoidGEiLCJnZXRFdmVudE5hbWUiOiJPaCJ9fX0g");var oT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){nT.call(this);this.Jo=a;this.Yq=b}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.Translation");d.prototype.cf=function(){return this.Jo};d.prototype.Pe=function(){return this.Yq};d.prototype.iS=function(a,b){this.Jo=a;this.Yq=b;return this};d.prototype.merge=function(a){return a instanceof d?(this.Jo+=a.cf(),this.Yq+=a.Pe(),!0):!1};d.prototype.Oh=function(){return jT.zM};d.prototype.xc=function(){return new d(-this.Jo,-this.Yq)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUcmFuc2xhdGVYIjoiY2YiLCJnZXRUcmFuc2xhdGVZIjoiUGUiLCJnZXRFdmVudE5hbWUiOiJPaCIsImNyZWF0ZUludmVyc2UiOiJ4YyJ9fX0g");var pT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){nT.call(this);this.LS=a}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.Rotation");d.prototype.wp=function(){return this.LS};d.prototype.merge=function(a){return a instanceof d?(this.LS+=a.wp(),!0):!1};d.prototype.xc=function(){return new d(-this.LS)};d.prototype.Oh=function(){return jT.sP};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbmdsZSI6IndwIiwiY3JlYXRlSW52ZXJzZSI6InhjIiwiZ2V0RXZlbnROYW1lIjoiT2gifX19");var qT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){nT.call(this);this.w_=a}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.Resize");d.prototype.kKa=function(){return this.w_};d.prototype.merge=function(a){if(a instanceof d){var b=a.kKa();this.w_.forEach(function(c,e){c.delta+=(1+c.delta)*b[e].delta});return!0}return!1};d.prototype.xc=function(){var a=this.w_.map(function(b){var c=-1>b.delta?-1:1;return{vx:c*b.vx,vy:c*b.vy,delta:-b.delta/(1+b.delta)}});return new d(a)};d.prototype.Oh=function(){return jT.QV};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRSZXNpemVEaXJlY3Rpb25zIjoia0thIiwiY3JlYXRlSW52ZXJzZSI6InhjIiwiZ2V0RXZlbnROYW1lIjoiT2gifX19");var rT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){YR.call(this,a);this.Sta=b.command;this.Nd=b.node;this.Vl=b.editor;this.G4=b.distances;this.Ri=b.value}D(d,YR);L(d,"geotoolkit.controls.tools.PaintEventArgs");d.prototype.ULc=function(){return this.Sta};d.prototype.IB=function(){return this.Vl};d.prototype.ub=function(){return this.Nd};d.prototype.cba=function(){return this.G4.slice()};d.prototype.getValue=function(){return this.Ri};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb21tYW5kIjoiVUxjIiwiZ2V0RWRpdG9yIjoiSUIiLCJnZXROb2RlIjoidWIiLCJnZXREaXN0YW5jZXMiOiJjYmEifX19");var sT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(k){k=G(k,{editmode:kT.hC,mouseradius:3,touchradius:5,bbox:new $g({linestyle:{color:"#3399ff",pattern:[3,3],pixelsnapmode:!0}}),slots:{},history:new mT(k&&k.layer)});SR.call(this,k);this.wh=!1;this.je(k);null!=k.handles&&this.A3c(k.handles);null!=k.node&&this.fm(k.node);this.XE(k.editmode)}function a(k,l,m,n){return Math.atan2(k*n-l*m,k*m+l*n)}var b=new X,c=[-1,-1,-1,0,1,1,1,0],e=[-1,0,1,1,1,0,-1,-1],f=17,g=new Km({painter:$m,alignment:O.Oa,preservereadingorientation:!0,
sizeisindevicespace:!0,width:9,height:9,fillstyle:{color:"white",shadow:{enable:!0,color:"rgba(0,0,0,0.3)",offsetx:1,offsety:1}},linestyle:"#4c4c4c"}),h=new Km({painter:Qn,alignment:O.Oa,sizeisindevicespace:!0,width:7,height:7,fillstyle:{color:"white",shadow:{enable:!0,color:"rgba(0,0,0,0.3)",offsetx:1,offsety:1}},linestyle:{color:"#7a7a7a",pixelsnapmode:!0}});D(d,SR);L(d,"geotoolkit.controls.tools.editors.AbstractEditor");d.prototype.je=function(k){!0!==this.wh&&(this.$m({pointerdown:this.gd.bind(this),
pointermove:{callback:this.Ic.bind(this),object:$a},pointerup:{callback:this.Yc.bind(this),object:$a},keydown:{callback:this.Ux.bind(this),object:$a},"cg-leave":this.Oz.bind(this)}),this.sF=this.bW=this.Nd=this.Be=null,this.xe=k.bbox,this.qy=k.history,this.mga=g.clone(),this.Dvc=!1,this.j9=new ni({visible:!1,children:[this.xe,h.clone(),h.clone(),h.clone(),h.clone(),h.clone(),h.clone(),h.clone(),h.clone(),this.mga]}),this.Rla=new ni({children:this.j9}),null!=this.mc()&&this.mc().pa(this.Rla),this.wh=
!0)};d.prototype.Iq=function(k){return!0};d.prototype.gd=function(k){this.bW=this.Mu(k);null!=this.bW&&k.stopPropagation(!1,!0);this.IG=k.he();this.eEa=this.Sd(this.mc(),k);this.w1c(!0)};d.prototype.Ic=function(k){if(null!=this.Nd&&(k.Je().buttons===Dc.Jc?this.zda(k):null==this.bW&&(this.IG=this.IG||k.he(),null!=this.Mu(k)&&(this.eEa=this.Sd(this.mc(),k),this.bW=0,this.zda(k))),null!=this.bW&&(this.Pd()||!this.l2(k)))){var l=this.j9.gb(this.bW),m=this.eEa,n=this.ga();this.eEa=this.Sd(this.mc(),k);
switch(l){case this.xe:this.push(new oT(this.eEa.getX()-m.getX(),this.eEa.getY()-m.getY()));break;case this.mga:m=this.mga.al();l=this.mga.wa()||X.xk;l=l.Ma(m,m);m=this.wa().Pc(n.hc(),n.Dc());n=m.getX()-l.getX();l=m.getY()-l.getY();var p=m.getX()-k.he().getX();k=m.getY()-k.he().getY();this.push(new pT(a(n,l,p,k)));break;default:k=this.ob();l=c[this.bW-1];p=e[this.bW-1];var q=k.rd(this.eEa);m=k.rd(m,m);this.push(new qT([{vx:l*k.lb(),vy:l*k.vi(),delta:l*(q.getX()-m.getX())/n.ca()},{vx:p*k.Ii(),vy:p*
k.Ab(),delta:p*(q.getY()-m.getY())/n.da()}]))}this.start()}};d.prototype.Yc=function(k){this.stop();this.w1c(!1);this.IG=this.eEa=this.bW=null;this.Rla.va(!0);this.update()};d.prototype.Oz=function(k){};d.prototype.Ux=function(k){var l=k.Je();switch(l.keyCode){case Bc.$f:if(!0!==l.ctrlKey||!this.mha())break;this.pS();k.stopPropagation(!0,!0);break;case Bc.Ca:!0===l.ctrlKey&&this.lha()&&(this.lja(),k.stopPropagation(!0,!0))}};d.prototype.oG=function(k){k=!1!==k;this.Nd.Tc(null);k&&null!=this.Nd.getParent()&&
this.Nd.getParent().removeChild(this.Nd);this.update();return this};d.prototype.apply=function(k){switch(k.Oh()){case jT.Qj:var l={};l[k.Ga()]=k.getValue();this.Nd.fa(l);break;case jT.zM:this.Nd.translate(k.cf(),k.Pe());break;case jT.sP:var m=this.ga();var n=this.wa();l=this.Nd.getParent()?this.Nd.getParent().wa():X.xk;m=n.Pc(m.hc(),m.Dc());k=X.Ui(k.wp(),m.getX(),m.getY());this.Nd.Tc(k.lu(l.xc()).Wp(n));break;case jT.QV:l=k.kKa();k=this.ob().clone();n=this.Fxa(l[0]);k.Wp(n);l=this.Fxa(l[1]);k.Wp(l);
this.Nd.Tc(k);break;case jT.EOa:m=this.ga();n=this.wa();l=this.Nd.getParent()?this.Nd.getParent().wa():X.xk;m=n.Ua(m);k=X.Vd(m,m,k.jBb(),k.kBb());this.Nd.Tc(k.lu(l.xc()).Wp(n));break;case jT.wnb:l=k.DNc();l=k.V6b().gb(l);k.V6b().removeChild(l);k.CSc().Xf(k.BSc(),l);break;case jT.ECa:this.Nd&&this.Nd.getParent()&&this.Nd.getParent().removeChild(this.Nd)}return this};d.prototype.pS=function(){this.qy.pS();return this};d.prototype.lja=function(){this.qy.lja();return this};d.prototype.mha=function(){return this.qy.mha()};
d.prototype.lha=function(){return this.qy.lha()};d.prototype.keb=function(){return this.qy};d.prototype.update=function(){var k=this.ga(),l=this.Nd&&this.Nd.getParent();if(!k||k.isEmpty()||!l||!this.Ia())return this.j9.va(!1),this;this.xe.clear();l=this.ob();var m=k.ka(),n=k.hc(),p=k.na(),q=k.la(),r=k.Dc();k=k.ma();m=[m,m,m,n,p,p,p,n];r=[q,r,k,k,k,r,q,q];p=m.length;l.tda(m,r,p);var t=null;if(this.yp()&kT.rnb){t=this.wa();var u=new N(n,q),w=new N(n,q-1);t.Ma(u,u);t.Ma(w,w);t=N.xf(w,u)||1;u=null!=this.Rla.wa()&&
0>this.Rla.wa().Ab();l.Pc(n,u?k+f/t:q-f/t);u?(this.xe.moveTo(m[3],r[3]),w=l.Pc(n,k+f/t)):(this.xe.moveTo(m[p-1],r[p-1]),w=l.Pc(n,q-f/t));this.xe.lineTo(w.getX(),w.getY());this.mga.Jb(w);t=this.mga.ga().clone()}for(l=0;l<p;l++)k=this.j9.gb(l+1).Jb(m[l],r[l]).ga(),t=t?t.union(k):k.clone();this.Rla.sa(t);this.j9.sa(t).va(0!==(this.yp()&kT.ata));this.xe.moveTo(m[0],r[0]).lineTo(m[6],r[6]).moveTo(m[2],r[2]).lineTo(m[4],r[4]).moveTo(m[0],r[0]).lineTo(m[2],r[2]).moveTo(m[6],r[6]).lineTo(m[4],r[4]).ha();
return this};d.prototype.zda=function(k,l){var m=null==this.bW?this.Mu(k):this.bW;if(null==l&&null!=m)switch(this.j9.gb(m)){case this.xe:l="move";break;case this.mga:l="url(data:application/octet-stream;base64,AAACAAEAICACAAcABgAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAgAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfgAAAcIAAAE+AAADQIAAAoFAAAKCIAAO5BAACCdwAARBQAACgUAAAQLAAAB8gAAAQ4AAAH4AAA////////////////////////////////////////////////////////////////////////////////////////////////+B///+Af///gH///w/f//8fj///Hwf//AYD//wGA//+D4///x+P//+/D///4B///+Af///gf//8=), auto";
break;default:var n=this.wa();l=n.vi()?Math.atan(n.vi()/n.lb()):0;m=0<n.lb()*n.Ab()-n.Ii()*n.vi()?-m:m;m=(Math.round(l/(Math.PI/4))+10+m)%4;l=3===m?"nesw-resize":0===m?"ew-resize":1===m?"nwse-resize":"ns-resize"}if(null!=l||null!=this.sF)this.sF=null!=l?k.Ye():null,$R.fl(k.Ye(),{cursor:l},this)};d.prototype.w1c=function(k){if(0<this.bW){var l=this.j9.gb(this.bW);k?l.iL("active"):l.QJ("active")}return this};d.prototype.push=function(k){this.qy.push(k,this);this.Pd()&&k instanceof oT&&this.Rla.va(!1);
this.fireEvent(jT.ska,new rT(null,{node:k.ub(),command:k}));null!=k.Oh()&&this.fireEvent(k.Oh(),new rT(null,{node:k.ub(),command:k}));return this};d.prototype.XE=function(k){this.Be=k;this.mga.va(0!==(k&kT.rnb));return this.update()};d.prototype.yp=function(){return this.Be};d.prototype.ub=function(){return this.Nd};d.prototype.fm=function(k){if(this.Nd===k)return this;this.Dvc=null==k||null!=k.getParent();this.Nd=k;return this};d.prototype.Al=function(){return this.Rla};d.prototype.oLc=function(){return this.j9};
d.prototype.fa=function(k){k=jc(k);if(null==k)return this;SR.prototype.fa.call(this,k);null==this.Nd||this.HR()||k.node instanceof Ee||this.Nd.fa(k.node);k.editmode&&this.XE(k.editmode);this.xe.fa(k.bbox);null!=k.handles&&this.A3c(k.handles);return this};d.prototype.A3c=function(k){var l=this;this.mga.fa(k.rotation);this.j9.dk(function(m){m!==l.xe&&m!==l.mga&&m.fa(k.bbox)});this.LMa(k);return this};d.prototype.LMa=function(k){return this};d.prototype.ia=function(){var k=SR.prototype.ia.call(this);
null!=this.Nd&&(k.node=this.Nd.ia());k.bbox=this.xe.ia();k.editmode=this.yp();k.handles={rotation:g.ia(),bbox:h.ia()};return k};d.prototype.hj=function(){this.Rla.va(this.isEnabled());SR.prototype.hj.call(this)};d.prototype.dispose=function(){this.qy=this.Nd=null;this.Rla.dispose();null!=this.sF&&($R.fl(this.sF,{cursor:null},this),this.sF=null);SR.prototype.dispose.call(this)};d.prototype.ga=function(){return this.wO()?this.Nd.ga():null};d.prototype.Mu=function(k){if(null==k)return this.bW;if(!this.e7(k))return null;
var l=k.he(),m=this.bXa(k);l=Zj.select(k.ub(),l.getX(),l.getY(),m);if(!k.Je().ctrlKey)for(m=this.j9.ac()-1;0<m;m--)if(0<=l.indexOf(this.j9.gb(m)))return m;return this.yp()&kT.NOb?this.yp()&kT.ata&&(m=this.ga(),k=this.Sd(this.mc(),k),this.ob().rd(k,k),null!=m&&m.contains(k))?0:0<=l.indexOf(this.Nd)?0:null:null};d.prototype.ob=function(){return this.Nd&&this.Nd.ob()||X.xk};d.prototype.wa=function(){var k=null;this.Nd&&this.Nd.getParent()?(k=this.Nd.getParent().wa()||X.xk,k=X.multiply(k,this.ob(),b)):
this.mc()&&(k=this.mc().wa());return k||X.xk};d.prototype.Nb=function(){return this.wO()?this.Nd:this.mc()};d.prototype.l2=function(k){var l=this.bXa(k);return null!=this.IG&&this.IG.Ex(k.he(),l)};d.prototype.e7=function(k){return k.Je().target===k.Ye().Pw()};d.prototype.end=function(k){this.stop();var l=this.ub();this.fm(l.clone());this.oG();this.fireEvent(jT.jp,new rT(k,{node:l}))};d.prototype.Fxa=function(k){var l=k.delta;if(0===l||-1===l)return X.xk;var m=this.ob(),n=m.lb(),p=m.Ab(),q=m.Ii(),
r=m.vi();m=this.ga();var t=Math.abs(a(k.vx,k.vy,n,r)),u=Math.abs(a(k.vx,k.vy,q,p));n=Math.abs(a(k.vx,k.vy,-n,-r));k=Math.abs(a(k.vx,k.vy,-q,-p));switch(Math.min(t,u,n,k)){case t:return b.Sb(1+l,0,0,1,-l*m.getX(),0);case u:return b.Sb(1,0,0,1+l,0,-l*m.getY());case n:return b.Sb(1+l,0,0,1,-l*m.na(),0);default:return b.Sb(1,0,0,1+l,0,-l*m.ma())}};d.prototype.wO=function(){return null!=this.Nd&&null!=this.Nd.getParent()};d.prototype.Ia=function(){if(null==this.Nd)return!1;for(var k=this.Nd;null!=k;){if(!k.Ia())return!1;
k=k.getParent()}return!0};d.prototype.HR=function(){return this.Dvc};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoiamUiLCJpc1N1cHBvcnRlZCI6IklxIiwib25Nb3VzZURvd24iOiJnZCIsIm9uTW91c2VNb3ZlIjoiSWMiLCJvbk1vdXNlVXAiOiJZYyIsIm9uTGVhdmUiOiJPeiIsIm9uS2V5RG93biI6IlV4IiwicmVzZXROb2RlIjoib0ciLCJ1bmRvIjoicFMiLCJyZWRvIjoibGphIiwiY2FuVW5kbyI6Im1oYSIsImNhblJlZG8iOiJsaGEiLCJnZXRIaXN0b3J5Ijoia2ViIiwidXBkYXRlQnJvd3NlckN1cnNvciI6InpkYSIsInNldEVkaXRNb2RlIjoiWEUiLCJnZXRFZGl0TW9kZSI6InlwIiwiZ2V0Tm9kZSI6InViIiwic2V0Tm9kZSI6ImZtIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwib25FbmFibGVkU3RhdGVDaGFuZ2VkIjoiaGoiLCJnZXRCb3VuZHMiOiJnYSIsImdldEJib3hIYW5kbGUiOiJNdSIsImdldExvY2FsVHJhbnNmb3JtIjoib2IiLCJnZXRWaXNpYmxlIjoiSWEifX19");var tT=/*#__PURE__*/ta(/*#__PURE__*/{Rka:"Polygon",jnb:"Polyline",qnb:"Rectangle",E2a:"Ellipse",Image:"Image",TV:"Spline",slb:"Arrow",Line:"Line",Symbol:"Symbol",Text:"Text",F3:"Callout",WNb:"Pencil",aB:"Edit"},2,"eyJQb2x5Z29uIjoiUmthIiwiUG9seWxpbmUiOiJqbmIiLCJSZWN0YW5nbGUiOiJxbmIiLCJFbGxpcHNlIjoiRTJhIiwiU3BsaW5lIjoiVFYiLCJBcnJvdyI6InNsYiIsIkNhbGxvdXQiOiJGMyIsIlBlbmNpbCI6IldOYiIsIkVkaXQiOiJhQiJ9");var uT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){nT.call(this);this.D_=a;this.GHa=b;this.dFa=null==a||!0===c}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.AddSegment");d.prototype.ll=function(){return this.D_};d.prototype.$l=function(){return this.GHa};d.prototype.merge=function(a){return a instanceof d&&!this.dFa?(this.D_=a.ll()||this.D_,this.GHa=a.$l()||this.GHa,!0):!1};d.prototype.xc=function(){return new d(new N(NaN,NaN),new N(NaN,NaN))};d.prototype.Oh=function(){return this.dFa?jT.xS:jT.Nv};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGcm9tIjoibGwiLCJnZXRUbyI6IiRsIiwiY3JlYXRlSW52ZXJzZSI6InhjIiwiZ2V0RXZlbnROYW1lIjoiT2gifX19");var vT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){nT.call(this);this.Jo=a;this.Yq=b;this.dd=c}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.DragPoint");d.prototype.cf=function(){return this.Jo};d.prototype.Pe=function(){return this.Yq};d.prototype.getIndex=function(){return this.dd};d.prototype.merge=function(a){return a instanceof d&&a.getIndex()===this.getIndex()?(this.Jo+=a.cf(),this.Yq+=a.Pe(),!0):!1};d.prototype.xc=function(){return new d(-this.Jo,-this.Yq,this.dd)};d.prototype.Oh=function(){return jT.Sda};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRUcmFuc2xhdGVYIjoiY2YiLCJnZXRUcmFuc2xhdGVZIjoiUGUiLCJjcmVhdGVJbnZlcnNlIjoieGMiLCJnZXRFdmVudE5hbWUiOiJPaCJ9fX0g");var wT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=G(b,{name:"LineEditor",node:new Bk({linestyle:{width:2,pixelsnapmode:!0}})});sT.call(this,b)}var a=new Km({painter:$m,alignment:O.Oa,fillstyle:"#a9a9a9",linestyle:"black",sizeisindevicespace:!0,width:7,height:7});D(d,sT);L(d,"geotoolkit.controls.tools.editors.Line");d.prototype.je=function(b){!0!==this.wh&&(sT.prototype.je.call(this,b),this.lk=null,this.W5a=a.clone(),this.I$a=a.clone(),this.sTb=new ni({children:[this.W5a,this.I$a],visible:!1}),this.Al().pa(this.sTb))};
d.prototype.Iq=function(b){return b.node instanceof Bk||b.mode===tT.Line};d.prototype.gd=function(b){sT.prototype.gd.call(this,b);if(null!=this.Mu()||this.wO())this.lk=this.lO(b);else{var c=this.Sd(this.Nb(),b);this.push(new uT(c,c));b.stopPropagation(!0,!0);this.start()}};d.prototype.Ic=function(b){if(null==this.Mu()&&this.Pd()&&!this.HR())b=this.Sd(this.Nb(),b),this.push(new uT(null,b));else if(null==this.lk||!this.Pd()&&this.l2(b))sT.prototype.Ic.call(this,b);else{var c=this.sTb.gb(this.lk);c=
this.ob().Mx(c.Wn(),c.Cm());var e=this.Sd(this.Nb(),b);this.push(new vT(e.getX()-c.getX(),e.getY()-c.getY(),this.lk));this.start();this.zda(b)}};d.prototype.Yc=function(b){var c=null==this.Mu()&&this.Pd();sT.prototype.Yc.call(this,b);this.lk=null;c&&(b.stopPropagation(!0,!0),this.end(b))};d.prototype.apply=function(b){switch(b.Oh()){case jT.Nv:var c=this.mc().dl(this.Al());this.mc().Xf(c,this.ub());case jT.xS:return this.ub().Cr({from:b.ll(),to:b.$l()}),this;case jT.Sda:return c=b.getIndex()?this.ub().$l():
this.ub().ll(),c.translate(b.cf(),b.Pe()),this.ub().Cr({from:this.ub().ll(),to:this.ub().$l()}),this;case jT.EOa:c=this.ub().ll();var e=this.ub().$l();if(b.jBb()){var f=(c.getX()+e.getX())/2;c.setX(f+f-c.getX());e.setX(f+f-e.getX())}b.kBb()&&(b=(c.getY()+e.getY())/2,c.setY(b+b-c.getY()),e.setY(b+b-e.getY()));this.ub().Cr({from:c,to:e});return this;case jT.QV:c=b.kKa();b=this.Fxa(c[0]).clone();c=this.Fxa(c[1]);b=X.multiply(b,c,b);if(0>b.lb()||0>b.Ab())c=this.ga(),c=X.Vd(c,c,0>b.lb(),0>b.Ab()),b.lu(c),
c.lu(this.ob()),this.ub().Tc(c);b.Ma(this.ub().ll(),this.ub().ll());b.Ma(this.ub().$l(),this.ub().$l());this.ub().wj();return this;case jT.sP:return c=this.ub().ll(),e=this.ub().$l(),b=X.Ui(b.wp(),(c.getX()+e.getX())/2,(c.getY()+e.getY())/2),this.ub().Cr({from:b.Ma(c),to:b.Ma(e)}),this}return sT.prototype.apply.call(this,b)};d.prototype.update=function(){sT.prototype.update.call(this);var b=this.ub(),c=b.ll(),e=b.$l();null!=b&&null!=c&&null!=e&&(b=this.ob(),c=b.Pc(c.getX(),c.getY()),this.W5a.Jb(c),
e=b.Pc(e.getX(),e.getY()),this.I$a.Jb(e),this.sTb.va(this.wO()));return this};d.prototype.lO=function(b){if(null==b)return this.lk;if(0===(this.yp()&kT.yOa)||!this.e7(b)||b.Je().ctrlKey)return null;var c=b.he(),e=this.pn(b)?this.wY():this.wU();b=Zj.select(b.ub(),c.getX(),c.getY(),e);return 0<=b.indexOf(this.I$a)?1:0<=b.indexOf(this.W5a)?0:null};d.prototype.ga=function(){return null};d.prototype.fa=function(b){b=jc(b);return null==b?this:sT.prototype.fa.call(this,b)};d.prototype.ia=function(){var b=
sT.prototype.ia.call(this);return b=xb(b,{handles:{from:this.W5a.ia(),to:this.I$a.ia()}})};d.prototype.LMa=function(b){this.W5a.fa(b.from);this.I$a.fa(b.to);return this};d.prototype.zda=function(b,c){null==c&&(null!=this.lk?c="grabbing":null!=this.lO(b)&&(c="grab"));sT.prototype.zda.call(this,b,c)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoiamUiLCJpc1N1cHBvcnRlZCI6IklxIiwib25Nb3VzZURvd24iOiJnZCIsIm9uTW91c2VNb3ZlIjoiSWMiLCJvbk1vdXNlVXAiOiJZYyIsImdldEJvdW5kcyI6ImdhIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwidXBkYXRlQnJvd3NlckN1cnNvciI6InpkYSJ9fX0g");var xT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"ArrowEditor",node:new Mm({linestyle:{width:2,pixelsnapmode:!0},symbolEnd:new Km({width:12,height:24,painter:Jm,alignment:O.ee,sizeisindevicespace:!0,linestyle:"black",fillstyle:"black"})})});wT.call(this,a)}D(d,wT);L(d,"geotoolkit.controls.tools.editors.Arrow");d.prototype.Iq=function(a){return a.node instanceof Mm||a.mode===tT.slb};d.prototype.apply=function(a){switch(a.Oh()){case jT.sP:var b=this.ub().ll(),c=this.ub().$l();a=X.Ui(a.wp(),b.getX(),b.getY());
this.ub().Cr({from:b,to:a.Ma(c)});return this}return wT.prototype.apply.call(this,a)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IklxIn19fSAg");var yT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){nT.call(this);this.ic=a;this.D_=null;this.Ri=b}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.PropertyChange");d.prototype.fm=function(a){if(Array.isArray(a)){var b=this.ic;this.D_=a.map(function(c){return c.ia()[b]})}else this.D_=a.ia()[this.ic];return nT.prototype.fm.call(this,a)};d.prototype.Ga=function(){return this.ic};d.prototype.getValue=function(){return this.Ri};d.prototype.merge=function(a){return a instanceof d&&a.Ga()===this.ic?(this.Ri=a.getValue(),
!0):!1};d.prototype.xc=function(){return new d(this.ic,this.D_)};d.prototype.Oh=function(){return jT.Qj};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXROb2RlIjoiZm0iLCJnZXROYW1lIjoiR2EiLCJjcmVhdGVJbnZlcnNlIjoieGMiLCJnZXRFdmVudE5hbWUiOiJPaCJ9fX0g");var zT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e){e=G(e,{name:"TextEditor",node:(new ek({ispointingup:!0,showellipsis:!0,fillstyle:"white",linestyle:{color:"black",pixelsnapmode:!0},textstyle:{baseline:zi.VMb}})).wk(ck.qC).e8(!0),preview:new $g({linestyle:{pixelsnapmode:!0,pattern:[5,5]}})});sT.call(this,e)}var a=30,b=100,c=2;D(d,sT);L(d,"geotoolkit.controls.tools.editors.Text");d.prototype.je=function(e){!0!==this.wh&&(sT.prototype.je.call(this,e),this.lj=null,this.PK=e.preview,this.syc=this.vTd.bind(this),this.Va=
new U,this.Al().Xf(0,this.PK))};d.prototype.Iq=function(e){return e.node instanceof ek||e.mode===tT.Text};d.prototype.gd=function(e){sT.prototype.gd.call(this,e);this.lj=e.Ye().Pw();this.aj=this.Sd(this.Nb(),e);var f=this.ga();null==f||f.contains(this.aj)||null!=this.Mu()||(this.hS(!1),this.stop(),this.HR()||(e.stopPropagation(!0,!0),this.end(e)))};d.prototype.Ic=function(e){var f=this.F9b();this.l2(e)||this.HR()||e.Je().buttons===Dc.Jc||null!=this.Mu()?sT.prototype.Ic.call(this,e):null!=f.parentNode?
(this.hS(!1),e.stopPropagation(!0,!0),this.end(e)):0!==(this.yp()&kT.r2a)&&null!=this.aj&&(this.push(new uT(this.aj,this.Sd(this.mc(),e),this.Pd())),e.stopPropagation(!0,!0),this.start())};d.prototype.Yc=function(e){this.lj=e.Ye().Pw();if(this.l2(e))if(this.HR()){e.stopPropagation(!0,!0);var f=e.he(),g=this.ga();f=this.wa().Mx(f.getX(),f.getY());this.hS(null!=g&&g.contains(f))}else 0===(this.yp()&kT.tS)||this.wO()||this.Oyb(e);else if(this.HR())this.hS(!1);else{if(!this.e7(e)&&this.wO()){e.stopPropagation(!0,
!0);this.end(e);return}this.wO()&&(e.stopPropagation(!0,!0),this.push((new yT("text",this.ub().me())).NIb(!1)),this.hS(!0))}sT.prototype.Yc.call(this,e);null!=this.zy&&null!=this.zy.parentNode&&this.start()};d.prototype.Ux=function(e){var f=this.F9b();e.Je().keyCode!==Bc.Ydd?sT.prototype.Ux.call(this,e):null!=f.parentNode?(e.stopPropagation(!0,!0),this.hS(!1),this.stop(),this.HR()||this.end(e)):(e.stopPropagation(!0,!0),this.end(e))};d.prototype.apply=function(e){switch(e.Oh()){case jT.Qj:return"text"===
e.Ga()?(this.ub().Eb(e.getValue()),this):sT.prototype.apply.call(this,e);case jT.Nv:if(!this.ub().getParent()){var f=this.mc().dl(this.Al());this.mc().Xf(f,this.ub())}case jT.xS:f=e.ll();e=e.$l();this.Va.cb(f.getX(),f.getY(),e.getX(),e.getY());this.update();break;case jT.zM:var g=this.ob().xc();f=g.lb()*e.cf()+g.Ii()*e.Pe();e=g.vi()*e.cf()+g.Ab()*e.Pe();this.Va.translate(f,e);this.update();break;case jT.QV:f=e.kKa();e=this.Fxa(f[0]).clone();f=this.Fxa(f[1]);e=X.multiply(e,f,e);if(0>e.lb()||0>e.Ab())f=
X.Vd(this.Va,this.Va,0>e.lb(),0>e.Ab()),e.lu(f),f.lu(this.ob()),this.ub().Tc(f);e.Ua(this.Va,this.Va);this.update();break;default:sT.prototype.apply.call(this,e)}this.hS(!1);return this};d.prototype.ga=function(){return this.wO()?this.Va:null};d.prototype.oG=function(e){this.hS(!1);this.ub().Eb("");this.Va.Qa(0);return sT.prototype.oG.call(this,e)};d.prototype.end=function(e){this.hS(!1);return sT.prototype.end.call(this,e)};d.prototype.fm=function(e){var f=e.ia();this.Va=new U(0,0,f.userwidth,f.userheight);
f=e.getParent()&&e.getParent().wa()||X.xk;f.wd(this.Va,this.Va);this.Va.aI(e.Wn(),e.Cm());return sT.prototype.fm.call(this,e)};d.prototype.fa=function(e){e=jc(e);if(null==e)return this;sT.prototype.fa.call(this,e);e.preview&&this.PK.fa(e.preview);return this};d.prototype.ia=function(){var e=sT.prototype.ia.call(this);e.preview=this.PK.ia();return e};d.prototype.F9b=function(){if(!this.zy){var e=xc("textarea");e.className="cg-editor-textarea";e.style.display="block";e.style.border="none";e.style.resize=
"none";e.style.outline="none";e.style.overflow="hidden";e.style.position="relative";e.style.backgroundColor="transparent";e.style.textAlign="left";e.style.cbd="break-word";e.style.padding=0;e.addEventListener("input",this.syc);this.zy=e}return this.zy};d.prototype.hS=function(e){if(!this.lj||!this.zy)return this;e&&null==this.zy.parentNode?(this.zy.value=this.ub().me(),this.lj.parentNode.insertBefore(this.zy,this.lj.nextSibling),this.update(),this.zy.focus()):e||null==this.zy.parentNode||this.lj.parentNode.removeChild(this.zy);
this.ub().va(!e);return this};d.prototype.update=function(){this.pKb();var e=this.ga();if(null!=this.lj&&null!=this.zy&&null!=e){var f=this.ub().me();f||this.ub().Eb("|");var g=this.AKd(),h=this.wa(),k=h.Pc(e.hc(),e.Dc()),l=this.ub().xa().SX(g);g.Ua(l,l);g=this.lj.getBoundingClientRect();var m=l.ca();l=l.da();this.zy.style.left=k.x-m/2+"px";this.zy.style.top=k.y+l/2-g.height+"px";this.zy.style.width=m+c+"px";this.zy.style.height=l+"px";this.zy.style.marginTop=-l+"px";this.zy.style.transform="rotate("+
X.wp(h)+"rad)";h=this.ub().jb()||new Fi;this.zy.style.font=h.wt();this.zy.style.color=h.mb();this.zy.style.lineHeight=h.XC();this.zy.style.textAlign=h.Lj();this.ub().Eb(f);this.vG(e.getX(),e.getY(),e.na(),e.ma())}return sT.prototype.update.call(this)};d.prototype.vTd=function(){this.push(new yT("text",this.F9b().value))};d.prototype.vG=function(e,f,g,h){this.PK.clear();e!==g&&f!==h&&this.wO()&&!this.HR()&&(e=[e,g,g,e],f=[f,f,h,h],this.ob().tda(e,f,e.length),this.PK.moveTo(e[0],f[0]).lineTo(e[1],f[1]).moveTo(e[0],
f[0]).lineTo(e[3],f[3]).moveTo(e[1],f[1]).lineTo(e[2],f[2]).moveTo(e[3],f[3]).lineTo(e[2],f[2]));this.PK.ha()};d.prototype.dispose=function(){this.hS(!1);this.zy&&(this.zy.removeEventListener("input",this.syc),this.zy=null);this.PK.dispose();this.PK=null;sT.prototype.dispose.call(this)};d.prototype.Ia=function(){if(null==this.ub()||(null==this.zy||null==this.zy.parentNode)&&!this.ub().Ia())return!1;for(var e=this.ub().getParent();null!=e;){if(!e.Ia())return!1;e=e.getParent()}return!0};d.prototype.pKb=
function(){var e=this.mc()&&this.mc().wa()||X.xk,f=Ti.Saa(this.Va,this.ub().Zp());this.ub().Jb(f);e=e.Ua(this.Va);this.ub().setSize(e.ca(),e.da())};d.prototype.AKd=function(){var e=this.wa(),f=Math.atan2(e.vi(),e.lb()),g=this.ga(),h=g.hc();g=g.Dc();h=e.Pc(h,g);return f?X.Ui(-f,h.getX(),h.getY()).Wp(e):e};d.prototype.Oyb=function(e){e=e.he();e=new U(e.getX(),e.getY(),e.getX()+b,e.getY()+a);this.mc().wa().wd(e,e);var f=Ti.Saa(e,this.ub().Zp());e.translate(e.getX()-f.getX(),e.getY()-f.getY());this.push(new uT(e.kd(),
e.yf()));this.push((new yT("text","")).NIb(!1));this.hS(!0)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoiamUiLCJpc1N1cHBvcnRlZCI6IklxIiwib25Nb3VzZURvd24iOiJnZCIsIm9uTW91c2VNb3ZlIjoiSWMiLCJvbk1vdXNlVXAiOiJZYyIsIm9uS2V5RG93biI6IlV4IiwiZ2V0Qm91bmRzIjoiZ2EiLCJyZXNldE5vZGUiOiJvRyIsInNldE5vZGUiOiJmbSIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFRleHRBcmVhVmlzaWJsZSI6ImhTIiwiZ2V0VmlzaWJsZSI6IklhIiwidXBkYXRlVGV4dFNoYXBlIjoicEtiIiwiY3JlYXRlVGV4dE9uQ2xpY2siOiJPeWIifX19");var AT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=G(c,{name:"CalloutEditor",node:new NQ({width:100,height:30,sizemode:ck.qC,showellipsis:!0,padding:0})});zT.call(this,c)}var a=new U,b=new Km({painter:$m,alignment:O.Oa,fillstyle:"#a9a9a9",linestyle:"black",sizeisindevicespace:!0,width:7,height:7});D(d,zT);L(d,"geotoolkit.controls.tools.editors.Callout");d.prototype.je=function(c){!0!==this.wh&&(zT.prototype.je.call(this,c),this.kg=this.lk=null,this.JEa=this.IEa=!1,this.xta=b.clone().Jb(NaN,NaN),this.Al().pa(this.xta))};
d.prototype.Iq=function(c){return c.mode===tT.F3||c.node instanceof NQ};d.prototype.gd=function(c){zT.prototype.gd.call(this,c);this.HR()&&null==this.Mu()&&(this.lk=this.lO(c),null!=this.lk&&(this.kg=this.Sd(this.xta,c),c.stopPropagation(!1,!0)))};d.prototype.Ic=function(c){this.HR()&&null==this.Mu()&&null==this.lk&&c.Je().buttons!==Dc.Jc&&null==this.Mu(c)&&(this.lk=this.lO(c),this.kg=this.Sd(this.xta,c));null==this.lk||null==this.kg||!this.Pd()&&this.l2(c)?(zT.prototype.Ic.call(this,c),null!=this.lk&&
c.stopPropagation(!0,!0)):(c=this.Sd(this.xta,c),this.push(new vT(c.getX()-this.kg.getX(),c.getY()-this.kg.getY(),this.lk)),this.start(),this.kg=c)};d.prototype.Yc=function(c){zT.prototype.Yc.call(this,c);this.kg=this.lk=null;this.JEa=this.IEa=!1};d.prototype.push=function(c){switch(c.Oh()){case jT.Sda:this.oLc().va(!1);break;case jT.zM:var e=this.lPc(),f=e.lb()*c.cf()+e.Ii()*c.Pe();e=e.vi()*c.cf()+e.Ab()*c.Pe();c.iS(f,e);break;case jT.QV:f=c.kKa(),this.IEa&&(f[0].vx=-f[0].vx,f[0].vy=-f[0].vy,f[0].delta=
-f[0].delta),this.JEa&&(f[1].vx=-f[1].vx,f[1].vy=-f[1].vy,f[1].delta=-f[1].delta)}zT.prototype.push.call(this,c);return this};d.prototype.apply=function(c){switch(c.Oh()){case jT.Nv:if(!this.ub().getParent()){var e=this.mc().dl(this.Al());this.mc().Xf(e,this.ub())}case jT.xS:return e=c.ll(),c=c.$l(),null==e||isNaN(e.getX())?this.ub().Jb(NaN,NaN):e===c?this.ub().Jb(e):(this.wa(),a.cb(e.getX(),e.getY(),c.getX(),c.getY()),this.ub().kic(a),this.ub().yc(this.ub().Zp())),this;case jT.Sda:e=this.ub().Wn();
var f=this.ub().Cm();this.ub().Jb(e+c.cf(),f+c.Pe());break;case jT.zM:return this.ub().move(c.cf(),c.Pe()),this;case jT.QV:e=c.kKa();c=this.Fxa(e[0]).clone();e=this.Fxa(e[1]);e=X.multiply(c,e,c);c=this.ga();if(0>e.lb()||0>e.Ab())0>e.lb()&&(this.IEa=!this.IEa),0>e.Ab()&&(this.JEa=!this.JEa);c=e.Ua(c);e=this.ub().Wn();f=this.ub().Cm();this.ub().kic(c);var g=this.ub().Wn()-e,h=this.ub().Cm()-f;c=this.wa();this.ub().move(c.lb()*g+c.Ii()*h,c.vi()*g+c.Ab()*h);this.ub().Jb(e,f);return this;case jT.sP:return this.ub().Vz(this.ub().mY()+
c.wp()),this;case jT.EOa:return e=this.ub().oCb(),f=this.ub().pCb(),this.ub().move(c.jBb()?-2*e:0,c.kBb()?-2*f:0),this}return zT.prototype.apply.call(this,c)};d.prototype.Mu=function(c){var e=zT.prototype.Mu.call(this,c);if(0!==e||null==c)return e;e=this.ga();c=this.Sd(this.mc(),c);this.ob().rd(c,c);return null!=e&&e.contains(c)?0:null};d.prototype.ob=function(){var c=this.ub().mY();if(!c&&!this.IEa&&!this.JEa)return X.xk;var e=this.ub().X6(),f=this.ub().wa()||X.xk;e=f.Pc(e.hc(),e.Dc());return X.Ui(c,
e.getX(),e.getY()).lu(f.xc()).Wp(f)};d.prototype.hS=function(c){zT.prototype.hS.call(this,c);this.ub().va(!0).B7c(!c);return this};d.prototype.lO=function(c){if(null==c)return this.lk;var e=c.he(),f=this.pn(c)?this.wY():this.wU();c=Zj.select(c.ub(),e.getX(),e.getY(),f);return-1!==c.indexOf(this.xta)||-1!==c.indexOf(this.ub())?0:null};d.prototype.update=function(){zT.prototype.update.call(this);var c=this.ub().Wn(),e=this.ub().Cm();this.xta.Jb(c,e);var f=this.Al().ga();null==f||isNaN(c)||(a.cb(f).cP(c,
e),this.Al().sa(a));return this};d.prototype.ga=function(){return this.wO()?this.ub().X6():null};d.prototype.pKb=function(){};d.prototype.fa=function(c){c=jc(c);return null==c?this:zT.prototype.fa.call(this,c)};d.prototype.LMa=function(c){null!=c.anchor&&this.xta.fa(c.anchor);return this};d.prototype.ia=function(){var c=zT.prototype.ia.call(this);return c=xb(c,{handles:{anchor:this.xta.ia()}})};d.prototype.Oyb=function(c){c=this.lPc().rd(c.he());this.push(new uT(c,c));this.push((new yT("text","")).NIb(!1));
this.hS(!0)};d.prototype.lPc=function(){return this.mc()&&this.mc().wa()||X.xk};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoiamUiLCJpc1N1cHBvcnRlZCI6IklxIiwib25Nb3VzZURvd24iOiJnZCIsIm9uTW91c2VNb3ZlIjoiSWMiLCJvbk1vdXNlVXAiOiJZYyIsImdldEJib3hIYW5kbGUiOiJNdSIsImdldExvY2FsVHJhbnNmb3JtIjoib2IiLCJzZXRUZXh0QXJlYVZpc2libGUiOiJoUyIsImdldEJvdW5kcyI6ImdhIiwidXBkYXRlVGV4dFNoYXBlIjoicEtiIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwiY3JlYXRlVGV4dE9uQ2xpY2siOiJPeWIifX19");var BT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){nT.call(this);this.dc=(this.dFa=!Array.isArray(a))?[a]:a;this.rc=this.dFa?[b]:b}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.AddPath");d.prototype.getX=function(){return this.dc};d.prototype.getY=function(){return this.rc};d.prototype.merge=function(a){return a instanceof d&&!this.dFa?(this.dc.push(a.getX()[0]),this.rc.push(a.getY()[0]),!0):!1};d.prototype.xc=function(){return new d([],[])};d.prototype.Oh=function(){return this.dFa?jT.xS:jT.Nv};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVJbnZlcnNlIjoieGMiLCJnZXRFdmVudE5hbWUiOiJPaCJ9fX0g");var DT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){nT.call(this);this.aj=a;this.dd=b;this.Hvc=!0===c}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.AddPoint");d.prototype.getPoint=function(){return this.aj};d.prototype.getX=function(){return this.aj.getX()};d.prototype.getY=function(){return this.aj.getY()};d.prototype.getIndex=function(){return this.dd};d.prototype.merge=function(a){return a instanceof vT&&a.getIndex()===this.getIndex()?(this.aj.translate(a.cf(),a.Pe()),!0):!1};d.prototype.xc=function(){return new CT(this.aj,
this.dd)};d.prototype.yac=function(){return this.Hvc};d.prototype.Oh=function(){return this.Hvc?jT.X2a:0!==this.dd?jT.xS:jT.Nv};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVJbnZlcnNlIjoieGMiLCJpc0luc2VydCI6InlhYyIsImdldEV2ZW50TmFtZSI6Ik9oIn19fSAg"),CT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){nT.call(this);this.aj=a;this.dd=b}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.DeletePoint");d.prototype.getX=function(){return this.aj.getX()};d.prototype.getY=function(){return this.aj.getY()};d.prototype.getIndex=function(){return this.dd};d.prototype.xc=function(){return new DT(this.aj,this.dd,!0)};d.prototype.Oh=function(){return jT.ECa};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjcmVhdGVJbnZlcnNlIjoieGMiLCJnZXRFdmVudE5hbWUiOiJPaCJ9fX0g");var ET=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){nT.call(this)}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.Delete");d.prototype.Oh=function(){return jT.ECa};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRFdmVudE5hbWUiOiJPaCJ9fX0g");var FT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){nT.call(this);this.IEa=!0===a;this.JEa=!0===b}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.Flip");d.prototype.jBb=function(){return this.IEa};d.prototype.kBb=function(){return this.JEa};d.prototype.Oh=function(){return jT.EOa};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGbGlwWCI6ImpCYiIsImdldEZsaXBZIjoia0JiIiwiZ2V0RXZlbnROYW1lIjoiT2gifX19");var HT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){nT.call(this);this.bb=new ni}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.Group");d.prototype.fm=function(a){for(var b=new U,c=null,e=0;e<a.length;e++){var f=a[e].ob()||X.xk,g=a[e].ga();null!=g&&(f.Ua(g,b),c=c?c.union(b):b.clone())}this.bb.sa(c);return nT.prototype.fm.call(this,a)};d.prototype.NMa=function(a){this.bb=a;return this};d.prototype.sBb=function(){return this.bb};d.prototype.xc=function(){return(new GT).fm(this.bb)};d.prototype.Oh=function(){return jT.KMb};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXROb2RlIjoiZm0iLCJzZXRHcm91cCI6Ik5NYSIsImdldEdyb3VwIjoic0JiIiwiY3JlYXRlSW52ZXJzZSI6InhjIiwiZ2V0RXZlbnROYW1lIjoiT2gifX19"),GT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){nT.call(this);this.zj=[]}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.Ungroup");d.prototype.fm=function(a){this.zj=a.Df().toArray().slice();return nT.prototype.fm.call(this,a)};d.prototype.xc=function(){return(new HT).fm(this.zj).NMa(this.ub())};d.prototype.Oh=function(){return jT.ROb};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXROb2RlIjoiZm0iLCJjcmVhdGVJbnZlcnNlIjoieGMiLCJnZXRFdmVudE5hbWUiOiJPaCJ9fX0g");var IT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e){nT.call(this);this.quc=a;this.Q4=b;this.zBc=c;this.yBc=e}D(d,nT);L(d,"geotoolkit.controls.tools.editors.commands.SceneChange");d.prototype.V6b=function(){return this.quc};d.prototype.DNc=function(){return this.Q4};d.prototype.CSc=function(){return this.zBc};d.prototype.BSc=function(){return this.yBc};d.prototype.xc=function(){return new d(this.zBc,this.yBc,this.quc,this.Q4)};d.prototype.Oh=function(){return jT.wnb};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGcm9tUGFyZW50IjoiVjZiIiwiZ2V0RnJvbUlkIjoiRE5jIiwiZ2V0VG9QYXJlbnQiOiJDU2MiLCJnZXRUb0lkIjoiQlNjIiwiY3JlYXRlSW52ZXJzZSI6InhjIiwiZ2V0RXZlbnROYW1lIjoiT2gifX19");var JT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"CompositeEditor",node:[]});sT.call(this,a)}D(d,sT);L(d,"geotoolkit.controls.tools.editors.CompositeEditor");d.prototype.je=function(a){!0!==this.wh&&(sT.prototype.je.call(this,a),this.e5=!1,this.We=[],this.nz=[],this.sqd=this.a6d.bind(this))};d.prototype.Iq=function(a){return Array.isArray(a.node)||a.node instanceof ni};d.prototype.a6d=function(a,b){!this.isEnabled()||this.e5||null!=this.hla&&this.hla!==a||(this.hla=a,a.Al().va(!0),a=b.ULc(),a.fm(this.ub()),
this.push(a),this.start())};d.prototype.gd=function(a){if(this.e5)sT.prototype.gd.call(this,a);else for(var b=this.nz.length-1;0<=b&&(this.nz[b].gd(a),null==this.hla&&!a.Kk());b--);};d.prototype.Ic=function(a){if(this.e5)sT.prototype.Ic.call(this,a);else if(null!=this.hla)this.hla.Ic(a);else for(var b=this.nz.length-1;0<=b&&(this.nz[b].Ic(a),null==this.hla&&!a.Kk());b--);};d.prototype.Yc=function(a){if(this.e5)sT.prototype.Yc.call(this,a);else{for(var b=0;b<this.nz.length;b++)this.nz[b].Yc(a);this.hla=
null;this.stop()}};d.prototype.ub=function(){return this.e5?sT.prototype.ub.call(this):this.We};d.prototype.XE=function(a){a&=kT.Smc;for(var b=0;b<this.nz.length;b++)this.nz[b].XE(a);return sT.prototype.XE.call(this,a)};d.prototype.Rb=function(a){for(var b=0;b<this.nz.length;b++)this.nz[b].Rb(a);return sT.prototype.Rb.call(this,a)};d.prototype.apply=function(a){var b;switch(a.Oh()){case jT.KMb:if(this.e5||1>this.We.length||!this.We[0].getParent())break;var c=this.We[0].getParent();var e=c.dl(this.We[0]);
var f=a.sBb();a=f.Sa()||X.xk;for(b=0;b<this.We.length;b++){var g=X.multiply(a.xc(),this.We[b].ob()||X.xk);this.We[b].Tc(g)}f.rh().pa(this.We);this.fm(f);c.Xf(e,f);break;case jT.ROb:if(!this.e5||!this.ub().getParent())break;a=this.ub().Sa()||X.xk;c=this.ub().getParent();e=c.dl(this.ub());c.removeChild(this.ub());this.We=Hg.toArray(this.ub().Df());for(b=this.We.length-1;0<=b;b--)f=this.We[b].ob()||X.xk,this.We[b].Tc(X.multiply(a,f)),c.Xf(e,this.We[b]);this.fm(this.We);break;case jT.Qj:if(this.e5)return sT.prototype.apply.call(this,
a);e=a.Ga();c=a.getValue();f=Array.isArray(c);for(b=0;b<this.nz.length;b++)g=f?new yT(e,c[b]):a,this.nz[b].apply(g);break;case jT.wnb:return sT.prototype.apply.call(this,a);case jT.zM:case jT.sP:case jT.QV:case jT.EOa:if(this.e5)return sT.prototype.apply.call(this,a);for(b=0;b<this.nz.length;b++)this.hla!==this.nz[b]&&this.nz[b].apply(a)}return this};d.prototype.fm=function(a){var b;for(b=0;b<this.nz.length;b++)this.nz[b].dispose();this.nz=[];if(this.e5=!Array.isArray(a))return this.We=Hg.toArray(a.Df()),
this.Al().va(!0),sT.prototype.fm.call(this,a);this.We=a.reduce(function(c,e){!e.getParent()||0!==c.length&&c[0].getParent()!==e.getParent()||c.push(e);return c},[]);0<this.We.length&&(this.We=this.We[0].getParent().Df(function(c){return 0<=this.We.indexOf(c)}.bind(this)).toArray());for(b=0;b<this.We.length;)a=lT.ya().IB({node:this.We[b],layer:this.mc()}),null!=a?(a.addListener(jT.ska,this.sqd),this.nz.push(a),b++):this.We.splice(b,1);return sT.prototype.fm.call(this,null)};d.prototype.oG=function(a){if(this.e5)return sT.prototype.oG.call(this,
a);for(var b=0;b<this.nz.length;b++)this.nz[b].oG(a);return this};d.prototype.update=function(){for(var a=0;a<this.nz.length;a++)this.nz[a].update();return sT.prototype.update.call(this)};d.prototype.dispose=function(){for(var a=0;a<this.nz.length;a++)this.nz[a].dispose();this.nz=[];this.We=[];this.hla=null;sT.prototype.dispose.call(this)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoiamUiLCJpc1N1cHBvcnRlZCI6IklxIiwib25Nb3VzZURvd24iOiJnZCIsIm9uTW91c2VNb3ZlIjoiSWMiLCJvbk1vdXNlVXAiOiJZYyIsImdldE5vZGUiOiJ1YiIsInNldEVkaXRNb2RlIjoiWEUiLCJzZXRFbmFibGVkIjoiUmIiLCJzZXROb2RlIjoiZm0iLCJyZXNldE5vZGUiOiJvRyJ9fX0g");var KT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=G(b,{name:"SymbolEditor",node:new Km({alignment:O.Oa,linestyle:"black",fillstyle:"white"})});sT.call(this,b)}var a=new Ud(50,50);D(d,sT);L(d,"geotoolkit.controls.tools.editors.SymbolEditor");d.prototype.je=function(b){!0!==this.wh&&(sT.prototype.je.call(this,b),this.aj=null,this.Wb=a)};d.prototype.Iq=function(b){return b.node instanceof Km||b.mode===tT.Symbol};d.prototype.gd=function(b){sT.prototype.gd.call(this,b);this.aj=null==this.Mu()?b.he():null;this.wO()||0===
(this.yp()&kT.r2a)||0===(this.yp()&kT.tS)||b.stopPropagation(!0,!0)};d.prototype.Ic=function(b){if(null==this.aj||this.HR()||0===(this.yp()&kT.r2a)||!this.Pd()&&(this.l2(b)||this.wO()))sT.prototype.Ic.call(this,b);else{var c=b.he(),e=c.getX(),f=c.getY();b.Je().shiftKey&&(e=this.Uaa(),f=c.getX()-this.aj.getX(),c=c.getY()-this.aj.getY(),Math.abs(f)<e*Math.abs(c)?c=0<f===0<c?f/e:-f/e:f=0<f===0<c?c*e:-c*e,e=this.aj.getX()+f,f=this.aj.getY()+c);b=this.wa();c=b.rd(this.aj);e=b.rd(new N(e,f));this.push(new uT(c,
e,this.Pd()));this.start()}};d.prototype.Yc=function(b){var c=!1;null!=this.aj&&(this.l2(b)&&0!==(this.yp()&kT.tS)&&!this.wO()?(c=b.he(),c=(new U(c.getX(),c.getY(),c.getX(),c.getY())).bd(this.Wb.ca()/2,this.Wb.da()/2),this.Nb().wa().wd(c,c),this.push(new uT(c.kd(),c.yf())),c=!0):this.Pd()&&(b.stopPropagation(!0,!0),c=!0));this.aj=null;sT.prototype.Yc.call(this,b);c&&this.end(b)};d.prototype.ga=function(){return this.wO()?this.ub().lL(X.xk):null};d.prototype.apply=function(b){switch(b.Oh()){case jT.Nv:if(!this.ub().getParent()){var c=
this.mc().dl(this.Al());this.mc().Xf(c,this.ub())}case jT.xS:return c=b.ll(),b=b.$l(),b=new U(c.getX(),c.getY(),b.getX(),b.getY()),this.ub().va(!0).sa(b),this}return sT.prototype.apply.call(this,b)};d.prototype.Uaa=function(){return this.ub().Uaa()};d.prototype.D$c=function(){this.Wb=this.ub().getSize();return this};d.prototype.Gba=function(){return this.aj};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoiamUiLCJpc1N1cHBvcnRlZCI6IklxIiwib25Nb3VzZURvd24iOiJnZCIsIm9uTW91c2VNb3ZlIjoiSWMiLCJvbk1vdXNlVXAiOiJZYyIsImdldEJvdW5kcyI6ImdhIiwiZ2V0QXNwZWN0UmF0aW8iOiJVYWEifX19");var LT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"RectangleEditor",node:new ho({fillstyle:"white",linestyle:{width:2,pixelsnapmode:!0}})});KT.call(this,a)}D(d,KT);L(d,"geotoolkit.controls.tools.editors.Rectangle");d.prototype.Iq=function(a){return a.node instanceof ho||a.mode===tT.qnb};d.prototype.Uaa=function(){return 1};d.prototype.ga=function(){return this.wO()?this.Nd.ga():null};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IklxIiwiZ2V0Qm91bmRzIjoiZ2EifX19");var MT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"EllipseEditor",node:new Qm({fillstyle:"white",linestyle:{width:2,pixelsnapmode:!0}})});LT.call(this,a)}D(d,LT);L(d,"geotoolkit.controls.tools.editors.Ellipse");d.prototype.Iq=function(a){return a.node instanceof Qm||a.mode===tT.E2a};d.prototype.Ic=function(a){if(!a.Je().ctrlKey||null==this.Gba()||this.HR()||0===(this.yp()&kT.r2a)||!this.Pd()&&(this.l2(a)||this.wO()))LT.prototype.Ic.call(this,a);else{var b=this.Gba();a=a.he();a=N.xf(b,a);b=(new U(b.getX(),
b.getY(),b.getX(),b.getY())).bd(a);this.Nb().wa().wd(b,b);this.push(new uT(b.kd(),b.yf(),this.Pd()));this.start()}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IklxIiwib25Nb3VzZU1vdmUiOiJJYyJ9fX0g");var NT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"ImageEditor",node:new Cj({alignment:O.Oa})});KT.call(this,a);this.D$c();this.oT=this.D$c.bind(this);this.ub().on(Bj.ak,this.oT)}D(d,KT);L(d,"geotoolkit.controls.tools.editors.Image");d.prototype.Iq=function(a){return a.node instanceof Cj||a.mode===tT.Image};d.prototype.fm=function(a){null!=this.ub()&&this.ub().za(Bj.ak,this.oT);KT.prototype.fm.call(this,a);if(null!=this.ub())this.ub().on(Bj.ak,this.oT);return this};d.prototype.dispose=function(){this.ub().za(Bj.ak,
this.oT);KT.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IklxIiwic2V0Tm9kZSI6ImZtIn19fSAg");var OT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"PencilEditor",node:new $g({linestyle:{width:2,pixelsnapmode:!0}})});sT.call(this,a)}D(d,sT);L(d,"geotoolkit.controls.tools.editors.Pencil");d.prototype.Iq=function(a){if(a.mode===tT.WNb)return!0;if(a.node instanceof $g){for(var b=a.node.$d().getTags(),c=0;c<b.length;c++)if(b[c]!==Dd.Zz&&(b[c]!==Dd.cz||0!==c))return!1;return null!=a.node.hu("type")&&"pencil"!==a.node.hu("type")?!1:!0}return!1};d.prototype.gd=function(a){sT.prototype.gd.call(this,a);if(null==
this.Mu()&&0===this.ub().$d().getLength()){var b=a.he();this.push(new BT([b.getX()],[b.getY()]));a.stopPropagation(!0,!0);this.start()}};d.prototype.Ic=function(a){null==this.Mu()&&this.Pd()&&!this.HR()?(a=a.he(),this.push(new BT(a.getX(),a.getY()))):sT.prototype.Ic.call(this,a)};d.prototype.Yc=function(a){var b=null==this.Mu()&&this.Pd();sT.prototype.Yc.call(this,a);b&&(a.stopPropagation(!0,!0),this.end(a))};d.prototype.oG=function(a){this.ub().clear().ha();return sT.prototype.oG.call(this,a)};d.prototype.apply=
function(a){switch(a.Oh()){case jT.xS:return a=this.wa().Mx(a.getX()[0],a.getY()[0]),this.ub().lineTo(a.getX(),a.getY()).ha(),this;case jT.Nv:if(!this.ub().getParent()){var b=this.mc().dl(this.Al());this.mc().Xf(b,this.ub())}b=a.getX();var c=a.getY(),e=this.wa();this.ub().setProperty("type","pencil").clear();0<b.length&&(a=e.Mx(b[0],c[0]),this.ub().moveTo(a.getX(),a.getY()));for(var f=1;f<b.length;f++)a=e.Mx(b[f],c[f]),this.ub().lineTo(a.getX(),a.getY());this.ub().ha();return this}return sT.prototype.apply.call(this,
a)};d.prototype.fa=function(a){sT.prototype.fa.call(this,a);this.ub().ra(null);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IklxIiwib25Nb3VzZURvd24iOiJnZCIsIm9uTW91c2VNb3ZlIjoiSWMiLCJvbk1vdXNlVXAiOiJZYyIsInJlc2V0Tm9kZSI6Im9HIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var PT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=G(c,{name:"PolygonEditor",node:new Um({linestyle:{width:2,pixelsnapmode:!0},fillstyle:"white"}),preview:new $g({linestyle:{color:"red",width:1.5,pattern:[7,3]}})});sT.call(this,c)}var a=new N,b=new Km({painter:$m,alignment:O.Oa,fillstyle:"#a9a9a9",linestyle:"black",sizeisindevicespace:!0,width:7,height:7});D(d,sT);L(d,"geotoolkit.controls.tools.editors.Polygon");d.prototype.je=function(c){!0!==this.wh&&(sT.prototype.je.call(this,c),this.PK=c.preview,this.G4a=b.clone(),
this.B5=b.clone(),this.aRa=b.clone(),this.JSa=[],this.Oma=new ni,this.lk=null,this.Al().pa([this.PK,this.Oma]))};d.prototype.Iq=function(c){return c.node instanceof Um||c.mode===tT.Rka};d.prototype.gd=function(c){this.lk=this.lO(c);sT.prototype.gd.call(this,c);if(null!=this.lk)c.stopPropagation(!1,!0);else if(0>=this.Mu()&&!c.Je().ctrlKey){var e=this.intersect(c);null!==e&&(this.lk=e.index,this.push((new DT(new N(e.x,e.y),this.lk,!0)).setOptions(e)),c.stopPropagation(!1,!0),this.Al().removeChild(this.B5),
this.start())}this.jhc(!0)};d.prototype.Ic=function(c){if(null==this.lk||!this.Pd()&&this.l2(c))sT.prototype.Ic.call(this,c),null!=this.lk&&c.stopPropagation(!0,!0);else{var e=this.T1().gb(this.lk);e=this.ob().Mx(e.Wn(),e.Cm());var f=this.Sd(this.Nb(),c);this.push(new vT(f.getX()-e.getX(),f.getY()-e.getY(),this.lk));c.stopPropagation(!0,!0);this.start();this.zda(c)}this.vG(this.e7(c)?c:null)};d.prototype.Yc=function(c){var e=!1;this.jhc(!1);if(this.Pd())c.stopPropagation(!0,!0);else if(this.l2(c)&&
this.e7(c))if((this.Tza(this.lk)||c.Je().button===Fc.cc)&&this.wO()&&0!==(this.yp()&kT.tS))c.stopPropagation(!0,!0),this.lk=null,e=!0;else if(null==this.lk&&0>=this.Mu()&&0!==(this.yp()&kT.tS)){var f=this.Sd(this.Nb(),c);this.push(new DT(f,this.getSize()));this.vG()}else if(null!=this.lk&&0!==(this.yp()&kT.y2a)){f=this.be();var g=this.He();this.push(new CT(new N(f[this.lk],g[this.lk]),this.lk));this.vG(this.pn(c)?null:c)}sT.prototype.Yc.call(this,c);this.lk=null;e&&this.end(c)};d.prototype.Oz=function(c){this.vG();
this.Al().removeChild(this.B5)};d.prototype.apply=function(c){var e=this.be(),f=this.He();switch(c.Oh()){case jT.Nv:if(!this.ub().getParent()){var g=this.mc().dl(this.Al());this.mc().Xf(g,this.ub())}case jT.xS:case jT.X2a:g=c.getIndex();e.splice(g,0,c.getX());f.splice(g,0,c.getY());break;case jT.Sda:g=c.getIndex();e[g]+=c.cf();f[g]+=c.Pe();break;case jT.ECa:g=c.getIndex();e.splice(g,1);f.splice(g,1);break;default:return sT.prototype.apply.call(this,c)}this.ub().ne(e,f);return this.update()};d.prototype.update=
function(){var c=this.ob(),e=this.be(),f=this.He(),g=[];if(0<e.length){var h=c.Pc(e[0],f[0]);this.G4a.Jb(h);g.push(this.G4a);for(var k=1;k<e.length-1;k++){var l=this.JSa[k];l&&l!==this.aRa||(l=this.B5.clone());h=c.Pc(e[k],f[k]);l.Jb(h);g.push(l)}1<e.length&&(h=c.Pc(e[e.length-1],f[f.length-1]),this.aRa.Jb(h),g.push(this.aRa))}this.JSa.length!==g.length&&(this.Oma.removeChild(this.JSa),this.Oma.pa(g),this.JSa=g);this.Oma.va(this.Ia()&&(0!==(this.yp()&kT.yOa)||0!==(this.yp()&kT.y2a)));this.vG();return sT.prototype.update.call(this)};
d.prototype.push=function(c){sT.prototype.push.call(this,c);c instanceof vT||c instanceof DT&&c.yac()?this.oLc().va(!1):(c instanceof pT||c instanceof qT)&&this.Oma.va(!this.Pd());return this};d.prototype.oG=function(c){this.ub().ne([],[]);this.Al().removeChild(this.B5);return sT.prototype.oG.call(this,c)};d.prototype.XE=function(c){this.PK.clear().ha();return sT.prototype.XE.call(this,c)};d.prototype.ga=function(){return 1<this.getSize()?sT.prototype.ga.call(this):null};d.prototype.zda=function(c,
e){null==e&&(null!=this.lk?e="grabbing":null!=this.lO(c)?e="grab":null!=this.B5.getParent()&&(e="copy"));sT.prototype.zda.call(this,c,e)};d.prototype.fa=function(c){if(null==c)return this;this.PK.fa(c.preview);return sT.prototype.fa.call(this,c)};d.prototype.ia=function(){var c=sT.prototype.fa.call(this);c.preview=this.PK.ia();return c=xb(c,{handles:{begin:this.G4a.ia(),middle:this.B5.ia(),end:this.aRa.ia()}})};d.prototype.Mu=function(c){return null!=this.lk?null:sT.prototype.Mu.call(this,c)};d.prototype.LMa=
function(c){this.G4a.fa(c.begin);this.B5.fa(c.middle);this.aRa.fa(c.end);this.JSa.forEach(function(e){e!==this.G4a&&e!==this.aRa&&e.fa(c.middle)}.bind(this))};d.prototype.jhc=function(c){if(null!=this.lk){var e=this.Oma.gb(this.lk);c?e.iL("active"):e.QJ("active")}return this};d.prototype.lO=function(c){if(null==c)return this.lk;if(0===(this.yp()&kT.yOa)||!this.e7(c)||c.Je().ctrlKey)return null;var e=c.he(),f=this.pn(c)?this.GN:this.LK;c=Zj.select(c.ub(),e.getX(),e.getY(),f);for(e=this.Oma.ac()-1;0<=
e;e--)if(0<=c.indexOf(this.Oma.gb(e)))return e;return null};d.prototype.vG=function(c){var e=this.getSize();this.PK.clear();if(0<e&&null!=c&&!this.Pd()&&null==this.lO(c)&&0>=this.Mu(c)){var f=this.ob(),g=c.Je().ctrlKey?null:this.intersect(c);if(null!=g)g=f.Pc(g.x,g.y),this.B5.Jb(g),this.Al().pa(this.B5);else if(this.Al().removeChild(this.B5),0!==(this.yp()&kT.tS)){g=this.be();var h=this.He(),k=f.Pc(g[0],h[0]);c=this.Sd(this.mc(),c);this.PK.moveTo(k.getX(),k.getY()).lineTo(c.getX(),c.getY());1<e&&
(e=f.Pc(g[e-1],h[e-1]),this.PK.moveTo(e.getX(),e.getY()).lineTo(c.getX(),c.getY()))}}else this.Al().removeChild(this.B5);this.PK.ha()};d.prototype.intersect=function(c){if(2>this.getSize()||0===(this.yp()&kT.bNb))return null;var e=c.he();c=this.pn(c)?this.GN:this.LK;for(var f=this.wa(),g=this.be(),h=this.He(),k=g.length-1,l=f.Pc(g[k],h[k]),m=0;m<g.length;k=m++){var n=l.getX(),p=l.getY();l=f.Pc(g[m],h[m]);n=e.uAb(n,p,l.getX(),l.getY(),a);if(n.Ex(e,c))return f.rd(n,n),{x:n.getX(),y:n.getY(),index:k+
1}}return null};d.prototype.getSize=function(){return this.ub().getSize()};d.prototype.be=function(){return this.ub().be()};d.prototype.He=function(){return this.ub().He()};d.prototype.T1=function(){return this.Oma};d.prototype.Kx=function(){return this.PK};d.prototype.Jx=function(){return this.B5};d.prototype.kId=function(){return this.JSa};d.prototype.Tza=function(c){return 0===c||c===this.getSize()-1};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoiamUiLCJpc1N1cHBvcnRlZCI6IklxIiwib25Nb3VzZURvd24iOiJnZCIsIm9uTW91c2VNb3ZlIjoiSWMiLCJvbk1vdXNlVXAiOiJZYyIsIm9uTGVhdmUiOiJPeiIsInJlc2V0Tm9kZSI6Im9HIiwic2V0RWRpdE1vZGUiOiJYRSIsImdldEJvdW5kcyI6ImdhIiwidXBkYXRlQnJvd3NlckN1cnNvciI6InpkYSIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSIsImdldEJib3hIYW5kbGUiOiJNdSIsInNldEV4dHJhSGFuZGxlc1Byb3BlcnRpZXMiOiJMTWEiLCJzZXROb2RlSGFuZGxlQWN0aXZlIjoiamhjIn19fSAg");var QT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=G(c,{format:a});PT.call(this,c)}var a=new cj({format:"###,###.00",locale:"no"}),b=new NQ({selectable:!1,arrowsize:10,padding:3,fillstyle:{color:"#00fa9a",shadow:{enable:!0,color:"rgba(0, 0, 0, 0.5)",offsetx:2,offsety:2}},textstyle:{font:"bold 11px sans-serif"}});D(d,PT);L(d,"geotoolkit.controls.tools.editors.PolygonArea");d.prototype.je=function(c){!0!==this.wh&&(PT.prototype.je.call(this,c),this.Ue=b.clone(),this.Ue.fa(c.label),this.Vg=c.format,this.Uh=null)};d.prototype.update=
function(){this.Uh=this.xoa();if(null==this.Uh)this.Al().removeChild(this.Ue);else{var c=this.ob(),e=this.getSize(),f=this.be(),g=this.He();e=d.Exa(this,f[e-1],g[e-1],f[0],g[0],f[1],g[1]);c=c.Pc(f[0],g[0]);f=this.format(this.Uh);this.Ue.Eb(f).Jb(c).yc(e);this.Al().pa(this.Ue)}return PT.prototype.update.call(this)};d.prototype.fa=function(c){if(null==c)return this;this.Ue.fa(c.label);null!=c.format&&(this.Vg=c.format);return PT.prototype.fa.call(this,c)};d.prototype.ia=function(){var c=PT.prototype.ia.call(this);
c.label=this.Ue.ia();c.format=this.Vg;return c};d.prototype.Jy=function(){return this.Ue};d.Exa=function(c,e,f,g,h,k,l){var m=c.ob();e=[e,g,k];f=[f,h,l];m.tda(e,f,e.length);m=e[1]-e[0];h=f[1]-f[0];l=e[1]-e[2];g=f[1]-f[2];k=Math.sqrt(m*m+h*h);var n=Math.sqrt(l*l+g*g);m=m/k+l/n;h=h/k+g/n;c=0>c.mc().wa().Ab();W.equals(m,0)&&W.equals(h,0)&&(m=f[0]-f[1],h=e[1]-e[0],0<h!==c&&(m=-m,h=-h));return 0>m?0<h===c?O.Ah:O.Nf:0<h===c?O.hg:O.Id};d.prototype.xoa=function(c,e){c=c||this.be();e=e||this.He();var f=c.length;
if(3>f)return null;for(var g=[],h=0;h<f;h++)g.push(new ph.Vsa(c[h],e[h]));g=ph.FLb.C8c(g,ph.jj.nD);return ph.kNb.Zsd(g)};d.prototype.$td=function(c,e){var f=this.be().slice(),g=this.He().slice();f.push(c);g.push(e);return this.xoa(f,g)};d.prototype.getArea=function(){return this.Uh};d.prototype.format=function(c){return this.Vg.format(c)};return d}(),1,"eyJjYWxjdWxhdGVBbmNob3JUeXBlIjoiRXhhIiwicHJvdG90eXBlIjp7InMiOjAsImMiOnsiaW5pdGlhbGl6ZSI6ImplIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwiZ2V0TGFiZWwiOiJKeSIsImNhbGN1bGF0ZUFyZWEiOiJ4b2EifX19");var RT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"PolylineEditor",node:new Yn({linestyle:{width:2,pixelsnapmode:!0}})});PT.call(this,a)}D(d,PT);L(d,"geotoolkit.controls.tools.editors.Polyline");d.prototype.Iq=function(a){return a.node instanceof Yn||a.mode===tT.jnb};d.prototype.vG=function(a){var b=this.getSize();this.Kx().clear();if(0<b&&null!=a&&!this.Pd()&&null==this.lO(a)&&0>=this.Mu(a)){var c=this.intersect(a);if(null!=c)c=this.ob().Pc(c.x,c.y),this.Jx().Jb(c),this.Al().pa(this.Jx());else if(this.Al().removeChild(this.Jx()),
0!==(this.yp()&kT.tS)){c=this.be();var e=this.He();b=this.ob().Pc(c[b-1],e[b-1]);a=this.Sd(this.mc(),a);this.Kx().moveTo(b.getX(),b.getY()).lineTo(a.getX(),a.getY())}}else this.Al().removeChild(this.Jx());this.Kx().ha()};d.prototype.intersect=function(a){if(2>this.ub().getSize())return null;var b=a.he();a=this.pn(a)?this.GN:this.LK;for(var c=this.ub().wa(),e=this.ub().be(),f=this.ub().He(),g=c.Pc(e[0],f[0]),h=1;h<e.length;h++){var k=g.getX(),l=g.getY();g=c.Pc(e[h],f[h]);k=b.uAb(k,l,g.getX(),g.getY());
if(k.Ex(b,a))return c.rd(k,k),{x:k.x,y:k.y,index:h}}return null};d.prototype.Tza=function(a){return a===this.getSize()-1};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;PT.prototype.fa.call(this,a);this.ub().ra(null);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1N1cHBvcnRlZCI6IklxIiwidXBkYXRlUHJldmlldyI6InZHIiwiaXNFbmRIYW5kbGUiOiJUemEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var ST=/*#__PURE__*/ta(/*#__PURE__*/{Jc:0,Nv:1,il:2,jp:4},2,"eyJOb25lIjoiSmMiLCJTdGFydCI6Ik52IiwiTWlkZGxlIjoiaWwiLCJFbmQiOiJqcCJ9");var TT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{node:new Yn({linestyle:{width:2,pixelsnapmode:!0}}),directionmode:ST.Jc,directionsymbol:new Km({width:12,height:21,painter:Zm,alignment:O.Oa,sizeisindevicespace:!0,selectable:!1,linestyle:"black",fillstyle:"black"})});QT.call(this,a);this.Mla=a.directionsymbol;this.qEa=a.directionmode}D(d,QT);L(d,"geotoolkit.controls.tools.editors.PolylineDistance");d.prototype.je=function(a){!0!==this.wh&&(QT.prototype.je.call(this,a),this.Ve=[],this.G4=[],this.w_=[],this.rEa=
new ni,a=this.Al().dl(this.T1()),this.Al().Xf(a,this.rEa))};d.prototype.update=function(){QT.prototype.update.call(this);var a=this.getSize(),b=this.be(),c=this.He(),e=this.ob(),f=[],g=[],h=0,k=this.wa(),l=k.Pc(b[0],c[0]).clone();k.Wp(e.xc());this.G4=[];for(var m=1;m<a;m++){h+=this.e1(b[m-1],c[m-1],b[m],c[m]);var n=this.Ve[m-1]||this.Jy().clone(),p=this.format(h),q=e.Pc(b[m],c[m]),r=d.Zp(this,m);n.Eb(p).Jb(q).yc(r);g.push(n);this.G4.push(h);p=k.Ma(q,q);n=p.getX();p=p.getY();this.tIa(l,n,p,k,f,ST.Nv);
this.tIa(l,n,p,k,f,ST.il);this.tIa(l,n,p,k,f,ST.jp);l.Da(n,p)}g.length!==this.Ve.length&&(this.T1().removeChild(this.Ve),this.T1().pa(g),this.Ve=g);f.length!==this.w_.length&&(this.rEa.removeChild(this.w_),this.rEa.pa(f),this.w_=f);return this};d.prototype.xoa=function(){return null};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;for(var b=0;b<this.Ve.length;b++)this.Ve[b].fa(a.label);null!=a.directionmode&&(this.qEa=a.directionmode);null!=a.directionsymbol&&(a.directionsymbol instanceof
Ti?this.Mla=a.directionsymbol:this.Mla.fa(a.directionsymbol));return QT.prototype.fa.call(this,a)};d.prototype.ia=function(){var a=QT.prototype.ia.call(this);a.directionMode=this.qEa;a.directionSymbol=this.Mla;return a};d.prototype.e1=function(a,b,c,e){a=c-a;b=e-b;return Math.sqrt(a*a+b*b)};d.prototype.NEc=function(a,b){if(1>this.getSize())return null;var c=this.be(),e=this.He(),f=this.cba();f=0<f.length?f[f.length-1]:0;return this.e1(c[c.length-1],e[e.length-1],a,b)+f};d.prototype.tIa=function(a,
b,c,e,f,g){if(0!==(this.qEa&g)){var h=this.w_[f.length]||this.Mla.clone(),k=Math.atan2(c-a.getY(),b-a.getX())+W.sign(e.Ab())*Math.PI/2;switch(g){case ST.Nv:var l=a.getX();var m=a.getY();h.yc(O.Se);break;case ST.il:l=(a.getX()+b)/2;m=(a.getY()+c)/2;h.yc(O.Oa);break;case ST.jp:l=b,m=c,h.yc(O.ee)}a=X.Ui(k,l,m).Wp(e);h.Jb(a.Mx(l,m));e=a.lu(e.xc());h.Tc(e);f.push(h)}};d.prototype.cba=function(){return this.G4.slice()};d.Zp=function(a,b){var c=a.be(),e=a.He();return 0===b?QT.Exa(a,c[1],e[1],c[0],e[0],c[1],
e[1]):b===a.getSize()-1?QT.Exa(a,c[b-1],e[b-1],c[b],e[b],c[b-1],e[b-1]):QT.Exa(a,c[b-1],e[b-1],c[b],e[b],c[b+1],e[b+1])};d.prototype.vG=function(a){var b=this.getSize();this.Kx().clear();if(0<b&&null!=a&&!this.Pd()&&null==this.lO(a)&&0>=this.Mu(a)){var c=this.ob(),e=this.intersect(a),f=this.be(),g=this.He();null!=e?(a=e.index,b=1<a?this.G4[a-2]:0,b+=this.e1(f[a-1],g[a-1],e.x,e.y),b=this.format(b),f=QT.Exa(this,f[a-1],g[a-1],e.x,e.y,f[a],g[a]),c=c.Pc(e.x,e.y),this.Jy().Eb(b).Jb(c).yc(f),this.Jx().Jb(c),
this.Al().pa([this.Jx(),this.Jy()])):(this.Al().removeChild([this.Jx(),this.Jy()]),0!==(this.yp()&kT.tS)&&(c=c.Pc(f[b-1],g[b-1]),e=this.Sd(this.mc(),a),this.Kx().moveTo(c.getX(),c.getY()).lineTo(e.getX(),e.getY())))}else this.Al().removeChild([this.Jx(),this.Jy()]);this.Kx().ha()};d.prototype.intersect=function(a){if(2>this.ub().getSize())return null;var b=a.he();a=this.pn(a)?this.GN:this.LK;for(var c=this.ub().wa(),e=this.ub().be(),f=this.ub().He(),g=c.Pc(e[0],f[0]),h=1;h<e.length;h++){var k=g.getX(),
l=g.getY();g=c.Pc(e[h],f[h]);k=b.uAb(k,l,g.getX(),g.getY());if(k.Ex(b,a))return c.rd(k,k),{x:k.x,y:k.y,index:h}}return null};d.prototype.Tza=function(a){return a===this.getSize()-1};d.prototype.P1=function(){return this.Ve};return d}(),1,"eyJnZXRBbmNob3JUeXBlIjoiWnAiLCJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoiamUiLCJjYWxjdWxhdGVBcmVhIjoieG9hIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwiY2FsY3VsYXRlRGlzdGFuY2UiOiJlMSIsImdldERpc3RhbmNlcyI6ImNiYSIsInVwZGF0ZVByZXZpZXciOiJ2RyIsImlzRW5kSGFuZGxlIjoiVHphIiwiZ2V0TGFiZWxzIjoiUDEifX19");var UT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(k){k=G(k,{name:"SplineEditor",node:new $g({linestyle:{width:2,pixelsnapmode:!0}})});PT.call(this,k)}function a(k,l,m){return new N((1-m)*k.getX()+m*l.getX(),(1-m)*k.getY()+m*l.getY())}var b=new N,c=new N,e=new N,f=new N,g=new Km({painter:$m,alignment:O.Oa,fillstyle:"#ffe5cf",linestyle:"#ba2d32",sizeisindevicespace:!0,width:8,height:8}),h=new $g({selectable:!1,linestyle:"#db7c8d"});D(d,PT);L(d,"geotoolkit.controls.tools.editors.Spline");d.prototype.je=function(k){!0!==
this.wh&&(PT.prototype.je.call(this,k),this.lt=[],this.LG=[],this.wF=[],this.v4=[],this.w4=[],this.Wta=g.clone(),this.u9=h.clone(),this.u9.fa(k.cpline),k=this.Al().dl(this.T1()),this.Al().Xf(k,this.u9))};d.prototype.Iq=function(k){if(k.mode===tT.TV)return!0;if(k.node instanceof $g){for(var l=k.node.$d().getTags(),m=0;m<l.length;m++)if(l[m]!==Dd.AD&&(l[m]!==Dd.cz||0!==m))return!1;return null!=k.node.hu("type")&&"spline"!==k.node.hu("type")?!1:!0}return!1};d.prototype.fm=function(k){PT.prototype.fm.call(this,
k);k=[];for(var l=[],m=[],n=[],p=[],q=this.ub().$d(),r=q.getTags(),t=q.getX(),u=q.getY(),w=0;w<q.getLength();w++){var y=q.getIndex(w);k.push(this.lt[w]||new N);l.push(this.LG[w]||new N);m.push(this.wF[w]||new N);n.push(this.v4[w]||this.Wta.clone());p.push(this.w4[w]||this.Wta.clone());switch(r[w]){case Dd.cz:k[w].Da(t[y],u[y]);break;case Dd.AD:l[w-1].Da(t[y],u[y]),m[w].Da(t[y+1],u[y+1]),k[w].Da(t[y+2],u[y+2])}}for(q=k.length;q<this.getSize();q++)this.v4[q].dispose(),this.w4[q].dispose();this.lt=k;
this.LG=l;this.wF=m;this.v4=n;this.w4=p;return this.update()};d.prototype.push=function(k){if(k instanceof DT){var l=k.ta()||{};if(k.yac()){l.isInsert=!0;var m=k.getIndex();var n=this.lt[m-1],p=this.LG[m-1],q=this.wF[m],r=this.lt[m];n=a(n,p,l.t);m=a(p,q,l.t);r=a(q,r,l.t);var t=a(n,m,l.t);m=a(m,r,l.t);l.cpAfter=[n,t,m,r];l.cpBefore=[p.clone(),q.clone()]}else if(p=this.getSize(),0<p)switch(1===p?(q=[this.lt[0].getX(),k.getX()],n=[this.lt[0].getY(),k.getY()]):(q=[this.lt[p-2].getX(),this.lt[p-1].getX(),
k.getX()],n=[this.lt[p-2].getY(),this.lt[p-1].getY(),k.getY()]),r=ch.G1(q,n),q=r.MX,n=r.NX,m=r.mZ,r=r.nZ,p){case 1:l.cpAfter=[new N(q[0],n[0]),new N(m[0],r[0])];break;case 2:l.cpAfter=[new N(q[0],n[0]),new N(m[0],r[0]),new N(q[1],n[1]),new N(m[1],r[1])];l.cpBefore=[this.LG[0].clone(),this.wF[1].clone()];break;default:l.cpAfter=[new N(m[0],r[0]),new N(q[1],n[1]),new N(m[1],r[1])],l.cpBefore=[this.wF[p-1].clone()]}k.setOptions(l)}else if(k instanceof CT){m=k.getIndex();if(m>this.getSize())return this;
l=k.ta()||{};l.point=this.lt[m].clone();l.cp1=this.LG[m].clone();l.cp2=this.wF[m].clone();k.setOptions(l)}PT.prototype.push.call(this,k);this.u9.va(this.T1().Ia());return this};d.prototype.apply=function(k){var l=k.ta()||{};var m=l.cpAfter;switch(k.Oh()){case jT.X2a:var n=k.getIndex();if(null!=m){var p=k.getX()-l.x;l=k.getY()-l.y;this.LG[n-1].Da(m[0]);this.wF[n].Da(m[3]);this.wF.splice(n,0,m[1].clone().translate(p,l));this.LG.splice(n,0,m[2].clone().translate(p,l));this.lt.splice(n,0,new N(k.getX(),
k.getY()))}else null!=l.point&&(this.lt.splice(n,0,l.point.clone()),this.LG.splice(n,0,l.cp1.clone()),this.wF.splice(n,0,l.cp2.clone()));this.v4.splice(n,0,this.Wta.clone());this.w4.splice(n,0,this.Wta.clone());break;case jT.Nv:this.ub().getParent()||(n=this.mc().dl(this.Al()),this.mc().Xf(n,this.ub())),this.ub().setProperty("type","spline");case jT.xS:this.lt.push(new N(k.getX(),k.getY()));this.LG.push(new N);this.wF.push(new N);this.v4.push(this.Wta.clone());this.w4.push(this.Wta.clone());null!=
m&&(n=k.getIndex(),3<m.length&&this.LG[n-2].Da(m[m.length-4]),2<m.length&&this.wF[n-1].Da(m[m.length-3]),this.LG[n-1].Da(m[m.length-2]),this.wF[n].Da(m[m.length-1]));break;case jT.Sda:n=k.getIndex();p=k.cf();l=k.Pe();n<this.getSize()?(this.lt[n].translate(p,l),this.LG[n].translate(p,l),this.wF[n].translate(p,l)):n-this.getSize()<this.getSize()-1?this.LG[n-this.getSize()].translate(p,l):this.wF[n-2*this.getSize()+2].translate(p,l);break;case jT.ECa:n=k.getIndex();this.lt.splice(n,1);this.LG.splice(n,
1);this.wF.splice(n,1);this.v4.splice(n,1);this.w4.splice(n,1);null!=l.cpBefore&&(k=l.cpBefore,l.isInsert?(this.LG[n-1].Da(k[0]),this.wF[n].Da(k[1])):2===k.length?(this.LG[0].Da(k[0]),this.wF[1].Da(k[1])):this.wF[n-1].Da(k[0]));break;default:PT.prototype.apply.call(this,k)}return this.update()};d.prototype.update=function(){if(null==this.T1())return this;this.u9.clear();this.ub().clear();var k=this.ob();if(0<this.lt.length){this.ub().moveTo(this.lt[0].getX(),this.lt[0].getY());for(var l=1;l<this.lt.length;l++){var m=
this.lt[l-1],n=this.lt[l],p=this.LG[l-1],q=this.wF[l];this.ub().bezierCurveTo(p.getX(),p.getY(),q.getX(),q.getY(),n.getX(),n.getY());m=k.Pc(m.getX(),m.getY());this.u9.moveTo(m.getX(),m.getY());m=k.Pc(p.getX(),p.getY());this.u9.lineTo(m.getX(),m.getY());this.v4[l-1].Jb(m);m=k.Pc(n.getX(),n.getY());this.u9.moveTo(m.getX(),m.getY());m=k.Pc(q.getX(),q.getY());this.u9.lineTo(m.getX(),m.getY());this.w4[l].Jb(m)}}this.T1().rh();PT.prototype.update.call(this);this.T1().pa(this.kId()).pa(this.v4).pa(this.w4).removeChild([this.w4[0],
this.v4[this.getSize()-1]]);this.u9.va(this.T1().Ia());return this};d.prototype.oG=function(k){for(k=0;k<this.getSize();k++)this.v4[k].dispose(),this.w4[k].dispose();this.lt.length=0;this.LG.length=0;this.wF.length=0;this.v4.length=0;this.w4.length=0;this.ub().Tc(null);return this.update()};d.prototype.fa=function(k){if(null==k)return this;this.u9.fa(k.cpline);PT.prototype.fa.call(this,k);this.ub().ra(null);return this};d.prototype.ia=function(){var k=PT.prototype.ia.call(this);k.cpline=this.u9.ia();
return k=xb(k,{handles:{controlpoint:this.Wta.ia()}})};d.prototype.LMa=function(k){this.Wta.fa(k.controlpoint);this.v4.forEach(function(l){l.fa(k.controlpoint)});this.w4.forEach(function(l){l.fa(k.controlpoint)})};d.prototype.intersect=function(k){if(2>this.getSize())return null;var l=this.wa(),m=k.he();k=this.pn(k)?this.wY():this.wU();m=new U(m.getX()-k,m.getY()-k,m.getX()+k,m.getY()+k);for(k=1;k<this.getSize();k++){b.Da(this.lt[k-1]);c.Da(this.LG[k-1]);e.Da(this.wF[k]);f.Da(this.lt[k]);l.Ma(b,b);
l.Ma(c,c);l.Ma(e,e);l.Ma(f,f);var n=d.dEb(m,b,c,e,f);if(n)return l.rd(n.point,n.point),{index:k,t:n.t,x:n.point.x,y:n.point.y}}return null};d.prototype.vG=function(k){var l=this.getSize();this.Kx().clear();if(0<l&&null!=k&&!this.Pd()&&null==this.lO(k)&&0>=this.Mu(k)){var m=this.intersect(k);if(null!=m)m=this.ob().Pc(m.x,m.y),this.Jx().Jb(m),this.Al().pa(this.Jx());else if(this.Al().removeChild(this.Jx()),0!==(this.yp()&kT.tS))if(m=this.ob(),k=this.Sd(this.mc(),k),1===l)m=m.Pc(this.lt[0].getX(),this.lt[0].getY()),
this.Kx().moveTo(m.getX(),m.getY()).lineTo(k.getX(),k.getY());else{var n=this.getSize()-1;m.Ma(this.lt[n-1],b);m.Ma(this.lt[n],c);var p=ch.G1([b.getX(),c.getX(),k.getX()],[b.getY(),c.getY(),k.getY()]);l=p.MX;var q=p.NX,r=p.mZ;p=p.nZ;var t=m.Ma(this.LG[n-1],b),u=m.Ma(this.lt[n-1],c);m=m.Ma(this.lt[n],e);this.Kx().moveTo(u.getX(),u.getY()).bezierCurveTo(t.getX(),t.getY(),r[0],p[0],m.getX(),m.getY()).bezierCurveTo(l[1],q[1],r[1],p[1],k.getX(),k.getY())}}else this.Al().removeChild(this.Jx());this.Kx().ha()};
d.prototype.getSize=function(){return this.lt.length};d.prototype.be=function(){return this.lt.map(function(k){return k.getX()})};d.prototype.He=function(){return this.lt.map(function(k){return k.getY()})};d.prototype.Tza=function(k){return k===this.getSize()-1};d.dEb=function(k,l,m,n,p){var q=Math.min(l.getX(),m.getX(),n.getX(),p.getX()),r=Math.min(l.getY(),m.getY(),n.getY(),p.getY()),t=Math.max(l.getX(),m.getX(),n.getX(),p.getX())-q,u=Math.max(l.getY(),m.getY(),n.getY(),p.getY())-r;if(!k.Dd(q,r,
t,u))return null;if(k.ca()<t||k.da()<u){var w=l.getX(),y=l.getY();q=p.getX();r=p.getY();t=(w+m.getX())/2;u=(y+m.getY())/2;w=(m.getX()+(w+n.getX())/2)/2;var z=(m.getY()+(y+n.getY())/2)/2;y=(n.getX()+(q+m.getX())/2)/2;var x=(n.getY()+(r+m.getY())/2)/2,C=(q+n.getX())/2,A=(r+n.getY())/2,v=(w+y)/2,B=(z+x)/2;return(t=d.dEb(k,l,m.Da(t,u),n.Da(w,z),p.Da(v,B)))?(t.t/=2,t):(k=d.dEb(k,l.Da(v,B),m.Da(y,x),n.Da(C,A),p.Da(q,r)))?(k.t=.5+k.t/2,k):null}return k.contains(l)?{point:l,t:0}:k.contains(p)?{point:p,t:1}:
null};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoiamUiLCJpc1N1cHBvcnRlZCI6IklxIiwic2V0Tm9kZSI6ImZtIiwicmVzZXROb2RlIjoib0ciLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRFeHRyYUhhbmRsZXNQcm9wZXJ0aWVzIjoiTE1hIiwidXBkYXRlUHJldmlldyI6InZHIiwiZ2V0UG9pbnRzWCI6ImJlIiwiZ2V0UG9pbnRzWSI6IkhlIiwiaXNFbmRIYW5kbGUiOiJUemEifX19");var pya=/*#__PURE__*/function(){function d(a){hb("geotoolkit.controls.tools.editors.Symbol is deprecated since 2021.1 (3.3) use geotoolkit.controls.tools.editors.SymbolEditor instead");KT.call(this,a)}D(d,KT);L(d,"geotoolkit.controls.tools.editors.Symbol");return d}();var VT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){var c;a instanceof kR?c=a:null!=a&&null!=a.heatmap&&(c=a.heatmap);null!=b&&(hb("second argument in Highlight() is deprecated since 2021.1 (3.3), use first argument instead"),a=b);c&&(a=G(a,{name:"Highlight",heatmap:c,linestyle:new Y},!0),b={},b.fillstyle=a.fillstyle,b.linestyle=a.linestyle,SR.call(this,a),this.OM=null,this.X9=a.heatmap,this.tx=(new ho(0,0,0,0)).fa(b),this.$m({pointermove:this.Ic.bind(this),"cg-enter":function(e){this.fireEvent(RR.Xia,e)},"cg-leave":function(e){this.fireEvent(RR.Oz,
e);this.tx.ha();this.tx.sa(0,0,0,0)}.bind(this)}),this.X9.getParent()&&this.X9.getParent().pa(this.tx))}D(d,SR);L(d,"geotoolkit.controls.tools.HeatMap.Highlight");d.prototype.Ic=function(a){this.X9.getParent()!==this.tx.getParent()&&this.X9.getParent().pa(this.tx);if(this.X9.l9b()===jR.fv&&this.X9.$5b()===jR.fv){var b=a.he();a=this.X9.oa().ka();var c=this.X9.oa().la(),e=this.X9.l8b().offsetx,f=this.X9.l8b().offsety;if(b=this.X9.gj(b)){this.tx.ha();var g=b.getX();b=b.getY();this.tx.sa(g+a-e,b+a-f,
g+a-e+1,b+c-f+1)}}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlTW92ZSI6IkljIn19fSAg");var WT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=xb(a,{editmode:kT.hC,mode:tT.Rka,mouseradius:3,touchradius:10,history:new mT(a&&a.layer)},!0);SR.call(this,{name:a.name||"paint",layer:a.layer,mouseradius:a.mouseradius,touchradius:a.touchradius,slots:{}});this.$m({pointerdown:this.gd.bind(this),pointermove:[{callback:this.Ic.bind(this),object:null},{callback:this.Ic.bind(this),object:$a,enabled:!1}],pointerup:{callback:this.Yc.bind(this),object:$a},keydown:{callback:this.Ux.bind(this),object:$a},"cg-leave":this.Oz.bind(this)});
this.Vl=this.Be=null;this.Ntc=a.editmode;this.sx={};this.lmd=this.PZa.bind(this);this.zkd=this.pTd.bind(this);this.jyc=this.whb.bind(this);this.nyc=this.qTd.bind(this);this.fa(a)}D(d,SR);L(d,"geotoolkit.controls.tools.Paint");lT.ya().register(new AT).register(new JT).register(new xT).register(new wT).register(new OT).register(new KT).register(new NT).register(new zT).register(new LT).register(new MT).register(new PT).register(new RT).register(new UT).register(new sT);d.prototype.gd=function(a){this.IG=
a.he();null!=this.Vl&&this.Vl.isEnabled()&&this.Vl.gd(a)};d.prototype.Ic=function(a){null!=this.Vl&&this.Vl.isEnabled()&&this.Vl.Ic(a)};d.prototype.Yc=function(a){null!=this.Vl&&this.Vl.isEnabled()&&this.Vl.Yc(a);this.IG=null};d.prototype.Oz=function(a){null!=this.Vl&&this.Vl.isEnabled()&&this.Vl.Oz(a)};d.prototype.Ux=function(a){var b=a.Je();if(!b.defaultPrevented)if(null!=this.Vl&&this.Vl.isEnabled())this.Vl.Ux(a);else switch(b.keyCode){case Bc.$f:if(!b.ctrlKey||!this.mha())break;this.pS();a.stopPropagation(!0,
!0);break;case Bc.Ca:b.ctrlKey&&this.lha()&&(this.lja(),a.stopPropagation(!0,!0))}};d.prototype.update=function(){null!=this.Vl&&this.Vl.update();return this};d.prototype.setMode=function(a){if(this.Be===a)return this;this.Be=a;a=lT.ya().IB({mode:a,editmode:this.yp(),mouseradius:this.wU(),touchradius:this.wY(),layer:this.mc(),history:this.qy});this.YE(a);this.qy.YE(a);return this};d.prototype.cq=function(){return this.Be};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;SR.prototype.fa.call(this,
a);xb(a,this.sx);null!=a.history&&this.Z1d(a.history);null!=this.Vl&&this.Vl.fa(a);null!=a.mode&&this.setMode(a.mode);null!=a.editmode&&this.XE(a.editmode);return this};d.prototype.ia=function(){return xb(this.sx,{})};d.prototype.pS=function(){this.qy.pS();return this};d.prototype.mha=function(){return this.qy.mha()};d.prototype.lha=function(){return this.qy.lha()};d.prototype.lja=function(){this.qy.lja();return this};d.prototype.XE=function(a){this.Ntc=a;null!=this.Vl&&this.Vl.XE(a);return this};
d.prototype.yp=function(){return this.Ntc};d.prototype.Gb=function(){return this.Vl?this.Vl.ub():null};d.prototype.Pzd=function(a){this.Gb()!==a&&this.qy.YE(lT.ya().IB({node:a,editmode:this.yp(),mouseradius:this.wU(),touchradius:this.wY(),history:this.qy,layer:this.mc()}));this.Be=tT.aB;return this};d.prototype.YE=function(a){null!=this.Vl&&this.Vl.dispose();this.Vl=a;if(null!=a){var b=a.yp();a.addListener(jT.jp,this.lmd).addListener(RR.Vw,this.zkd).fa(this.sx).XE(b).Uja(this.wY()).Nja(this.wU())}this.fireEvent(jT.D2a,
new rT(null,{node:null!=a?a.ub():null,editor:a}));return this};d.prototype.IB=function(){return this.Vl};d.prototype.clear=function(){null!=this.Vl&&this.Vl.oG();this.qy.clear();return this};d.prototype.qTd=function(a,b,c){c!==this.Vl&&(this.YE(c),this.Be=tT.aB)};d.prototype.pTd=function(a){this.setActive(a.Pd())};d.prototype.PZa=function(a,b){this.Be!==tT.aB&&this.mc().removeChild(b.ub());this.fireEvent(jT.jp,b)};d.prototype.whb=function(a,b,c){this.fireEvent(c.Oh()||a,new rT(null,{node:c.ub(),command:c}))};
d.prototype.Nja=function(a){SR.prototype.Nja.call(this,a);null!=this.Vl&&this.Vl.Nja(a);return this};d.prototype.Uja=function(a){SR.prototype.Uja.call(this,a);null!=this.Vl&&this.Vl.Uja(a);return this};d.prototype.Z1d=function(a){if(null==a)return this;this.qy&&this.qy.za(jT.ska,this.jyc).za(jT.D2a,this.nyc);this.qy=a.on(jT.ska,this.jyc).on(jT.D2a,this.nyc);return this};d.prototype.keb=function(){return this.qy};d.prototype.hj=function(){null!=this.Vl&&this.Vl.Rb(this.isEnabled());SR.prototype.hj.call(this)};
d.prototype.dispose=function(){null!=this.qy&&(this.qy.dispose(),this.qy=null);this.YE(null);this.sx=null;SR.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlRG93biI6ImdkIiwib25Nb3VzZU1vdmUiOiJJYyIsIm9uTW91c2VVcCI6IlljIiwiZ2V0TW9kZSI6ImNxIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwidW5kbyI6InBTIiwiY2FuVW5kbyI6Im1oYSIsImNhblJlZG8iOiJsaGEiLCJyZWRvIjoibGphIiwic2V0RWRpdE1vZGUiOiJYRSIsImdldEVkaXRNb2RlIjoieXAiLCJnZXRTaGFwZSI6IkdiIiwiZWRpdE5vZGUiOiJQemQiLCJzZXRFZGl0b3IiOiJZRSIsImdldEVkaXRvciI6IklCIiwib25Ob2RlQ3JlYXRlZCI6IlBaYSIsIm9uQ29tbWFuZEFwcGxpZWQiOiJ3aGIiLCJzZXRNb3VzZVJhZGl1cyI6Ik5qYSIsInNldFRvdWNoUmFkaXVzIjoiVWphIiwiZ2V0SGlzdG9yeSI6ImtlYiIsIm9uRW5hYmxlZFN0YXRlQ2hhbmdlZCI6ImhqIn19fSAg");var YT=/*#__PURE__*/ta(/*#__PURE__*/{bmb:"DistanceChanged",qlc:"AreaChanged",aDa:"PositionChanged"},2,"eyJEaXN0YW5jZUNoYW5nZWQiOiJibWIiLCJBcmVhQ2hhbmdlZCI6InFsYyIsIlBvc2l0aW9uQ2hhbmdlZCI6ImFEYSJ9");var ZT=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=xb(c,{name:"measure",measuremode:DS.Osa,node:{fillstyle:{color:"rgba(100,100,100, .5)",evenoddmode:!0}},directionmode:ST.Jc,handles:{begin:a,middle:b,end:b}},!0);WT.call(this,c);this.setMode(c.measuremode)}var a={painter:new Ym([.2,1]),width:10,height:10,fillstyle:"white",linestyle:{color:"black",width:1.35}},b={painter:$m,fillstyle:"white",linestyle:{color:"black",width:1.35}};D(d,WT);L(d,"geotoolkit.controls.tools.Measure");d.prototype.cba=function(){return this.V7a===
DS.Osa?this.IB().cba():[]};d.prototype.getArea=function(){return this.V7a===DS.JZ?this.IB().getArea():null};d.prototype.P1=function(){return null==this.IB()?[]:this.V7a===DS.Osa?this.IB().P1():this.IB().Jy()};d.prototype.setMode=function(c){return this.lIb(c)};d.prototype.cq=function(){return this.gCb()};d.prototype.lIb=function(c){if(this.V7a===c)return this;this.V7a=c;this.MNa();return this};d.prototype.gCb=function(){return this.V7a};d.prototype.Ic=function(c){WT.prototype.Ic.call(this,c);if(null!=
this.IB()&&this.IB().isEnabled()&&0!==this.IB().Kx().$d().getLength()){var e=this.Sd(this.mc(),c);e=this.gCb()===DS.Osa?this.IB().NEc(e.getX(),e.getY()):this.IB().$td(e.getX(),e.getY());null!=e&&this.fireEvent(YT.aDa,new rT(c,{value:e}))}};d.prototype.Yc=function(c){var e=this.IB(),f=!e.Pd()&&e.l2(c);WT.prototype.Yc.call(this,c);c.Kk()||(c.Je().button===Fc.cc||e.Tza(e.lO())||f)&&e.HR()&&this.MNa()};d.prototype.XE=function(c){return WT.prototype.XE.call(this,c&kT.Xlb)};d.prototype.ia=function(){var c=
WT.prototype.ia.call(this);c.editmode=this.yp();return c};d.prototype.hj=function(){this.isEnabled()||this.MNa();WT.prototype.hj.call(this)};d.prototype.PZa=function(c,e){this.IB().fm(e.ub()).XE(this.yp()&(kT.yOa|kT.bNb|kT.y2a));this.fireEvent(jT.jp,e)};d.prototype.whb=function(c,e,f){WT.prototype.whb.call(this,c,e,f);c!==jT.jp&&this.mKc(f.ub(),null,f)};d.prototype.YE=function(c){if(this.IB()===c)return this;null==c?this.MNa():(WT.prototype.YE.call(this,c),c.fa(this.ia()),this.mKc(c.ub(),c));return this};
d.prototype.MNa=function(){var c=this.Gb(),e={layer:this.mc(),editmode:this.yp(),history:this.qy};this.keb().clear();switch(this.cq()){case DS.Osa:this.YE(new TT(e));break;case DS.JZ:this.YE(new QT(e));break;default:return this}null!=c&&c.dispose();return this};d.prototype.mKc=function(c,e,f){this.gCb()===DS.Osa?this.fireEvent(YT.bmb,new rT(null,{node:c,editor:e,command:f,distances:this.cba()})):this.fireEvent(YT.qlc,new rT(null,{node:c,editor:e,command:f,value:this.getArea()}))};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREaXN0YW5jZXMiOiJjYmEiLCJnZXRMYWJlbHMiOiJQMSIsImdldE1vZGUiOiJjcSIsInNldE1lYXN1cmVNb2RlIjoibEliIiwiZ2V0TWVhc3VyZU1vZGUiOiJnQ2IiLCJvbk1vdXNlTW92ZSI6IkljIiwib25Nb3VzZVVwIjoiWWMiLCJzZXRFZGl0TW9kZSI6IlhFIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwib25FbmFibGVkU3RhdGVDaGFuZ2VkIjoiaGoiLCJvbk5vZGVDcmVhdGVkIjoiUFphIiwib25Db21tYW5kQXBwbGllZCI6IndoYiIsInNldEVkaXRvciI6IllFIn19fSAg");var $T=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){YR.call(this,a);this.Mh=b;this.Drd=!0===c}D(d,YR);L(d,"geotoolkit.controls.tools.PanningEventArgs");d.prototype.pZa=function(){return this.Drd};d.prototype.Zl=function(){return this.Mh};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc1doZWVsIjoicFphIiwiZ2V0RGlyZWN0aW9uIjoiWmwifX19");var aU=/*#__PURE__*/ta(/*#__PURE__*/{ELa:"onPanningStart",QE:"onPanning",bra:"onPanningEnd",zr:"onDoubleClick"},2,"eyJvblBhbm5pbmdTdGFydCI6IkVMYSIsIm9uUGFubmluZyI6IlFFIiwib25QYW5uaW5nRW5kIjoiYnJhIiwib25Eb3VibGVDbGljayI6InpyIn0g"),bU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(h){return 0===h?0:0>h?-1:1}function a(h){null==h&&(h={});h=G(h,{wheelratio:"number"===typeof h.wheelratio?h.wheelratio:.05,name:"string"===typeof h.name?h.name:"panning",acceptx:null!=h.acceptx?h.acceptx:!1,panningthreshold:g});SR.call(this,void 0,h.name);this.$m({pointerdown:this.gd.bind(this),pointermove:[{callback:this.Ic.bind(this),object:null},{callback:this.Ic.bind(this),object:$a,enabled:!1}],
pointerup:{callback:this.Yc.bind(this),object:$a},wheel:this.kq.bind(this),dblclick:this.Zyd.bind(this)});this.Etc=this.FSa=!1;this.B6a=0;this.Z4=this.LUb=this.Mh=null;this.swc=this.rc=this.dc=0;this.JK=null;this.fxb=h.wheelratio;this.qPb=h.acceptx;this.hzc=h.panningthreshold;null!=h.inertiacoef&&this.Bgc(h.inertiacoef)}var b=25,c=250,e=5,f=30,g=0;D(a,SR);L(a,"geotoolkit.controls.tools.Panning");a.Ka=aU;a.prototype.Iad=function(h){h=this.$ia(h);this.dc=h.x;this.rc=h.y;return this};a.prototype.start=
function(h){this.Iad(h);this.setActive(!0);return this};a.prototype.stop=function(){this.setActive(!1);return this};a.prototype.$vd=function(h){this.Iad(h);return this};a.prototype.Zl=function(h){var k=this.$ia(h);h=k.x;k=k.y;return{x:h-this.dc,y:k-this.rc,start:{x:this.dc,y:this.rc},end:{x:h,y:k}}};a.prototype.Uy=function(h,k){null!=this.JK&&this.removeListener(a.Ka.QE,this.JK);this.JK=function(l,m){m=m.Zl();var n=h.wa().rd(new N(0,0));m=h.wa().rd(new N(m.x,m.y));l=m.x-n.x;m=m.y-n.y;null==k?h.translate(l,
m):k.call(h,l,m)};this.addListener(a.Ka.QE,this.JK);return this};a.prototype.kq=function(h){var k=h.Je();k.preventDefault();var l=!1===this.qPb?0:k.deltaY;k=k.deltaY;this.$yd(h,l,k)};a.prototype.yBd=function(){return this.qPb};a.prototype.afc=function(h){this.qPb=h;return this};a.prototype.hNd=function(){return this.fxb};a.prototype.r8c=function(h){this.fxb=h;return this};a.prototype.$yd=function(h,k,l){var m=h.ub();if(null!=m){this.j8();var n=this.$ia(h);m=m.wb();k=-1*d(k)*m.ca()*this.fxb;l=-1*d(l)*
m.da()*this.fxb;n={x:k,y:l,start:{x:n.x,y:n.y},end:{x:n.x+k,y:n.y+l}};this.WAd(h,n)}};a.prototype.WAd=function(h,k){this.fireEvent(a.Ka.ELa,new $T(h,null));this.fireEvent(a.Ka.QE,new $T(h,k,!0));this.fireEvent(a.Ka.bra,new $T(h,null))};a.prototype.VAd=function(h){this.fireEvent(a.Ka.ELa,new $T(h,null))};a.prototype.nKc=function(h){!0!==this.Etc&&(0!==this.B6a&&null!=h&&h.Je().timeStamp-this.swc<c?this.UAd(h):this.fireEvent(a.Ka.bra,new $T(h,null)))};a.prototype.UAd=function(h){this.LUb=h;var k=1,
l=Date.now();h=this.$ia(h);var m={x:0,y:0,start:{x:h.x,y:h.y},end:{x:0,y:0}};if(Math.abs(this.Mh.x)>f||Math.abs(this.Mh.y)>f)h=f/Math.max(Math.abs(this.Mh.x),Math.abs(this.Mh.y)),this.Mh.x*=h,this.Mh.y*=h,this.Mh.end.x=this.Mh.start.x+this.Mh.x,this.Mh.end.y=this.Mh.start.y+this.Mh.y;var n=function(){var p=Date.now()-l;p=Math.ceil(p/b);p=Math.pow(this.B6a,p);var q=(1-p)/(1-this.B6a);m.x=Math.round(this.Mh.x*k*q);m.y=Math.round(this.Mh.y*k*q);k*=p;this.Mh.x*=k;this.Mh.y*=k;m.end.x=m.start.x+m.x;m.end.y=
m.start.y+m.y;1<=Math.abs(m.x)||1<=Math.abs(m.y)?(this.fireEvent(a.Ka.QE,new $T(null,m)),m.start.x=m.end.x,m.start.y=m.end.y,l=Date.now(),this.Z4=setTimeout(n,b)):(this.Z4=null,this.fireEvent(a.Ka.bra,new $T(this.LUb,null)))}.bind(this);this.Z4=setTimeout(n,b)};a.prototype.gd=function(h){if(null==h.Je().buttons||h.Je().buttons===Dc.tc)this.j8(),this.start(h)};a.prototype.Rb=function(h){!1===h&&this.j8();return SR.prototype.Rb.call(this,h)};a.prototype.Ic=function(h){if(this.Pd())if(h.Je().buttons===
Dc.Jc)this.stop(),this.FSa&&(this.nKc(h),this.FSa=!1);else{var k=this.Zl(h);if(!this.FSa){var l="touchmove"===h.Oh()||"pointermove"===h.Oh()&&"touch"===h.Je().pointerType?e:this.tQc();if(Math.abs(k.x)<=l&&Math.abs(k.y)<=l)return;this.Etc=!0===h.Je().ctrlKey;this.VAd(h);this.FSa=!0}this.$vd(h);h.stopPropagation(!0);0===k.x&&0===k.y||this.fireEvent(a.Ka.QE,new $T(h,k));0!==this.B6a&&this.Pd()&&(this.Mh=k,this.swc=h.Je().timeStamp)}};a.prototype.Yc=function(h){this.stop();this.FSa&&(null!=h&&h.stopPropagation(!0),
this.nKc(h),this.FSa=!1)};a.prototype.Zyd=function(h){this.isEnabled()&&this.fireEvent(a.Ka.zr,new $T(h,null));return this};a.prototype.Bgc=function(h){this.B6a=!0===h?.99:0<h&&1>h?h:0;return this};a.prototype.j8=function(){null!=this.Z4&&(clearTimeout(this.Z4),this.Z4=null,this.fireEvent(a.Ka.bra,new $T(this.LUb,null)));return this};a.prototype.dispose=function(){null!=this.Z4&&(clearTimeout(this.Z4),this.Z4=null);SR.prototype.dispose.call(this)};a.prototype.setActive=function(h){!1===h&&null!=this.Z4&&
(clearTimeout(this.Z4),this.Z4=null);return SR.prototype.setActive.call(this,h)};a.prototype.Bo=function(h){this.Rs("pointermove",!h);this.Rs("pointermove",h,$a);return this};a.prototype.V3d=function(h){this.hzc=Math.max(0,h);return this};a.prototype.tQc=function(){return this.hzc};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXREaXJlY3Rpb24iOiJabCIsInNldFRhcmdldCI6IlV5IiwiZ2V0QWNjZXB0WCI6InlCZCIsInNldEFjY2VwdFgiOiJhZmMiLCJnZXRXaGVlbFJhdGlvIjoiaE5kIiwic2V0V2hlZWxSYXRpbyI6InI4YyIsInNldEVuYWJsZWQiOiJSYiIsInNldEluZXJ0aWEiOiJCZ2MiLCJzdG9wSW5lcnRpYSI6Imo4Iiwic2V0V2luZG93RXZlbnRzRW5hYmxlZCI6IkJvIiwic2V0UGFubmluZ1RocmVzaG9sZCI6IlYzZCIsImdldFBhbm5pbmdUaHJlc2hvbGQiOiJ0UWMifX19");var cU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){YR.call(this,a);this.KG=c;this.Gw=b}D(d,YR);L(d,"geotoolkit.controls.tools.PolygonSelectionEventArgs");d.prototype.$aa=function(){return this.KG};d.prototype.getSelection=function(){return this.Gw};d.prototype.ou=function(a){this.Gw=a;return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb29yZGluYXRlcyI6IiRhYSIsInNldFNlbGVjdGlvbiI6Im91In19fSAg");var dU=/*#__PURE__*/ta(/*#__PURE__*/{DAa:"onSelectionEnd",Sy:"onSelectionChanged",gha:"beforeSelectionChange"},2,"eyJvblNlbGVjdGlvbkVuZCI6IkRBYSIsIm9uU2VsZWN0aW9uQ2hhbmdlZCI6IlN5IiwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlIjoiZ2hhIn0g"),eU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(h){h=xb(h,{name:"polygon-selection",layer:h instanceof Uh?h:null,node:{fillstyle:e,linestyle:c},preview:{linestyle:{color:"red",width:1,pattern:[2,3]}},handles:{begin:f,middle:g,end:g}},!0);WT.call(this,h);this.d5=!1;this.eh=new Zj;this.jX=[];this.kB=null;this.KS=!1;this.NP=!0;this.YE(new PT({layer:this.mc(),editmode:kT.Xlb,history:this.qy}))}var a="rgba(100,100,100, .5)",b="black",c=new Y({color:b,
width:1,pattern:[2,3],pixelsnapmode:{x:!0,y:!0}}),e=new rf({color:a,evenoddmode:!0});a=new Y("rgba(255,0,0,1)",2);var f={painter:new Ym([.2,1]),width:10,height:10,fillstyle:"white",linestyle:a},g={painter:$m,fillstyle:"white",linestyle:a};D(d,WT);L(d,"geotoolkit.controls.tools.PolygonSelection");d.Ka=dU;d.prototype.selection=function(h){for(var k=h.ub(),l=k.be(),m=k.He(),n=[],p=[],q=new N(0,0),r=0;r<l.length;r++)q.Da(l[r],m[r]),q=this.HNa(q),n[r]=q.getX(),p[r]=q.getY();l=this.eh.select(k.getRoot(),
n,p,this.KS,this.NP);this.YYa(l,k,h);return this};d.prototype.HNa=function(h){return null!=this.ab?this.ab.wa().Ma(h):h};d.prototype.YYa=function(h,k,l){h=null!=this.kB?this.kB.call(this,h):h;l=new cU(l,h,{x:k.be(),y:k.He()});this.fireEvent(d.Ka.DAa,l);this.ou(l.getSelection(),k)};d.prototype.ou=function(h,k){this.D2b(this.jX,h)||(this.fireEvent(d.Ka.gha,new cU(null,this.jX,{x:k.be(),y:k.He()})),this.jX=h,this.Dqa()&&this.Rb(!1),this.fireEvent(d.Ka.Sy,new cU(null,this.jX,{x:k.be(),y:k.He()})));return this};
d.prototype.D2b=function(h,k){if(!(h&&k&&h instanceof Array&&k instanceof Array)||h.length!==k.length)return!1;for(var l=0;l<h.length;l++)if(h[l]instanceof Array&&k[l]instanceof Array){if(!h[l].equals(k[l]))return!1}else if(h[l]!==k[l])return!1;return!0};d.prototype.getSelection=function(){return this.jX};d.prototype.wD=function(h){this.kB=h;return this};d.prototype.Lib=function(h){this.KS=h;return this};d.prototype.aAb=function(){return this.KS};d.prototype.Vra=function(h){if(this.NP===h)return this;
this.NP=h;this.Gb().eb().Vra(h);return this};d.prototype.vL=function(){return this.NP};d.prototype.Vca=function(h){this.d5=h;return this};d.prototype.Dqa=function(){return this.d5};d.prototype.XE=function(h){return WT.prototype.XE.call(this,h&kT.Xlb)};d.prototype.PZa=function(h,k){this.selection(k);this.zvd(k.ub());this.fireEvent(jT.jp,k)};d.prototype.zvd=function(h){var k={layer:this.mc(),editmode:this.yp(),history:this.qy};this.keb().clear();this.YE(new PT(k));null!=h&&h.dispose()};d.prototype.hj=
function(){this.isEnabled()||this.Vl.oG();WT.prototype.hj.call(this)};d.prototype.qa=function(h,k){this.Gb().qa(h,k);return this};d.prototype.Fa=function(){return this.Gb().Fa()};d.prototype.ra=function(h,k){this.Gb().ra(h,k);return this};d.prototype.g5d=function(h,k){hb("geotoolkit.controls.tools.PolygonSelection.setSymbolLineStyle is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.setProperties instead.");this.fa({handles:{begin:{linestyle:h},middle:{linestyle:h},end:{linestyle:h}}});
return this};d.prototype.ELd=function(){hb("geotoolkit.controls.tools.PolygonSelection.getSymbolLineStyle is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.getProperties instead.");return this.ia().handles.begin.linestyle};d.prototype.e5d=function(h,k){hb("geotoolkit.controls.tools.PolygonSelection.setSymbolFillStyle is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.setProperties instead.");this.fa({handles:{begin:{fillstyle:h},middle:{fillstyle:h},
end:{fillstyle:h}}});return this};d.prototype.l5d=function(h){hb("geotoolkit.controls.tools.PolygonSelection.setSymbolVisibility is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.setProperties instead.");this.fa({handles:{begin:{visible:h},middle:{visible:h},end:{visible:h}}});return this};d.prototype.W4d=function(h){hb("geotoolkit.controls.tools.PolygonSelection.setStartLineVisibility is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.setProperties instead.");
this.fa({preview:{visible:h}});return this};d.prototype.p5d=function(h){hb("geotoolkit.controls.tools.PolygonSelection.setTextVisibility is deprecated since 2021.1 (3.3).");return this};d.prototype.kb=function(h,k){hb("geotoolkit.controls.tools.PolygonSelection.setTextStyle is deprecated since 2021.1 (3.3).");return this};d.prototype.nJd=function(){hb("geotoolkit.controls.tools.PolygonSelection.getPolygon is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelection.getShape instead.");
return this.Gb()};d.prototype.jYd=function(){hb("geotoolkit.controls.tools.PolygonSelection.removeLastPoint is deprecated since 2021.1 (3.3).");return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXROb2RlRmlsdGVyIjoid0QiLCJzZXRBbGxvd0ludGVyc2VjdGlvbiI6IkxpYiIsImdldEFsbG93SW50ZXJzZWN0aW9uIjoiYUFiIiwic2V0RXZlbk9kZE1vZGUiOiJWcmEiLCJnZXRFdmVuT2RkTW9kZSI6InZMIiwic2V0QXV0b0Rpc2FibGVkIjoiVmNhIiwiaXNBdXRvRGlzYWJsZWQiOiJEcWEiLCJzZXRFZGl0TW9kZSI6IlhFIiwib25Ob2RlQ3JlYXRlZCI6IlBaYSIsIm9uRW5hYmxlZFN0YXRlQ2hhbmdlZCI6ImhqIiwic2V0TGluZVN0eWxlIjoicWEiLCJnZXRMaW5lU3R5bGUiOiJGYSIsInNldEZpbGxTdHlsZSI6InJhIiwic2V0U3ltYm9sTGluZVN0eWxlIjoiZzVkIiwiZ2V0U3ltYm9sTGluZVN0eWxlIjoiRUxkIiwic2V0U3ltYm9sRmlsbFN0eWxlIjoiZTVkIiwic2V0U3ltYm9sVmlzaWJpbGl0eSI6Imw1ZCIsInNldFN0YXJ0TGluZVZpc2liaWxpdHkiOiJXNGQiLCJzZXRUZXh0VmlzaWJpbGl0eSI6InA1ZCIsInNldFRleHRTdHlsZSI6ImtiIiwiZ2V0UG9seWdvbiI6Im5KZCIsInJlbW92ZUxhc3RQb2ludCI6ImpZZCJ9fX0g");var fU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){hb("geotoolkit.controls.tools.PolygonToolEventArgs is deprecated since 2021.1 (3.3). Use geotoolkit.controls.tools.PolygonSelectionEventArgs instead.");YR.call(this,a);this.KG=b}D(d,YR);L(d,"geotoolkit.controls.tools.PolygonToolEventArgs");d.prototype.$aa=function(){return this.KG};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb29yZGluYXRlcyI6IiRhYSJ9fX0g");var gU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){YR.call(this,a);this.bh=null;this.Vzc=!1}D(d,YR);d.prototype.Uy=function(a){this.bh=a;return this};d.prototype.LH=function(){return this.bh};d.prototype.reject=function(a){null==a&&(a=!0);this.Vzc=a;return this};d.prototype.uEb=function(){return this.Vzc};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRUYXJnZXQiOiJVeSIsImdldFRhcmdldCI6IkxIIiwiaXNSZWplY3RlZCI6InVFYiJ9fX0g");var hU=/*#__PURE__*/function(){function d(a,b){YR.call(this,a);this.Uh=b}D(d,YR);L(d,"geotoolkit.controls.tools.RubberBandEventArgs");d.prototype.getArea=function(){return this.Uh};return d}();var iU=/*#__PURE__*/ta(/*#__PURE__*/{NR:"onZoomStart",gw:"onZoomEnd",cra:"onRangeChanged"},2,"eyJvblpvb21TdGFydCI6Ik5SIiwib25ab29tRW5kIjoiZ3ciLCJvblJhbmdlQ2hhbmdlZCI6ImNyYSJ9"),jU=/*#__PURE__*/ta(/*#__PURE__*/{doc:0,rqc:1},2,"eyJIYXJkIjoiZG9jIiwiU21hcnQiOiJycWMifSAg"),kU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c,e){c=G(c,{slots:{},layer:c instanceof Uh?c:null,name:"rubberband",mode:e});MS.call(this,c);this.$m({pointerdown:this.gd.bind(this),pointermove:[{callback:this.Ic.bind(this),object:null},{callback:this.Ic.bind(this),object:$a,enabled:!1}],pointerup:[{callback:this.Yc.bind(this),object:null},{callback:this.Yc.bind(this),object:$a.document,enabled:!1}]});this.Rb(!1);this.d5=!0;this.pPb=!1;this.D5=
null;this.htb=new Ud(0,0);this.lxc=!1;this.ZVb=jU.doc;this.cE=(new ho(new U(0,0,0,0))).va(!1).qa((new Y(a,1,[2,3])).Zg({x:!0,y:!0})).ra(new rf(b));null!=this.ab&&this.ab.pa(this.cE);this.PFa=this.bh=null;this.dVa=new N;this.YHa=new N}var a="#bdbdbd",b="rgba(189,189,189,0.5)";D(d,MS);L(d,"geotoolkit.controls.tools.RubberBand");d.prototype.wZ=function(c){this.nm=null;null!=this.ab&&this.ab.removeChild(this.cE);this.ab=c;null!=this.ab&&this.ab.pa(this.cE);return this};d.Ka=iU;d.prototype.Bo=function(c){this.Rs("pointermove",
c,$a);this.Rs("pointerup",c,$a.document)};d.prototype.V2d=function(c,e){this.lxc=null==e?!1:e;this.htb=c;return this};d.prototype.LHd=function(){return this.htb};d.prototype.W2d=function(c){this.ZVb=c;return this};d.prototype.MHd=function(){return this.ZVb};d.Ygd=jU;d.prototype.setMode=function(c){return this.w6c(c)};d.prototype.xBd=function(){return this.pPb};d.prototype.S0c=function(c){this.pPb=c;return this};d.prototype.n6c=function(c){this.D5=c;return this};d.prototype.dKd=function(){return this.D5};
d.prototype.Vca=function(c){this.d5=c;return this};d.prototype.Dqa=function(){return this.d5};d.prototype.cq=function(){return this.jRc()};d.prototype.gd=function(c){var e=this.pn(c)?Dc.tc:c.Je().buttons;0!==(e&this.ZJa())&&(this.setActive(!0),this.Bo(!0),this.dVa=this.pd=this.Sd(this.ab,c))};d.prototype.Yc=function(c){if(this.Pd()&&(this.setActive(!1),this.Bo(!1),!1!==this.cE.Ia())){this.cE.va(!1);this.PFa&&this.PFa.va(!1);var e=new U(this.dVa.x,this.dVa.y,this.YHa.x,this.YHa.y);e.isEmpty()&&!1===
this.pPb||(c.stopPropagation(!0),this.cq()!==LS.tlb&&(e=this.rTc(e,this.dVa,this.YHa)),this.fireEvent(d.Ka.cra,new hU(c,e)),this.fireEvent(d.Ka.gw,new hU(c,e)),this.Dqa()&&this.Rb(!1))}};d.prototype.Uy=function(c){this.bh=c;this.nm=this.PFa=null;return this};d.prototype.mc=function(){return this.nm&&this.nm.mc()||this.ab};d.prototype.Ic=function(c){if(this.Pd()){var e=this.Sd(this.ab,c);if(!1===this.cE.Ia()){var f=this.ab&&this.ab.wa()||X.xk;f=f.Pc(this.pd.getX(),this.pd.getY());if(f.Ex(c.he(),this.bXa(c)))return;
this.fireEvent(d.Ka.NR,new hU(c,null))}f=this.pd;var g=e;null!=this.D5&&!1===this.D5.contains(g)&&(g.getX()<this.D5.ka()&&g.setX(this.D5.ka()),g.getX()>this.D5.na()&&g.setX(this.D5.na()),g.getY()<this.D5.la()&&g.setY(this.D5.la()),g.getY()>this.D5.ma()&&g.setY(this.D5.ma()));if(this.bh){this.nm=this.Bfb(this.bh,!1,!0);var h=this.nm.mc();h.pa(this.cE);if(this.cq()===LS.H8&&this.nm.lWc()){this.PFa||(this.PFa=this.cE.clone().ra(null).qa((new Y("red",2)).Zg({x:!0,y:!0})),this.ab.pa(this.PFa));var k=new U(Math.min(this.pd.x,
this.Nn.x),Math.min(this.pd.y,this.Nn.y),Math.max(this.pd.x,this.Nn.x),Math.max(this.pd.y,this.Nn.y));this.PFa.cb(k).va(!0);k=this.nm.intersect(k);this.dVa=this.nm.Ikb(k.kd());this.YHa=this.nm.Ikb(k.yf())}else this.dVa=this.nm.Ikb(this.nm.Jkb(this.pd)),this.YHa=this.nm.Ikb(this.nm.Jkb(e))||this.YHa;f=this.nm.Jkb(f);g=this.nm.Jkb(g)}else this.YHa=e;this.Nn=e;if(!k){if(!f||!g)return;this.$Ec(f,g);k=new U(Math.min(f.x,g.x),Math.min(f.y,g.y),Math.max(f.x,g.x),Math.max(f.y,g.y));this.cq()!==LS.tlb&&(k=
this.rTc(k,f,g))}this.cE.cb(k).va(!0);c.stopPropagation(!0);this.fireEvent(d.Ka.cra,new hU(c,k))}};d.prototype.rTc=function(c,e,f){var g=this.htb.ca(),h=this.htb.da();if(this.lxc){var k=this.ab.wa();g=Hd.sb(g,0,k);h=Hd.sb(0,h,k)}this.ZVb===jU.rqc?(e=c.getCenter(),c.ca()<g&&(c.setX(e.getX()-g/2),c.Qa(g)),c.da()<h&&(c.setY(e.getY()-h/2),c.$a(h))):(c.ca()<g&&(e.x<f.x?c.setX(e.x):c.setX(e.x-g),c.Qa(g)),c.da()<h&&(e.y<f.y?c.setY(e.y):c.setY(e.y-h),c.$a(h)));return c};d.prototype.qa=function(c,e){this.cE.qa(c,
e);return this};d.prototype.ra=function(c,e){this.cE.ra(c,e);return this};d.prototype.pu=function(c){null!=c.enabled&&this.Rb(c.enabled);null!=c.linestyle&&this.qa(c.linestyle);null!=c.fillstyle&&this.ra(c.fillstyle);null!=c.autodisabled&&this.Vca(c.autodisabled);null!=c.acceptemptyrect&&this.S0c(c.acceptemptyrect);null!=c.restrictionarea&&this.n6c(c.restrictionarea);return this};d.prototype.dispose=function(){this.cE.dispose();MS.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRNaW5EaW1lbnNpb24iOiJWMmQiLCJnZXRNaW5EaW1lbnNpb24iOiJMSGQiLCJzZXRNaW5EaW1lbnNpb25Nb2RlIjoiVzJkIiwiZ2V0TWluRGltZW5zaW9uTW9kZSI6Ik1IZCIsImdldEFjY2VwdEVtcHR5UmVjdCI6InhCZCIsInNldEFjY2VwdEVtcHR5UmVjdCI6IlMwYyIsInNldFJlc3RyaWN0aW9uQXJlYSI6Im42YyIsImdldFJlc3RyaWN0aW9uQXJlYSI6ImRLZCIsInNldEF1dG9EaXNhYmxlZCI6IlZjYSIsImlzQXV0b0Rpc2FibGVkIjoiRHFhIiwiZ2V0TW9kZSI6ImNxIiwic2V0VGFyZ2V0IjoiVXkiLCJnZXRNYW5pcHVsYXRvckxheWVyIjoibWMiLCJzZXRMaW5lU3R5bGUiOiJxYSIsInNldEZpbGxTdHlsZSI6InJhIiwic2V0U2V0dGluZ3MiOiJwdSJ9fX0g");var mU=/*#__PURE__*/ta(/*#__PURE__*/{KV:"disabled",Xs:"default",cK:"custom"},2,"eyJEaXNhYmxlZCI6IktWIiwiRGVmYXVsdCI6IlhzIiwiQ3VzdG9tIjoiY0sifSAg"),nU=/*#__PURE__*/TR,oU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){hb("CompactBaseScroll and inheritors is deprecated since 2020.1 (3.1) Use HVBaseScroll instead");null==a&&(a={});a=G(a,{name:null!=a.name?a.name:"CompactBaseScroll",modellimits:a.modellimits instanceof U?a.modellimits:new U(0,0,1,1),visiblelimits:a.visiblelimits instanceof U?a.visiblelimits:new U(0,0,1,1),options:null!=a.options?a.options:{}});UR.call(this,{name:a.name});this.fsc=d.V1a.Xs;this.gsc=0;this.xub=!1;this.je();
this.Ha(a.modellimits,a.visiblelimits);this.setOptions(a.options);this.WV=!1;this.eh=new Zj;this.Md=null;this.pd=new N(0,0);this.ei=new N(0,0);this.WK=null}D(d,UR);L(d,"geotoolkit.controls.tools.scroll.CompactBaseScroll");d.V1a=mU;d.Ka=nU;d.prototype.setOptions=function(a){null==a&&(a={});this.ea=xb(a,this.ea);this.wz=this.ea.minhandle;this.VD=this.ea.maxhandle;null!=this.ea.manipulation&&(null!=this.ea.manipulation.type&&(this.fsc=this.ea.manipulation.type),null!=this.ea.manipulation.threshold&&
(this.gsc=this.ea.manipulation.threshold));a=this.ea.minscrollbutton;var b=this.ea.maxscrollbutton,c=this.ea.minscrollbutton.caret,e=this.ea.maxscrollbutton.caret;this.Fva.rh().va(a.visible).hd(!0).pa([(new bi).qa(a.linestyle).ra(a.fillstyle).Fg(!1),c]);this.GFa.rh().va(b.visible).hd(!0).pa([(new bi).qa(b.linestyle).ra(b.fillstyle).Fg(!1),e]);a=!0===this.ea.scrollbar.autohide?this.zz.Ia():this.ea.scrollbar.visible;this.rB.rh().va(this.ea.scrolltrack.visible).pa([(new bi).qa(this.ea.scrolltrack.linestyle).ra(this.ea.scrolltrack.fillstyle).oV({top:!0,
left:!1,right:!1,bottom:!0}).Fg(!1),this.zz.rh().va(this.ea.scrollbar.visible).pa([(new bi).qa(this.ea.scrollbar.linestyle).ra(this.ea.scrollbar.fillstyle).va(this.ea.scrollbar.visible).oV({top:!0,left:!0,right:!0,bottom:!0}).Fg(!1)]),this.wz,this.VD]);this.Thc(a);return this};d.prototype.ta=function(){return this.ea};d.prototype.je=function(){this.Fva=new ni;this.GFa=new ni;this.rB=new ni;this.zz=new ni;this.wz=this.ea.minhandle;this.VD=this.ea.maxhandle;this.pa([this.Fva,this.GFa,this.rB])};d.prototype.gTc=
function(){return this.zz};d.prototype.Ha=function(a,b){this.rB.Ha(a);this.zz.sa(b).Ha(b);return this};d.prototype.Thc=function(a){var b=[this.wz,this.VD,this.zz];b.forEach(function(c){null!=c&&"function"===typeof c.va&&c.va(a)});return this};d.prototype.YR=function(a,b){var c=a.he();a=(a=this.Mc().pn(a))?this.GN:this.LK;var e=null;if(!1===this.uL().bd(a,a).contains(c))return e;c=this.eh.select(this.getRoot(),c.getX(),c.getY(),a);c.filter(function(f){return f===this.wz||f===this.VD||f===this.Fva||
f===this.GFa||f===this.zz||!b&&f===this.rB}.bind(this)).forEach(function(f){f===this.wz||f===this.VD||f===this.Fva||f===this.GFa||f===this.zz?e=f:b||null!=e||f!==this.rB||(e=f)}.bind(this));return e};d.prototype.fad=function(a,b){if(null!=this.wz&&null!=this.wz.ga()){a=b?a.ca():a.da();switch(this.fsc){case d.V1a.KV:this.yQa=!1;break;case d.V1a.Xs:var c=this.wz.ga();b=b?c.ca():c.da();this.yQa=a<3*b;break;case d.V1a.cK:c=this.zz.wa().xc(),b=b?c.lb():c.Ab(),c=this.gsc,this.yQa=a<c*b}this.yQa&&!this.xub?
(this.npd=this.wz.Ls(),this.mpd=this.VD.Ls(),this.wz.Fg(!0),this.VD.Fg(!0)):this.yQa&&this.xub?(this.wz.Fg(!this.wz.Ls()),this.VD.Fg(!this.VD.Ls())):!this.yQa&&this.xub&&(this.wz.Fg(this.npd),this.VD.Fg(this.mpd));this.xub=this.yQa}};d.prototype.aba=function(){return 10};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJnZXRWaXNpYmxlTW9kZWwiOiJnVGMiLCJzZXRNb2RlbExpbWl0cyI6IkhhIiwidXBkYXRlTWluaW11bVNjcm9sbE1vZGUiOiJmYWQiLCJnZXREZXNpcmVkU2l6ZSI6ImFiYSJ9fX0g");var qU=/*#__PURE__*/TR,rU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(g){function h(p,q,r){p=n.ki?[q.ma(),q.la(),q.la()]:[q.la()+Math.abs(q.da()/2),q.la(),q.ma()];q=n.ki?[q.ka()+Math.abs(q.ca()/2),q.ka(),q.na()]:[q.na(),q.ka(),q.ka()];r.tk(q,p);r.stroke();r.Si()}function k(p,q,r){p=n.ki?[q.la(),q.ma(),q.ma()]:[q.la()+Math.abs(q.da()/2),q.la(),q.ma()];q=n.ki?[q.ka()+Math.abs(q.ca()/2),q.ka(),q.na()]:[q.ka(),q.na(),q.na()];r.tk(q,p);r.stroke();r.Si()}function l(p,q,r){p=n.ki?Hd.sb(0,.5,r.Ea()):0;var t=n.ki?0:Hd.sb(.5,0,r.Ea()),u=n.ki?
0:-Math.PI/2,w=n.ki?Math.PI:Math.PI/2;r.Ey(q.ka()-t,q.la()-p,q.ca()-2*t,q.da()-2*p,u,w)}function m(p,q,r){p=n.ki?Hd.sb(0,.5,r.Ea()):0;var t=n.ki?0:Hd.sb(.5,0,r.Ea()),u=n.ki?Math.PI:Math.PI/2,w=n.ki?0:-Math.PI/2;r.Ey(q.ka()+t,q.la()+p,q.ca()-2*t,q.da()-2*p,u,w)}var n=this;null==g&&(g={});this.ki=g.isVertical;this.ea={resizable:!0,minhandle:new Km({painter:m,linestyle:b.clone(),fillstyle:c.clone(),width:10,height:10,alignment:O.Oa,ax:0,ay:0,sizeIsInDeviceSpace:!0}),maxhandle:new Km({painter:l,linestyle:b.clone(),
fillstyle:c.clone(),width:10,height:10,alignment:O.Oa,ax:0,ay:0,sizeIsInDeviceSpace:!0}),minscrollbutton:{visible:!0,size:15,linestyle:b.clone(),fillstyle:f.clone(),caret:new Km({painter:k,linestyle:e.clone(),fillstyle:c.clone(),width:5,height:this.ki?5:6,alignment:this.ki?O.Id:O.Bd,ax:this.ki?2:0,ay:this.ki?0:5,sizeIsInDeviceSpace:!0})},maxscrollbutton:{visible:!0,size:15,linestyle:b.clone(),fillstyle:f.clone(),caret:new Km({painter:h,linestyle:e.clone(),fillstyle:c.clone(),width:5,height:this.ki?
5:6,alignment:this.ki?O.Id:O.Bd,ax:this.ki?2:8,ay:this.ki?8:5,sizeIsInDeviceSpace:!0})},scrollbar:{visible:!0,autohide:!0,linestyle:b.clone(),fillstyle:c.clone()},scrolltrack:{visible:!0,linestyle:b.clone(),fillstyle:f.clone()}};g=xb(g,{name:null!=g.name?g.name:"CompactScroll",modellimits:g.modellimits instanceof U?g.modellimits:new U(0,0,1,1),visiblelimits:g.visiblelimits instanceof U?g.visiblelimits:new U(0,0,1,1),options:null!=g.options?g.options:this.ea});oU.call(this,g);this.ki?this.Em(a):this.dm(a)}var a=10,b=(new Y("transparent")).Zg({x:!0,y:!0}),c=new rf("#a8a8a8"),e=(new Y("#a8a8a8")).Zg({x:!0,y:!0}),f=new rf("#f1f1f1");D(d,oU);L(d,"geotoolkit.controls.tools.scroll.CompactHVBaseScroll");d.Ka=qU;d.prototype.setOptions=function(g){oU.prototype.setOptions.call(this,g);this.ki?(this.wz.Jb(this.rB.oa().hc(),this.zz.ga().la()),this.VD.Jb(this.rB.oa().hc(),this.zz.ga().ma())):(this.wz.Jb(this.zz.ga().ka(),this.rB.oa().Dc()),this.VD.Jb(this.zz.ga().na(),this.rB.oa().Dc()));g=this.ea.minscrollbutton.visible?
this.ea.minscrollbutton.size:0;var h=this.ea.maxscrollbutton.visible?this.ea.maxscrollbutton.size:0;this.ki?(this.Fva.Na({left:0,right:0,top:0,height:g}),this.GFa.Na({left:0,right:0,bottom:0,height:h}),this.rB.Na({left:0,right:0,top:g,bottom:h})):(this.Fva.Na({top:0,bottom:0,left:0,width:g}),this.GFa.Na({top:0,bottom:0,right:0,width:h}),this.rB.Na({top:0,bottom:0,left:g,right:h}));return this};d.prototype.iM=function(g){this.ki?this.ql(g):this.Rl(g);return this};d.prototype.L0c=function(g,h,k){var l=
this.rB.oa(),m=this.zz.ga().clone();this.ki?(g?m.setY(m.getY()-h):m.setY(m.getY()+h),m.la()<l.la()&&m.setY(l.la()),m.ma()>l.ma()&&m.setY(l.ma()-m.da())):(g?m.setX(m.getX()-h):m.setX(m.getX()+h),m.ka()<l.ka()&&m.setX(l.ka()),m.na()>l.na()&&m.setX(l.na()-m.ca()));this.notify(UR.Ka.ara,this,k);this.notify(UR.Ka.Yn,this,new ZR(k,m));this.notify(UR.Ka.fw,this,new ZR(k,m))};d.prototype.gd=function(g){if(null==this.Mc()||!this.Mc().Pd()){var h=this.YR(g,!0,!1);this.WK=this.zz.ga().clone();var k=this.WK.clone(),
l=this.ki?k.da()/10*(this.Xo()?-1:1):k.ca()/10*(this.Ji()?-1:1),m=!1,n=!1;if(null==h){var p=g.he();if(this.rB.fj().contains(p))l=this.ki?k.da()*(this.Xo()?-1:1):k.ca()*(this.Ji()?-1:1),this.ki&&p.getY()<this.zz.fj().Dc()||!this.ki&&p.getX()<this.zz.fj().hc()?m=!0:n=!0;else return}this.Bo(!0);if(h===this.Fva||m||h===this.GFa||n)this.kjc(g),this.L0c(h===this.Fva||m,l,g);this.Md=h;g.stopPropagation("touchstart"===g.Oh());this.Mc().start();this.WV=!1;this.pd=this.Mc().Sd(this.rB,g)}};d.prototype.kq=function(g){var h=
this.YR(g,!0),k=g.he();if(null!=h||!1!==this.rB.fj().contains(k))h=g.Je(),h.preventDefault(),g.stopPropagation(),k=this.zz.ga().clone(),k=this.ki?k.da()/10*(this.Xo()?-1:1):k.ca()/10*(this.Ji()?-1:1),this.L0c(0>h.deltaY,k,g)};d.prototype.Ic=function(g){var h=this.YR(g,!1);this.c1a(h);if(this.Mc())if(this.Mc().Pd()&&null!=this.Md)!1===this.WV&&(this.notify(UR.Ka.ara,this,g),this.WV=!0);else{var k=null;!this.ea.resizable||h!==this.wz&&h!==this.VD?this.ea.resizable&&h===this.zz&&(k="move"):k=this.ki?
"ns-resize":"ew-resize";$R.fl(g.Ye(),{cursor:k},this);if(1!==this.rYa())if(null==h)null!=this.Md&&this.H_a(),this.Md=null;else{k=this.Zya();var l=this.Gza();!1===k.Yoa(l)&&(this.Md=h,this.e1a(),this.nsa(UR.Zlb),g.stopPropagation(!0,!0))}}};d.prototype.zca=function(g){if(this.Mc()){var h=g.Je();g.stopPropagation(!0,!0);var k=this.rB.oa(),l=this.WK.clone();this.ei=this.Mc().Sd(this.rB,g);this.Md===this.zz||!1===this.ea.resizable&&(this.Md===this.wz||this.Md===this.VD)?(this.ki?(l.setY(l.getY()-(this.pd.getY()-
this.ei.getY())),l.la()<k.la()&&l.setY(k.getY()),l.ma()>k.ma()&&l.setY(k.ma()-l.da())):(l.setX(l.getX()-(this.pd.getX()-this.ei.getX())),l.ka()<k.ka()&&l.setX(k.getX()),l.na()>k.na()&&l.setX(k.na()-l.ca())),this.notify(UR.Ka.Yn,this,new ZR(h,l))):(l=this.Cad(),this.notify(UR.Ka.lFb,this,new ZR(h,l)))}};d.prototype.gra=function(g){this.Mc()&&(null==this.YR(g,!1,!1)&&oU.prototype.gra.call(this),this.Yc(g))};d.prototype.Yc=function(g){this.c1a(null);if(this.Mc()){this.Mc().Pd()&&null!=g&&g.stopPropagation(!0);
this.WV=!1;this.Bo(!1);var h=this.rB.oa(),k=this.WK;this.ki&&(k.la()<h.la()||k.ma()>h.ma())||!this.ki&&(k.ka()<h.ka()||k.na()>h.na())||(this.Mc().stop(),this.ei=this.Mc().Sd(this.rB,g),null!=this.Md&&(this.Md!==this.wz&&this.Md!==this.VD||this.pd.Ex(this.ei)||(k=this.Cad(),this.notify(UR.Ka.mFb,this,new ZR(g,k))),this.Md===this.zz&&(this.ki?(k.setY(k.getY()-(this.pd.getY()-this.ei.getY())),k.la()<h.la()&&k.setY(h.getY()),k.ma()>h.ma()&&k.setY(h.ma()-k.da())):(k.setX(k.getX()-(this.pd.getX()-this.ei.getX())),
k.ka()<h.ka()&&k.setX(h.getX()),k.na()>h.na()&&k.setX(h.na()-k.ca())),this.notify(UR.Ka.fw,this,new ZR(g,k))),this.Md=null),this.WK=null,this.fad(k,!this.ki))}};d.prototype.Cad=function(){var g=this.rB.oa(),h=this.WK;if(this.ki){this.ei.getY()<g.la()?this.ei.setY(g.la()):this.ei.getY()>g.ma()&&this.ei.setY(g.ma());g=this.Md!==this.wz?this.wz.al().getY():this.ei.getY();var k=this.Md!==this.VD?this.VD.al().getY():this.ei.getY()}else this.ei.getX()<g.ka()?this.ei.setX(g.ka()):this.ei.getX()>g.na()&&
this.ei.setX(g.na()),g=this.Md!==this.wz?this.wz.al().getX():this.ei.getX(),k=this.Md!==this.VD?this.VD.al().getX():this.ei.getX();if(g>k){var l=g;g=k;k=l;this.Md=this.Md===this.wz?this.VD:this.wz}this.ki?(h.setY(g),h.$a(k-g)):(h.setX(g),h.Qa(k-g));return h};d.prototype.Zya=function(){return this.ki?new Kd(this.oa().la(),this.oa().ma()):new Kd(this.oa().ka(),this.oa().na())};d.prototype.Gza=function(){return this.ki?new Kd(this.rB.ga().la(),this.rB.ga().ma()):new Kd(this.rB.ga().ka(),this.rB.ga().na())};
d.prototype.Ha=function(g,h){this.ki?(g=g.clone().setX(0).Qa(1),h=h.clone().setX(0).Qa(1),!0===this.ea.scrollbar.autohide&&this.Thc(Math.abs(g.da()-h.da())>W.Tb),this.wz.Jb(g.hc(),h.la()),this.VD.Jb(g.hc(),h.ma())):(g=g.clone().setY(0).$a(1),h=h.clone().setY(0).$a(1),!0===this.ea.scrollbar.autohide&&this.Thc(Math.abs(g.ca()-h.ca())>W.Tb),this.wz.Jb(h.ka(),g.Dc()),this.VD.Jb(h.na(),g.Dc()));oU.prototype.Ha.call(this,g,h);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGbGlwIjoiaU0iLCJnZXRNb2RlbFJhbmdlIjoiWnlhIiwiZ2V0VmlzaWJsZU1vZGVsUmFuZ2UiOiJHemEiLCJzZXRNb2RlbExpbWl0cyI6IkhhIn19fSAg");var sU=/*#__PURE__*/TR,Dya=/*#__PURE__*/function(){function d(a){a=G(a,{name:"CompactHorizontalScroll",isVertical:!1});rU.call(this,a)}D(d,rU);L(d,"geotoolkit.controls.tools.scroll.CompactHorizontalScroll");d.Ka=sU;return d}();var tU=/*#__PURE__*/TR,Fya=/*#__PURE__*/function(){function d(a){a=G(a,{name:"CompactVerticalScroll",isVertical:!0});rU.call(this,a)}D(d,rU);L(d,"geotoolkit.controls.tools.scroll.CompactVerticalScroll");d.Ka=tU;return d}();var uU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c){YR.call(this,a);this.Kld=b;this.Ekd=c}D(d,YR);d.prototype.getDelta=function(){return this.Kld};d.prototype.$eb=function(){return this.Ekd};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQbG90cyI6IiRlYiJ9fX0g"),vU=/*#__PURE__*/uU;
Object.defineProperty(vU,"HorizontalSplitterEventArgs",{get:function(){hb("geotoolkit.controls.tools.splitter.HorizontalSplitterEventArgs is deprecated since 2021 (3.2). Use geotoolkit.controls.tools.splitter.SplitterEventArgs instead.");return uU},set:function(){}});var wU=/*#__PURE__*/ta(/*#__PURE__*/{Yia:"onPlotSizeChanged",fEc:"beforePlotSizeChanged",pFb:"onShow"},2,"eyJvblBsb3RTaXplQ2hhbmdlZCI6IllpYSIsImJlZm9yZVBsb3RTaXplQ2hhbmdlZCI6ImZFYyIsIm9uU2hvdyI6InBGYiJ9"),xU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e,f){e=G(e,{name:"splitter",layer:e instanceof Uh?e:null,orientation:f?f:Rh.yb},!0);SR.call(this,e);this.$m({"cg-leave":function(){this.pk.Ia()&&(this.Pd()&&this.stop(),this.pk.va(!1))}.bind(this),pointerdown:this.gd.bind(this),pointermove:[{callback:this.Ic.bind(this),object:null},{callback:this.Ic.bind(this),object:$a,enabled:!1}],pointerup:[{callback:this.Yc.bind(this),object:null},{callback:this.Yc.bind(this),
object:$a,enabled:!1}]});this.NQa=this.s5a=null;this.ed=e.orientation;this.eh=new Zj;this.xq=null;this.pk=(new b(this.ed)).va(!1).qa((new Y("#444",1)).Zg({x:!0,y:!0})).ra(new rf("rgba(160,160,160, 0.5)")).Zc("containersplitter");this.pd=new N(0,0);this.kg=new N(0,0);this.L$=[];this.ab.pa(this.pk)}var a=Zd.ya(),b=function(){function e(g){g=G(g,{orientation:"string"===typeof g?g:null},!0);ho.call(this,g);this.ed=g.orientation}var f=new Ud(1,1);D(e,ho);L(e,"geotoolkit.controls.tools.splitter.Splitter-Handle");
e.prototype.ga=function(){if(null==this.getParent())return null;var g=this.getParent().wb();if(null==g)return null;var h=this.wa();f.setSize(1,1);null!=h&&h.pl(f,f);h=ho.prototype.ga.call(this);return this.ed===Rh.yb?h.s8().setX(g.getX()).Qa(g.ca()-f.ca()).$a(f.da()).lock():h.s8().setY(g.getY()).Qa(f.ca()).$a(g.da()-f.da()).lock()};return e}(),c=10;D(d,SR);L(d,"geotoolkit.controls.tools.splitter.Splitter");d.Ka=wU;d.prototype.X2=function(e){this.L$=[];for(var f=0;f<e.length;f++)e[f]&&this.L$.push(e[f]);
return this};d.prototype.start=function(e){this.pd=this.Sd(this.ab,e);this.s5a=e.he();e.stopPropagation();this.setActive(!0);SR.lock(e.Ye(),this);this.Bo(!0);return this};d.prototype.stop=function(){this.pk.va(!1);this.setActive(!1);SR.unlock(this);this.NQa=this.s5a=this.xq=null;this.pk.Tc(null);return this};d.prototype.iKc=function(e){this.pd=this.Sd(this.ab,e);if(!this.ab.wb().contains(this.pd))return this.sG(e.Ye(),!1),null;var f=this.pn(e);f=f?5:2;var g=e.he(),h=this.eh.select(e.Ye().getRoot(),
g.getX(),g.getY(),f);g=f=null;for(var k=0;k<this.L$.length;k++){var l=h.indexOf(this.L$[k]);-1!==l&&(null==f?f=this.L$[k]:g=this.L$[k])}if(null==f||null==g)return this.sG(e.Ye(),!1),null;h=this.ab.wb();this.kg.Da(this.pd.x,this.pd.y);k=f.ga();k=f.getParent().wa().Ua(k);this.ab.wa().wd(k,k);l=g.ga();l=g.getParent().wa().Ua(l);this.ab.wa().wd(l,l);this.pk.va(!0);this.ed===Rh.yb?this.pk.cb(h.ka(),k.ma(),h.na(),l.la()):this.pk.cb(k.na(),h.la(),l.ka(),h.ma());this.sG(e.Ye(),!0);e.stopPropagation();this.fireEvent(d.Ka.pFb,
new uU(e,null,{top:f,bottom:g,left:f,right:g}));return{top:f,bottom:g,left:f,right:g}};d.prototype.sG=function(e,f){var g=null;f&&(g=this.mc().wa().wp(),g=Math.abs(g)<W.Tb?this.ed===Rh.yb?"ns-resize":"ew-resize":this.ed===Rh.yb?"ew-resize":"ns-resize");$R.fl(e,{cursor:g},this);this.pk.va(f);return this};d.prototype.gd=function(e){if(null==e.Je().buttons||e.Je().buttons===Dc.tc)this.xq=this.iKc(e),null!=this.xq&&(e.Je().preventDefault(),this.start(e))};d.prototype.Ic=function(e){if(this.Pd()&&(e.stopPropagation(),
this.xxa(e))){this.sG(e.Ye(),!0);return}this.iKc(e)};d.prototype.xxa=function(e){var f=this.Sd(this.ab,e);if(this.ed===Rh.yb){if(null!=this.xq&&null!=this.xq.top){if(this.xq.top.ga().da()+(f.getY()-this.pd.getY())<c||this.xq.bottom.ga().da()-(f.getY()-this.pd.getY())<c)return!0;this.pk.translate(0,f.y-this.kg.y);this.kg.Da(f.x,f.y);this.NQa=e.he();return!0}}else if(null!=this.xq&&null!=this.xq.left){if(this.xq.left.ga().ca()+(f.getX()-this.pd.getX())<c||this.xq.right.ga().ca()-(f.getX()-this.pd.getX())<
c)return!0;this.pk.translate(f.x-this.kg.x,0);this.kg.Da(f.x,f.y);this.NQa=e.he();return!0}return!1};d.prototype.Yc=function(e){if(this.Pd()&&this.s5a)if(this.sG(e.Ye(),!1),this.xq&&this.NQa){e.stopPropagation();var f=this.ed===Rh.yb?this.kg.getY()-this.pd.getY():this.kg.getX()-this.pd.getX(),g=this.ed===Rh.yb?this.NQa.getY()-this.s5a.getY():this.NQa.getX()-this.s5a.getX();this.fireEvent(d.Ka.fEc,new uU(e,f));g=this.ed===Rh.yb?this.Osd(f,g):this.Wsd(f,g);this.fireEvent(d.Ka.Yia,new uU(e,f,g));this.stop();
this.Bo(!1)}else this.stop()};d.prototype.Osd=function(e,f){var g={},h=this.xq.top.getParent().oa().da();var k=this.xq.top.Pb().getStyle().height;var l=$d.pm(k,h);if(null!=l){var m=$d.parse(k).gp;k=ai.GY(k)?f:e;k=l+k;m&&(k="%"===m?100*parseFloat(k)/h+m:a.Xa("px").convert(k,m)+m);this.xq.top.Na({height:k});g.top=this.xq.top}k=this.xq.top.Pb().getStyle().bottom;l=$d.pm(k,h);null!=l&&(m=$d.parse(k).gp,k=ai.GY(k)?f:e,k=l-k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Xa("px").convert(k,m)+m),this.xq.top.Na({bottom:k}),
g.top=this.xq.top);k=this.xq.bottom.Pb().getStyle().height;l=$d.pm(k,h);null!=l&&(m=$d.parse(k).gp,k=ai.GY(k)?f:e,k=l-k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Xa("px").convert(k,m)+m),this.xq.bottom.Na({height:k}),g.bottom=this.xq.bottom);k=this.xq.bottom.Pb().getStyle().top;l=$d.pm(k,h);null!=l&&(m=$d.parse(k).gp,k=ai.GY(k)?f:e,k=l+k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Xa("px").convert(k,m)+m),this.xq.bottom.Na({top:k}),g.bottom=this.xq.bottom);return g};d.prototype.Wsd=function(e,f){var g={},h=
this.xq.left.getParent().oa().ca();var k=this.xq.left.Pb().getStyle().width;var l=$d.pm(k,h);if(null!=l){var m=$d.parse(k).gp;k=ai.GY(k)?f:e;k=l+k;m&&(k="%"===m?100*parseFloat(k)/h+m:a.Xa("px").convert(k,m)+m);this.xq.left.Na({width:k});g.left=this.xq.left}k=this.xq.left.Pb().getStyle().right;l=$d.pm(k,h);null!=l&&(m=$d.parse(k).gp,k=ai.GY(k)?f:e,k=l-k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Xa("px").convert(k,m)+m),this.xq.left.Na({right:k}),g.left=this.xq.left);k=this.xq.right.Pb().getStyle().width;
l=$d.pm(k,h);null!=l&&(m=$d.parse(k).gp,k=ai.GY(k)?f:e,k=l-k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Xa("px").convert(k,m)+m),this.xq.right.Na({width:k}),g.right=this.xq.right);k=this.xq.right.Pb().getStyle().left;l=$d.pm(k,h);null!=l&&(m=$d.parse(k).gp,k=ai.GY(k)?f:e,k=l+k,m&&(k="%"===m?100*parseFloat(k)/h+m:a.Xa("px").convert(k,m)+m),this.xq.right.Na({left:k}),g.right=this.xq.right);return g};d.prototype.Bo=function(e){this.Rs("pointermove",e,$a);this.Rs("pointerup",e,$a);return this};d.prototype.qa=
function(e){this.pk.qa(e)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQbG90cyI6IlgyIiwic2V0TGluZVN0eWxlIjoicWEifX19");var yU=/*#__PURE__*/ta(/*#__PURE__*/{Yia:"onPlotSizeChanged"},2,"eyJvblBsb3RTaXplQ2hhbmdlZCI6IllpYSJ9"),Jya=/*#__PURE__*/function(){function d(a){xU.call(this,a,Rh.yb);this.nb("horizontal-splitter")}D(d,xU);L(d,"geotoolkit.controls.tools.splitter.HorizontalSplitter");d.Ka=yU;return d}();var zU=/*#__PURE__*/ta(/*#__PURE__*/{onStart:"onStart",BAa:"onHover",wo:"onMove",Yn:"onScroll"},2,"eyJvbkhvdmVyIjoiQkFhIiwib25Nb3ZlIjoid28iLCJvblNjcm9sbCI6IlluIn0g"),AU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"ColumnHandler",tableview:a instanceof pS?a:null},!0);SR.call(this,a);this.OM=null;this.Wa=a.tableview;this.EK=null;this.MG=!1;this.uc=null;this.FG=-1;this.$m({pointermove:this.Ic.bind(this),pointerdown:this.gd.bind(this),pointerup:[{callback:this.Yc.bind(this),object:null},{callback:function(){this.stop()}.bind(this),object:$a,enabled:!1}],keydown:{callback:this.Ux.bind(this),object:$a,enabled:!0},
keyup:{callback:this.ZU.bind(this),object:$a,enabled:!0},"cg-leave":function(b){this.EK=null}.bind(this)});this.kQa=(new ho).qa({color:"gray",pixelsnapmode:{x:!0,y:!0}}).ra({color:"rgba(236,243,255, 0.5)"}).va(!1);this.Y4a=(new ni).hd(!0).va(!1).de(new jl).pa([this.Ewc=(new ni).Na({left:1,top:0,bottom:0,width:2}).qa({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).ra({color:"#4285F4"}).va(!1),this.eAc=(new ni).Na({right:1,top:0,bottom:0,width:2}).qa({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).ra({color:"#4285F4"}).va(!1)]);
this.Wa.pa([this.kQa,this.Y4a])}D(d,SR);L(d,"geotoolkit.controls.tools.tableview.ColumnHandler");d.Ka=zU;d.prototype.Bo=function(a){this.Rs("pointerup",a,$a);return this};d.prototype.start=function(){this.Bo(!0);return SR.prototype.start.call(this)};d.prototype.stop=function(){this.Bo(!1);SR.unlock(this);return SR.prototype.stop.call(this)};d.prototype.Ux=function(a){if(null!=this.EK&&!0!==this.MG&&!0===a.Je().ctrlKey){var b=this.Sd(this.Wa,this.EK);b=this.Wa.Shb(b.getX(),b.getY());0===b.getY()&&
0<=b.getX()&&($R.fl(a.Ye(),{cursor:"move"},this),this.MG=!0)}};d.prototype.ZU=function(a){if(!this.Pd()&&!1!==this.MG){var b=a.Je();if(!0===b.ctrlKey||"Control"===b.keyIdentifier)this.MG=!1,$R.fl(a.Ye(),{cursor:null},this)}};d.prototype.rkb=function(){null==this.Daa&&(this.Daa=(new Kl(300,function(){this.Daa.stop();this.Daa=null;null!=this.EK&&this.Ic(this.EK)}.bind(this))).start())};d.prototype.Ic=function(a){this.EK=a;if(this.Pd()){$R.fl(a.Ye(),{cursor:"move"},this);a.stopPropagation(!0,!0);var b=
this.Sd(this.Wa,a),c=this.kQa.ga().clone();c.setX(c.ka()+b.getX()-this.GK.getX());var e=this.Wa.ZH(c.ka(),c.getY()),f=this.Wa.ZH(c.na(),c.getY()),g=this.Wa.g2();0<b.getX()-this.GK.getX()?f.getX()>g.na()&&null==this.Daa&&(this.rkb(),this.Wa.scroll(null,f.getX()),this.fireEvent(d.Ka.Yn,null)):e.getX()<g.ka()&&null==this.Daa&&(this.rkb(),this.Wa.scroll(null,e.getX()),this.fireEvent(d.Ka.Yn,null));b=this.Sd(this.Wa,a);e=this.Wa.ZH(b);this.Ewc.va(e.getX()<this.FG);this.eAc.va(e.getX()>this.FG);this.Y4a.va(0<=
e.getX());f=-1!==e.getX()&&e.getX()!==this.FG?"move":"not-allowed";$R.fl(a.Ye(),{cursor:f},this);a=this.RLc(e.getX());this.Y4a.sa(a).ha();a=this.Wa.so().ga();a.ka()<=c.ka()&&a.na()>=c.na()&&(this.kQa.sa(c).ha(),this.GK=b)}else this.EK=a};d.prototype.gd=function(a){if(!0===this.MG){var b=this.Sd(this.Wa,a),c=this.Wa.Shb(b.getX(),b.getY());0===c.getY()&&0<=c.getX()&&(this.start(),SR.lock(a.Ye(),this),this.FG=this.Wa.ZH(b.getX(),b.getY()).getX(),b=this.RLc(this.FG),this.kQa.sa(b).va(!0).Tc(null),this.Y4a.sa(this.kQa.ga().clone()).va(!0),
this.wga=this.GK=this.Sd(this.Wa,a))}};d.prototype.Yc=function(a){if(this.Pd()&&(a.stopPropagation(),this.stop(),a=this.Sd(this.Wa,a),a=this.Wa.ZH(a.getX(),a.getY()).getX(),-1!==a&&a!==this.FG)){var b=[],c;for(c=0;c<this.Wa.yR().ca();c++)b[c]=this.Wa.rJa(c);c=b[this.FG];b.splice(this.FG,1);b.splice(a,0,c);for(c=0;c<b.length;c++)this.Wa.EMa(c,b[c]);this.fireEvent(d.Ka.wo,{from:this.FG,to:a})}};d.prototype.RLc=function(a){var b=this.Wa.C1(0,a);if(null==b)return null;a=new N(b.getX(),b.getY());b=new N(b.na(),
b.ma());this.Wa.so().TD.wa().Ma(a,a);this.Wa.wa().rd(a,a);this.Wa.so().TD.wa().Ma(b,b);this.Wa.wa().rd(b,b);return new U(a.x,this.Wa.oa().la(),b.x,this.Wa.oa().ma()-1)};d.prototype.tn=function(){SR.prototype.tn.call(this);if(!1===this.isEnabled()||!1===this.Pd())this.EK=null,this.MG=!1,this.kQa.va(!1),this.Y4a.va(!1),this.Ewc.va(!1),this.eAc.va(!1)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6InRuIn19fSAg");var BU=/*#__PURE__*/ta(/*#__PURE__*/{Xbc:"onHeaderHover",Rbc:"onButtonHover",Sbc:"onClick"},2,"eyJvbkhlYWRlckhvdmVyIjoiWGJjIiwib25CdXR0b25Ib3ZlciI6IlJiYyIsIm9uQ2xpY2siOiJTYmMifSAg"),CU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"HeaderHandler",tableview:a instanceof pS?a:null},!0);SR.call(this,a);this.OM=null;this.Wa=a.tableview;this.Wb=new Ud(12,12);this.CFa=new Ud(4,4);this.$m({pointermove:this.Ic.bind(this),pointerdown:this.gd.bind(this),"cg-leave":function(b){this.EK=null;this.wea.va(!1)}.bind(this)});this.Wa.pa([this.wea=(new ni).va(!1)])}D(d,SR);L(d,"geotoolkit.controls.tools.tableview.HeaderHandler");d.Ka=BU;d.prototype.setSize=
function(a){this.Wb=a;return this};d.prototype.getSize=function(){return this.Wb};d.prototype.fIb=function(a){this.CFa=a;return this};d.prototype.Z7b=function(){return this.CFa};d.prototype.Ic=function(a){a=this.Sd(this.Wa,a);var b=this.Wa.Shb(a.getX(),a.getY());0===b.getY()&&-1===b.getX()?(this.FG=-1,b=this.Zzb(-1),this.wea.sa(b).Ha(b.clone().setX(0).setY(0)),this.fireEvent(b.contains(a)?d.Ka.Rbc:d.Ka.Xbc,{column:this.FG,button:this.wea})):0===b.getY()&&0<=b.getX()?(this.FG=this.Wa.ZH(a.getX(),a.getY()).getX(),
b=this.Zzb(this.FG),this.wea.sa(b).Ha(b.clone().setX(0).setY(0)),this.fireEvent(b.contains(a)?d.Ka.Rbc:d.Ka.Xbc,{column:this.FG,button:this.wea})):this.wea.va(!1)};d.prototype.gd=function(a){var b=this.Sd(this.Wa,a),c=this.Wa.Shb(b.getX(),b.getY());0===c.getY()&&-1===c.getX()?(this.FG=-1,c=this.Zzb(-1),this.wea.va(!0).sa(c),c.contains(b)&&(a.stopPropagation(),this.fireEvent(d.Ka.Sbc,{column:this.FG,button:this.wea}))):0===c.getY()&&0<=c.getX()&&(this.FG=this.Wa.ZH(b.getX(),b.getY()).getX(),c=this.Zzb(this.FG),
this.wea.va(!0).sa(c),c.contains(b)&&(a.stopPropagation(),this.fireEvent(d.Ka.Sbc,{column:this.FG,button:this.wea})))};d.prototype.Zzb=function(a){a=this.hXa(a);return a.setX(a.getX()+a.ca()-this.Wb.ca()-this.CFa.ca()).setY(a.getY()+this.CFa.da()).Qa(this.Wb.ca()).$a(this.Wb.da())};d.prototype.hXa=function(a){var b=this.Wa.C1(-1,a);a=this.Wa.hXa();if(null==b)return null;var c=new N(b.getX(),b.getY());b=new N(b.na(),b.ma());this.Wa.so().TD.wa().Ma(c,c);this.Wa.wa().rd(c,c);this.Wa.so().TD.wa().Ma(b,
b);this.Wa.wa().rd(b,b);return new U(c.x,a.la(),b.x,a.ma())};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRNYXJnaW4iOiJmSWIiLCJnZXRNYXJnaW4iOiJaN2IifX19");var DU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b,c,e){YR.call(this,a);this.fX=b;this.r9=c;this.xod=e}D(d,YR);L(d,"geotoolkit.controls.tools.HoverEventArgs");d.prototype.k9b=function(){return this.fX};d.prototype.getColumnNumber=function(){return this.r9};d.prototype.kCb=function(){return this.xod};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRSb3dOdW1iZXIiOiJrOWIiLCJnZXRNb3VzZVBvc2l0aW9uIjoia0NiIn19fSAg");var FU=/*#__PURE__*/ta(/*#__PURE__*/{BAa:"onHover"},2,"eyJvbkhvdmVyIjoiQkFhIn0g"),GU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"Highlight",tableview:a instanceof pS?a:null},!0);SR.call(this,a);this.OM=null;this.Wa=a.tableview;this.$m({pointermove:this.Ic.bind(this),"cg-leave":function(b){this.fireEvent(RR.Oz,null)}.bind(this)})}D(d,SR);L(d,"geotoolkit.controls.tools.Highlight");d.Ka=FU;d.prototype.Ic=function(a){var b=this.Sd(this.Wa,a),c=this.Wa.ZH(b.getX(),b.getY()),e=this.Wa.C1(c.getY(),c.getX());if(e){var f=this.Wa.ZH(b.getX(),b.getY(),!0);b=e.ca()*(f.getX()-
c.getX());e=e.da()*(f.getY()-c.getY());this.fireEvent(d.Ka.BAa,new DU(a,c.getY(),c.getX(),new N(b,e)))}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbk1vdXNlTW92ZSI6IkljIn19fSAg");var HU=/*#__PURE__*/ta(/*#__PURE__*/{onStart:"onStart",BAa:"onHover",wo:"onMove",Yn:"onScroll"},2,"eyJvbkhvdmVyIjoiQkFhIiwib25Nb3ZlIjoid28iLCJvblNjcm9sbCI6IlluIn0g"),IU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"RowHandler",tableview:a instanceof pS?a:null},!0);SR.call(this,a);this.Wa=a.tableview;this.EK=this.OM=null;this.MG=!1;this.uc=null;this.FG=-1;this.$m({pointermove:this.Ic.bind(this),pointerdown:this.gd.bind(this),pointerup:[{callback:this.Yc.bind(this),object:null},{callback:function(){this.stop()}.bind(this),object:$a,enabled:!1}],keydown:{callback:this.Ux.bind(this),object:$a,enabled:!0},
keyup:{callback:this.ZU.bind(this),object:$a,enabled:!0},"cg-leave":function(b){this.EK=null}.bind(this)});this.QTa=(new ho).qa({color:"gray",pixelsnapmode:{x:!0,y:!0}}).ra({color:"rgba(236,243,255, 0.5)"}).va(!1);this.M9a=(new ni).hd(!0).va(!1).de(new jl).pa([this.EBc=(new ni).Na({left:0,top:1,right:0,height:2}).qa({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).ra({color:"#4285F4"}).va(!1),this.Csc=(new ni).Na({left:0,bottom:1,right:0,height:2}).qa({color:"#4285F4",pixelsnapmode:{x:!0,y:!0}}).ra({color:"#4285F4"}).va(!1)]);
this.Wa.pa([this.QTa,this.M9a])}D(d,SR);L(d,"geotoolkit.controls.tools.tableview.RowHandler");d.Ka=HU;d.prototype.Bo=function(a){this.Rs("pointerup",a,$a);return this};d.prototype.start=function(){this.Bo(!0);return SR.prototype.start.call(this)};d.prototype.stop=function(){this.Bo(!1);SR.unlock(this);return SR.prototype.stop.call(this)};d.prototype.Ux=function(a){if(null!=this.EK&&!0!==this.MG&&!0===a.Je().ctrlKey){var b=this.Sd(this.Wa,this.EK);b=this.Wa.Ucc(b.getX(),b.getY());0===b.getX()&&0<=
b.getY()&&($R.fl(a.Ye(),{cursor:"move"},this),this.MG=!0)}};d.prototype.ZU=function(a){if(!this.Pd()&&!1!==this.MG){var b=a.Je();if(!0===b.ctrlKey||"Control"===b.keyIdentifier)this.MG=!1,$R.fl(a.Ye(),{cursor:null},this)}};d.prototype.gd=function(a){if(!0===this.MG){var b=this.Sd(this.Wa,a);b=this.Wa.Ucc(b.getX(),b.getY());0===b.getX()&&0<=b.getY()&&(this.start(),SR.lock(a.Ye(),this),this.FPa=b.getY(),b=this.gRc(this.FPa),this.QTa.sa(b).va(!0).Tc(null),this.M9a.sa(this.QTa.ga().clone()).va(!0),this.wga=
this.GK=this.Sd(this.Wa,a))}};d.prototype.rkb=function(){null==this.Daa&&(this.Daa=(new Kl(300,function(){this.Daa.stop();this.Daa=null;null!=this.EK&&this.Ic(this.EK)}.bind(this))).start())};d.prototype.Ic=function(a){this.EK=a;if(this.Pd()){$R.fl(a.Ye(),{cursor:"move"},this);a.stopPropagation(!0,!0);var b=this.Sd(this.Wa,a),c=this.QTa.ga().clone();c.setY(c.la()+b.getY()-this.GK.getY());var e=this.Wa.ZH(c.getX(),c.la()),f=this.Wa.ZH(c.getX(),c.ma()),g=this.Wa.g2();0<b.getY()-this.GK.getY()?f.getY()>=
g.ma()-1&&null==this.Daa&&(this.rkb(),this.Wa.scroll(f.getY()+1),this.fireEvent(d.Ka.Yn,null)):e.getY()<g.la()&&null==this.Daa&&(this.rkb(),this.Wa.scroll(e.getY()),this.fireEvent(d.Ka.Yn,null));b=this.Sd(this.Wa,a);e=this.Wa.ZH(b);this.EBc.va(e.getY()<this.FPa);this.Csc.va(e.getY()>this.FPa);this.M9a.va(0<=e.getY());f=-1!==e.getY()&&e.getY()!==this.FPa?"move":"not-allowed";$R.fl(a.Ye(),{cursor:f},this);a=this.gRc(e.getY());this.M9a.sa(a).ha();a=this.Wa.so().ga();a.la()<=c.la()&&a.ma()>=c.ma()&&(this.QTa.sa(c).ha(),
this.GK=b)}else this.EK=a};d.prototype.gRc=function(a){var b=this.Wa.C1(a,0);if(null==b)return null;a=new N(b.getX(),b.getY());b=new N(b.na(),b.ma());this.Wa.so().TD.wa().Ma(a,a);this.Wa.wa().rd(a,a);this.Wa.so().TD.wa().Ma(b,b);this.Wa.wa().rd(b,b);return new U(this.Wa.oa().ka(),a.y,this.Wa.oa().na()-1,b.y)};d.prototype.Yc=function(a){this.Pd()&&(a.stopPropagation(),this.stop(),a=this.Sd(this.Wa,a),a=this.Wa.ZH(a.getX(),a.getY()).getY(),-1!==a&&a!==this.FPa&&this.fireEvent(d.Ka.wo,{from:this.FPa,
to:a}))};d.prototype.tn=function(){SR.prototype.tn.call(this);if(!1===this.isEnabled()||!1===this.Pd())this.EK=null,this.MG=!1,this.QTa.va(!1),this.M9a.va(!1),this.EBc.va(!1),this.Csc.va(!1)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6InRuIn19fSAg");var JU=/*#__PURE__*/ta(/*#__PURE__*/{TE:"onResize"},2,"eyJvblJlc2l6ZSI6IlRFIn0g"),KU=/*#__PURE__*/ta(/*#__PURE__*/{rb:"vertical",yb:"horizontal",BD:"both"},2,"eyJWZXJ0aWNhbCI6InJiIiwiSG9yaXpvbnRhbCI6InliIiwiQm90aCI6IkJEIn0g"),LU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c,e){c=G(c,{name:"Splitter",tableview:c instanceof pS?c:null,ignorezerosize:e},!0);SR.call(this,c);this.UTb=c.ignorezerosize;this.Md=this.GK=this.OM=null;this.Wa=c.tableview;this.ai=this.sF=null;this.$m({pointerdown:this.gd.bind(this),pointermove:[{callback:this.Ic.bind(this),object:null},{callback:this.Ic.bind(this),object:$a,enabled:!1}],pointerup:[{callback:this.Yc.bind(this),object:null},{callback:this.Yc.bind(this),
object:$a,enabled:!1}]});this.uga=1;this.eh=new Zj;this.cma=(new ho).Zc("tableview-splitter-vertical").qa({color:"gray",pixelsnapmode:{x:!0,y:!0}}).ra("rgba(150,150,150, 0.5)").va(!1);this.SUb=this.cma.clone();this.fAc=this.cma.clone();this.ATb=this.cma.clone().Zc("tableview-splitter-horizontal");this.i_b=this.cma.clone().Zc("tableview-splitter-horizontal");this.Dsc=this.cma.clone().Zc("tableview-splitter-horizontal");this.LC=[this.cma,this.SUb,this.fAc,this.ATb,this.i_b,this.Dsc];this.Wa.pa(this.LC);
this.k$a=d.Enb.rb}var a=new N(0,0),b=new N(1,0);D(d,SR);L(d,"geotoolkit.controls.tools.tableview.Splitter");d.Ka=JU;d.Enb=KU;d.prototype.lLd=function(){return this.k$a};d.prototype.V6c=function(c){this.k$a!==c&&(this.k$a=c);return this};d.prototype.tn=function(){SR.prototype.tn.call(this);if(!1===this.isEnabled())for(var c=0;c<this.LC.length;c++)this.LC[c].va(!1)};d.prototype.getSize=function(){return this.uga};d.prototype.setSize=function(c){this.uga=c;return this};d.prototype.qa=function(c,e){this.LC[0].qa(c,
e);c=this.LC[0].Fa();for(e=1;e<this.LC.length;e++)this.LC[e].qa(c);return this};d.prototype.Fa=function(){return this.LC[0].Fa()};d.prototype.ra=function(c,e){this.LC[0].ra(c,e);c=this.LC[0].eb();for(e=1;e<this.LC.length;e++)this.LC[e].ra(c);return this};d.prototype.eb=function(){return this.LC[0].eb()};d.prototype.start=function(c){this.setActive(!0);null!=c&&(c.stopPropagation(!0,!0),this.sF=c.Ye());for(c=0;c<this.LC.length;c++)if(this.LC[c].Ia()){this.Md=this.LC[c];break}return this};d.prototype.stop=
function(){this.setActive(!1);null!=this.sF&&$R.fl(this.sF,{cursor:null},this);null!=this.Md&&this.Md.Tc(null).va(!1);this.Md=this.sF=null;return this};d.prototype.Yc=function(c){!1!==this.Pd()&&(c.stopPropagation(!0,!0),this.Rs("pointermove",!1,$a),this.Rs("pointerup",!1,$a),this.Rsd(c.Ye(),this.Sd(this.Wa,c)))};d.prototype.Rsd=function(c,e){if(null!=this.Md)if(this.Wa.wa().Ma(e,e),this.Wa.so().TD.wa().rd(e,e),this.Wa.wa().Ma(this.wga,this.wga),this.Wa.so().TD.wa().rd(this.wga,this.wga),"tableview-splitter-vertical"===
this.Md.jr()){var f=e.getX()-this.wga.getX();this.Md===this.cma?this.ai.x=-1:this.Md===this.SUb&&0<this.ai.x&&--this.ai.x;c=this.ai.getX();!0===this.UTb&&0>=this.Wa.rJa(c)&&c--;0<=c?(e=this.Wa.rJa(c),f=e+f):(e=this.Wa.$db().ca(),f=e+f,f=Math.min(f,this.Wa.ga().ca()-1));this.stop();15>f&&(f=15);this.Wa.EMa(c,f);this.fireEvent(d.Ka.TE,{column:c,width:{current:e,"new":f}})}else f=e.getY()-this.wga.getY(),this.Md===this.ATb?this.ai.y=-1:this.Md===this.i_b&&0<this.ai.y&&--this.ai.y,c=this.ai.getY(),!0===
this.UTb&&0>=this.Wa.PCb(c)&&c--,0<=c?(e=this.Wa.PCb(c),f=e+f):(e=this.Wa.hXa().da(),f=e+f,f=Math.min(f,this.Wa.ga().da()-1)),this.stop(),15>f&&(f=15),this.Wa.LIb(c,f),this.fireEvent(d.Ka.TE,{row:c,height:{current:e,"new":f}})};d.prototype.gd=function(c){for(var e=null,f=0;f<this.LC.length;f++)if(this.LC[f].Ia()){e=this.LC[f];break}if(null!=e){this.Rs("pointermove",!0,$a);this.Rs("pointerup",!0,$a);e=this.Wa.getRoot();f=this.Sd(e,c);e=this.eh.select(e,f.x,f.y,this.uga);e=e.filter(function(g){return g instanceof
ho&&("tableview-splitter-vertical"===g.jr()||"tableview-splitter-horizontal"===g.jr())&&-1!==this.LC.indexOf(g)}.bind(this));if(0===e.length)return this;this.Md=e[0];this.OM=c;this.wga=this.GK=this.Sd(this.Wa,c);this.start(c)}return this};d.prototype.Ic=function(c){null!=this.Md&&null!=c.stopPropagation&&c.stopPropagation(!0,!0);this.xxa(c.Ye(),this.Sd(this.Wa,c))};d.prototype.xxa=function(c,e){if(null!=this.Md)return"tableview-splitter-vertical"===this.Md.jr()?this.Md.translate(e.getX()-this.GK.getX(),
0):this.Md.translate(0,e.getY()-this.GK.getY()),this.GK=e,this;e=e.clone();this.ai=this.Wa.ZH(e.getX(),e.getY());var f=this.Wa.C1(this.ai.getY(),this.ai.getX());if(null==f)return this;var g=new N(f.getX(),f.getY());f=new N(f.na(),f.ma());this.Wa.so().TD.wa().Ma(g,g);this.Wa.wa().rd(g,g);this.Wa.so().TD.wa().Ma(f,f);this.Wa.wa().rd(f,f);var h=this.Wa.wa().rd(a),k=this.Wa.wa().rd(b);h=N.xf(h,k);this.k$a!==d.Enb.yb&&(this.Wa.yw.Ia()&&this.cma.sa((new U(this.Wa.yw.ga().na(),this.Wa.oa().la(),this.Wa.yw.ga().na(),
this.Wa.oa().ma())).bd(this.uga*h,0)).va(this.Wa.yw.Ia()),0!==this.ai.getX()&&this.SUb.sa((new U(g.x,this.Wa.oa().la(),g.x,this.Wa.oa().ma())).bd(this.uga*h,0)).va(!0),this.fAc.sa((new U(f.x,this.Wa.oa().la(),f.x,this.Wa.oa().ma())).bd(this.uga*h,0)).va(!0));this.k$a!==d.Enb.rb&&this.Wa.bFc()&&(this.Wa.RD.Ia()&&this.ATb.sa((new U(0,this.Wa.tBb(),this.Wa.oa().na(),this.Wa.tBb())).bd(0,this.uga*h)).va(!0),0!==this.ai.getY()&&this.i_b.sa((new U(0,g.y,this.Wa.oa().na(),g.y)).bd(0,this.uga*h)).va(!0),
this.Dsc.sa((new U(0,f.y,this.Wa.oa().na(),f.y)).bd(0,this.uga*h)).va(!0));g=this.Wa;e=this.eh.select(g,e.x,e.y,this.uga);e=e.filter(function(l){return l instanceof ho&&("tableview-splitter-vertical"===l.jr()||"tableview-splitter-horizontal"===l.jr())&&-1!==this.LC.indexOf(l)}.bind(this));for(g=0;g<this.LC.length;g++)this.LC[g].va(!1);if(0<e.length){if("tableview-splitter-vertical"===e[0].jr()&&this.Wa.yw.Ia()&&e[0]!==this.cma&&e[0].ga().ka()<this.Wa.yw.ga().na())return this;e[0].va(!0);"tableview-splitter-horizontal"===
e[0].jr()?$R.fl(c,{cursor:"ns-resize"},this):$R.fl(c,{cursor:"ew-resize"},this)}else $R.fl(c,{cursor:null},this);return this};d.prototype.M3c=function(c){this.UTb=c;return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTcGxpdHRlck1vZGUiOiJsTGQiLCJzZXRTcGxpdHRlck1vZGUiOiJWNmMiLCJvbkFjdGl2ZVN0YXRlQ2hhbmdlZCI6InRuIiwic2V0TGluZVN0eWxlIjoicWEiLCJnZXRMaW5lU3R5bGUiOiJGYSIsInNldEZpbGxTdHlsZSI6InJhIiwiZ2V0RmlsbFN0eWxlIjoiZWIiLCJhcHBseU1vdXNlTW92ZSI6Inh4YSIsInNldElnbm9yZVplcm9TaXplIjoiTTNjIn19fSAg");var NU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(l,m,n){n=null==l||null==l.textstyle?(new Fi).setColor(b).yo(c):null;l=xb(l,{ternarygrid:null,layer:l instanceof Uh?l:null,name:"string"===typeof m&&""!==m?m:"cross-hair",linestyle:(new Y(b,1,[3,2])).Zg({x:!0,y:!0}),textstyle:n},!0);SR.call(this,l);this.$m({pointermove:this.Ic.bind(this),pointerup:this.Yc.bind(this),pointerdown:this.gd.bind(this),"cg-enter":function(p){this.fireEvent(RR.Xia,p)}.bind(this),"cg-leave":function(p){this.setPosition(e,!1,p);this.fireEvent(RR.Oz,
p)}.bind(this)});this.Vc=l.ternarygrid;this.Up=!0;this.YG=null;this.zg=(new g({ternarygrid:this.Vc})).qa(l.linestyle).setPosition(e);this.ab.pa(this.zg);this.bi=null;(a(l)||null==l||"none"!==l.labels)&&this.dWa(l.textstyle,this.Vc);this.c2c(l)}function a(l){if(!l)return!1;for(var m=0;m<f.length;++m)if(l[f[m]]&&!0===l[f[m]].visible)return!0;return"none"!==l.labels&&!1!==l.labels}var b="#757575",c="12px Roboto",e=new N(Number.NaN,Number.NaN),f=["right","left","top"],g=function(){function l(m){m=G(m,
{radius:0,ternarygrid:null},!0);Ag.call(this,m);this.Vc=m.ternarygrid;this.Zc("cross-hair-cursor");this.Fg(!1);this.Ie=new N(Number.NaN,Number.NaN);this.Cb={right:Number.NaN,left:Number.NaN,top:Number.NaN};this.Lc={right:{from:null,Re:null},left:{from:null,Re:null},top:{from:null,Re:null}};this.qa((new Y(b,1,[3,2])).Zg(!0));this.GC=null;this.Fc=m.radius;m.outlinestyle&&this.V2(m.outlinestyle)}D(l,Ag);L(l,"geotoolkit.controls.tools.TernaryCrossHair.TernaryCrossHairCursor");l.prototype.V2=function(m,
n){if(this.GC===m)return this;this.GC=Y.Qe(this,this.GC,m,n,this.tb());this.xa().ha();return this};l.prototype.uba=function(){return this.GC};l.prototype.qa=function(m,n){Ag.prototype.qa.call(this,m,n);!0===n?(this.Lja(m,n),this.Oja(m,n),this.N0a(m,n)):(m=this.Fa(),this.Lja(m),this.Oja(m),this.N0a(m));return this};l.prototype.bI=function(m){this.Fc!==m&&(this.Fc=m,this.w8().ha());return this};l.prototype.Lx=function(){return this.Fc};l.prototype.cd=function(){return this.od};l.prototype.Ao=function(m){this.od!==
m&&(this.od=m,this.w8().ha());return this};l.prototype.Lja=function(m,n){if(this.r7a===m)return this;this.r7a=Y.Qe(this,this.r7a,m,n,this.tb());this.xa().ha();return this};l.prototype.wXa=function(){return this.r7a};l.prototype.Oja=function(m,n){if(this.H9a===m)return this;this.H9a=Y.Qe(this,this.H9a,m,n,this.tb());this.xa().ha();return this};l.prototype.WXa=function(){return this.H9a};l.prototype.N0a=function(m,n){if(this.K$a===m)return this;this.K$a=Y.Qe(this,this.K$a,m,n,this.tb());this.xa().ha();
return this};l.prototype.qDb=function(){return this.K$a};l.prototype.setPosition=function(m){if(this.Ie===m||this.Ie.Ex(m,W.Tb))return this;this.ha();this.Ie=null==m?this.Ie.Da(NaN,NaN):this.Ie.Da(m.getX(),m.getY());this.w8().ha();return this};l.prototype.ha=function(m,n){if(null==this.getParent())return this;Ag.prototype.ha.call(this,this.getParent().wb(),n);return this};l.prototype.w8=function(){if(null==this.getParent()||null==this.Vc||isNaN(this.Ie.getX())||isNaN(this.Ie.getY()))return this;this.Lc.right.from=
this.Ie.clone();this.Lc.left.from=this.Ie.clone();this.Lc.top.from=this.Ie.clone();this.Cb=this.Vc.g2b(this.Ie);if(isNaN(this.Cb.right)||isNaN(this.Cb.left)||isNaN(this.Cb.top))return this;this.Lc.right.Re=this.Vc.j1a({right:this.Cb.right,top:this.Vc.qf("top")});this.Lc.left.Re=this.Vc.j1a({left:this.Cb.left,right:this.Vc.qf("right")});this.Lc.top.Re=this.Vc.j1a({top:this.Cb.top,left:this.Vc.qf("left")});if(0<this.Fc||null!=this.od){var m=.5,n=Math.cos(Math.PI/6),p=null!=this.od?Math.max(this.od.ca()/
2,this.od.da()/2)/n:this.Fc/2;this.Lc.right.from.translate(-p*m,p*n);this.Lc.left.from.translate(-p*m,-p*n);this.Lc.top.from.translate(p,0)}return this};l.prototype.ec=function(){return this.Ie};l.prototype.ie=function(){return this.Cb};l.prototype.iHd=function(){return this.Lc};l.prototype.render=function(m){isNaN(this.Ie.x)||isNaN(this.Ie.y)||isNaN(this.Cb.right)||isNaN(this.Cb.left)||isNaN(this.Cb.top)||((null!=this.H9a&&(null!=this.GC&&(m.qa(this.GC),m.Xc(this.Lc.right.from.getX(),this.Lc.right.from.getY(),
this.Lc.right.Re.getX(),this.Lc.right.Re.getY())),m.qa(this.H9a),m.Xc(this.Lc.right.from.getX(),this.Lc.right.from.getY(),this.Lc.right.Re.getX(),this.Lc.right.Re.getY())),null!=this.r7a&&(null!=this.GC&&(m.qa(this.GC),m.Xc(this.Lc.left.from.getX(),this.Lc.left.from.getY(),this.Lc.left.Re.getX(),this.Lc.left.Re.getY())),m.qa(this.r7a),m.Xc(this.Lc.left.from.getX(),this.Lc.left.from.getY(),this.Lc.left.Re.getX(),this.Lc.left.Re.getY())),null!=this.K$a&&(null!=this.GC&&(m.qa(this.GC),m.Xc(this.Lc.top.from.getX(),
this.Lc.top.from.getY(),this.Lc.top.Re.getX(),this.Lc.top.Re.getY())),m.qa(this.K$a),m.Xc(this.Lc.top.from.getX(),this.Lc.top.from.getY(),this.Lc.top.Re.getX(),this.Lc.top.Re.getY())),null!=this.od)?this.od.Ia()&&this.od.Jb(this.Ie).render(m):0<this.Fc&&(null!=this.GC&&(m.qa(this.GC),m.Cq(this.Ie.getX()-this.Fc/2,this.Ie.getY()-this.Fc/2,this.Fc,this.Fc)),null!=this.Fa()||null!=this.eb())&&(m.ra(this.eb()),m.qa(this.Fa()),m.Cq(this.Ie.getX()-this.Fc/2,this.Ie.getY()-this.Fc/2,this.Fc,this.Fc)))};
l.prototype.ia=function(){var m=Ag.prototype.ia.call(this);m.radius=this.Lx();m.outlinestyle=this.uba();return m};l.prototype.fa=function(m){m=jc(m);if(null==m)return this;Ag.prototype.fa.call(this,m);void 0!==m.radius&&this.bI(m.radius);void 0!==m.outlinestyle&&this.V2(m.outlinestyle,!(m.outlinestyle instanceof Y));return this};return l}(),h=function(){function l(m){ek.call(this,m);this.N8a=this.Zp()}D(l,ek);L(l,"geotoolkit.controls.tools.TernaryCrossHair.TernaryCrossHairText");l.prototype.yc=function(m,
n){ek.prototype.yc.call(this,m);!1!==n&&(this.N8a=m)};l.prototype.Yeb=function(){return this.N8a};return l}(),k=function(){function l(m,n){m=G(m,{textstyle:null},!0);ni.call(this,m);this.Vc=n;this.Yq=this.Jo=0;this.D7a=this.C7a=!1;this.Fg(!1);this.Ie=new N(Number.NaN,Number.NaN);this.Ve={};this.Foa=function(p,q,r){this.Ve[p]={border:{padding:0,visible:!1},text:(new h({text:"",alignment:q,rotationangle:r,ispointingup:!0})).Zc("cross-hair-label")};this.pa(this.Ve[p].text)};this.Foa("right",O.Se,0);
this.Foa("left",O.ee,-Math.PI/3);this.Foa("top",O.ee,Math.PI/3);this.kb(m)}D(l,ni);L(l,"geotoolkit.controls.tools.TernaryCrossHair.TernaryCrossHairLabels");l.prototype.Cfc=function(m){this.Dla=m;return this};l.prototype.kb=function(m){m instanceof Fi&&(this.jc=m);for(var n in this.Ve)this.Ve.hasOwnProperty(n)&&(m.hasOwnProperty(n)?(this.Ve[n].text.kb(m[n]),this.Ve[n].text.fa(m[n])):this.Ve[n].text.kb(this.jc));return this};l.prototype.jb=function(){return this.jc};l.prototype.YF=function(m){var n=
!1;"boolean"===typeof m&&(m={right:m,left:m,top:m});for(var p in this.Ve)this.Ve.hasOwnProperty(p)&&(m.hasOwnProperty(p)?(m[p]&&!this.Ve[p].text.Ia()&&(n=!0),this.Ve[p].text.va(m[p])):this.Ve[p].text.va(!1));n&&this.v8();return this};l.prototype.setPosition=function(m){if(this.Ie===m||this.Ie.Ex(m,W.Tb))return this;this.Ie=null==m?this.Ie.Da(NaN,NaN):this.Ie.Da(m.getX(),m.getY());this.v8();return this};l.prototype.v8=function(){var m=this.Dla.ie(),n=this.Dla.iHd();if(null==n.right.Re||null==n.left.Re||
null==n.top.Re)return this;this.EZ("right",n.right.Re,m.right);this.EZ("left",n.left.Re,m.left);this.EZ("top",n.top.Re,m.top);return this};l.prototype.EZ=function(m,n,p){var q=n.getX(),r=n.getY(),t=this.Ve[m];isNaN(this.Ie.getX())||isNaN(this.Ie.getY())||isNaN(q)||isNaN(r)||isNaN(p)?(null==t.visibility&&(t.visibility=t.text.Ia()),t.text.va(!1)):null!=t.visibility&&(t.text.va(t.visibility),t.visibility=null);if(t.text.Ia()){p=p.toFixed(2);t.text.Eb(p);var u=t.text.S6(),w=t.text.wa(),y=p=0;0!==u&&(p=
Hd.sb(u,0,w),y=Hd.sb(0,u,w));u=Hd.sb(0,t.text.da(),w);switch(m){case "right":r-=y;n.translate(-(-2*y-u)*Math.tan(Math.PI/6),-2*y-u);break;case "left":q+=p;r+=y;n.translate(.5*(2*y+u),2*y+u);break;case "top":q-=2*p,n.translate(-2*y-u,0)}t.text.yc(t.text.Yeb(),!1);t.text.Jb(q,r)}};l.prototype.Jy=function(m){return this.Ve[m]};l.prototype.ec=function(){return this.Ie};return l}();D(d,SR);L(d,"geotoolkit.controls.tools.TernaryCrossHair");d.prototype.c2c=function(l){l=jc(l);if(null==l)return this;null!=
l.linestyle&&this.zg.qa(l.linestyle);null!=l.fillstyle&&this.zg.ra(l.fillstyle);null!=l.outlinestyle&&this.zg.V2(l.outlinestyle);void 0!==l.top&&this.zg.N0a(l.top);void 0!==l.right&&this.zg.Oja(l.right);void 0!==l.left&&this.zg.Lja(l.left);void 0!==l.radius&&this.zg.bI(l.radius);void 0!==l.symbol&&this.zg.Ao(l.symbol);this.zg.w8();if(null!=l.labels&&("none"===l.labels||!1===l.labels))return"none"!==l.labels&&!1!==l.labels||!this.bi||(this.ab.removeChild(this.bi),this.bi=null),this;a(l)&&!this.bi&&
this.dWa(l.textstyle,this.Vc);if(null==this.bi)return this;void 0!==l.textstyle&&this.bi.kb(l.textstyle);this.bi.v8();return this};d.prototype.hj=function(){this.aCa();SR.prototype.hj.call(this)};d.prototype.qa=function(l,m){this.zg.qa(l,m);return this};d.prototype.Fa=function(){return this.zg.Fa()};d.prototype.ra=function(l,m){this.zg.ra(l,m);return this};d.prototype.eb=function(){return this.zg.eb()};d.prototype.V2=function(l,m){this.zg.V2(l,m);return this};d.prototype.uba=function(){return this.zg.uba()};
d.prototype.bI=function(l){this.zg.bI(l);return this};d.prototype.Lx=function(){return this.zg.Lx()};d.prototype.Ao=function(l){this.zg.Ao(l);return this};d.prototype.cd=function(){return this.zg.cd()};d.prototype.ia=function(){var l=SR.prototype.ia.call(this);l.linestyle=this.zg.Fa();l.fillstyle=this.zg.eb();l.outlinestyle=this.zg.uba();l.top=this.zg.qDb();l.right=this.zg.WXa();l.left=this.zg.wXa();l.radius=this.zg.Lx();l.symbol=this.zg.cd();if(null==this.bi)return l;l.textstyle=this.bi.jb();return l};
d.prototype.fa=function(l){SR.prototype.fa.call(this,l);this.c2c(l);return this};d.prototype.kb=function(l){null!=this.bi&&this.bi.kb(l);return this};d.prototype.Lja=function(l,m){this.zg.Lja(l,m);return this};d.prototype.wXa=function(){return this.zg.wXa()};d.prototype.Oja=function(l,m){this.zg.Oja(l,m);return this};d.prototype.WXa=function(){return this.zg.WXa()};d.prototype.N0a=function(l,m){this.zg.N0a(l,m);return this};d.prototype.qDb=function(){return this.zg.qDb()};d.prototype.isVisible=function(){return this.zg.Ia()};
d.prototype.va=function(l){this.Up!==l&&(this.Up=l,this.aCa(),this.fireEvent(RR.Vw,null));return this};d.prototype.ec=function(){return this.zg.ec()};d.prototype.bka=function(l){var m=this.ec();null!=this.YG&&(m=this.t5a(this.YG));var n=this.YG;this.setPosition(m,l);this.YG=n;return this};d.prototype.setPosition=function(l,m,n){var p=this.zg.ec();if(p===l||null!=p&&p.Ex(l,W.Tb))return this;this.zg.setPosition(l);null!=this.bi&&this.bi.setPosition(l);this.YG=null;!0!==m&&(m=this.Pd(),this.setActive(!0),
this.fireEvent(SS.Ry,new RS(n,l)),m||this.setActive(m));return this};d.prototype.Lgc=function(l,m){if(null==this.bi)return this;l=this.bi.Jy(l);null!=l&&(l.bWa=m);return this};d.prototype.YF=function(l){"boolean"===typeof l&&(l={right:l,left:l,top:l});null!=this.bi&&this.bi.YF(l);return this};d.prototype.Ic=function(l){if(this.isEnabled()&&this.ab){var m=this.ab instanceof xm?this.ab.getParent():this.ab;l.preventDefault();var n=new N(Number.NaN,Number.NaN);m&&(nc(m,ep)?(n=m.sc(l.he()).clone(),(isNaN(n.getX())||
isNaN(n.getY()))&&n.Da(Number.NaN,Number.NaN)):(n=this.Sd(m,l),m.wb().contains(n)||n.Da(Number.NaN,Number.NaN)));m=this.ec();if(null==m||!1===m.Ex(n,W.Tb))this.setPosition(n,!1,l),this.YG=this.n5(n)}};d.prototype.n5=function(l){if(null==this.ab||isNaN(l.x)||isNaN(l.y))return l;var m=this.ab instanceof xm?this.ab.getParent():this.ab;return m&&m.wa()?m.wa().Ma(l):l};d.prototype.t5a=function(l){if(null==this.ab||isNaN(l.x)||isNaN(l.y))return l;var m=this.ab instanceof xm?this.ab.getParent():this.ab;
return m&&m.wa()?m.wa().rd(l):l};d.prototype.Yc=function(l){this.isEnabled()&&this.ab&&this.fireEvent(SS.SZa,new RS(l,this.ec()))};d.prototype.gd=function(l){if(this.isEnabled()&&this.ab){var m=new N(Number.NaN,Number.NaN);this.ab instanceof xm?this.ab.getParent()&&(m=this.Sd(this.ab.getParent(),l),this.ab.getParent().wb().contains(m)||m.Da(Number.NaN,Number.NaN)):this.ab&&(m=this.Sd(this.ab,l),this.ab.wb().contains(m)||m.Da(Number.NaN,Number.NaN));this.fireEvent(SS.$bc,new RS(l,m))}};d.prototype.dispose=
function(){this.zg.dispose();null!=this.bi&&(this.bi.dispose(),this.bi=null);SR.prototype.dispose.call(this)};d.prototype.aCa=function(){var l=this.isEnabled()&&this.Up;this.zg.va(l);null!=this.bi&&this.bi.va(l);return this};d.prototype.dWa=function(l,m){this.bi||(l||(l=(new Fi).setColor(b).yo(c)),this.bi=(new k(l,m)).Cfc(this.zg).setPosition(null).YF(!0).va(this.Up),this.ab.pa(this.bi))};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJvbkVuYWJsZWRTdGF0ZUNoYW5nZWQiOiJoaiIsInNldExpbmVTdHlsZSI6InFhIiwiZ2V0TGluZVN0eWxlIjoiRmEiLCJzZXRGaWxsU3R5bGUiOiJyYSIsImdldEZpbGxTdHlsZSI6ImViIiwic2V0T3V0TGluZVN0eWxlIjoiVjIiLCJnZXRPdXRMaW5lU3R5bGUiOiJ1YmEiLCJzZXRSYWRpdXMiOiJiSSIsImdldFJhZGl1cyI6Ikx4Iiwic2V0U3ltYm9sIjoiQW8iLCJnZXRTeW1ib2wiOiJjZCIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSIsInNldFRleHRTdHlsZSI6ImtiIiwic2V0TGVmdExpbmVTdHlsZSI6IkxqYSIsImdldExlZnRMaW5lU3R5bGUiOiJ3WGEiLCJzZXRSaWdodExpbmVTdHlsZSI6Ik9qYSIsImdldFJpZ2h0TGluZVN0eWxlIjoiV1hhIiwic2V0VG9wTGluZVN0eWxlIjoiTjBhIiwiZ2V0VG9wTGluZVN0eWxlIjoicURiIiwic2V0VmlzaWJsZSI6InZhIiwiZ2V0UG9zaXRpb24iOiJlYyIsInVwZGF0ZUN1cnNvclBvc2l0aW9uIjoiYmthIiwic2V0TGFiZWxzVGV4dENvbnZlcnRlciI6IkxnYyJ9fX0g");var OU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e,f,g){null==g&&(g=[]);if(null==f||null==e)return g;if(e instanceof KS){e=e.vVc();for(var h=0;h<e.length;h++)d(e[h],f,g)}else e instanceof SR&&(f=e.wId(f),null!=f&&f.forEach(function(k){-1===g.indexOf(k)&&g.push(k)}));return g}function a(e,f){this.uc=e;this.lj=e.Pw();this.fr=(new QS(e.getRoot(),"root")).mJ(this.uc);this.Yld=new dT({plot:this.uc});this.fr.add(this.Yld);this.Tzc=this.EZc.bind(this);this.fr.addListener(RR.TZa,this.Tzc);this.UP=!1;b.ya().add(this);this.tW=
{};this.saa={};this.yma=f;!0!==this.yma&&null!=e.Iga&&e.Iga.Rb(!1)}var b=function(){function e(h,k){return h.target===k.Pw()}function f(){this.Qk=[];this.Rod=this.zca.bind(this);SR.aKa("pointermove").forEach(function(h){$a.addEventListener(h,this.Rod,!0)}.bind(this));this.Pod=function(h){null!=this.DM&&(this.DM.cIc(h),this.DM=null)}.bind(this);$a.document.addEventListener("mouseleave",this.Pod,!0);this.DM=null}var g=null;f.prototype.zca=function(h){if(null==this.DM||!e(h,this.DM.uc)){for(var k=null,
l=0;l<this.Qk.length;l++)if(!1!==this.Qk[l].isEnabled()&&e(h,this.Qk[l].uc)){k=this.Qk[l];break}this.DM!==k&&(null!=this.DM&&this.DM.cIc(h),this.DM=k,null!=this.DM&&this.DM.Jrd(h))}};f.prototype.add=function(h){this.Qk.push(h);return this};f.prototype.remove=function(h){var k=this.Qk.indexOf(h);-1!==k&&(this.Qk.splice(k,1),this.DM===h&&(this.DM=null));return this};f.ya=function(){null==g&&(g=new f);return g};return f}();mc(a,Jl);L(a,"geotoolkit.controls.tools.ToolsContainer");a.prototype.dispose=
function(e){this.fr.removeListener(RR.TZa,this.Tzc);b.ya().remove(this);for(var f in this.tW)this.detachEvent(f);!0===e&&this.fr.dispose();this.tW=this.lj=this.uc=this.fr=null};a.prototype.Rb=function(e){this.fr.Rb(e);return this};a.prototype.isEnabled=function(){return this.fr.isEnabled()};a.prototype.$b=function(e){return this.fr.$b(e)};a.prototype.FU=function(e){return this.fr.FU(e)};a.prototype.m7=function(){return this.fr.m7()};a.prototype.Jrd=function(e){if(!0===this.UP)return this;this.UP=
!0;e=SR.tyb(e,this.uc);e=new N(e.x,e.y);e=new WR("cg-enter",null,e,this.uc.getRoot(),this.uc);this.Fkc(e);this.fr.dispatchEvent("cg-enter",e);return this};a.prototype.cIc=function(e){if(!1===this.UP)return this;this.UP=!1;e=SR.tyb(e,this.uc);e=new N(e.x,e.y);e=new WR("cg-leave",null,e,this.uc.getRoot(),this.uc);this.Fkc(e);this.fr.dispatchEvent("cg-leave",e);return this};a.prototype.Ye=function(){return this.uc};a.prototype.ub=function(){return this.uc.getRoot()};var c={capture:!1,passive:!1};a.prototype.detachEvent=
function(e){if(!this.tW[e])return this;this.tW[e].forEach(function(f){f.object.removeEventListener(e,f.callback,c)});return this};a.prototype.attachEvent=function(e){var f=function(h){var k=SR.tyb(h,this.uc);k=new WR(e,h,new N(k.x,k.y),this.uc.getRoot(),this.uc);this.Fkc(k);this.fr.dispatchEvent(e,k);h.currentTarget===h.target&&"touchend"===h.type&&h.preventDefault()}.bind(this);null==this.tW[e]&&(this.tW[e]=[]);var g=d(this.fr,e,[]);null!=g&&0<g.length&&g.forEach(function(h){var k=null==h?this.uc.Pw():
h;h=this.tW[e].filter(function(l){return l.object===k});0===h.length&&(k.addEventListener(e,f,c),this.tW[e].push({object:k,callback:f}))}.bind(this));return this};a.prototype.add=function(e){this.fr.add(e);this.EZc();return this};a.prototype.EZc=function(){var e=this.fr.pEd(),f;for(f in e)this.attachEvent(f)};a.prototype.remove=function(e){-1!==this.fr.Ifb(e)&&this.fr.remove(e);return this};a.prototype.Mc=function(){return this.fr};a.prototype.Fkc=function(e){var f=e.Je();if(f&&this.fr.pn(e))if(null!=
f.touches){for(var g=[],h=e.Ye(),k=h.getBoundingClientRect(),l=0;l<f.touches.length;l++){var m=f.touches[l];g.push(new N((m.clientX-k.left)/(k.right-k.left)*h.ca(),(m.clientY-k.top)/(k.bottom-k.top)*h.da()))}e.O0a(g)}else{f=f.pointerId;switch(e.Oh()){case "pointerup":null!=this.saa[f]&&delete this.saa[f];break;case "pointerdown":this.saa[f]=e.he();break;case "pointermove":null!=this.saa[f]&&(this.saa[f]=e.he())}f=[];for(g in this.saa)this.saa.hasOwnProperty(g)&&f.push(this.saa[g]);e.O0a(f)}};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRFbmFibGVkIjoiUmIiLCJnZXRUb29sQnlOYW1lIjoiJGIiLCJnZXRUb29sQnlUeXBlIjoiRlUiLCJsaXN0VG9vbHNOYW1lcyI6Im03IiwiZ2V0Tm9kZSI6InViIiwiZ2V0VG9vbCI6Ik1jIn19fSAg");var PU=/*#__PURE__*/function(){function d(){}L(d,"geotoolkit.controls.tools.Tools");d.start=function(){Jl.LXd(function(a){var b=null,c=a.getRoot();null!=c&&null!=OU&&(b=new OU(a,!0),"function"===typeof c.Mc&&(a=c.Mc(),nc(a,Il)&&b.add(a)));return b})};return d}();var QU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(k){k=G(k,{name:"tooltip",callback:null,autoupdate:!0,autoflip:!1,delay:0,mode:$S.Ep,alignment:O.Id,orientation:Rh.rb,offsetx:10,offsety:-10,slots:{},positionhandler:c,sizehandler:b},!0);SR.call(this,k);this.Be=k.mode;this.MQa=k.delay;this.Me=null;this.vQa=a;if("function"===typeof k.divelement){var l=k.divelement();this.vQa=k.divelement}else k.divelement?l=k.divelement:this.Me=l=this.vQa();this.oK=[];this.$m({pointerup:this.Yc.bind(this),pointerdown:this.gd.bind(this),
pointermove:this.Ic.bind(this),dblclick:this.zr.bind(this),"cg-enter":this.Xia.bind(this),"cg-leave":this.Oz.bind(this),keydown:{callback:this.Ux.bind(this),object:$a,enabled:this.Be!==$S.Ep}});"function"===typeof k.init&&k.init(this);this.wu=k.callback;this.Bz=new h(l,this.Be===$S.Ep);this.QI=[];this.XD=this.WD=0;this.Te=k.alignment;this.ed=k.orientation;this.v4a=this.fo=!1;this.K0=this.ET=this.OQa=this.IG=null;this.FQb=new N;this.bld=[];this.Tt=this.UBa.bind(this);this.f$a=this.qTa=null;this.L7c(k)}function a(){var k=$a.document.createElement("div");k.className="cg-tooltip-container";k.style.display="none";e().appendChild(k);return k}function b(){return null}function c(k,l,m){return l}function e(){return null!=f?f:f=$a.document.body}var f=$a.document.body,g=new N,h=function(){function k(l,m){this.K9=l;this.af=l.style;this.Sld="none"!==this.af.display?this.af.display:"inline-block";this.APb=this.zPb=this.XD=this.WD=0;this.ed=Rh.rb;this.V4a=null;this.init(m)}k.prototype.init=function(l){"hidden"!==
this.af.overflow&&(this.af.overflow="hidden");"nowrap"!==this.af["white-space"]&&(this.af["white-space"]="nowrap");"none"!==this.af.display&&(this.af.display="none");"absolute"!==this.af.position&&(this.af.position="absolute");l&&"none"!==this.af.pointerEvents&&(this.af.pointerEvents="none")};k.prototype.vfc=function(l){null==l||l instanceof Kd||(l=null);if(null!=this.V4a&&null!=l&&l.low===this.V4a.low&&l.high===this.V4a.high)return this;this.V4a=l;if(null!=this.V4a){var m=l.low;l=l.high;null!=m&&
0!==m?this.K9.style.minWidth=m+"px":this.K9.style.removeProperty("min-width");null!=l&&0!==l?this.K9.style.maxWidth=l+"px":this.K9.style.removeProperty("max-width")}else this.K9.style.removeProperty("min-width"),this.K9.style.removeProperty("max-width");return this};k.prototype.show=function(l,m,n,p){if(null!=l&&null!=m)this.J1d(m);else return this.a7();m=this.K9.offsetWidth;var q=this.K9.offsetHeight;if($a.pageYOffset){var r=$a.pageXOffset;var t=$a.pageYOffset}else t=e().scrollTop,r=e().scrollLeft;
var u=l.getX(),w=this.WD-this.zPb*m+r;l=l.getY();var y=-this.XD-this.APb*q+t;if(n&&null!=p){n=u+w+m;var z=l+y+q,x=this.zPb,C=this.APb,A=this.WD,v=this.XD;this.ed===Rh.rb?(n-r>p.right+r&&(A=-A,x=1),u+w-r<p.left+r&&(A=-A,x=0),l+y-t<p.top+t&&(v=-v,C=0),z-t>p.bottom+t&&(v=-v,C=1)):(n+q+w+y-r>p.right+r&&(v=-v,C=1),u-q-r<p.left+r&&(v=-v,C=0),l+y+m-t<p.top+t&&(A=-A,x=0),z-m-t>p.bottom+t&&(A=-A,x=1));w=A-x*m+r;y=-v-C*q+t}this.ed===Rh.rb?(l+=y,u+=w):(w+=.5*(q+m),y+=.5*(q-m));this.af.top=Math.round(l)+"px";
this.af.left=Math.round(u)+"px";this.af.transform=this.ed===Rh.rb?"rotate(0deg)":"rotate(-90deg) translateX("+w+"px) translateY("+y+"px)";this.K9.focus();return this};k.prototype.J1d=function(l){this.K9.innerHTML=l;this.af.display=this.Sld;return this};k.prototype.setOrientation=function(l){this.ed=l};k.prototype.yc=function(l){this.zPb=ok.zv(l)?0:ok.cw(l)?1:.5;this.APb=ok.NA(l)?0:ok.cD(l)?1:.5};k.prototype.a7=function(){this.af.display="none";return this};return k}();D(d,SR);L(d,"geotoolkit.controls.tools.ToolTipTool");
d.prototype.L7c=function(k){k=jc(k);if(null==k)return this;void 0!==k.mode&&(this.Be=k.mode);null!=k.divelement&&this.H2c(k.divelement);void 0!==k.offsetx&&this.C5c(k.offsetx);void 0!==k.offsety&&this.D5c(k.offsety);void 0!==k.alignment&&(this.Te=k.alignment,this.Bz.yc(k.alignment),0!==this.QI.length&&this.QI.forEach(function(m){m.yc(k.alignment)}));void 0!==k.orientation&&(this.ed=k.orientation,this.Bz.setOrientation(k.orientation),0!==this.QI.length&&this.QI.forEach(function(m){m.setOrientation(k.orientation)}));
void 0!==k.callback&&this.qHb(k.callback);if(void 0!==k.autoupdate){var l=this.mc();if(l instanceof Ee&&(l.za(ze.ib,this.Tt),k.autoupdate))l.on(ze.ib,this.Tt)}void 0!==k.autoflip&&(this.v4a=k.autoflip);void 0!==k.delay&&(this.MQa=k.delay);void 0!==k.positionhandler&&this.M7c(k.positionhandler);void 0!==k.sizehandler&&this.N7c(k.sizehandler);return this};d.prototype.qHb=function(k){this.wu=k;return this};d.prototype.wLc=function(){return this.wu};d.prototype.hj=function(){SR.prototype.hj.call(this);
!0!==this.isEnabled()&&(this.Bz.a7(),this.Kza())};d.prototype.C5c=function(k){null!=k&&(this.Bz.WD=k,0!==this.QI.length&&this.QI.forEach(function(l){l.WD=k}),this.WD=k);return this};d.prototype.D5c=function(k){null!=k&&(this.Bz.XD=k,0!==this.QI.length&&this.QI.forEach(function(l){l.XD=k}),this.XD=k);return this};d.prototype.C6b=function(){return this.Me?this.vQa:this.Bz.K9};d.prototype.H2c=function(k){null!=k&&(this.KIc(),"function"===typeof k?(this.Me=k(),this.Bz=new h(this.Me,this.Be===$S.Ep),this.vQa=
k,k=this.oK.length,this.GIc(),this.nHc(k)):this.Bz=new h(k,this.Be===$S.Ep));return this};d.prototype.ia=function(){var k=SR.prototype.ia.call(this);k.offsetx=this.WD;k.offsety=this.XD;k.alignment=this.Te;k.orientation=this.ed;k.mode=this.Be;k.autoupdate=this.fo;k.autoflip=this.v4a;k.delay=this.MQa;return k};d.prototype.fa=function(k){SR.prototype.fa.call(this,k);this.L7c(k);return this};d.prototype.setOptions=function(k){return this.fa(k)};d.prototype.Xia=function(k){this.fireEvent(RR.Xia,k)};d.prototype.Oz=
function(k){this.Be===$S.Ep&&(this.Bz.a7(),this.Kza(),null!=this.K0&&(clearTimeout(this.K0),this.K0=null),this.OQa=null);this.fireEvent(RR.Oz,k)};d.prototype.Ux=function(k){27===k.Je().keyCode&&(this.Bz.a7(),this.Kza(),this.fo=!0)};d.prototype.Ic=function(k){this.Be===$S.Ep&&this.V0a(k,null,this.MQa)};d.prototype.gd=function(k){this.IG=k.he();switch(this.Be){case $S.SCa:this.V0a(k);break;case $S.rPa:this.ET&&clearTimeout(this.ET),this.ET=setTimeout(function(){this.V0a(k);this.ET=null}.bind(this),
750)}};d.prototype.Yc=function(k){switch(this.Be){case $S.Ysa:this.V0a(k);break;case $S.MZ:null!=this.IG&&this.IG.Ex(k.he())&&this.V0a(k);break;case $S.rPa:this.ET&&(clearTimeout(this.ET),this.ET=null)}this.IG=null};d.prototype.UBa=function(){!this.fo&&this.isEnabled()&&null!=this.wu&&null!=this.OQa&&(null==this.MQa||0>=this.MQa?this.pJb(this.OQa,{}):(null!=this.K0&&(this.Bz.a7(),this.Kza(),clearTimeout(this.K0)),this.K0=setTimeout(function(){this.K0=null;this.pJb(this.OQa,{})}.bind(this),this.MQa)));
return this};d.prototype.zr=function(k){this.Be===$S.LV&&this.V0a(k)};d.prototype.V0a=function(k,l,m){if(this.isEnabled())if(null==this.wu)this.Bz.a7(),this.Kza();else{if(null==l){l=k.ub();var n=this.Sd(null,k);l=l?l.wa().rd(n,n):n}var p=k.Je();n={x:p.clientX,y:p.clientY};null!=p.touches&&0<p.touches.length&&(n={x:p.touches[0].clientX,y:p.touches[0].clientY});g.Da(n.x,n.y);p=this.qTa(l,g,k);Array.isArray(p)?this.bld=p:p instanceof N?this.FQb.Da(p.getX(),p.getY()):this.FQb.Da(n.x,n.y);this.OQa=l;null==
m||0>=m?this.pJb(l,k):(null!=this.K0&&(this.Bz.a7(),this.Kza(),clearTimeout(this.K0)),this.K0=setTimeout(function(){this.K0=null;this.pJb(this.OQa,k)}.bind(this),m))}};d.prototype.Kza=function(){0!==this.QI.length&&this.QI.forEach(function(k){k.a7()})};d.prototype.nHc=function(k){var l=this.oK.length;if(l<k)for(;l<k;l++)this.oK.push(this.vQa?this.vQa():a()),this.QI.push(new h(this.oK[l],this.Be===$S.Ep)),this.QI[l].WD=this.WD,this.QI[l].XD=this.XD,this.QI[l].yc(this.Te),this.QI[l].setOrientation(this.ed)};
d.prototype.rMd=function(){return this.qTa};d.prototype.M7c=function(k){if("function"===typeof k)return this.qTa=k,this;this.qTa=c;return this};d.prototype.sMd=function(){return this.f$a};d.prototype.N7c=function(k){if("function"===typeof k)return this.f$a=k,this;this.f$a=b;return this};d.prototype.pJb=function(k,l){this.fo=!0;var m=k;if(l instanceof WR){var n=l.Ye().Pw().getBoundingClientRect();m=l.Je();m=null!=m.touches&&0<m.touches.length?new N(m.touches[0].clientX,m.touches[0].clientY):new N(m.clientX,
m.clientY)}var p=null,q=null,r=this.wu(k,l,this);if(null!=r&&Array.isArray(r)){var t,u=r.length;if(0===u)this.Kza();else for(this.nHc(u),t=0;t<u;t++){var w=r[t];if(null==w)this.QI[t].a7();else{if("object"===typeof w){var y=w.sizerange;var z=w.clientpoint;w=w.content}else if("string"===typeof w)null===p&&(p=this.qTa(k,m,l)),null===q&&(q=this.f$a(k,m,l,r)),z=Array.isArray(p)?p[t]:p,y=Array.isArray(q)?q[t]:q;else{this.QI[t].a7();continue}this.QI[t].vfc(y).show(z instanceof N?z:m,w,this.v4a,n)}}}else null!=
r?"object"===typeof r&&null!=r.content&&0!==r.content.length?(z=null==r.clientpoint?m:r.clientpoint,y=r.sizerange,this.Bz.vfc(y).show(z instanceof N?z:m,r.content,this.v4a,n)):"string"===typeof r&&0!==r.length?(l instanceof WR||(m=this.FQb),p=this.qTa(k,m,l),q=this.f$a(k,m,l,r),z=Array.isArray(p)?p[0]:p,y=Array.isArray(q)?q[0]:q,p=z instanceof N?z:m,this.Bz.vfc(y).show(p,r,this.v4a,n)):this.Bz.a7():0!==this.QI.length?this.Kza():this.Bz.a7();this.fo=!1};d.prototype.KIc=function(){this.Me&&this.Me.parentNode&&
this.Me.parentNode.removeChild(this.Me);this.Me=null};d.prototype.GIc=function(){if(0!==this.oK.length)for(var k=0;k<this.oK.length;k++)this.oK[k]&&this.oK[k].parentNode&&this.oK[k].parentNode.removeChild(this.oK[k]);this.oK=[]};d.prototype.dispose=function(){var k=this.mc();k instanceof Ee&&k.za(ze.ib,this.Tt);this.ET&&clearTimeout(this.ET);this.K0&&clearTimeout(this.K0);this.KIc();this.GIc();SR.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRDYWxsYmFjayI6InFIYiIsIm9uRW5hYmxlZFN0YXRlQ2hhbmdlZCI6ImhqIiwic2V0T2Zmc2V0WCI6IkM1YyIsInNldE9mZnNldFkiOiJENWMiLCJnZXREaXZFbGVtZW50IjoiQzZiIiwic2V0RGl2RWxlbWVudCI6IkgyYyIsImdldFByb3BlcnRpZXMiOiJpYSIsInNldFByb3BlcnRpZXMiOiJmYSIsInVwZGF0ZUluZm8iOiJVQmEiLCJnZXRUb29sdGlwUG9zaXRpb25IYW5kbGVyIjoick1kIiwic2V0VG9vbHRpcFBvc2l0aW9uSGFuZGxlciI6Ik03YyIsImdldFRvb2x0aXBTaXplSGFuZGxlciI6InNNZCIsInNldFRvb2x0aXBTaXplSGFuZGxlciI6Ik43YyJ9fX0g");var Uya=/*#__PURE__*/function(){function d(a){a=G(a,{group:void 0,name:"level-manipulator",chart:void 0,callback:null},!0);if(null==a.chart)throw Error("value of chart is null");var b={slots:{},name:a.name,layer:a.group};SR.call(this,b);this.$m({mousedown:this.gd.bind(this),keydown:{callback:this.Ux.bind(this),object:$a,enabled:!0},keyup:{callback:this.ZU.bind(this),object:$a,enabled:!0}});this.MG=!1;this.Xob=a.chart;this.du=a.callback;this.Om=0;this.Msb=[];this.Xob.i1d(!0)}D(d,SR);L(d,"geotoolkit.controls.tools.treemap.TreemapLevelTool");
d.prototype.gd=function(a){this.isEnabled()&&(a=this.Sd(null,a),a=this.Xob.gj(a),0<a.length&&(this.MG?(this.Xob.Xic(a[0].id,!0),this.du&&0<this.Om?(this.Msb.pop(),a={list:this.Msb,action:"removed"},this.du.call(this,a),--this.Om):0<this.Om&&--this.Om):1<=a[0].children&&(this.Xob.Xic(a[0].id,!1),this.Om+=1,this.Msb.push(a[0].name),this.du&&(a={list:this.Msb,action:"added"},this.du.call(this,a)))))};d.prototype.Ux=function(a){!0!==this.MG&&!0===a.Je().ctrlKey&&(this.MG=!0)};d.prototype.ZU=function(){!this.Pd()&&
!1!==this.MG&&this.MG&&(this.MG=!1)};return d}();var RU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){YR.call(this,a);b?(this.Aaa=b.visiblemodellimits||null,this.baa=b.scaling||b):this.baa=this.Aaa=null}D(d,YR);L(d,"geotoolkit.controls.tools.ZoomEventArgs");d.prototype.SCb=function(){return this.baa};d.prototype.wb=function(){return this.Aaa};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTY2FsaW5nIjoiU0NiIiwiZ2V0VmlzaWJsZU1vZGVsTGltaXRzIjoid2IifX19");var SU=/*#__PURE__*/ta(/*#__PURE__*/{Aa:0,Ca:1,Y3:2,JOb:4},2,"eyJYIjoiQWEiLCJZIjoiQ2EiLCJYWSI6IlkzIiwiVG91Y2hQb2ludCI6IkpPYiJ9"),TU=/*#__PURE__*/ta(/*#__PURE__*/{NR:"onZoomStart",aV:"onZoom",gw:"onZoomEnd",zr:"onDoubleClick"},2,"eyJvblpvb21TdGFydCI6Ik5SIiwib25ab29tIjoiYVYiLCJvblpvb21FbmQiOiJndyIsIm9uRG91YmxlQ2xpY2siOiJ6ciJ9"),UU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(h){h=h||{};var k={slots:{},layer:h.layer,name:h.name||"zoom"};SR.call(this,k);this.$m({wheel:this.kq.bind(this),pointerdown:this.gd.bind(this),pointermove:this.Ic.bind(this),pointerup:{callback:this.Yc.bind(this),object:$a}});this.$i=0;this.Pi=Infinity;this.g$a=1.1;this.G$a=0;this.Be=SU.Y3;this.wEa=md.deb()[ld.fMb];this.fa(h);this.y9=0;this.Tla=null;this.Vfa=new U;this.h3d([0,
1,2])}var a=25,b=1.25,c=3,e=new U,f=new U,g=new X;D(d,SR);L(d,"geotoolkit.controls.tools.Zoom");d.sw=SU;d.Ka=TU;d.prototype.j8=function(h){null!=this.Tla&&(clearTimeout(this.Tla),this.y9=0,this.Tla=null,this.fireEvent(TU.gw,new RU(h,null)));return this};d.prototype.setMode=function(h){this.Be=h;return this};d.prototype.start=function(h){this.Pd()||this.fireEvent(d.Ka.NR,new RU(h,null));return SR.prototype.start.call(this,h)};d.prototype.gd=function(h){if(this.pn(h)){var k=this.mc(),l=h.eqa();null!=
k&&2===l.length&&(this.YEc(l[0],l[1],this.Vfa),h.stopPropagation(!0,!0),this.start(h))}};d.prototype.Ic=function(h){if(this.Pd()&&this.pn(h)){var k=this.mc(),l=h.eqa();if(null!=k&&2===l.length){var m=k.wa();this.YEc(l[0],l[1],e);f.cb(e);m.wd(e,e);m.wd(this.Vfa,this.Vfa);X.Vd(e,this.Vfa,!1,!1,!1,g);var n=k.wb();k=g.Ua(n);switch(this.Be){case SU.Aa:m=e.ca()/this.Vfa.ca();var p=1;k.setY(n.getY()).$a(n.da());break;case SU.Ca:m=1;p=e.da()/this.Vfa.da();k.setX(n.getX()).Qa(n.ca());break;case SU.JOb:p=m=
e.SAb()/this.Vfa.SAb();break;default:m=e.ca()/this.Vfa.ca(),p=e.da()/this.Vfa.da()}this.Vfa.cb(f);h.stopPropagation(!0,!0);l=h.he().Ex(l[0])?l[1]:l[0];this.fireEvent(d.Ka.aV,new RU(h,{visiblemodellimits:k,scaling:{x:m,y:p,point:l.ia()}}))}}};d.prototype.Yc=function(h){if(this.Pd()&&this.pn(h)){var k=h.eqa();2>k.length&&(this.fireEvent(d.Ka.gw,new RU(h,null)),this.stop())}h.Je().target===h.Ye().Sk()&&this.Dgb(h.he())&&this.fireEvent(d.Ka.zr,new RU(h,{x:this.g$a,y:this.g$a,point:h.he()}))};d.prototype.kq=
function(h){var k=h.Je(),l=k.deltaY;if(l){k.preventDefault();if(0===this.y9)this.y9=Math.sign(l);else if(0<this.y9===0<l)this.y9=W.clamp(this.y9*b,-c,c);else{this.j8();this.stop();return}k=Math.pow(this.g$a,-this.y9);l=h.ub();l=l.ob();null!=l&&(0<this.$i||Infinity>this.Pi)&&(l=l.lb()*k,0<this.y9&&l>this.Pi?k*=this.Pi/l:0>this.y9&&l<this.$i&&(k*=this.$i/l));this.Be===SU.Aa?this.vzb(k,1,h.he().ia(),h):this.Be===SU.Ca?this.vzb(1,k,h.he().ia(),h):this.vzb(k,k,h.he().ia(),h)}};d.prototype.vzb=function(h,
k,l,m){null!=this.Tla&&clearTimeout(this.Tla);this.start(m);if(0>=this.G$a)this.fireEvent(TU.aV,new RU(m,{x:h,y:k,point:l})),this.fireEvent(TU.gw,new RU(m,null)),this.stop(),this.y9=0,this.Tla=null;else{var n=this,p=Date.now(),q=p+this.G$a,r=1,t=1,u=function(){var w=Math.min(Date.now(),q),y=n.wEa(null,w-p,0,1,n.G$a),z=1+y*(h-1);y=1+y*(k-1);n.fireEvent(TU.aV,new RU(m,{x:z/r,y:y/t,point:l}));w===q?(n.y9=0,n.Tla=null,n.fireEvent(d.Ka.gw,new RU(m,null)),n.stop()):(r=z,t=y,n.Tla=setTimeout(u,a))};this.Tla=
setTimeout(u,a)}};d.prototype.zoom=function(h,k,l,m){this.vzb(h,k||h,{x:l,y:m})};d.prototype.fa=function(h){h=jc(h);if(null==h)return this;SR.prototype.fa.call(this,h);null!=h.mode&&this.setMode(h.mode);if(null!=h.easing){var k=md.deb();this.wEa=k[h.easing]||this.wEa}null!=h.min&&(this.$i=Math.max(0,h.min));null!=h.max&&(this.Pi=Math.max(this.$i,h.max));1<h.speed&&(this.g$a=h.speed);null!=h.time&&(this.G$a=Math.max(0,h.time));return this};d.prototype.ia=function(){var h=SR.prototype.ia.call(this);
h.mode=this.Be;h.easing=this.wEa;h.min=this.$i;h.max=this.Pi;h.speed=this.g$a;h.time=this.G$a;return h};d.prototype.YEc=function(h,k,l){l.cb(h.getX(),h.getY(),k.getX(),k.getY());h=l.ca();k=l.da();if(1>h||1>k){var m=l.hc(),n=l.Dc();1>h&&l.Qa(1);1>k&&l.$a(1);l.aI(m,n)}return l};d.prototype.hj=function(){this.isEnabled()||this.j8();SR.prototype.hj.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzdG9wSW5lcnRpYSI6Imo4Iiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwib25FbmFibGVkU3RhdGVDaGFuZ2VkIjoiaGoifX19");var WU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){te.call(this)}D(d,te);L(d,"geotoolkit.controls.util.LegendSource");d.prototype.HGd=Fb;d.prototype.me=Fb;d.prototype.cd=Fb;return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJdGVtQ291bnQiOiJIR2QiLCJnZXRUZXh0IjoibWUiLCJnZXRTeW1ib2wiOiJjZCJ9fX0g");var XU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){IR.call(this,a);this.r4=2}D(d,IR);L(d,"geotoolkit.controls.util.regression.Logarithmic");d.prototype.ZF=function(a,b,c){IR.prototype.ZF.call(this,a,b,c);a=Array.isArray(a)?a:this.ja.x;b=Array.isArray(b)?b:this.ja.y;if(this.Ot.length>=this.r4&&this.eua)this.XW=function(m){return this.Ot[0]+this.Ot[1]*Math.log(m)};else{var e=[0,0,0,0,0],f=0;null!=this.oX&&(e=this.oX);for(var g=Math.min(a.length,b.length);f<g;f++)if(null!=b[f]){var h=c&&null!=c[f]&&0<c[f]?c[f]:1;e[0]+=
h*Math.log(a[f]);e[1]+=h*b[f]*Math.log(a[f]);e[2]+=h*b[f];e[3]+=h*Math.pow(Math.log(a[f]),2);e[4]+=h}var k=(e[4]*e[1]-e[2]*e[0])/(e[4]*e[3]-e[0]*e[0]),l=(e[2]-k*e[0])/e[4];this.oX=e;this.Ot=[l,k];this.XW=function(m){return l+k*Math.log(m)}}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaXQiOiJaRiJ9fX0g");var YU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{order:2},!0);IR.call(this,a);this.sXb=a.order;this.Iwc=[];this.cAc=[]}D(d,IR);L(d,"geotoolkit.controls.util.regression.Polynomial");d.prototype.setOptions=function(a){IR.prototype.setOptions.call(this,a);null!=a.order&&(this.sXb=a.order,this.IWb=!0);this.IWb&&this.ja.x&&this.ja.y&&(this.ZF(),this.notify(IR.pDa,this,this),this.IWb=!1);return this};d.prototype.ta=function(){var a=IR.prototype.ta.call(this);a.order=this.sXb;return a};d.prototype.C_a=function(){IR.prototype.C_a.call(this);
this.Iwc=[];this.cAc=[]};d.prototype.ZF=function(a,b,c){IR.prototype.ZF.call(this,a,b,c);a=Array.isArray(a)?a:this.ja.x;b=Array.isArray(b)?b:this.ja.y;if(this.Ot.length>=this.r4&&this.eua)this.XW=function(t){for(var u=null,w=0;w<this.r4;w++)u+=this.Ot[w]*Math.pow(t,w);return u};else{var e=this.sXb,f=this.Iwc,g=this.cAc,h=0,k=h=0;e+=1;for(var l,m=Math.min(a.length,b.length),n;k<e;k++){h=null!=f[k]?f[k]:0;for(l=0;l<m;l++)n=c&&null!=c[l]&&0<c[l]?c[l]:1,null!=b[l]&&(h+=n*Math.pow(a[l],k)*b[l]);f[k]=h;
for(var p=null!=g[k]?g[k]:[],q=0;q<e;q++){h=null!=p[q]?p[q]:0;for(l=0;l<m;l++)n=c&&null!=c[l]&&0<c[l]?c[l]:1,null!=b[l]&&(h+=n*Math.pow(a[l],k+q));p[q]=h}g[k]=p}g[e]=f;a=function(t,u){for(var w,y,z,x=t.length-1,C=Array(u),A=0;A<x;A++){y=A;for(u=A+1;u<x;u++)Math.abs(t[A][u])>Math.abs(t[A][y])&&(y=u);for(w=A;w<x+1;w++)z=t[w][A],t[w][A]=t[w][y],t[w][y]=z;for(u=A+1;u<x;u++)for(w=x;w>=A;w--)t[w][u]-=t[w][A]*t[A][u]/t[A][A]}for(u=x-1;0<=u;u--){z=0;for(w=u+1;w<x;w++)z+=t[w][u]*C[w];C[u]=(t[x][u]-z)/t[u][u]}return C};
g=JSON.parse(JSON.stringify(g));var r=a(g,e);this.r4=r.length;this.Ot=r;this.XW=function(t){for(var u=null,w=0;w<r.length;w++)u+=r[w]*Math.pow(t,w);return u}}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJyZXNldE1vZGVsIjoiQ19hIiwiZml0IjoiWkYifX19");var ZU=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){IR.call(this,a);this.r4=2}D(d,IR);L(d,"geotoolkit.controls.util.regression.Power");d.prototype.ZF=function(a,b,c){IR.prototype.ZF.call(this,a,b,c);a=Array.isArray(a)?a:this.ja.x;b=Array.isArray(b)?b:this.ja.y;this.Ot.length>=this.r4&&this.eua&&(this.XW=function(m){return this.Ot[0]*Math.pow(m,this.Ot[1])});var e=[0,0,0,0,0],f=0;null!=this.oX&&(e=this.oX);for(var g=Math.min(a.length,b.length);f<g;f++)if(null!==b[f]){var h=c&&null!=c[f]&&0<c[f]?c[f]:1;e[0]+=h*Math.log(a[f]);
e[1]+=h*Math.log(b[f])*Math.log(a[f]);e[2]+=h*Math.log(b[f]);e[3]+=h*Math.pow(Math.log(a[f]),2);e[4]+=h}var k=(e[4]*e[1]-e[2]*e[0])/(e[4]*e[3]-e[0]*e[0]),l=Math.exp((e[2]-k*e[0])/e[4]);this.Ot=[l,k];this.oX=e;this.XW=function(m){return l*Math.pow(m,k)}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaXQiOiJaRiJ9fX0g");export {WN,XN,YN,ZN,eQ,fQ,gQ,hQ,iQ,jQ,kQ,lQ,mQ,nQ,oQ,pQ,qQ,rQ,sQ,tQ,uQ,vQ,wQ,xQ,yQ,zQ,AQ,BQ,CQ,DQ,FQ,GQ,HQ,IQ,KQ,LQ,MQ,NQ,OQ,PQ,QQ,RQ,SQ,TQ,UQ,VQ,WQ,XQ,YQ,ZQ,$Q,aR,bR,dR,eR,fR,gR,hR,iR,jR,kR,lR,mR,nR,oR,pR,qR,sR,tR,uR,vR,wR,xR,yR,AR,BR,CR,DR,ER,FR,GR,HR,IR,KR,LR,MR,NR,OR,PR,QR,RR,SR,TR,UR,VR,WR,YR,ZR,$R,aS,bS,cS,dS,eS,fS,gS,hS,iS,jS,kS,lS,mS,nS,oS,pS,qS,rS,sS,tS,uS,wS,xS,yS,zS,BS,CS,DS,ES,FS,GS,HS,IS,JS,KS,LS,MS,NS,OS,PS,QS,RS,SS,TS,US,VS,XS,YS,ZS,$S,aT,bT,cT,dT,eT,fT,gT,hT,jT,kT,lT,mT,nT,oT,pT,qT,rT,sT,tT,uT,vT,wT,xT,yT,zT,AT,BT,DT,CT,ET,FT,HT,GT,IT,JT,KT,LT,MT,NT,OT,PT,QT,RT,ST,TT,UT,pya,VT,WT,YT,ZT,$T,aU,bU,cU,dU,eU,fU,gU,hU,iU,jU,kU,mU,nU,oU,qU,rU,sU,Dya,tU,Fya,uU,vU,wU,xU,yU,Jya,zU,AU,BU,CU,DU,FU,GU,HU,IU,JU,KU,LU,NU,OU,PU,QU,Uya,RU,SU,TU,UU,WU,XU,YU,ZU};