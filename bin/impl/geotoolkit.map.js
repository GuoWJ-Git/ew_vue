/* eslint-disable */
import {L,Fb,G,D,W,Zd,N,U,Xd,Hb,mc,Cb,Hd,Ud,X,Ne,Fd,Hg,gc,hb,ek,ck,Ti,Km,O,$m,Y,rf,Bk,Po,xd,jc,Mo,Pd,te,Kg,Qk,xb,Cg,ze,Dg,Jg,oc,Yn,Um,Ee,Em,xg,wg,pg,Ai,Fi,Cj,Fh,ui,Eb,Bj,$a,bc,nc,Zj,sc,Do,Qn,an,bn,Jm,vg,$g,Wc,Gg,Ag,rh,sh,$f,Gc,pm,uh,Kd,rb,vd,hi,ki,fH,ni,Ko,Bo,ph,Dd,ch,Zm,ld,ei,mi,wm,Fc,Dc,xc,Le,Ie,gd,ud,pe,ae,Uh,ug,ta} from './geotoolkit.base.js';import {Zk,Uk} from './geotoolkit.http.js';import {UH} from './geotoolkit.data.js';import {mo,Ao} from './geotoolkit.tiledshape.js';import {QT,jT,vT,kT,TT,UT,ST,ZT,DS,$S,aU,TU,SU,RR,iU,eU,QU,ZN,WN,FS,GS,ES,cT} from './geotoolkit.controls.js';import {VZ} from './geotoolkit.widgets.js';var ca,ha=ha||{};ha.scope={};ha.WDc=function(d){var a=0;return function(){return a<d.length?{done:!1,value:d[a++]}:{done:!0}}};ha.uJe=function(d){return{next:ha.WDc(d)}};ha.obd=!1;ha.N9d=!1;ha.O9d=!1;ha.jAe=!1;ha.noc=!1;ha.defineProperty=ha.obd||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,a,b){if(d==Array.prototype||d==Object.prototype)return d;d[a]=b.value;return d};
ha.I1=function(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<d.length;++a){var b=d[a];if(b&&b.Math==Math)return b}return function(){throw Error("Cannot find global object");}()};ha.global=ha.I1(this);ha.TMb="function"===typeof Symbol&&"symbol"===typeof Symbol("x");ha.FDe=!ha.noc||ha.TMb;ha.$cc={};ha.wdc={};ha.Chd="$jscp$";
function aaa(d,a){var b=ha.wdc[a];if(null==b)return d[a];b=d[b];return void 0!==b?b:d[a]}ha.LYc=function(d,a,b,c){a&&(ha.noc?ha.aWd(d,a,b,c):ha.bWd(d,a,b,c))};ha.bWd=function(d,a,b,c){b=ha.global;d=d.split(".");for(c=0;c<d.length-1;c++){var e=d[c];if(!(e in b))return;b=b[e]}d=d[d.length-1];c=b[d];a=a(c);a!=c&&null!=a&&ha.defineProperty(b,d,{configurable:!0,writable:!0,value:a})};
ha.aWd=function(d,a,b,c){var e=d.split(".");d=1===e.length;c=e[0];c=!d&&c in ha.$cc?ha.$cc:ha.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in c))return;c=c[g]}e=e[e.length-1];b=ha.TMb&&"es6"===b?c[e]:null;a=a(b);null!=a&&(d?ha.defineProperty(ha.$cc,e,{configurable:!0,writable:!0,value:a}):a!==b&&(ha.wdc[e]=ha.TMb?ha.global.Symbol(e):ha.Chd+e,e=ha.wdc[e],ha.defineProperty(c,e,{configurable:!0,writable:!0,value:a})))};ha.oNe=function(){};
ha.LYc("Symbol",function(d){function a(f){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+e++,f)}function b(f,g){this.lbd=f;ha.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})}if(d)return d;b.prototype.toString=function(){return this.lbd};var c="jscomp_symbol_",e=0;return a},"es6","es3");ha.qNe=function(){};
ha.LYc("Symbol.iterator",function(d){if(d)return d;d=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),b=0;b<a.length;b++){var c=ha.global[a[b]];"function"===typeof c&&"function"!=typeof c.prototype[d]&&ha.defineProperty(c.prototype,d,{configurable:!0,writable:!0,value:function(){return ha.NQd(ha.WDc(this))}})}return d},"es6","es3");ha.pNe=function(){};
ha.NQd=function(d){d={next:d};d[Symbol.iterator]=function(){return this};return d};var U3=/*#__PURE__*/ta(/*#__PURE__*/{ilc:"Aerial",LKb:"AerialWithLabels",tbd:"AerialWithLabelsOnDemand",bLb:"Birdseye",dLb:"BirdseyeWithLabels",cLb:"BirdseyeV2",kcd:"CanvasDark",mcd:"CanvasLight",lcd:"CanvasGray",Tpc:"Road",yid:"RoadOnDemand",ohd:"OrdnanceSurvey"},2,"eyJBZXJpYWwiOiJpbGMiLCJBZXJpYWxXaXRoTGFiZWxzIjoiTEtiIiwiQWVyaWFsV2l0aExhYmVsc09uRGVtYW5kIjoidGJkIiwiQmlyZHNleWUiOiJiTGIiLCJCaXJkc2V5ZVdpdGhMYWJlbHMiOiJkTGIiLCJCaXJkc2V5ZVYyIjoiY0xiIiwiQ2FudmFzRGFyayI6ImtjZCIsIkNhbnZhc0xpZ2h0IjoibWNkIiwiQ2FudmFzR3JheSI6ImxjZCIsIlJvYWQiOiJUcGMiLCJSb2FkT25EZW1hbmQiOiJ5aWQiLCJPcmRuYW5jZVN1cnZleSI6Im9oZCJ9");var V3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){this.ic=a.name;this.fe=a.limits;this.Am=a.units;this.omd=a.epsg}L(d,"geotoolkit.map.coordinatesystems.AbstractSystem");d.prototype.Ga=function(){return this.ic};d.prototype.CR=function(){return this.Am};d.prototype.JB=function(){return this.omd};d.prototype.cVc=function(){return!0};d.prototype.Jk=function(){return this.fe};d.prototype.transform=Fb;d.prototype.sc=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXROYW1lIjoiR2EiLCJnZXRVbml0cyI6IkNSIiwiZ2V0RXBzZ0NvZGUiOiJKQiIsImlzVmVydGljYWxBeGlzVXAiOiJjVmMiLCJnZXREZWZhdWx0TW9kZWxMaW1pdHMiOiJKayIsImludmVyc2VUcmFuc2Zvcm0iOiJzYyJ9fX0g");var W3=/*#__PURE__*/ta(/*#__PURE__*/{ue:"north",Ec:"south",lc:"west",Rc:"east"},2,"eyJOb3J0aCI6InVlIiwiU291dGgiOiJFYyIsIldlc3QiOiJsYyIsIkVhc3QiOiJSYyJ9");var X3=/*#__PURE__*/function(){return{4203:{towgs84:[-134,-48,149]},4326:{},4269:{},102100:{name:"WGS84"},3857:{name:"WGS84"},20436:{zone:36,southhemi:!1},20437:{zone:37,southhemi:!1},20438:{zone:38,southhemi:!1},20439:{zone:39,southhemi:!1},20440:{zone:40,southhemi:!1},2058:{zone:38,southhemi:!1},2059:{zone:39,southhemi:!1},2060:{zone:40,southhemi:!1},2061:{zone:41,southhemi:!1},2067:{zone:20,southhemi:!1},2077:{zone:32,southhemi:!1},2078:{zone:33,southhemi:!1},2079:{zone:34,southhemi:!1},2080:{zone:35,southhemi:!1},
20822:{zone:22,southhemi:!0},20823:{zone:23,southhemi:!0},20824:{zone:24,southhemi:!0},2084:{zone:19,southhemi:!0},2089:{zone:38,southhemi:!1},2090:{zone:39,southhemi:!1},2095:{zone:28,southhemi:!1},21818:{zone:18,southhemi:!1},2188:{zone:25,southhemi:!1},2189:{zone:26,southhemi:!1},2190:{zone:26,southhemi:!1},2216:{zone:22,southhemi:!1},2217:{zone:23,southhemi:!1},22521:{zone:21,southhemi:!0},22522:{zone:22,southhemi:!0},22523:{zone:23,southhemi:!0},22524:{zone:24,southhemi:!0},22525:{zone:25,southhemi:!0},
23028:{zone:28,southhemi:!1},23029:{zone:29,southhemi:!1},23030:{zone:30,southhemi:!1},23031:{zone:31,southhemi:!1},23032:{zone:32,southhemi:!1},23033:{zone:33,southhemi:!1},23034:{zone:34,southhemi:!1},23035:{zone:35,southhemi:!1},23036:{zone:36,southhemi:!1},23037:{zone:37,southhemi:!1},23038:{zone:38,southhemi:!1},2315:{zone:19,southhemi:!0},2316:{zone:20,southhemi:!0},23866:{zone:46,southhemi:!1},23867:{zone:47,southhemi:!1},23868:{zone:48,southhemi:!1},23869:{zone:49,southhemi:!1},23870:{zone:50,
southhemi:!1},23871:{zone:51,southhemi:!1},23872:{zone:52,southhemi:!1},23877:{zone:47,southhemi:!0},23878:{zone:48,southhemi:!0},23879:{zone:49,southhemi:!0},23880:{zone:50,southhemi:!0},23881:{zone:51,southhemi:!0},23882:{zone:52,southhemi:!0},23883:{zone:53,southhemi:!0},23884:{zone:54,southhemi:!0},24718:{zone:18,southhemi:!1},24719:{zone:19,southhemi:!1},24720:{zone:20,southhemi:!1},24817:{zone:17,southhemi:!1},24818:{zone:18,southhemi:!1},24819:{zone:19,southhemi:!1},24820:{zone:20,southhemi:!1},
24821:{zone:21,southhemi:!1},24877:{zone:17,southhemi:!0},24878:{zone:18,southhemi:!0},24879:{zone:19,southhemi:!0},24880:{zone:20,southhemi:!0},24881:{zone:21,southhemi:!0},24882:{zone:22,southhemi:!0},25932:{zone:32,southhemi:!0},27120:{zone:20,southhemi:!1},27258:{zone:58,southhemi:!0},27259:{zone:59,southhemi:!0},27260:{zone:60,southhemi:!0},27429:{zone:29,southhemi:!1},29220:{zone:20,southhemi:!0},29221:{zone:21,southhemi:!0},2942:{zone:28,southhemi:!1},2943:{zone:28,southhemi:!1},2969:{zone:20,
southhemi:!1},2970:{zone:20,southhemi:!1},2971:{zone:22,southhemi:!1},2973:{zone:20,southhemi:!1},29738:{zone:38,southhemi:!0},29739:{zone:39,southhemi:!0},2976:{zone:6,southhemi:!0},2977:{zone:5,southhemi:!0},2978:{zone:7,southhemi:!0},2980:{zone:38,southhemi:!0},2981:{zone:58,southhemi:!0},2988:{zone:1,southhemi:!0},2995:{zone:58,southhemi:!0},2996:{zone:58,southhemi:!0},2997:{zone:58,southhemi:!0},2998:{zone:58,southhemi:!0},2999:{zone:38,southhemi:!0},3036:{zone:36,southhemi:!0},3037:{zone:37,
southhemi:!0},3054:{zone:26,southhemi:!1},3055:{zone:27,southhemi:!1},3056:{zone:28,southhemi:!1},3060:{zone:58,southhemi:!0},3061:{zone:28,southhemi:!1},3062:{zone:26,southhemi:!1},3063:{zone:26,southhemi:!1},3064:{zone:32,southhemi:!1},3065:{zone:33,southhemi:!1},31121:{zone:21,southhemi:!1},3141:{zone:60,southhemi:!0},3142:{zone:1,southhemi:!0},3164:{zone:58,southhemi:!0},3172:{zone:59,southhemi:!0},31838:{zone:38,southhemi:!1},31839:{zone:39,southhemi:!1},3199:{zone:32,southhemi:!1},3201:{zone:33,
southhemi:!1},3202:{zone:34,southhemi:!1},3203:{zone:35,southhemi:!1},32601:{zone:1,southhemi:!1},32602:{zone:2,southhemi:!1},32603:{zone:3,southhemi:!1},32604:{zone:4,southhemi:!1},32605:{zone:5,southhemi:!1},32606:{zone:6,southhemi:!1},32607:{zone:7,southhemi:!1},32608:{zone:8,southhemi:!1},32609:{zone:9,southhemi:!1},32610:{zone:10,southhemi:!1},32611:{zone:11,southhemi:!1},32612:{zone:12,southhemi:!1},32613:{zone:13,southhemi:!1},32614:{zone:14,southhemi:!1},32615:{zone:15,southhemi:!1},32616:{zone:16,
southhemi:!1},32617:{zone:17,southhemi:!1},32618:{zone:18,southhemi:!1},32619:{zone:19,southhemi:!1},32620:{zone:20,southhemi:!1},32621:{zone:21,southhemi:!1},32622:{zone:22,southhemi:!1},32623:{zone:23,southhemi:!1},32624:{zone:24,southhemi:!1},32625:{zone:25,southhemi:!1},32626:{zone:26,southhemi:!1},32627:{zone:27,southhemi:!1},32628:{zone:28,southhemi:!1},32629:{zone:29,southhemi:!1},32630:{zone:30,southhemi:!1},32631:{zone:31,southhemi:!1},32632:{zone:32,southhemi:!1},32633:{zone:33,southhemi:!1},
32634:{zone:34,southhemi:!1},32635:{zone:35,southhemi:!1},32636:{zone:36,southhemi:!1},32637:{zone:37,southhemi:!1},32638:{zone:38,southhemi:!1},32639:{zone:39,southhemi:!1},32640:{zone:40,southhemi:!1},32641:{zone:41,southhemi:!1},32642:{zone:42,southhemi:!1},32643:{zone:43,southhemi:!1},32644:{zone:44,southhemi:!1},32645:{zone:45,southhemi:!1},32646:{zone:46,southhemi:!1},32647:{zone:47,southhemi:!1},32648:{zone:48,southhemi:!1},32649:{zone:49,southhemi:!1},32650:{zone:50,southhemi:!1},32651:{zone:51,
southhemi:!1},32652:{zone:52,southhemi:!1},32653:{zone:53,southhemi:!1},32654:{zone:54,southhemi:!1},32655:{zone:55,southhemi:!1},32656:{zone:56,southhemi:!1},32657:{zone:57,southhemi:!1},32658:{zone:58,southhemi:!1},32659:{zone:59,southhemi:!1},32660:{zone:60,southhemi:!1},32701:{zone:1,southhemi:!0},32702:{zone:2,southhemi:!0},32703:{zone:3,southhemi:!0},32704:{zone:4,southhemi:!0},32705:{zone:5,southhemi:!0},32706:{zone:6,southhemi:!0},32707:{zone:7,southhemi:!0},32708:{zone:8,southhemi:!0},32709:{zone:9,
southhemi:!0},32710:{zone:10,southhemi:!0},32711:{zone:11,southhemi:!0},32712:{zone:12,southhemi:!0},32713:{zone:13,southhemi:!0},32714:{zone:14,southhemi:!0},32715:{zone:15,southhemi:!0},32716:{zone:16,southhemi:!0},32717:{zone:17,southhemi:!0},32718:{zone:18,southhemi:!0},32719:{zone:19,southhemi:!0},32720:{zone:20,southhemi:!0},32721:{zone:21,southhemi:!0},32722:{zone:22,southhemi:!0},32723:{zone:23,southhemi:!0},32724:{zone:24,southhemi:!0},32725:{zone:25,southhemi:!0},32726:{zone:26,southhemi:!0},
32727:{zone:27,southhemi:!0},32728:{zone:28,southhemi:!0},32729:{zone:29,southhemi:!0},32730:{zone:30,southhemi:!0},32731:{zone:31,southhemi:!0},32732:{zone:32,southhemi:!0},32733:{zone:33,southhemi:!0},32734:{zone:34,southhemi:!0},32735:{zone:35,southhemi:!0},32736:{zone:36,southhemi:!0},32737:{zone:37,southhemi:!0},32738:{zone:38,southhemi:!0},32739:{zone:39,southhemi:!0},32740:{zone:40,southhemi:!0},32741:{zone:41,southhemi:!0},32742:{zone:42,southhemi:!0},32743:{zone:43,southhemi:!0},32744:{zone:44,
southhemi:!0},32745:{zone:45,southhemi:!0},32746:{zone:46,southhemi:!0},32747:{zone:47,southhemi:!0},32748:{zone:48,southhemi:!0},32749:{zone:49,southhemi:!0},32750:{zone:50,southhemi:!0},32751:{zone:51,southhemi:!0},32752:{zone:52,southhemi:!0},32753:{zone:53,southhemi:!0},32754:{zone:54,southhemi:!0},32755:{zone:55,southhemi:!0},32756:{zone:56,southhemi:!0},32757:{zone:57,southhemi:!0},32758:{zone:58,southhemi:!0},32759:{zone:59,southhemi:!0},32760:{zone:60,southhemi:!0},3302:{zone:7,southhemi:!0},
3303:{zone:7,southhemi:!0},3304:{zone:6,southhemi:!0},3305:{zone:6,southhemi:!0},3306:{zone:5,southhemi:!0},3307:{zone:39,southhemi:!1},3312:{zone:21,southhemi:!1},3336:{zone:42,southhemi:!0},3353:{zone:32,southhemi:!0},3354:{zone:32,southhemi:!0},3374:{zone:29,southhemi:!1},3405:{zone:48,southhemi:!1},3406:{zone:49,southhemi:!1},3449:{zone:17,southhemi:!1},3450:{zone:18,southhemi:!1},3784:{zone:9,southhemi:!0},3829:{zone:51,southhemi:!1},4037:{zone:35,southhemi:!1},4038:{zone:36,southhemi:!1},4071:{zone:23,
southhemi:!0},5337:{zone:25,southhemi:!0},5382:{zone:21,southhemi:!0},5383:{zone:22,southhemi:!0},5536:{zone:21,southhemi:!0},5537:{zone:22,southhemi:!0},5538:{zone:23,southhemi:!0},5539:{zone:24,southhemi:!0},5629:{zone:38,southhemi:!0},5836:{zone:37,southhemi:!1},5837:{zone:40,southhemi:!1},5879:{zone:38,southhemi:!0},7878:{zone:30,southhemi:!0},7883:{zone:30,southhemi:!0},7992:{zone:33,southhemi:!0},2009:{latitudeoforigin:0,centralmeridian:-58.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,
units:"metre"},2010:{latitudeoforigin:0,centralmeridian:-61.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2011:{latitudeoforigin:0,centralmeridian:-64.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2012:{latitudeoforigin:0,centralmeridian:-67.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2013:{latitudeoforigin:0,centralmeridian:-70.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2014:{latitudeoforigin:0,
centralmeridian:-73.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2015:{latitudeoforigin:0,centralmeridian:-76.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2016:{latitudeoforigin:0,centralmeridian:-79.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2017:{latitudeoforigin:0,centralmeridian:-73.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2018:{latitudeoforigin:0,centralmeridian:-76.5,falseeasting:304800,
falsenorthing:0,scalefactor:.9999,units:"metre"},2019:{latitudeoforigin:0,centralmeridian:-79.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2020:{latitudeoforigin:0,centralmeridian:-82.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2021:{latitudeoforigin:0,centralmeridian:-81,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2022:{latitudeoforigin:0,centralmeridian:-84,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},
2023:{latitudeoforigin:0,centralmeridian:-87,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2024:{latitudeoforigin:0,centralmeridian:-90,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2025:{latitudeoforigin:0,centralmeridian:-93,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2026:{latitudeoforigin:0,centralmeridian:-96,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},2027:{latitudeoforigin:0,centralmeridian:-93,
falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2028:{latitudeoforigin:0,centralmeridian:-87,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2029:{latitudeoforigin:0,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2030:{latitudeoforigin:0,centralmeridian:-75,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2031:{latitudeoforigin:0,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},
2032:{latitudeoforigin:0,centralmeridian:-75,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2033:{latitudeoforigin:0,centralmeridian:-69,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2034:{latitudeoforigin:0,centralmeridian:-63,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2035:{latitudeoforigin:0,centralmeridian:-57,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},2138:{latitudeoforigin:44,centralmeridian:-68.5,falseeasting:0,
falsenorthing:0,scalefactor:1,standartparallel1:60,standartparallel2:46,units:"metre"},2204:{latitudeoforigin:34.666666666667,centralmeridian:-86,falseeasting:2E6,falsenorthing:1E5,scalefactor:1,standartparallel1:35.25,standartparallel2:36.416666666667,units:"foot"},26701:{latitudeoforigin:0,centralmeridian:-177,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26702:{latitudeoforigin:0,centralmeridian:-171,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26703:{latitudeoforigin:0,
centralmeridian:-165,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26704:{latitudeoforigin:0,centralmeridian:-159,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26705:{latitudeoforigin:0,centralmeridian:-153,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26706:{latitudeoforigin:0,centralmeridian:-147,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26707:{latitudeoforigin:0,centralmeridian:-141,falseeasting:5E5,falsenorthing:0,
scalefactor:.9996,units:"metre"},26708:{latitudeoforigin:0,centralmeridian:-135,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26709:{latitudeoforigin:0,centralmeridian:-129,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26710:{latitudeoforigin:0,centralmeridian:-123,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26711:{latitudeoforigin:0,centralmeridian:-117,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26712:{latitudeoforigin:0,
centralmeridian:-111,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26713:{latitudeoforigin:0,centralmeridian:-105,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26714:{latitudeoforigin:0,centralmeridian:-99,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26715:{latitudeoforigin:0,centralmeridian:-93,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26716:{latitudeoforigin:0,centralmeridian:-87,falseeasting:5E5,falsenorthing:0,
scalefactor:.9996,units:"metre"},26717:{latitudeoforigin:0,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26718:{latitudeoforigin:0,centralmeridian:-75,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26719:{latitudeoforigin:0,centralmeridian:-69,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26720:{latitudeoforigin:0,centralmeridian:-63,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26721:{latitudeoforigin:0,
centralmeridian:-57,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26722:{latitudeoforigin:0,centralmeridian:-51,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},26729:{latitudeoforigin:30.5,centralmeridian:-85.833333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.99996,units:"foot"},26730:{latitudeoforigin:30,centralmeridian:-87.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26732:{latitudeoforigin:54,centralmeridian:-142,falseeasting:5E5,
falsenorthing:0,scalefactor:.9999,units:"foot"},26733:{latitudeoforigin:54,centralmeridian:-146,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26734:{latitudeoforigin:54,centralmeridian:-150,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26735:{latitudeoforigin:54,centralmeridian:-154,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26736:{latitudeoforigin:54,centralmeridian:-158,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26737:{latitudeoforigin:54,
centralmeridian:-162,falseeasting:7E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26738:{latitudeoforigin:54,centralmeridian:-166,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26739:{latitudeoforigin:54,centralmeridian:-170,falseeasting:6E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26740:{latitudeoforigin:51,centralmeridian:-176,falseeasting:3E6,falsenorthing:0,scalefactor:1,standartparallel1:53.833333333333,standartparallel2:51.833333333333,units:"foot"},26741:{latitudeoforigin:39.333333333333,
centralmeridian:-122,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:41.666666666667,standartparallel2:40,units:"foot"},26742:{latitudeoforigin:37.666666666667,centralmeridian:-122,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39.833333333333,standartparallel2:38.333333333333,units:"foot"},26743:{latitudeoforigin:36.5,centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.433333333333,standartparallel2:37.066666666667,units:"foot"},
26744:{latitudeoforigin:35.333333333333,centralmeridian:-119,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.25,standartparallel2:36,units:"foot"},26745:{latitudeoforigin:33.5,centralmeridian:-118,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:35.466666666667,standartparallel2:34.033333333333,units:"foot"},26746:{latitudeoforigin:32.166666666667,centralmeridian:-116.25,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:33.883333333333,standartparallel2:32.783333333333,
units:"foot"},26748:{latitudeoforigin:31,centralmeridian:-110.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26749:{latitudeoforigin:31,centralmeridian:-111.916666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26750:{latitudeoforigin:31,centralmeridian:-113.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26751:{latitudeoforigin:34.333333333333,centralmeridian:-92,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:36.233333333333,
standartparallel2:34.933333333333,units:"foot"},26752:{latitudeoforigin:32.666666666667,centralmeridian:-92,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:34.766666666667,standartparallel2:33.3,units:"foot"},26753:{latitudeoforigin:39.333333333333,centralmeridian:-105.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39.716666666667,standartparallel2:40.783333333333,units:"foot"},26754:{latitudeoforigin:37.833333333333,centralmeridian:-105.5,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:39.75,standartparallel2:38.45,units:"foot"},26755:{latitudeoforigin:36.666666666667,centralmeridian:-105.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.433333333333,standartparallel2:37.233333333333,units:"foot"},26756:{latitudeoforigin:40.833333333333,centralmeridian:-72.75,falseeasting:6E5,falsenorthing:0,scalefactor:1,standartparallel1:41.866666666667,standartparallel2:41.2,units:"foot"},26757:{latitudeoforigin:38,centralmeridian:-75.416666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.999995,units:"foot"},26758:{latitudeoforigin:24.333333333333,centralmeridian:-81,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26759:{latitudeoforigin:24.333333333333,centralmeridian:-82,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26760:{latitudeoforigin:29,centralmeridian:-84.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:30.75,standartparallel2:29.583333333333,units:"foot"},26766:{latitudeoforigin:30,
centralmeridian:-82.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26767:{latitudeoforigin:30,centralmeridian:-84.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26768:{latitudeoforigin:41.666666666667,centralmeridian:-112.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999947368,units:"foot"},26769:{latitudeoforigin:41.666666666667,centralmeridian:-114,falseeasting:5E5,falsenorthing:0,scalefactor:.999947368,units:"foot"},26770:{latitudeoforigin:41.666666666667,
centralmeridian:-115.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26771:{latitudeoforigin:36.666666666667,centralmeridian:-88.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999975,units:"foot"},26772:{latitudeoforigin:36.666666666667,centralmeridian:-90.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26773:{latitudeoforigin:37.5,centralmeridian:-85.666666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},
26774:{latitudeoforigin:37.5,centralmeridian:-87.083333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},26775:{latitudeoforigin:41.5,centralmeridian:-93.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:43.266666666667,standartparallel2:42.066666666667,units:"foot"},26776:{latitudeoforigin:40,centralmeridian:-93.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:41.783333333333,standartparallel2:40.616666666667,units:"foot"},26777:{latitudeoforigin:38.333333333333,
centralmeridian:-98,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39.783333333333,standartparallel2:38.716666666667,units:"foot"},26778:{latitudeoforigin:36.666666666667,centralmeridian:-98.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.566666666667,standartparallel2:37.266666666667,units:"foot"},26779:{latitudeoforigin:37.5,centralmeridian:-84.25,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.966666666667,standartparallel2:38.966666666667,
units:"foot"},26780:{latitudeoforigin:36.333333333333,centralmeridian:-85.75,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:36.733333333333,standartparallel2:37.933333333333,units:"foot"},26781:{latitudeoforigin:30.666666666667,centralmeridian:-92.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:31.166666666667,standartparallel2:32.666666666667,units:"foot"},26782:{latitudeoforigin:28.666666666667,centralmeridian:-91.333333333333,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:29.3,standartparallel2:30.7,units:"foot"},26783:{latitudeoforigin:43.833333333333,centralmeridian:-68.5,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},26784:{latitudeoforigin:42.833333333333,centralmeridian:-70.166666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},26785:{latitudeoforigin:37.833333333333,centralmeridian:-77,falseeasting:8E5,falsenorthing:0,scalefactor:1,standartparallel1:38.3,standartparallel2:39.45,units:"foot"},
26786:{latitudeoforigin:41,centralmeridian:-71.5,falseeasting:6E5,falsenorthing:0,scalefactor:1,standartparallel1:41.716666666667,standartparallel2:42.683333333333,units:"foot"},26787:{latitudeoforigin:41,centralmeridian:-70.5,falseeasting:2E5,falsenorthing:0,scalefactor:1,standartparallel1:41.283333333333,standartparallel2:41.483333333333,units:"foot"},26791:{latitudeoforigin:46.5,centralmeridian:-93.1,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.033333333333,standartparallel2:48.633333333333,
units:"foot"},26792:{latitudeoforigin:45,centralmeridian:-94.25,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:45.616666666667,standartparallel2:47.05,units:"foot"},26793:{latitudeoforigin:43,centralmeridian:-94,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:43.783333333333,standartparallel2:45.216666666667,units:"foot"},26794:{latitudeoforigin:29.666666666667,centralmeridian:-88.833333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.99996,units:"foot"},26795:{latitudeoforigin:30.5,
centralmeridian:-90.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26796:{latitudeoforigin:35.833333333333,centralmeridian:-90.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26797:{latitudeoforigin:35.833333333333,centralmeridian:-92.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999933333,units:"foot"},26798:{latitudeoforigin:36.166666666667,centralmeridian:-94.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},26799:{latitudeoforigin:34.133333333333,
centralmeridian:-118.333333333333,falseeasting:4186692.58,falsenorthing:4160926.74,scalefactor:1,standartparallel1:34.416666666667,standartparallel2:33.866666666667,units:"foot"},3069:{latitudeoforigin:0,centralmeridian:-90,falseeasting:5E5,falsenorthing:-45E5,scalefactor:.9996,units:"metre"},3080:{latitudeoforigin:31.166666666667,centralmeridian:-100,falseeasting:3E6,falsenorthing:3E6,scalefactor:1,standartparallel1:27.416666666667,standartparallel2:34.916666666667,units:"foot"},32001:{latitudeoforigin:47,
centralmeridian:-109.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:48.716666666667,standartparallel2:47.85,units:"foot"},32002:{latitudeoforigin:45.833333333333,centralmeridian:-109.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.883333333333,standartparallel2:46.45,units:"foot"},32003:{latitudeoforigin:44,centralmeridian:-109.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:46.4,standartparallel2:44.866666666667,units:"foot"},32005:{latitudeoforigin:41.333333333333,
centralmeridian:-100,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:41.85,standartparallel2:42.816666666667,units:"foot"},32006:{latitudeoforigin:39.666666666667,centralmeridian:-99.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.283333333333,standartparallel2:41.716666666667,units:"foot"},32007:{latitudeoforigin:34.75,centralmeridian:-115.583333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32008:{latitudeoforigin:34.75,centralmeridian:-116.666666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32009:{latitudeoforigin:34.75,centralmeridian:-118.583333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32010:{latitudeoforigin:42.5,centralmeridian:-71.666666666667,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},32011:{latitudeoforigin:38.833333333333,centralmeridian:-74.666666666667,falseeasting:2E6,falsenorthing:0,scalefactor:.999975,units:"foot"},32012:{latitudeoforigin:31,centralmeridian:-104.333333333333,
falseeasting:5E5,falsenorthing:0,scalefactor:.999909091,units:"foot"},32013:{latitudeoforigin:31,centralmeridian:-106.25,falseeasting:5E5,falsenorthing:0,scalefactor:.9999,units:"foot"},32014:{latitudeoforigin:31,centralmeridian:-107.833333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999916667,units:"foot"},32015:{latitudeoforigin:40,centralmeridian:-74.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999966667,units:"foot"},32016:{latitudeoforigin:40,centralmeridian:-76.583333333333,
falseeasting:5E5,falsenorthing:0,scalefactor:.9999375,units:"foot"},32017:{latitudeoforigin:40,centralmeridian:-78.583333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.9999375,units:"foot"},32019:{latitudeoforigin:33.75,centralmeridian:-79,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:34.333333333333,standartparallel2:36.166666666667,units:"foot"},32020:{latitudeoforigin:47,centralmeridian:-100.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.433333333333,
standartparallel2:48.733333333333,units:"foot"},32021:{latitudeoforigin:45.666666666667,centralmeridian:-100.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:46.183333333333,standartparallel2:47.483333333333,units:"foot"},32022:{latitudeoforigin:39.666666666667,centralmeridian:-82.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.433333333333,standartparallel2:41.7,units:"foot"},32023:{latitudeoforigin:38,centralmeridian:-82.5,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:38.733333333333,standartparallel2:40.033333333333,units:"foot"},32024:{latitudeoforigin:35,centralmeridian:-98,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:35.566666666667,standartparallel2:36.766666666667,units:"foot"},32025:{latitudeoforigin:33.333333333333,centralmeridian:-98,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:33.933333333333,standartparallel2:35.233333333333,units:"foot"},32026:{latitudeoforigin:43.666666666667,
centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:44.333333333333,standartparallel2:46,units:"foot"},32027:{latitudeoforigin:41.666666666667,centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:42.333333333333,standartparallel2:44,units:"foot"},32028:{latitudeoforigin:40.166666666667,centralmeridian:-77.75,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.883333333333,standartparallel2:41.95,units:"foot"},32030:{latitudeoforigin:41.083333333333,
centralmeridian:-71.5,falseeasting:5E5,falsenorthing:0,scalefactor:.9999938,units:"foot"},32031:{latitudeoforigin:33,centralmeridian:-81,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:33.766666666667,standartparallel2:34.966666666667,units:"foot"},32033:{latitudeoforigin:31.833333333333,centralmeridian:-81,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:32.333333333333,standartparallel2:33.666666666667,units:"foot"},32034:{latitudeoforigin:43.833333333333,centralmeridian:-100,
falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:44.416666666667,standartparallel2:45.683333333333,units:"foot"},32035:{latitudeoforigin:42.333333333333,centralmeridian:-100.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:42.833333333333,standartparallel2:44.4,units:"foot"},32037:{latitudeoforigin:34,centralmeridian:-101.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:34.65,standartparallel2:36.183333333333,units:"foot"},32038:{latitudeoforigin:31.666666666667,
centralmeridian:-97.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:32.133333333333,standartparallel2:33.966666666667,units:"foot"},32039:{latitudeoforigin:29.666666666667,centralmeridian:-100.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:30.116666666667,standartparallel2:31.883333333333,units:"foot"},32040:{latitudeoforigin:27.833333333333,centralmeridian:-99,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:28.383333333333,standartparallel2:30.283333333333,
units:"foot"},32041:{latitudeoforigin:25.666666666667,centralmeridian:-98.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:26.166666666667,standartparallel2:27.833333333333,units:"foot"},32042:{latitudeoforigin:40.333333333333,centralmeridian:-111.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.716666666667,standartparallel2:41.783333333333,units:"foot"},32043:{latitudeoforigin:38.333333333333,centralmeridian:-111.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,
standartparallel1:39.016666666667,standartparallel2:40.65,units:"foot"},32044:{latitudeoforigin:36.666666666667,centralmeridian:-111.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.216666666667,standartparallel2:38.35,units:"foot"},32045:{latitudeoforigin:42.5,centralmeridian:-72.5,falseeasting:5E5,falsenorthing:0,scalefactor:.999964286,units:"foot"},32046:{latitudeoforigin:37.666666666667,centralmeridian:-78.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:38.033333333333,
standartparallel2:39.2,units:"foot"},32047:{latitudeoforigin:36.333333333333,centralmeridian:-78.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:36.766666666667,standartparallel2:37.966666666667,units:"foot"},32048:{latitudeoforigin:47,centralmeridian:-120.833333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:47.5,standartparallel2:48.733333333333,units:"foot"},32049:{latitudeoforigin:45.333333333333,centralmeridian:-120.5,falseeasting:2E6,falsenorthing:0,
scalefactor:1,standartparallel1:45.833333333333,standartparallel2:47.333333333333,units:"foot"},32050:{latitudeoforigin:38.5,centralmeridian:-79.5,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:39,standartparallel2:40.25,units:"foot"},32051:{latitudeoforigin:37,centralmeridian:-81,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:37.483333333333,standartparallel2:38.883333333333,units:"foot"},32052:{latitudeoforigin:45.166666666667,centralmeridian:-90,falseeasting:2E6,
falsenorthing:0,scalefactor:1,standartparallel1:45.566666666667,standartparallel2:46.766666666667,units:"foot"},32053:{latitudeoforigin:43.833333333333,centralmeridian:-90,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:44.25,standartparallel2:45.5,units:"foot"},32054:{latitudeoforigin:42,centralmeridian:-90,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:42.733333333333,standartparallel2:44.066666666667,units:"foot"},32055:{latitudeoforigin:40.666666666667,centralmeridian:-105.166666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32056:{latitudeoforigin:40.666666666667,centralmeridian:-107.333333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32057:{latitudeoforigin:40.666666666667,centralmeridian:-108.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32058:{latitudeoforigin:40.666666666667,centralmeridian:-110.083333333333,falseeasting:5E5,falsenorthing:0,scalefactor:.999941177,units:"foot"},32064:{latitudeoforigin:0,
centralmeridian:-99,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32065:{latitudeoforigin:0,centralmeridian:-93,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32066:{latitudeoforigin:0,centralmeridian:-87,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32067:{latitudeoforigin:0,centralmeridian:-81,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},32081:{latitudeoforigin:0,centralmeridian:-53,falseeasting:304800,
falsenorthing:0,scalefactor:.9999,units:"metre"},32082:{latitudeoforigin:0,centralmeridian:-56,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32083:{latitudeoforigin:0,centralmeridian:-58.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32084:{latitudeoforigin:0,centralmeridian:-61.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32085:{latitudeoforigin:0,centralmeridian:-64.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},
32086:{latitudeoforigin:0,centralmeridian:-67.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"},32098:{latitudeoforigin:44,centralmeridian:-68.5,falseeasting:0,falsenorthing:0,scalefactor:1,standartparallel1:60,standartparallel2:46,units:"metre"},32099:{latitudeoforigin:25.666666666667,centralmeridian:-91.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:27.833333333333,standartparallel2:26.166666666667,units:"foot"},3370:{latitudeoforigin:0,centralmeridian:171,
falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},3371:{latitudeoforigin:0,centralmeridian:177,falseeasting:5E5,falsenorthing:0,scalefactor:.9996,units:"metre"},3771:{latitudeoforigin:0,centralmeridian:-111,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},3772:{latitudeoforigin:0,centralmeridian:-114,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},3773:{latitudeoforigin:0,centralmeridian:-117,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},
3795:{latitudeoforigin:22.35,centralmeridian:-81,falseeasting:5E5,falsenorthing:280296.016,scalefactor:1,standartparallel1:23,standartparallel2:21.7,units:"metre"},3796:{latitudeoforigin:20.716666666667,centralmeridian:-76.833333333333,falseeasting:5E5,falsenorthing:229126.939,scalefactor:1,standartparallel1:21.3,standartparallel2:20.133333333333,units:"metre"},3797:{latitudeoforigin:44,centralmeridian:-70,falseeasting:8E5,falsenorthing:0,scalefactor:1,standartparallel1:50,standartparallel2:46,units:"metre"},
3800:{latitudeoforigin:0,centralmeridian:-120,falseeasting:0,falsenorthing:0,scalefactor:.9999,units:"metre"},4399:{latitudeoforigin:0,centralmeridian:171,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4400:{latitudeoforigin:0,centralmeridian:177,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4401:{latitudeoforigin:0,centralmeridian:-177,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4402:{latitudeoforigin:0,centralmeridian:-171,
falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4403:{latitudeoforigin:0,centralmeridian:-165,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4404:{latitudeoforigin:0,centralmeridian:-159,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4405:{latitudeoforigin:0,centralmeridian:-153,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4406:{latitudeoforigin:0,centralmeridian:-147,falseeasting:1640416.67,falsenorthing:0,
scalefactor:.9996,units:"foot"},4407:{latitudeoforigin:0,centralmeridian:-141,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4408:{latitudeoforigin:0,centralmeridian:-135,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4409:{latitudeoforigin:0,centralmeridian:-129,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4410:{latitudeoforigin:0,centralmeridian:-123,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},
4411:{latitudeoforigin:0,centralmeridian:-117,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4412:{latitudeoforigin:0,centralmeridian:-111,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4413:{latitudeoforigin:0,centralmeridian:-105,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4418:{latitudeoforigin:0,centralmeridian:-75,falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4419:{latitudeoforigin:0,centralmeridian:-69,
falseeasting:1640416.67,falsenorthing:0,scalefactor:.9996,units:"foot"},4455:{latitudeoforigin:39.333333333333,centralmeridian:-77.75,falseeasting:2E6,falsenorthing:0,scalefactor:1,standartparallel1:40.966666666667,standartparallel2:39.933333333333,units:"foot"},4456:{latitudeoforigin:40.5,centralmeridian:-74,falseeasting:2E6,falsenorthing:1E5,scalefactor:1,standartparallel1:41.033333333333,standartparallel2:40.666666666667,units:"foot"},5623:{latitudeoforigin:41.5,centralmeridian:-83.666666666667,
falseeasting:5E5,falsenorthing:0,scalefactor:.999942857,units:"foot"},5624:{latitudeoforigin:41.5,centralmeridian:-85.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999909091,units:"foot"},5625:{latitudeoforigin:41.5,centralmeridian:-88.75,falseeasting:5E5,falsenorthing:0,scalefactor:.999909091,units:"foot"},6201:{latitudeoforigin:43.316666666667,centralmeridian:-84.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1.0000382,standartparallel1:44.183333333333,standartparallel2:45.7,units:"foot"},
6202:{latitudeoforigin:41.5,centralmeridian:-84.333333333333,falseeasting:2E6,falsenorthing:0,scalefactor:1.0000382,standartparallel1:42.1,standartparallel2:43.666666666667,units:"foot"},6966:{latitudeoforigin:44.783333333333,centralmeridian:-87,falseeasting:2E6,falsenorthing:0,scalefactor:1.0000382,standartparallel1:45.483333333333,standartparallel2:47.083333333333,units:"foot"},7991:{latitudeoforigin:0,centralmeridian:-79.5,falseeasting:304800,falsenorthing:0,scalefactor:.9999,units:"metre"}}}();var Y3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){this.rl=a;this.Wla=b}L(d,"geotoolkit.map.coordinatesystems.Spheroid");d.prototype.vp=function(){return this.rl};d.prototype.tt=function(){return-(this.Wla*this.rl-this.rl)};d.prototype.XAb=function(){return Math.sqrt(2*this.Wla-this.Wla*this.Wla)};d.prototype.gNc=function(){return this.Wla};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBIjoidnAiLCJnZXRCIjoidHQiLCJnZXRFIjoiWEFiIiwiZ2V0RiI6ImdOYyJ9fX0g");var Z3=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=G(b,{spheroid:[6378137,298.2572236],name:"LambertConicConformal",units:"metre",standartparallel1:0,standartparallel2:0,latitudeoforigin:0,centralmeridian:0,falseeasting:0,falsenorthing:0,scalefactor:1},!0);V3.call(this,b);this.lX=new Y3(b.spheroid[0],1/b.spheroid[1]);this.mUa=W.degToRad(b.standartparallel1);this.nUa=W.degToRad(b.standartparallel2);this.Xma=W.degToRad(b.latitudeoforigin);this.M8a=W.degToRad(b.centralmeridian);this.M5a=b.falseeasting;this.N5a=b.falsenorthing;
this.Dg=b.scalefactor;this.rl=Zd.ya().Xa("metre").convert(this.lX.vp(),this.CR())*this.Dg;this.Qt=this.lX.XAb();this.Vsb=Math.cos(this.mUa)/Math.sqrt(1-this.Qt*this.Qt*Math.sin(this.mUa)*Math.sin(this.mUa));this.eod=Math.cos(this.nUa)/Math.sqrt(1-this.Qt*this.Qt*Math.sin(this.nUa)*Math.sin(this.nUa));this.awb=Math.tan(Math.PI/4-this.mUa/2)/Math.pow((1-this.Qt*Math.sin(this.mUa))/(1+this.Qt*Math.sin(this.mUa)),this.Qt/2);this.Mqd=Math.tan(Math.PI/4-this.nUa/2)/Math.pow((1-this.Qt*Math.sin(this.nUa))/
(1+this.Qt*Math.sin(this.nUa)),this.Qt/2);this.Oqd=Math.tan(Math.PI/4-this.Xma/2)/Math.pow((1-this.Qt*Math.sin(this.Xma))/(1+this.Qt*Math.sin(this.Xma)),this.Qt/2);this.Pp=(Math.log(this.Vsb)-Math.log(this.eod))/(Math.log(this.awb)-Math.log(this.Mqd));this.kX=0>this.Pp?-1:1;this.Kub=this.Vsb/(this.Pp*Math.pow(this.awb,this.Pp))*this.rl*Math.pow(this.Oqd,this.Pp);this.gpd=this.Vsb/(this.Pp*Math.pow(this.awb,this.Pp))*this.rl;this.Nqd=Math.pow(1/(this.Vsb/(this.Pp*Math.pow(this.awb,this.Pp))*this.rl),
1/this.Pp)}var a=10;D(d,V3);L(d,"geotoolkit.map.coordinatesystems.LambertConicConformal");d.prototype.transform=function(b,c,e){null==e&&(e=new N);b=W.degToRad(e.x);c=W.degToRad(e.y);c=Math.tan(Math.PI/4-c/2)/Math.pow((1-this.Qt*Math.sin(c))/(1+this.Qt*Math.sin(c)),this.Qt/2);c=this.gpd*Math.pow(c,this.Pp);var f=this.Pp*(b-this.M8a);b=this.M5a+c*Math.sin(f);c=this.N5a+this.Kub-c*Math.cos(f);e.Da(b,c);return e};d.prototype.sc=function(b,c,e){null==e&&(e=new N);b-=this.M5a;var f=c-this.N5a;c=this.kX*
Math.sqrt(b*b+(this.Kub-f)*(this.Kub-f));c=this.Nqd*Math.pow(c,1/this.Pp);b=Math.atan(b/(this.Kub-f));var g=b/this.Pp+this.M8a;var h=Math.PI/2-2*Math.atan(c);f=0;do b=h,h=Math.PI/2-2*Math.atan(c*Math.pow((1-this.Qt*Math.sin(h))/(1+this.Qt*Math.sin(h)),this.Qt/2)),f++;while(Math.abs(h-b)>W.Tb&&f<a);e.Da(W.radToDeg(g),W.radToDeg(h));return e};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnZlcnNlVHJhbnNmb3JtIjoic2MifX19");var $3=/*#__PURE__*/ta(/*#__PURE__*/{VV:"WGS84",fK:"LatLon",QOb:"UTM",Jc:"None"},2,"eyJXR1M4NCI6IlZWIiwiTGF0TG9uIjoiZksiLCJVVE0iOiJRT2IiLCJOb25lIjoiSmMifSAg");var a4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){V3.call(this,{epsg:b||4326,name:$3.fK,limits:a,units:Zd.ya().Xa("degrees")})}var a=new U(-180,-90,180,90);D(d,V3);L(d,"geotoolkit.map.coordinatesystems.LatLon");d.prototype.transform=function(b,c,e,f){null==e&&(e=new N);!1!==f&&(b=W.clamp(b,-180,180),c=W.clamp(c,-90,90));return e.Da(b,c)};d.prototype.sc=function(b,c,e){null==e&&(e=new N);b=W.clamp(b,-180,180);c=W.clamp(c,-90,90);return e.Da(b,c)};d.G9c=function(b){if(0===b.length)return 0;if(-1===b.indexOf("\u00b0"))return+b;
var c=b[b.length-1].toUpperCase(),e=b.match(/^([\d]+\.?[\d]*)\u00b0 ?([\d]+\.?[\d]*)\u2032 ?([\d]+\.?[\d]*)\u2033/)||b.match(/^([\d]+\.?[\d]*)\u00b0 ?([\d]+\.?[\d]*)\u2032/)||b.match(/^([\d]+\.?[\d]*)\u00b0/),f=null!=e?e.length:0;b=1<f?+e[1]:0;var g=2<f?+e[2]:0;e=3<f?+e[3]:0;b=b+g/60+e/3600;return"S"===c||"W"===c?-b:b};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnZlcnNlVHJhbnNmb3JtIjoic2MifX19");var b4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f){V3.call(this,{epsg:f||3857,name:$3.VV,limits:a,units:Zd.ya().Xa("meters")})}var a=new U(-2.0037507067161843E7,-2.0037507067161843E7,2.0037507067161843E7,2.0037507067161843E7),b=a.ca()/360,c=a.da()/(2*Math.PI),e=Math.PI/360;D(d,V3);L(d,"geotoolkit.map.coordinatesystems.WebMercator");d.prototype.transform=function(f,g,h,k){null==h&&(h=new N);h.Da(f,g);!1!==k&&(-85>g?h.y=-85:85<g&&(h.y=85),-180>f?h.x=-180:180<f&&(h.x=180));h.x*=b;h.y=Math.log(Math.tan((90+h.y)*e));h.y*=
c;return h};d.prototype.sc=function(f,g,h){null==h&&(h=new N(f,g));h.x=f/b;h.y=g/c;h.y=(Math.atan(Math.exp(h.y))-Math.PI/4)/e;h.x=W.clamp(h.x,-180,180);h.y=W.clamp(h.y,-85,85);return h};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnZlcnNlVHJhbnNmb3JtIjoic2MifX19");var c4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(l,m){l=G(l,{zone:"number"===typeof l?l:null,southhemi:m,name:$3.QOb,limits:f,units:Zd.ya().Xa("meters")},!0);V3.call(this,l);this.rxb=l.zone;this.lZb=l.southhemi}function a(l){var m=(g-h)/(g+h);var n=(g+h)/2*(1+Math.pow(m,2)/4+Math.pow(m,4)/64);var p=-3*m/2+9*Math.pow(m,3)/16+-3*Math.pow(m,5)/32;var q=15*Math.pow(m,2)/16+-15*Math.pow(m,4)/32;var r=-35*Math.pow(m,3)/48+105*Math.pow(m,5)/256;m=315*Math.pow(m,4)/512;return l=n*(l+p*Math.sin(2*l)+q*Math.sin(4*l)+r*Math.sin(6*
l)+m*Math.sin(8*l))}function b(l,m,n,p){var q=(Math.pow(g,2)-Math.pow(h,2))/Math.pow(h,2);var r=q*Math.pow(Math.cos(l),2);q=Math.pow(g,2)/(h*Math.sqrt(1+r));var t=Math.tan(l);var u=t*t;m-=n;var w=1-u+r;n=5-u+9*r+4*r*r;var y=5-18*u+u*u+14*r-58*u*r;r=61-58*u+u*u+270*r-330*u*r;var z=61-479*u+179*u*u-u*u*u;u=1385-3111*u+543*u*u-u*u*u;w=q*Math.cos(l)*m+q/6*Math.pow(Math.cos(l),3)*w*Math.pow(m,3)+q/120*Math.pow(Math.cos(l),5)*y*Math.pow(m,5)+q/5040*Math.pow(Math.cos(l),7)*z*Math.pow(m,7);l=a(l)+t/2*q*Math.pow(Math.cos(l),
2)*Math.pow(m,2)+t/24*q*Math.pow(Math.cos(l),4)*n*Math.pow(m,4)+t/720*q*Math.pow(Math.cos(l),6)*r*Math.pow(m,6)+t/40320*q*Math.pow(Math.cos(l),8)*u*Math.pow(m,8);p.Da(w,l);return p}function c(l){var m=(g-h)/(g+h);var n=(g+h)/2*(1+Math.pow(m,2)/4+Math.pow(m,4)/64);l/=n;n=3*m/2+-27*Math.pow(m,3)/32+269*Math.pow(m,5)/512;var p=21*Math.pow(m,2)/16+-55*Math.pow(m,4)/32;var q=151*Math.pow(m,3)/96+-417*Math.pow(m,5)/128;m=1097*Math.pow(m,4)/512;return m=l+n*Math.sin(2*l)+p*Math.sin(4*l)+q*Math.sin(6*l)+
m*Math.sin(8*l)}function e(l,m,n,p){var q;m=c(m);var r=(Math.pow(g,2)-Math.pow(h,2))/Math.pow(h,2);var t=Math.cos(m);var u=r*Math.pow(t,2);var w=q=Math.pow(g,2)/(h*Math.sqrt(1+u));var y=Math.tan(m);var z=y*y;var x=z*z;r=1/(w*t);w*=q;var C=y/(2*w);w*=q;var A=1/(6*w*t);w*=q;var v=y/(24*w);w*=q;var B=1/(120*w*t);w*=q;var E=y/(720*w);w*=q;t=1/(5040*w*t);w*=q;q=y/(40320*w);w=-1-u;y=-1-2*z-u;var H=5+3*z+6*u-6*z*u-3*u*u-9*z*u*u;var F=5+28*z+24*x+6*u+8*z*u;u=-61-90*z-45*x-107*u+162*z*u;var I=-61-662*z-1320*
x-720*x*z;z=1385+3633*z+4095*x+1575*x*z;p.Da(n+r*l+A*y*Math.pow(l,3)+B*F*Math.pow(l,5)+t*I*Math.pow(l,7),m+C*w*l*l+v*H*Math.pow(l,4)+E*u*Math.pow(l,6)+q*z*Math.pow(l,8));return p}var f=new U(-2E7,-2E7,2E7,2E7),g=6378137,h=6356752.314,k=.9996;D(d,V3);L(d,"geotoolkit.map.coordinatesystems.UTM");d.prototype.transform=function(l,m,n){null==n&&(n=new N);n.Da(l,m);l=W.degToRad(-183+6*this.rxb);b(W.degToRad(n.y),W.degToRad(n.x),l,n);n.x=n.x*k+5E5;n.y*=k;0>n.y&&(n.y+=1E7);return n};d.prototype.tNd=function(){return this.rxb};
d.prototype.U5d=function(l){this.rxb=l;return this};d.prototype.S4d=function(l){this.lZb=l;return this};d.prototype.zQd=function(){return this.lZb};d.prototype.sc=function(l,m,n){null==n&&(n=new N);n.Da(l,m);l=W.degToRad(-183+6*this.rxb);n.x-=5E5;n.x/=k;this.lZb&&(n.y-=1E7);n.y/=k;e(n.x,n.y,l,n);n.x=W.radToDeg(n.x);n.y=W.radToDeg(n.y);return n};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRab25lIjoidE5kIiwic2V0Wm9uZSI6IlU1ZCIsInNldFNvdXRoZXJuSGVtaXNwaGVyZSI6IlM0ZCIsImlzU291dGhlcm5IZW1pc3BoZXJlIjoielFkIiwiaW52ZXJzZVRyYW5zZm9ybSI6InNjIn19fSAg");var d4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){this.Ewa={};this.LQa=null}var a=null;L(d,"geotoolkit.map.coordinatesystems.Registry");d.prototype.uk=function(b){if(b instanceof V3||null==b)return b;if("object"===typeof b)return null!=this.LQa?new this.LQa(b):null;null==this.Ewa[b]&&(this.Ewa[b]=this.swd(b));return this.Ewa[b]};d.prototype.swd=function(b){if(null==this.LQa)return null;var c=X3[b];if(null==c)return new this.LQa(b);if(null!=c.name&&null!=this.Ewa[c.name])return this.Ewa[c.name];c.epsg=b;return new this.LQa(c)};
d.prototype.A2c=function(b){this.LQa=b;return this};d.prototype.FXd=function(b){if(b instanceof V3)return null!=b.JB()&&(this.Ewa[b.JB()]=b),this;throw Error("Illegal system");};d.prototype.Wdc=function(b){if(b instanceof V3)return null!=b.JB()&&(this.Ewa[b.JB()]=b),this.Ewa[b.Ga()]=b,this;throw Error("Illegal system");};d.lg=function(){null==a&&(a=new d);return a};d.lg().Wdc(new a4);d.lg().Wdc(new b4);d.lg().Wdc(new c4(31,!0));return d}(),2,"eyJnZXREZWZhdWx0IjoibGciLCJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRDb29yZGluYXRlU3lzdGVtIjoidWsiLCJzZXREZWZhdWx0U3lzdGVtIjoiQTJjIiwicmVnaXN0ZXJDb29yZGluYXRlU3lzdGVtIjoiRlhkIn19fSAg");var e4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b,c){null==c&&(c=b.targetcoordinatesystem,b=b.initialcoordinatesystem);this.ovc=d4.lg().uk(b);this.oBc=d4.lg().uk(c)}var a=new N;L(d,"geotoolkit.map.coordinatesystems.Transformer");d.prototype.transform=function(b,c){return b instanceof N?this.Ma(b,c):b instanceof U?this.Ua(b,c):Array.isArray(b.x)&&Array.isArray(b.y)?this.$9c(b,c):b};d.prototype.Ma=function(b,c){c=this.xJ().sc(b.x,b.y,c);this.js().transform(c.x,c.y,c);return c};d.prototype.Ua=function(b,c){a.Da(b.getX(),
b.getY());this.Ma(a,a);var e=a.x,f=a.y;a.Da(b.na(),b.ma());this.Ma(a,a);null!=c?c.cb(e,f,a.x,a.y):c=new U(e,f,a.x,a.y);return c};d.prototype.$9c=function(b,c){var e=b.x;b=b.y;if(!Array.isArray(e)||!Array.isArray(b)||e.length!==b.length)return c;for(var f=[],g=[],h=0;h<e.length;++h)this.Ma(a.Da(e[h],b[h]),a),f.push(a.x),g.push(a.y);c=c||{};c.x=f;c.y=g;return c};d.prototype.a8=function(b){this.ovc=d4.lg().uk(b);return this};d.prototype.xJ=function(){return this.ovc};d.prototype.fNa=function(b){this.oBc=
d4.lg().uk(b);return this};d.prototype.js=function(){return this.oBc};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ0cmFuc2Zvcm1Qb2ludCI6Ik1hIiwidHJhbnNmb3JtUmVjdCI6IlVhIiwidHJhbnNmb3JtUG9seWdvbiI6IiQ5YyIsInNldEluaXRpYWxDb29yZGluYXRlU3lzdGVtIjoiYTgiLCJnZXRJbml0aWFsQ29vcmRpbmF0ZVN5c3RlbSI6InhKIiwic2V0VGFyZ2V0Q29vcmRpbmF0ZVN5c3RlbSI6ImZOYSIsImdldFRhcmdldENvb3JkaW5hdGVTeXN0ZW0iOiJqcyJ9fX0g");var f4=/*#__PURE__*/function(){function d(a){e4.call(this,{initialcoordinatesystem:a.initialcoordinatesystem||a,targetcoordinatesystem:d4.lg().uk($3.fK)})}D(d,e4);L(d,"geotoolkit.map.coordinatesystems.LatLonTransformer");d.prototype.transform=function(a,b){return this.xJ().sc(a.x,a.y,b)};return d}();var g4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e){e=G(e,{units:"metre",name:"TranverseMercator",spheroid:[6378137,298.2572236],latitudeoforigin:0,centralmeridian:0,falseeasting:0,falsenorthing:0,scalefactor:1},!0);V3.call(this,e);this.lX=new Y3(e.spheroid[0],1/e.spheroid[1]);this.Xma=W.degToRad(e.latitudeoforigin);this.M8a=W.degToRad(e.centralmeridian);this.M5a=e.falseeasting;this.N5a=e.falsenorthing;this.Dg=e.scalefactor;e=Zd.ya().Xa("metre").convert(this.lX.vp(),this.CR());var f=Zd.ya().Xa("metre").convert(this.lX.tt(),
this.CR());this.Qt=this.lX.XAb();f=(e-f)/e;f/=2-f;var g=f*f;this.tDa=e/(1+f)*(1+g/4+g*g/64);this.W4=[f/2-2/3*g+.3125*g*f+41/180*g*g,13/48*g-.6*g*f+557/1440*g*g,61/240*g*f-103/140*g*g,49561/161280*g*g];this.dva=[f/2-2/3*g+37/96*g*f-1/360*g*g,1/48*g+1/15*g*f-437/1440*g*g,17/480*g*f-37/840*g*g,4397/161280*g*g];this.J7a=0;Math.abs(this.Xma)>W.Tb&&(this.Xma===Math.PI/2?this.J7a=Math.PI/2*this.tDa:this.Xma===-Math.PI/2?this.J7a=Math.PI/2*-this.tDa:(e=b(Math.tan(this.Xma))-this.Qt*a(this.Qt*Math.sin(this.Xma)),
e=Math.atan(Math.sinh(e)),e=Math.asin(Math.sin(e)),e=e+this.W4[0]*Math.sin(2*e)+this.W4[1]*Math.sin(4*e)+this.W4[2]*Math.sin(6*e)+this.W4[3]*Math.sin(8*e),this.J7a=this.tDa*e))}function a(e){return.5*Math.log((1+e)/(1-e))}function b(e){return Math.log(e+Math.sqrt(e*e+1))}var c=10;D(d,V3);L(d,"geotoolkit.map.coordinatesystems.TransverseMercator");d.prototype.transform=function(e,f,g){null==g&&(g=new N);e=W.degToRad(e);f=W.degToRad(f);f=b(Math.tan(f))-this.Qt*a(this.Qt*Math.sin(f));var h=Math.atan(Math.sinh(f));
f=a(Math.cos(h)*Math.sin(e-this.M8a));h=Math.asin(Math.sin(h)*Math.cosh(f));e=h+this.W4[0]*Math.sin(2*h)*Math.cosh(2*f)+this.W4[1]*Math.sin(4*h)*Math.cosh(4*f)+this.W4[2]*Math.sin(6*h)*Math.cosh(6*f)+this.W4[3]*Math.sin(8*h)*Math.cosh(8*f);f=f+this.W4[0]*Math.cos(2*h)*Math.sinh(2*f)+this.W4[1]*Math.cos(4*h)*Math.sinh(4*f)+this.W4[2]*Math.cos(6*h)*Math.sinh(6*f)+this.W4[3]*Math.cos(8*h)*Math.sinh(8*f);f=this.M5a+this.Dg*this.tDa*f;e=this.N5a+this.Dg*(this.tDa*e-this.J7a);g.Da(f,e);return g};d.prototype.sc=
function(e,f,g){null==g&&(g=new N);e=(e-this.M5a)/(this.tDa*this.Dg);var h=(f-this.N5a+this.J7a*this.Dg)/(this.tDa*this.Dg);f=h-this.dva[0]*Math.sin(2*h)*Math.cosh(2*e)-this.dva[1]*Math.sin(4*h)*Math.cosh(4*e)-this.dva[2]*Math.sin(6*h)*Math.cosh(6*e)-this.dva[3]*Math.sin(8*h)*Math.cosh(8*e);e=e-this.dva[0]*Math.cos(2*h)*Math.sinh(2*e)-this.dva[1]*Math.cos(4*h)*Math.sinh(4*e)-this.dva[2]*Math.cos(6*h)*Math.sinh(6*e)-this.dva[3]*Math.cos(8*h)*Math.sinh(8*e);f=Math.asin(Math.sin(f)/Math.cosh(e));var k=
b(Math.tan(f));var l=k+this.Qt*a(this.Qt*Math.tanh(k));var m=0;do h=l,l=k+this.Qt*a(this.Qt*Math.tanh(l)),m++;while(Math.abs(l-h)>W.Tb&&m<c);h=Math.atan(Math.sinh(l));e=this.M8a+Math.asin(Math.tanh(e)/Math.cos(f));g.Da(W.radToDeg(e),W.radToDeg(h));return g};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnZlcnNlVHJhbnNmb3JtIjoic2MifX19");var h4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(k){if("string"===typeof k){var l=b(k);if(!l)throw Error("Coordinate system ("+k+") is not supported, use geotoolkit.map.coordinatesystems.Registry to register it manually.");k=l}k=G(k,{spheroid:[6378137,298.2572236],primem:0,spheroidunits:h,axis:[W3.Rc,W3.ue]},!0);l=new Y3(k.spheroid[0],1/k.spheroid[1]);k.limits=k.limits||new U(180*-l.vp(),180*-l.tt(),180*l.vp(),180*l.tt());V3.call(this,k);this.lX=l;null!=k.towgs84?(this.Wpb=k.towgs84[0]||0,this.Xpb=k.towgs84[1]||0,this.Ypb=
k.towgs84[2]||0,this.K9a=W.degToRad((k.towgs84[3]||0)/3600),this.OTa=W.degToRad((k.towgs84[4]||0)/3600),this.WGa=W.degToRad((k.towgs84[5]||0)/3600),this.baa=(k.towgs84[6]||0)/1E6+1,this.JFa=new a(this.lX)):(this.WGa=this.OTa=this.K9a=this.Ypb=this.Xpb=this.Wpb=0,this.baa=1,this.JFa=null);this.$Xb=k.primem;this.i$a=Zd.ya().Xa(k.spheroidunits);this.qsc=k.axis;k.limits=null;this.kQ=null!=k.zone&&null!=k.southhemi?new c4(k):null!=k.latitudeoforigin&&null!=k.centralmeridian&&null!=k.falseeasting&&null!=
k.falsenorthing?null!=k.standartparallel1&&null!=k.standartparallel2?new Z3(k):new g4(k):k.name===$3.VV||null!=k.centralmeridian&&null!=k.falseeasting&&null!=k.falsenorthing?new b4(k):new a4(k)}function a(k){this.lX=k;this.Qt=this.lX.XAb()}function b(k){if(!k)return null;var l={axis:[]},m;if(m=k.match(/SPHEROID\["[^"]+",\s*([-\.\d]+),\s*([-\.\d]+)/i))l.spheroid=[+m[1],+m[2]];if(m=k.match(/TOWGS84\[([-\.\d]+),([-\.\d]+),([-\.\d]+),([-\.\d]+),([-\.\d]+),([-\.\d]+)/i))l.towgs84=[+m[1],+m[2],+m[3],+m[4],
+m[5],+m[6]];if(m=k.match(/PRIMEM\["[^"]+",\s*([-\.\d]+)/i))l.primem=+m[1];var n=/UNIT\[["\s]*(\w+)["\s]*,\s*([-\.\d]+)/ig;if(m=n.exec(k)){var p=new Xd(m[1],["length"],m[1],"m",0,+m[2],1,0);(m=n.exec(k))?(l.spheroidunits=p.fa({baseunitsymbol:"degrees"}),l.units=new Xd(m[1],["length"],m[1],"m",0,+m[2],1,0)):l.units=p}(m=k.match(/AXIS\["x",["\s]*(\w+)["\s]*/i))?l.axis[0]=m[1].toLowerCase():l.axis[0]=W3.Rc;(m=k.match(/AXIS\["y",["\s]*([\w]+)["\s]*/i))?l.axis[1]=m[1].toLowerCase():l.axis[1]=W3.ue;if(m=
k.match(/PARAMETER\["standard_parallel_1",\s*([-\.\d]+)/i)||k.match(/PARAMETER\["Latitude of 1st standard parallel",\s*([-\.\d]+)/i))l.standartparallel1=+m[1];if(m=k.match(/PARAMETER\["standard_parallel_2",\s*([-\.\d]+)/i))l.standartparallel2=+m[1];if(m=k.match(/PARAMETER\["latitude_of_origin",\s*([-\.\d]+)/i))l.latitudeoforigin=+m[1];if(m=k.match(/PARAMETER\["longitude_of_origin",\s*([-\.\d]+)/i)||k.match(/PARAMETER\["Longitude of natural origin",\s*([-\.\d]+)/i))l.longitudeoforigin=+m[1];if(m=k.match(/PARAMETER\["central_meridian",\s*([-\.\d]+)/i))l.centralmeridian=
+m[1];if(m=k.match(/PARAMETER\["false_easting",\s*([-\.\d]+)/i)||k.match(/PARAMETER\["False easting",\s*([-\.\d]+)/i))l.falseeasting=+m[1];if(m=k.match(/PARAMETER\["false_northing",\s*([-\.\d]+)/i)||k.match(/PARAMETER\["False northing",\s*([-\.\d]+)/i))l.falsenorthing=+m[1];if(m=k.match(/PARAMETER\["scale_factor",\s*([-\.\d]+)/i))l.scalefactor=+m[1];return l}var c=1E-12,e=30,f=6378137,g=.006694379990141316;a.prototype.transform=function(k,l,m,n){n=n||{};l=W.degToRad(l);m=W.degToRad(m);var p=k?f:this.lX.vp();
k=k?g:this.Qt*this.Qt;var q=Math.sin(m);m=Math.cos(m);p/=Math.sqrt(1-k*q*q);n.x=p*m*Math.cos(l);n.y=p*m*Math.sin(l);n.z=p*(1-k)*q;return n};a.prototype.sc=function(k,l,m,n,p){p=p||{};var q=k?f:this.lX.vp();k=k?g:this.Qt*this.Qt;var r=Math.sqrt(l*l+m*m),t=Math.sqrt(l*l+m*m+n*n);if(r/q<c){if(l=0,t/q<c)return p}else l=Math.atan2(m,l);m=n/t;t=r/t;var u=1/Math.sqrt(1-k*(2-k)*t*t);var w=t*(1-k)*u;var y=m*u;var z=0;do{z++;var x=q/Math.sqrt(1-k*y*y);u=r*w+n*y-x*(1-k*y*y);x=k*x/(x+u);u=1/Math.sqrt(1-x*(2-
x)*t*t);x=t*(1-x)*u;u*=m;var C=u*w-x*y;w=x;y=u}while(C*C>c*c&&z<e);n=Math.atan(u/Math.abs(x));p.x=W.radToDeg(l);p.y=W.radToDeg(n);return p};var h=Zd.ya().Xa("degrees");D(d,V3);L(d,"geotoolkit.map.coordinatesystems.WKT");d.prototype.transform=function(k,l,m){null==m&&(m=new N);if(null!=this.JFa){var n=this.JFa.transform(!0,k,l,{});k=(n.x-this.Wpb)/this.baa;l=(n.y-this.Xpb)/this.baa;var p=(n.z-this.Ypb)/this.baa;n=k+this.WGa*l-this.OTa*p;var q=-this.WGa*k+l+this.K9a*p;k=this.OTa*k-this.WGa*l+p;m=this.JFa.sc(!1,
n,q,k,m)}else m.Da(k,l);m.x-=this.$Xb;-180>m.x&&(m.x+=360);m.x=h.convert(m.x,this.i$a);m.y=h.convert(m.y,this.i$a);m=this.kQ.transform(m.x,m.y,m);this.Z9c(m);return m};d.prototype.sc=function(k,l,m){null==m&&(m=new N);m.Da(k,l);this.Z9c(m);m=this.kQ.sc(m.x,m.y,m);m.x=this.i$a.convert(m.x,h);m.y=this.i$a.convert(m.y,h);m.x+=this.$Xb;180<m.x&&(m.x-=360);if(null!=this.JFa){var n=this.JFa.transform(!1,m.x,m.y,{});k=this.baa*(n.x-this.WGa*n.y+this.OTa*n.z)+this.Wpb;l=this.baa*(this.WGa*n.x+n.y-this.K9a*
n.z)+this.Xpb;n=this.baa*(-this.OTa*n.x+this.K9a*n.y+n.z)+this.Ypb;m=this.JFa.sc(!0,k,l,n,m)}return m};d.prototype.iLd=function(){return[this.lX.vp(),1/this.lX.gNc()]};d.prototype.pMd=function(){return[this.Wpb,this.Xpb,this.Ypb,this.K9a,this.OTa,this.WGa,this.baa]};d.prototype.AJd=function(){return this.$Xb};d.prototype.jLd=function(){return this.i$a};d.prototype.Z9c=function(k){var l=k.x,m=k.y;switch(this.qsc[0].toLowerCase()){case W3.lc:l=-k.x;break;case W3.ue:l=k.y;break;case W3.Ec:l=-k.y}switch(this.qsc[1].toLowerCase()){case W3.lc:m=
-k.x;break;case W3.Rc:m=k.x;break;case W3.Ec:m=-k.y}k.x=l;k.y=m};d.parse=function(k){return(k=b(k))?new d(k):null};d4.lg().A2c(d);return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnZlcnNlVHJhbnNmb3JtIjoic2MiLCJnZXRTcGhlcm9pZCI6ImlMZCIsImdldFRvV0dTODQiOiJwTWQiLCJnZXRQcmltZU1lcmlkaWFuIjoiQUpkIiwiZ2V0U3BoZXJvaWRVbml0cyI6ImpMZCJ9fX0g");var i4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.prototype.kc=Fb;d.prototype.getAttributes=Fb;d.prototype.$d=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRJZCI6ImtjIiwiZ2V0R2VvbWV0cnkiOiIkZCJ9fX0g");var j4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){this.Nm=a&&a.id||null;this.Tq=a&&a.attributes||{};this.Uc=a&&a.geometry||null;this.uuc=this.WG=null}d.Pa=Hb;mc(d,i4);L(d,"geotoolkit.map.features.AbstractFeature");d.prototype.vNa=function(){return Cb(this)};d.prototype.Ba=function(a){this.Nm=a.Nm;this.Tq=a.Tq;this.Uc=a.Uc;this.WG=a.WG;return this};d.prototype.kc=function(){return this.Nm};d.prototype.Fd=function(a){this.Nm=a;return this};d.prototype.$d=function(a){return a&&null!=this.WG?this.WG:this.Uc};d.prototype.Fm=
function(a){this.WG=a;return this};d.prototype.dza=function(){return this.uuc||this.$d(!0)};d.prototype.z3d=function(a){this.uuc=a;return this};d.prototype.mXa=function(){return this.rvc=this.rvc||{}};d.prototype.getAttributes=function(){return this.Tq};d.prototype.f0d=function(a){this.Tq=a;return this};d.prototype.CY=function(){return!1};d.prototype.j7=function(){return!0};d.prototype.NU=function(){return!1};d.prototype.WF=Fb;return d}(),2,"eyJnZXRDbGFzc05hbWUiOiJQYSIsInByb3RvdHlwZSI6eyJzIjowLCJjIjp7InNoYWxsb3dDbG9uZSI6InZOYSIsImNvcHlDb25zdHJ1Y3RvciI6IkJhIiwiZ2V0SWQiOiJrYyIsImdldEdlb21ldHJ5IjoiJGQiLCJhcHBseU1hcENTIjoiV0YifX19");var k4=/*#__PURE__*/function(){function d(){}d.prototype.apply=Fb;return d}();var l4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}L(d,"geotoolkit.map.util.Geometry");d.YQ=function(a){a.$j||(a.$j={});a.$j.Tzb||(a.$j.Tzb=Array.isArray(a.x)?Hd.getBoundingBox(a.x,a.y):new U(a.x,a.y,a.x,a.y));return a.$j.Tzb};d.yUc=function(a){var b=0,c=a.x;a=a.y;for(var e=c.length-1,f=0;f<c.length;e=f++)b+=(c[f]-c[e])*(a[f]+a[e]);return 0<b};return d}(),2,"eyJnZXRDYWNoZWRHZW9tZXRyeUJvdW5kcyI6IllRIiwiaXNDbG9ja3dpc2UiOiJ5VWMifSAg");var m4=/*#__PURE__*/ta(/*#__PURE__*/{vcd:"Centroid",soc:"Incenter",amc:"CentroidOrIncenter",HNb:"Mixed"},2,"eyJDZW50cm9pZCI6InZjZCIsIkluY2VudGVyIjoic29jIiwiQ2VudHJvaWRPckluY2VudGVyIjoiYW1jIiwiTWl4ZWQiOiJITmIifSAg"),n4=/*#__PURE__*/function(){function d(c,e,f,g){this.x=c;this.y=e;this.size=f;this.geometry=g;this.iOd();this.max=this.distance+f*Math.SQRT2}function a(c){this.Be=c||a.sw.HNb}var b=1024;mc(a,k4);L(a,"geotoolkit.map.features.adapters.Center");a.sw=m4;d.prototype.iOd=function(){for(var c=!1,e=Infinity,f=this.geometry.x.length,g=0,h=f-1;g<f;h=g++)this.geometry.y[g]>this.y!==this.geometry.y[h]>this.y&&this.x<this.geometry.x[g]+(this.geometry.x[h]-
this.geometry.x[g])*(this.y-this.geometry.y[g])/(this.geometry.y[h]-this.geometry.y[g])&&(c=!c),e=Math.min(e,this.qia(this.x,this.y,this.geometry.x[h],this.geometry.y[h],this.geometry.x[g],this.geometry.y[g]));this.distance=(c?1:-1)*Math.sqrt(e)};d.prototype.split=function(){var c=this.size/2;return[new d(this.x-c,this.y-c,c,this.geometry),new d(this.x+c,this.y-c,c,this.geometry),new d(this.x-c,this.y+c,c,this.geometry),new d(this.x+c,this.y+c,c,this.geometry)]};d.prototype.qia=function(c,e,f,g,h,
k){var l=h-f,m=k-g,n=f,p=g;if(0!==l||0!==m)f=((c-f)*l+(e-g)*m)/(l*l+m*m),1<f?(n=h,p=k):0<f&&(n+=f*l,p+=f*m);l=c-n;m=e-p;return l*l+m*m};d.BCd=function(c){for(var e=0,f=0,g=0,h=c.x.length,k=0,l=h-1;k<h;l=k++){var m=c.x[k]*c.y[l]-c.x[l]*c.y[k];f+=(c.x[k]+c.x[l])*m;g+=(c.y[k]+c.y[l])*m;e+=3*m}return new d(f/e,g/e,0,c)};d.uFb=function(c,e){for(var f=0,g=c.length-1,h;f<=g;)if(h=f+g>>1,c[h].max>e.max)g=h-1;else if(c[h].max<e.max)f=h+1;else{f=h;break}c.splice(f,0,e)};a.prototype.apply=function(c,e,f){if(!c.$j||
!c.$j.anchor)switch(c.$j=c.$j||{},c.x.length){case 0:c.$j.anchor={x:0,y:0};break;case 1:c.$j.anchor={x:c.x[0],y:c.y[0]};break;case 2:case 3:c.$j.anchor={x:(c.x[0]+c.x[1])/2,y:(c.y[0]+c.y[1])/2};break;default:f=d.BCd(c);var g=[],h=d.uFb.bind(null,g),k=l4.YQ(c),l=Math.min(k.da(),k.ca())/100;if(this.Be===a.sw.soc||this.Be===a.sw.amc&&0>f.distance){var m=Math.max(k.da(),k.ca())/2;h(new d(k.hc(),k.Dc(),m,c))}else this.Be===a.sw.HNb&&(m=Math.min(k.da(),k.ca())/10+Math.max(0,-f.distance),h(new d(f.x,f.y,
m,c)));if(0<l)for(;0<g.length&&g.length<b;)k=g.pop(),k.distance>f.distance&&(f=k),k.max-f.distance>l&&k.split().forEach(h);c.$j.anchor={x:f.x,y:f.y}}e.Jb(c.$j.anchor.x,c.$j.anchor.y)};return a}();var o4=/*#__PURE__*/function(){function d(b){this.WD=5;this.XD=0;this.setOptions(b)}var a=new Ud;mc(d,k4);L(d,"geotoolkit.map.features.adapters.Edge");d.prototype.setOptions=function(b){if(!b||!b.offset)return this;void 0!==b.offset.x&&(this.WD=b.offset.x);void 0!==b.offset.y&&(this.XD=b.offset.y);return this};d.prototype.apply=function(b,c,e){var f=this.WD,g=this.XD,h=b.x[0]>b.x[b.x.length-1]?0:b.x.length-1;null==e||0===f&&0===g?c.Jb(b.x[h],b.y[h]):(e=e instanceof X?e:e.Ea(),a.setSize(f,g),e.pl(a,a),c.Jb(b.x[h]+
W.sign(f)*a.ca(),b.y[h]+W.sign(g)*a.da()))};return d}();var p4=/*#__PURE__*/function(){function d(){}d.prototype.apply=Fb;return d}();var q4=/*#__PURE__*/function(){function d(){}mc(d,p4);L(d,"geotoolkit.map.features.adapters.LineString");d.prototype.apply=function(a,b,c){b.ne(a.x,a.y)};return d}();var r4=/*#__PURE__*/function(){function d(){}mc(d,p4);L(d,"geotoolkit.map.features.adapters.Path");d.prototype.apply=function(a,b,c){b.clear();d.r1b(a,b)};d.r1b=function(a,b,c,e,f){var g,h=a.x,k=a.y,l=null,m=null,n=f?f.xXc(h[0],k[0]):null,p=!1;b.moveTo(h[0],k[0]);for(g=1;g<h.length;++g)if(e&&f){var q=f.xXc(h[g],k[g]);if(n&q)p=!0;else{n=q;p&&(b.lineTo(h[g-1],k[g-1]),p=!1);q=(h[g]-f.getX())/e.ca()|0;var r=(k[g]-f.getY())/e.da()|0;if(q!==l||r!==m)b.lineTo(h[g],k[g]),l=q,m=r}}else b.lineTo(h[g],k[g]);c&&(p&&b.lineTo(h[h.length-
1],k[k.length-1]),b.closePath());if(null!=a.clip)for(g=a.clip[0]instanceof U?1:0;g<a.clip.length;++g)d.r1b(a.clip[g],b,c,e,f)};return d}();var s4=/*#__PURE__*/function(){function d(b){this.WD=b&&b.offset&&b.offset.x||0;this.XD=b&&b.offset&&b.offset.y||0}var a=new Ud;mc(d,p4);mc(d,k4);L(d,"geotoolkit.map.features.adapters.Point");d.prototype.setOptions=function(b){if(!b||!b.offset)return this;void 0!==b.offset.x&&(this.WD=b.offset.x);void 0!==b.offset.y&&(this.XD=b.offset.y);return this};d.prototype.apply=function(b,c,e){if(e){var f=this.WD+(b.offset?b.offset.x:0),g=this.XD+(b.offset?b.offset.y:0);0!==f||0!==g?(a.setSize(f,g),e=e instanceof X?e:e.Ea(),
e.pl(a,a),c.Jb(b.x+W.sign(f)*a.ca(),b.y+W.sign(g)*a.da())):c.Jb(b.x,b.y)}else c.Jb(b.x,b.y)};return d}();var t4=/*#__PURE__*/function(){function d(){}function a(e,f){var g=e.x;e=e.y;var h=Math.min(g.length,e.length);if(0<h){f.moveTo(g[0],e[0]);for(var k=1;k<h;++k)f.lineTo(g[k],e[k]);f.close()}}var b=null,c=new Ud;mc(d,p4);L(d,"geotoolkit.map.features.adapters.Polygon");d.prototype.apply=function(e,f,g){f.ne(e.x,e.y);if(null==e.clip||null==g)f.ep(null);else{null==b?b=new Ne(new Fd,!0):b.$d().clear();var h=0,k=b.$d();if(e.clip[0]instanceof U){h=g instanceof X?g:g.Ea();g=e.clip[0];h.pl(c.setSize(1,1),c);h=g.x-c.ca();
var l=g.na()+c.ca(),m=g.y-c.da();g=g.ma()+c.da();k.moveTo(h,m);k.lineTo(l,m);k.lineTo(l,g);k.lineTo(h,g);k.lineTo(h,m);k.close();h=1}for(;h<e.clip.length;++h)a(e.clip[h],k);f.ep(b)}};return d}();var u4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){j4.call(this,b)}var a=new N;D(d,j4);L(d,"geotoolkit.map.features.Point");d.prototype.WF=function(b){this.WG={};a.Da(this.Uc.x,this.Uc.y);b.uda(a,a);this.WG.x=a.getX();this.WG.y=a.getY();return this};d.prototype.j7=function(){return!1};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiV0YiLCJpc011bHRpQ29vcmRpbmF0ZXMiOiJqNyJ9fX0g");var v4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c,e){for(var f=[],g=0;g<e;g++)f[g]=[];var h=0;c.forEach(function(k){f[h].push(k);h=(h+1)%e});return f}function a(c){u4.call(this,c);this.zj=[];this.wua=!1;this.Nd=c&&c.node||null;this.rx=c&&c.parent||null;this.i_=c&&c.l1b||b;this.isc=c&&null!=c.arc?c.arc:2*Math.PI;this.LS=c&&null!=c.angle?c.angle:Math.PI/2;this.asc=c&&c.vxa||null}var b=Hg.zi([]);D(a,u4);L(a,"geotoolkit.map.features.Aggregation");a.prototype.mya=function(){return this.i_};a.prototype.WF=function(c){this.getParent()||
this.i_.forEach(function(e){e.WF(c)});return u4.prototype.WF.call(this,c)};a.prototype.hHb=function(c){this.i_=c;return this};a.prototype.V7=function(c){var e;if(this.M6b()===c)return this;if(c){var f=0;for(e=this;null!=e.getParent();)e=e.getParent(),f++;var g=e.ub().u5b(f);var h=e.ub().Lx(f);if(0===this.zj.length&&1<this.kc()){if(null==this.getParent())g=Math.min(+this.kc(),g);else{var k=0,l=this.getParent().Df();for(e=0;e<l.length;e++){var m=Math.min(+l[e].kc(),g);k<m&&(k=m)}g=k}this.qwd(g,h,f)}}else for(e=
0;e<this.zj.length;e++)this.zj[e].V7(!1);this.wua=c;null!=this.ub()&&this.ub().V7(c);return this};a.prototype.M6b=function(){return this.wua};a.prototype.ub=function(){return this.Nd};a.prototype.Df=function(){return this.zj};a.prototype.getParent=function(){return this.rx};a.prototype.Xg=function(){return null==this.getParent()?0:this.getParent().Xg()+1};a.prototype.qwd=function(c,e,f){var g=this.$d(!0);c=Math.min(+this.kc(),c);var h=this.isc/c,k=this.LS-h*(c-1)/2;e*=f+1;f=d(this.mya(),c);for(var l=
0;l<c;l++)this.zj.push(new a({l1b:Hg.zi(f[l]),vxa:this.asc,arc:this.isc/c,angle:k,parent:this,id:f[l].length,geometry:{x:g.x,y:g.y,offset:{x:Math.cos(k)*e,y:Math.sin(k)*e}},attributes:{}})),k+=h};a.prototype.TKc=function(){return this.asc};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBZ2dyZWdhdGlvbiI6Im15YSIsImFwcGx5TWFwQ1MiOiJXRiIsInNldEV4cGFuZGVkIjoiVjcifX19");var w4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=a?gc(a):{};this.Xr=a.shape;this.wu=a.shapecallback;this.Y5a=a.geometrytoshape;this.aTb=a.geometrytotext;this.Bb=a.textshape||new ek({preservereadingorientation:!0,ispointingup:!0});this.rBc=a.textstrategy;a.textsizeinfo&&(this.A$a=a.textsizeinfo,this.Bb.wk(ck.QZ));null!=this.Xr&&null==this.Xr.HWa()&&this.Xr.xb(!1);this.Bb.xb(!1)}L(d,"geotoolkit.map.features.templates.BaseTemplate");d.prototype.ta=function(){hb("BaseTemplate.getOptions() deprecated since 2021.1 (3.3) use getProperties() instead");
return this.ia()};d.prototype.ia=function(){var a={};a.shape=this.Xr;a.geometrytoshape=this.Y5a;a.geometrytotext=this.aTb;a.textshape=this.Bb;return a};d.prototype.setOptions=function(a){hb("BaseTemplate.setOptions() deprecated since 2021.1 (3.3) use setProperties() instead");return this.fa(a)};d.prototype.fa=function(a){if(null==a)return this;null!=a.shape&&(this.Xr=a.shape);null!=a.geometrytoshape&&(this.Y5a=a.geometrytoshape);null!=a.geometrytotext&&(this.aTb=a.geometrytotext);null!=a.textshape&&
(this.Bb=a.textshape);void 0!==a.textstrategy&&(this.rBc=a.textstrategy);null!=a.textsizeinfo?this.A$a=a.textsizeinfo:null!=a.textshape&&(this.A$a=null);void 0!==a.shapecallback&&this.D0a(a.shapecallback);return this};d.prototype.D0a=function(a){this.wu=a;return this};d.prototype.Gb=function(){return this.Xr};d.prototype.Wha=function(){return this.Y5a};d.prototype.fR=function(){return this.aTb};d.prototype.bl=function(a){if(a&&this.A$a){var b=this.A$a;a=W.clamp(+a.getAttributes()[b.field],b.mindatavalue,
b.maxdatavalue);a=Math.round(b.minsize+(b.maxsize-b.minsize)*(a-b.mindatavalue)/(b.maxdatavalue-b.mindatavalue));this.Bb.$a(a)}return this.Bb};d.prototype.oza=function(){return this.wu};d.prototype.xza=function(){return this.rBc};d.prototype.qSc=function(){return this.A$a};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJzZXRTaGFwZUNhbGxiYWNrIjoiRDBhIiwiZ2V0U2hhcGUiOiJHYiIsImdldEdlb21ldHJ5VG9TaGFwZSI6IldoYSIsImdldEdlb21ldHJ5VG9UZXh0IjoiZlIiLCJnZXRUZXh0U2hhcGUiOiJibCIsImdldFNoYXBlQ2FsbGJhY2siOiJvemEiLCJnZXRUZXh0U3RyYXRlZ3kiOiJ4emEifX19");var x4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f){f=f||{};f.shape=f.shape||new Km(0,0,25,25,O.Oa,!0,$m,new Y("black"),new rf("white"));f.textshape=f.textshape||new ek({textstyle:"white",preservereadingorientation:!0,ispointingup:!0});f.geometrytoshape=f.geometrytoshape||new s4;f.geometrytotext=f.geometrytotext||f.geometrytoshape;w4.call(this,f);this.xqb=f.expandedshape||new Km(0,0,25,25,O.Oa,!0,$m,new Y("black"),new rf("green"));this.wqb=f.expandedline||new Bk;this.wqb.Cr({from:new N,to:new N});this.Ac=f.colorprovider||
null;this.ZRb=this.RMc(f);this.kSb=f.expandedcolorprovider||new Po({values:[0,1,2],colors:[new xd(255,0,0,255),new xd(0,255,0,255),new xd(0,0,255,255)]});this.D0a(f.shapecallback)}function a(f){if("function"===typeof f)return f;if("string"===typeof f){var g,h=function(k){g+=+k.getAttributes()[f]||0};return function(k){g=0;k.mya().forEach(h);return g}}return b}function b(f){return+f.kc()}function c(f,g){return f-g}var e=new Ti;D(d,w4);L(d,"geotoolkit.map.features.templates.Aggregation");d.prototype.fa=
function(f){f=jc(f);if(null==f)return this;w4.prototype.fa.call(this,f);if(void 0!==f.size||void 0!==f.color)this.ZRb=this.RMc(f);void 0!==f.expandedshape&&(this.xqb=f.expandedshape);void 0!==f.colorprovider&&(this.Ac=f.colorprovider);void 0!==f.expandedcolorprovider&&(this.kSb=f.expandedcolorprovider);void 0!==f.expandedline&&(this.wqb=f.expandedline);return this};d.prototype.ia=function(){var f=w4.prototype.ia.call(this);f.expandedshape=this.xqb;f.colorprovider=this.Ac;f.expandedcolorprovider=this.kSb;
f.expandedline=this.wqb;return f};d.prototype.NEd=function(){return this.xqb};d.prototype.MEd=function(f,g,h){this.Y5a.apply(g.dza(),e,h);g=e.al();this.Y5a.apply(f,e,h);f=e.al();return this.wqb.Cr({from:g,to:f})};d.prototype.D0a=function(f){w4.prototype.D0a.call(this,function(g,h,k){if(null!=this.ZRb){var l=k&&!k.fc();this.ZRb(g,h,l)}null!=f&&f.call(this,g,h,k)}.bind(this));return this};d.prototype.RMc=function(f){if(!f)return null;if(f.size&&Array.isArray(f.size.range)&&1<f.size.range.length){var g=
f.size.range;this.Jkd=g[0]<g[g.length-1];this.iTb=a(f.size.field);this.ima=g.sort(c)}f.color&&(Array.isArray(f.color.range)&&1<f.color.range.length||f.color.range instanceof Mo)&&(this.vuc=a(f.color.field),this.hma=f.color.range);var h=null!=this.vuc?function(l,m){null==m.WEb&&(m.WEb=Infinity);null==m.MEb&&(m.MEb=-Infinity);var n=this.vuc(l);n<m.WEb&&(m.WEb=n);n>m.MEb&&(m.MEb=n);l.getAttributes().colorData=n}.bind(this):null,k=f.shape.getSize();return function(l,m,n){var p=l.getAttributes();this.CUc()&&
null!=p.size?m.setSize(p.size,p.size):m.setSize(k);if(n){if(m===this.xqb)var q=this.kSb.mb(l.Xg());else null!=this.Ac?q=this.Ac.mb(l.kc()):null!=h&&l.TKc()&&(q=l.TKc().Gq(h),q=Array.isArray(this.hma)?this.zEd(p.colorData,q.WEb,q.MEb):this.hma.mb(p.colorData));null!=q&&((p=m.eb())?p.setColor(q):m.ra(q))}}.bind(this)};d.prototype.CUc=function(){return null!=this.iTb};d.prototype.DHd=function(){return this.ima[this.ima.length-1]};d.prototype.qLd=function(f,g){f=this.iTb(f);this.iTb===b&&f<g&&(f=g);return this.Jkd?
f:-f};d.prototype.D6b=function(f,g,h){if(g===h)f=.5;else{if(f>=h)return this.ima[this.ima.length-1];if(f<=g)return this.ima[0];f=(f-g)/(h-g)}g=f*(this.ima.length-1);f=g%1;if(0===f)return this.ima[g];g-=f;h=g+1;return(1-f)*this.ima[g]+f*this.ima[h]};d.prototype.zEd=function(f,g,h){if(g===h)f=.5;else{if(f>=h)return this.hma[this.hma.length-1];if(f<=g)return this.hma[0];f=(f-g)/(h-g)}h=f*(this.hma.length-1);f=h%1;if(0===f)return this.hma[h];g=Pd.Rg(this.hma[h-f]);var k=Pd.Rg(this.hma[h-f+1]);h=(1-f)*
g.Xj()+f*k.Xj();var l=(1-f)*g.Wj()+f*k.Wj(),m=(1-f)*g.Vj()+f*k.Vj();f=(1-f)*g.Ik()+f*k.Ik();return"rgba("+h+","+l+","+m+","+f/255+")"};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRTaGFwZUNhbGxiYWNrIjoiRDBhIn19fSAg");var y4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){te.call(this);this.ss=[]}D(d,te);L(d,"geotoolkit.map.features.converters.BaseConverter");d.prototype.vja=function(a){if(0===this.ss.length)return this.ss=a,null;for(var b=0;b<a.length;++b)this.ss.push(a[b]);return null};d.prototype.KB=function(a){function b(f){return Array.isArray(f.x)?c.Dd(l4.YQ(f)):c.contains(f.x,f.y)}var c=a.bbox,e=a.filter;return this.ss.filter(function(f){var g=f.$d(!0);return Array.isArray(g)?g.some(b)&&(e?e(f):!0):b(g)&&(e?e(f):!0)})};d.prototype.oja=
function(a){if(a instanceof Hg)a.forEach(function(c){b=this.ss.indexOf(c);~b&&this.ss.splice(b,1)}.bind(this));else{var b=this.ss.indexOf(a);~b&&this.ss.splice(b,1)}return this};d.prototype.clear=function(){this.ss=[];return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzYXZlQ29udmVydGVkRmVhdHVyZXMiOiJ2amEiLCJnZXRGZWF0dXJlcyI6IktCIiwicmVtb3ZlRmVhdHVyZXMiOiJvamEifX19");var z4=/*#__PURE__*/ta(/*#__PURE__*/{Eka:"FeaturesUpdated"},2,"eyJGZWF0dXJlc1VwZGF0ZWQiOiJFa2EifSAg");var A4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(p){y4.call(this);this.NW=1;this.$i=2;this.Vf=!0;this.Ay=0;this.EPb=3;this.Fc=30;this.Gd={options:{},response:null};this.zn=this.LT=null;this.aCc=function(q){this.Gd.response=this.dBb(this.Gd.options);this.Gd.timeout=null;this.notify(z4.Eka,this,q)}.bind(this);this.setOptions(p)}function a(p,q,r,t,u,w){this.AA=Array.isArray(p)?p:[p];p=this.AA[0].$d(!0);this.point=null!=r?r:p[0]||p;this.Hk=null!=t?t:new U(this.point.x,this.point.y,this.point.x,this.point.y);this.parent=
null!=u?u:null;this.size=null!=w?w:0;this.options=q;this.right=this.left=null;this.zzb=!1;this.fE=this.H0=this.Fu=this.Ch=null}function b(p,q){this.elements=[p,q];this.iterator=new Kg(p.AA,q.AA);this.weight=p.AA.length+q.AA.length;this.point=h(p.point,p.AA.length,q.point,q.AA.length);this.vxa=p.options.vxa;this.fE=this.H0=this.Fu=this.Ch=null}function c(p,q,r){this.Wb=p.DHd()/r;this.sod=q;this.Aga=p;this.Dg=r*r*4;this.Vc={};this.GVb=this.YVb=null}function e(p){this.Wb=p;this.zqd=p*p;this.Vc={}}function f(p,
q){p&&(q=p.indexOf(q),-1!==q&&p.splice(q,1))}function g(p,q,r){for(var t=0,u=p.length-1,w;t<=u;){w=t+u>>1;var y=r(p[w],q);if(0<y)u=w-1;else if(0>y)t=w+1;else{t=w;break}}p.splice(t,0,q);return t}function h(p,q,r,t){return{x:(p.x*q+r.x*t)/(q+t),y:(p.y*q+r.y*t)/(q+t)}}function k(p,q){return q.H0-p.H0}function l(p,q){return p.size>q.size?1:p.size<q.size?-1:p.point.x>q.point.x?1:p.point.x<q.point.x?-1:p.point.y>q.point.y?1:p.point.y<q.point.y?-1:0}var m=new v4;e.prototype.remove=function(p){this.Vc[p.Ch][p.Fu]=
null};e.prototype.add=function(p){p.Ch=Math.floor(p.point.x/this.Wb);p.Fu=Math.floor(p.point.y/this.Wb);this.Vc[p.Ch]=this.Vc[p.Ch]||{};if(this.Vc[p.Ch][p.Fu]){var q=this.Vc[p.Ch][p.Fu];this.Vc[p.Ch][p.Fu]=n.union(q,p);this.Vc[p.Ch][p.Fu].Ch=p.Ch;this.Vc[p.Ch][p.Fu].Fu=p.Fu;return q}this.Vc[p.Ch][p.Fu]=p;return null};e.prototype.Nkb=function(p,q){for(var r=null,t=Infinity,u=p.Ch-1;u<=p.Ch+1;u++)if(this.Vc[u])for(var w=p.Fu-1;w<=p.Fu+1;w++)if(this.Vc[u][w]&&this.Vc[u][w]!==p){var y=p.point.x-this.Vc[u][w].point.x,
z=p.point.y-this.Vc[u][w].point.y;y=y*y+z*z;y<t&&y<this.zqd&&(t=y,r=this.Vc[u][w])}return null!=r?(this.Vc[p.Ch]&&(this.Vc[p.Ch][p.Fu]=null),this.Vc[r.Ch][r.Fu]=null,q&&f(q,r),p=n.union(p,r),r=this.add(p),q&&r&&f(q,r),this.Nkb(p,q)||p):null};e.prototype.forEach=function(p){for(var q=this.Vc,r=Object.keys(q),t=0;t<r.length;++t)for(var u=Object.keys(q[r[t]]),w=0;w<u.length;++w)q[r[t]][u[w]]&&p(q[r[t]][u[w]])};c.prototype.remove=function(p){f(this.Vc[p.Ch][p.Fu],p)};c.prototype.add=function(p){p.Ch=
Math.floor(p.point.x/this.Wb);p.Fu=Math.floor(p.point.y/this.Wb);p.H0=this.Aga.qLd(p.HJb(m),this.sod);this.Vc[p.Ch]=this.Vc[p.Ch]||{};this.Vc[p.Ch][p.Fu]=this.Vc[p.Ch][p.Fu]||[];this.Vc[p.Ch][p.Fu].push(p);return null};c.prototype.v2c=function(p,q){this.YVb=p;this.GVb=q;return this};c.prototype.Nkb=function(p,q,r){for(var t=r?0:this.Aga.D6b(p.H0,this.YVb,this.GVb),u=p,w=!1,y=p.Ch-1;y<=p.Ch+1;y++)if(this.Vc[y])for(var z=p.Fu-1;z<=p.Fu+1;z++)if(this.Vc[y][z])for(var x=0;x<this.Vc[y][z].length;){var C=
this.Vc[y][z][x];if(C===p)x++;else{var A=this.Aga.D6b(C.H0,this.YVb,this.GVb),v=u.point.x-C.point.x,B=u.point.y-C.point.y;v=(v*v+B*B)*this.Dg;A=t+A;v<A*A?(u=n.union(u,C),w=!0,q&&f(q,C),this.Vc[y][z].splice(x,1)):x++}}return w?(q&&f(q,p),this.Vc[p.Ch]&&f(this.Vc[p.Ch][p.Fu],p),r&&(u.fE=p.fE),this.add(u),u):null};c.prototype.forEach=function(p){for(var q=this.Vc,r=Object.keys(q),t=0;t<r.length;++t)for(var u=Object.keys(q[r[t]]),w=0;w<u.length;++w)q[r[t]][u[w]]&&q[r[t]][u[w]].forEach(p)};b.prototype.Hgb=
function(){return!0};b.prototype.V7=function(p){for(var q=0;q<this.elements.length;q++)this.elements[q].V7(p)};b.prototype.zPc=function(){return this.elements[0].zPc()};b.prototype.u5b=function(p){return this.elements[0].u5b(p)};b.prototype.Lx=function(p){return this.elements[0].Lx(p)};b.prototype.Rab=function(p){if(p.Hgb())for(var q=0;q<p.elements.length;++q)this.iterator.concat(p.elements[q].AA),this.elements.push(p.elements[q]);else this.elements.push(p),this.iterator.concat(p.AA);this.point=h(p.point,
p.lqa(),this.point,this.weight);this.weight+=p.lqa();return this};b.prototype.HJb=function(p){return p?p.Fd(this.lqa()).Fm(this.point).hHb(this.iterator):new v4({geometry:this.point,id:this.lqa(),attributes:null!=this.fE?{size:this.fE}:{},l1b:this.iterator,vxa:this.vxa,node:this})};b.prototype.lqa=function(){return this.weight};b.union=function(p,q){return p.Hgb()?p.Rab(q):q.Hgb()?q.Rab(p):new b(p,q)};var n=b;a.prototype.Hgb=function(){return!1};a.prototype.V7=function(p){this.zzb=p};a.prototype.zPc=
function(){return this.options.nSd};a.prototype.u5b=function(p){if("number"===typeof this.options.Jxb)return this.options.Jxb;p=Math.min(p,this.options.Jxb.length-1);return this.options.Jxb[p]};a.prototype.Lx=function(p){if("number"===typeof this.options.radius)return this.options.radius;p=Math.min(p,this.options.radius.length-1);return this.options.radius[p]};a.prototype.lqa=function(){return this.AA.length};a.prototype.Js=function(p,q,r,t,u){var w=u.filter;if(!t)return this.AA.filter(function(A){var v=
A.$d(!0);return(p?p.contains(v[0]||v):!0)&&(w?w(A):!0)});var y=[this];for(t=new e(q);0<y.length;){var z=y.pop();if(!p||z.Hk.Dd(p))z.size<=q?t.add(z):(y.push(z.left),y.push(z.right))}var x=[];t.forEach(function(A){x.push(A)});for(x.sort(l);0<x.length;)t.Nkb(x.pop(),x);q=u.layer;q=null==q||q.te()||null==q.Ydb?null:q.Ydb(v4.Pa());q instanceof x4&&(t=this.Nsd(t,q,r,u.scale));if(2<r)var C=this.Qsd(t,r);else C=[],t.forEach(function(A){C.push(A.HJb())});return w?C.filter(w):C};a.prototype.Nsd=function(p,
q,r,t){if(!q.CUc())return p;var u=new c(q,r,t),w=[];p.forEach(function(x){u.add(x);w.push(x);x.checked=!1});if(0===w.length)return p;w.sort(k);r=w[w.length-1].H0;t=w[0].H0;u.v2c(r,t);for(p=0;p<w.length;){var y=w[p];if(y.checked)p++;else{var z=u.Nkb(y,w);if(z){y=g(w,z,k);if(t>w[0].H0||r<w[w.length-1].H0){for(p=0;p<w.length;p++)w[p].checked=!1;p=0}else p=Math.min(p,y);t=w[0].H0;r=w[w.length-1].H0;u.v2c(r,t)}else y.checked=!0,p++}}for(p=0;p<w.length;p++)w[p].fE=q.D6b(w[p].H0,r,t);return u};a.prototype.addElement=
function(p){var q=p.$d(!0);q=q[0]||q;for(var r=this.kwd(q);null!=r.parent&&r.parent.size<r.Y6d(q);)r=r.parent;var t=new a(r.AA.slice(),this.options,r.point,r.Hk.clone(),r,r.size),u=new a(p,this.options,q,null,r,0);null!=r.left&&(t.left=r.left,t.right=r.right,t.left.parent=t,t.right.parent=t);r.left=t;r.right=u;do r.Kcb(q),r.point=h(r.point,r.AA.length,q,1),r.size=Math.max(r.Hk.da(),r.Hk.ca()),r.AA.push(p),r=r.parent;while(null!=r)};a.prototype.HJb=function(p){return null!=p?p.Fd(this.lqa()).Fm(this.point).hHb(this.AA):
1===this.AA.length?this.AA[0]:new v4({geometry:this.point,id:this.lqa(),attributes:null!=this.fE?{size:this.fE}:{},l1b:Hg.zi(this.AA),vxa:this.options.vxa,node:this})};a.prototype.Qsd=function(p,q){function r(A){C.push(A.HJb())}function t(A){for(var v=[A];0<v.length;)A=v.pop(),null!=A.left?(v.push(A.left),v.push(A.right)):(A.Ch=Math.floor(A.point.x/p.Wb),A.Fu=Math.floor(A.point.y/p.Wb),u.push(A))}var u=[],w=[];p.forEach(function(A){if(A.lqa()<q){if(A.Hgb())for(var v=0;v<A.elements.length;++v)t(A.elements[v]);
else t(A);w.push(A)}});w.forEach(function(A){p.remove(A)});for(var y=[];0<u.length;){var z=u.pop(),x=p.Nkb(z,null,!0);x?(Array.prototype.push.apply(u,y),y.length=0):y.push(z)}var C=[];p.forEach(r);y.forEach(r);return C};a.prototype.Y6d=function(p){var q=Math.min(this.Hk.x,p.x),r=Math.max(this.Hk.na(),p.x),t=Math.min(this.Hk.y,p.y);p=Math.max(this.Hk.ma(),p.y);return Math.max(r-q,p-t)};a.prototype.Kcb=function(p){p.x<this.Hk.ka()?(this.Hk.Qa(this.Hk.na()-p.x),this.Hk.setX(p.x)):p.x>this.Hk.na()&&this.Hk.Qa(p.x-
this.Hk.ka());p.y<this.Hk.la()?(this.Hk.$a(this.Hk.ma()-p.y),this.Hk.setY(p.y)):p.y>this.Hk.ma()&&this.Hk.$a(p.y-this.Hk.la())};a.prototype.kwd=function(p){var q=[this],r=Infinity,t=null;for(this.distance=this.v1b(p);0<q.length;){var u=q.pop();u.distance>=r||(null!=u.left?(u.left.distance=u.left.v1b(p),u.right.distance=u.right.v1b(p),u.left.distance<u.right.distance?(q.push(u.right),q.push(u.left)):(q.push(u.left),q.push(u.right))):(r=u.distance,t=u))}return t};a.prototype.v1b=function(p){var q=Math.max(this.Hk.x-
p.x,p.x-this.Hk.na(),0);p=Math.max(this.Hk.y-p.y,p.y-this.Hk.ma(),0);return q*q+p*p};D(d,y4);L(d,"geotoolkit.map.features.converters.Aggregator");d.prototype.vja=function(p){for(var q=[],r=!1,t=0;t<p.length;t++){var u=p[t];u instanceof u4?(null==this.LT?this.LT=new a(u,{nSd:this.$i,radius:this.Fc,Jxb:this.EPb,vxa:this}):this.LT.addElement(u),r=!0):q.push(u)}r&&null!=this.Gd.options.bbox&&(this.Gd.response=this.dBb(this.Gd.options));return q};d.prototype.KB=function(p){null==this.Gd.response?(this.Gd.response=
this.dBb(p),this.Gd.options=p):p.bbox&&p.bbox.Gi(this.Gd.options.bbox)&&W.equals(p.scale,this.Gd.options.scale)||(this.Gd.options=p,0>=this.Ay?this.aCc(!0):(null!=this.Gd.timeout&&clearTimeout(this.Gd.timeout),this.Gd.timeout=setTimeout(this.aCc,this.Ay)));p=p.filter;return null!=p&&null!=this.Gd.response?this.Gd.response.filter(p):this.Gd.response};d.prototype.oja=function(p){null==this.pYb&&(this.pYb=function(q){if(null!=this.LT&&q instanceof u4){for(var r=this.LT;null!=r.left;)r=-1<r.left.AA.indexOf(q)?
r.left:r.right;if(1===r.AA.length&&r.AA[0]===q){var t=r.parent;if(null==t)this.LT=null;else{var u=t.left===r?t.right:t.left,w=t.parent;if(null===w)this.LT.left=null,this.LT.right=null,u.parent=null,r.parent=null,this.LT=u;else{w.left===t?w.left=u:w.right=u;u.parent=w;r.parent=null;r=w;do r.Hk=r.left.Hk.clone().union(r.right.Hk),r.point=h(r.left.point,r.left.AA.length,r.right.point,r.right.AA.length),r.size=Math.max(r.Hk.da(),r.Hk.ca()),r.AA.splice(r.AA.indexOf(q),1),r=r.parent;while(null!=r)}}}}}.bind(this));
p instanceof Hg?p.forEach(this.pYb):this.pYb(p);null!=this.Gd.options&&(this.Gd.response=this.dBb(this.Gd.options));return this};d.prototype.ta=function(){return{mindistance:this.NW,min:this.$i,enabled:this.Vf,timeout:this.Ay,amountAggregations:this.EPb,radius:this.Fc}};d.prototype.setOptions=function(p){if(!p)return this;p=gc(p);void 0!==p.mindistance&&(this.NW=p.mindistance);void 0!==p.min&&(this.$i=p.min);void 0!==p.enabled&&(this.Vf=p.enabled);void 0!==p.timeout&&(this.Ay=p.timeout);void 0!==
p.amountaggregations&&(this.EPb=p.amountaggregations);void 0!==p.radius&&(this.Fc=p.radius);this.Gd.response=null;return this};d.prototype.dBb=function(p){this.zn=null;var q=p.bbox,r=p.scale;r=this.NW/r;q=q?q.clone().bd(.1*q.ca(),.1*q.da()):null;return null==this.LT?null:this.LT.Js(q,r,this.$i,this.Vf,p)};d.prototype.Gq=function(p,q){if(null==this.zn){this.zn={};q=q||this.Gd.response||[];for(var r=0;r<q.length;r++)q[r]instanceof v4&&p(q[r],this.zn)}return this.zn};d.prototype.clear=function(){y4.prototype.clear.call(this);
null!=this.Gd.timeout&&clearTimeout(this.Gd.timeout);this.Gd={options:{},response:null};this.LT=null;return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzYXZlQ29udmVydGVkRmVhdHVyZXMiOiJ2amEiLCJnZXRGZWF0dXJlcyI6IktCIiwicmVtb3ZlRmVhdHVyZXMiOiJvamEiLCJnZXRPcHRpb25zIjoidGEifX19");var B4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){this.bEa=[];this.Ama={}}L(d,"geotoolkit.map.sources.connectors.AbstractConnector");d.prototype.send=Fb;d.prototype.abort=function(a){if(null==a){for(a=0;a<this.bEa.length;a++)this.nxa(this.bEa[a]);this.bEa=[];var b=Object.keys(this.Ama)}else if(this.Ama[a])b=[a];else return this;for(a=0;a<b.length;a++)this.nxa(this.Ama[b[a]]),delete this.Ama[b[a]];return this};d.prototype.nxa=function(a){return this};d.prototype.wxb=function(a,b){null!=a?this.Ama[a]=b:this.bEa.push(b);
return this};d.prototype.aDd=function(a){return this.Ama[a]};d.prototype.oib=function(a,b){if(null!=a)return this.Ama[a]&&delete this.Ama[a],this;a=this.bEa.indexOf(b);0<=a&&this.bEa.splice(a,1);return this};d.prototype.Fn=function(){return 0<this.bEa.length||0<Object.keys(this.Ama).length};d.prototype.clone=function(){return Cb(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0xvYWRpbmciOiJGbiJ9fX0g");var C4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){B4.call(this);this.wFa=[];this.m0=[];this.ega={};this.HI=c&&c.httpservice?c.httpservice:Zk.ya().hR()}function a(c,e){c=c[1].priority;e=e[1].priority;return c===e?0:e-c}var b=6;D(d,B4);L(d,"geotoolkit.map.sources.connectors.HttpRequest");d.prototype.send=function(c,e,f){if(c){e=G(e,{});var g=e.key;if(this.ega[g]){var h=this.m0.indexOf(this.ega[g]);this.m0.splice(h,1)}if(this.wFa.length<b){var k=this;this.WTd(c,e,function(m,n,p){var q=k.wFa.indexOf(p);0<=q&&k.wFa.splice(q,
1);0<k.m0.length&&(q=k.m0.shift(),k.ega[q[1].key]&&delete k.ega[q[1].key],k.send(q[0],q[1],q[2]));null!=m?Qk.Kk(m)||m.code===Uk.hka||f(Error(k.Pa()+": "+(m.message?m.message:"")+"("+c+")"),null,p):f(m,n)})}else{var l=[c,e,f];if(null==e.priority)e.priority=-Infinity,this.m0.push(l);else{h=W.findIndex(l,this.m0,0,this.m0.length-1,a);if(0<=h)for(h++;h<this.m0.length;h++){if(0!==a(this.m0[h],l)){h--;break}}else h=~h;this.m0.splice(h,0,l)}null!=g&&(this.ega[g]=l)}}else f(Error(this.Pa()+": No url provided"))};
d.prototype.WTd=function(c,e,f){var g=this,h=e.key;delete this.ega[h];var k=e.cancel||new Qk;this.wxb(h,k);this.HI.request({url:c,method:e.method||"get",headers:e.headers,responseType:e.responseType?e.responseType:"",cancel:k}).then(function(l){g.oib(h,k);return 200<=l.status&&400>l.status||0===l.status?f(null,l.data,k):f(Error(g.Pa()+": "+l.statusText+"("+c+")"),null,k)},function(l){g.oib(h,k);f(l,null,k)});this.wFa.push(k)};d.prototype.abort=function(c){if(null!=c){var e;(e=this.aDd(c))?(B4.prototype.abort.call(this,
c),e=this.wFa.indexOf(e),this.wFa.splice(e,1)):this.ega[c]&&(e=this.m0.indexOf(this.ega[c]),this.m0.splice(e,1),delete this.ega[c])}else B4.prototype.abort.call(this),this.wFa=[],this.m0=[],this.ega={};return this};d.prototype.nxa=function(c){c.cancel();return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhYm9ydENvbm5lY3Rpb24iOiJueGEifX19");var D4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){j4.call(this,b)}var a=new N;D(d,j4);L(d,"geotoolkit.map.features.MultiPoint");d.prototype.WF=function(b){this.WG=[];for(var c=this.Uc,e=this.WG,f=0;f<c.length;f++){var g=c[f].x,h=c[f].y;a.Da(g,h);b.uda(a,a);e.push({x:a.getX(),y:a.getY()})}return this};d.prototype.j7=function(){return!1};d.prototype.NU=function(){return!0};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiV0YiLCJpc011bHRpQ29vcmRpbmF0ZXMiOiJqNyIsImlzTXVsdGlHZW9tZXRyeSI6Ik5VIn19fSAg");var E4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){j4.call(this,b)}var a=new N;D(d,j4);L(d,"geotoolkit.map.features.LineString");d.prototype.WF=function(b){this.WG={};for(var c=this.Uc.x,e=this.Uc.y,f=[],g=[],h=0;h<c.length;++h)a.Da(c[h],e[h]),b.uda(a,a),f.push(a.getX()),g.push(a.getY());this.WG.x=f;this.WG.y=g;return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiV0YifX19");var F4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){j4.call(this,b)}var a=new N;D(d,j4);L(d,"geotoolkit.map.features.MultiLineString");d.prototype.WF=function(b){this.WG=[];for(var c=this.Uc,e=this.WG,f=0;f<c.length;f++){for(var g=c[f].x,h=c[f].y,k=[],l=[],m=0;m<g.length;++m)a.Da(g[m],h[m]),b.uda(a,a),k.push(a.getX()),l.push(a.getY());e.push({x:k,y:l})}return this};d.prototype.NU=function(){return!0};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiV0YiLCJpc011bHRpR2VvbWV0cnkiOiJOVSJ9fX0g");var G4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){j4.call(this,b)}var a=new N;D(d,j4);L(d,"geotoolkit.map.features.Polygon");d.prototype.WF=function(b){this.WG={};for(var c=this.Uc.x,e=this.Uc.y,f=[],g=[],h=0;h<c.length;++h)a.Da(c[h],e[h]),b.uda(a,a),f.push(a.getX()),g.push(a.getY());this.WG.x=f;this.WG.y=g;return this};d.prototype.CY=function(){return!0};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiV0YiLCJpc0Nsb3NlZCI6IkNZIn19fSAg");var H4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){j4.call(this,b)}var a=new N;D(d,j4);L(d,"geotoolkit.map.features.MultiPolygon");d.prototype.WF=function(b){this.WG=[];for(var c=this.Uc,e=this.WG,f=0;f<c.length;f++){for(var g=c[f].x,h=c[f].y,k=[],l=[],m=0;m<g.length;++m)a.Da(g[m],h[m]),b.uda(a,a),k.push(a.getX()),l.push(a.getY());e.push({x:k,y:l})}return this};d.prototype.CY=function(){return!0};d.prototype.NU=function(){return!0};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhcHBseU1hcENTIjoiV0YiLCJpc0Nsb3NlZCI6IkNZIiwiaXNNdWx0aUdlb21ldHJ5IjoiTlUifX19");var I4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e,f,g){if(!(0>f))for(var h=0;h<e.length;++h){if(f<e[h].length){e.splice(h,1,e[h].substr(0,f),g,e[h].substr(f+g.length));break}f-=e[h].length}}function a(){}var b={},c=new U;b[v4.Pa()]=0;b[u4.Pa()]=1;b[D4.Pa()]=1;b[E4.Pa()]=2;b[F4.Pa()]=2;b[G4.Pa()]=3;b[H4.Pa()]=3;L(a,"geotoolkit.map.util.FeatureUtil");a.gHc=function(e,f,g){Array.isArray(e[f])||(e[f]=null==e[f]?[]:[e[f]]);e=e[f];for(f=0;f<e.length;++f)if(e[f]instanceof g)return e[f];e.push(new g);return e[e.length-1]};
a.gGc=function(e,f){return b[e.Pa()]-b[f.Pa()]};a.JJb=function(e){var f,g=0;if(Array.isArray(e))for(f=0;f<e.length;++f)g+=a.JJb(e[f]);else{var h=e.x,k=e.y;e=e.clip;if(Array.isArray(e))for(f=0;f<e.length;++f)g+=a.JJb(e[f]);if(Array.isArray(h))for(f=0;f<h.length;++f)g+=h[f]+k[f];else g+=h+k}return g};a.xzb=function(e,f){var g;if(Array.isArray(e)){var h=e.length;if(!Array.isArray(f)||f.length!==h)return!1;for(g=0;g<h;++g)if(!a.xzb(e[g],f[g]))return!1;return!0}if(Array.isArray(f))return!1;g=Array.isArray(e.x);
h=Array.isArray(f.x);if(g!==h)return!1;h=Array.isArray(e.y);var k=Array.isArray(f.y);if(h!==k)return!1;k=null!=e.clip;var l=null!=f.clip;if(k!==l)return!1;if(g)for(g=0;g<e.x.length;++g){if(e.x[g]!==f.x[g])return!1}else if(e.x!==f.x)return!1;if(h)for(g=0;g<e.y.length;++g){if(e.y[g]!==f.y[g])return!1}else if(e.y!==f.y)return!1;return k?a.xzb(e.clip,f.clip):!0};a.F4b=function(e,f){if(!Array.isArray(f)){var g=e.getAttributes(),h=f.getAttributes();e=e.$d();f=f.$d();return JSON.stringify(g)===JSON.stringify(h)&&
a.xzb(e,f)}for(g=0;g<f.length;++g)if(a.F4b(e,f[g]))return!0;return!1};a.rcc=function(e){var f=[];if(null==e)return f;for(var g=Object.keys(e),h=0;h<g.length;++h){var k=g[h];"settings"!==k&&"connector"!==k&&null!=e[k]&&f.push(k)}return f};a.sWa=function(e,f){var g=[],h;for(h in f)g.push(h+"="+f[h]);if(0===g.length)return e;e=0<=e.indexOf("?")?e+"&":e+"?";return e+g.join("&")};a.CNc=function(e,f){for(var g=[e],h=0;h<f.length;++h)d(g,e.indexOf(f[h]),f[h]);return g.filter(function(k){return""!==k})};
a.X6=function(e,f){var g=e.ca()*f.ca();f=e.da()*f.da();var h=e.Wn(),k=e.Cm();switch(e.Zp()){case O.Id:c.cb(h,k,h+g,k+f);break;case O.hg:c.cb(h,k,h+g,k-f);break;case O.Nf:c.cb(h,k,h-g,k+f);break;case O.Ah:c.cb(h,k,h-g,k-f);break;case O.ee:c.cb(h+g/2,k,h-g/2,k+f);break;case O.Se:c.cb(h+g/2,k,h-g/2,k-f);break;case O.Bd:c.cb(h,k+f/2,h+g,k-f/2);break;case O.we:c.cb(h,k+f/2,h-g,k-f/2);break;default:c.cb(h+g/2,k+f/2,h-g/2,k-f/2)}return c};return a}(),1,"eyJjcmVhdGVJZk5vdEV4aXN0cyI6ImdIYyIsImNvbXBhcmVQcmlvcml0eSI6ImdHYyIsInRvSGFzaCI6IkpKYiIsImVxdWFsc0dlb21ldHJ5IjoieHpiIiwiZmluZEZlYXR1cmUiOiJGNGIiLCJwYXJhbXNUb0VuY29kZSI6InJjYyIsImVuY29kZVBhcmFtc1JlcXVlc3QiOiJzV2EiLCJnZXRUZXh0Qm91bmRzIjoiWDYifSAg");var J4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=a||{};te.call(this);this.ua=a.settings||{};this.im=a.connector||new C4;this.YD={};for(var b=I4.rcc(a),c=0;c<b.length;++c)this.rG(b[c],a[b[c]]);this.Ch=0}D(d,te);L(d,"geotoolkit.map.sources.formats.AbstractFormat");d.prototype.pu=function(a){null!=a&&(this.ua=a);return this};d.prototype.zJ=function(a,b){if(null!=a&&a.startsWith("http"))return a;b=b||this.ua.url;if(null==b)return null;if(Array.isArray(b)){var c=b[this.Ch];this.Ch=(this.Ch+1)%b.length}else c=b;return I4.sWa(a?
c+a:c,this.YD)};d.prototype.query=function(a){var b=function(e,f){if(e)this.onError(e);else this.te()||this.parse(f)}.bind(this);if(Array.isArray(this.ua.url))for(var c=0;c<this.ua.url.length;++c)this.im.send(this.zJ(),a,b);else this.im.send(this.zJ(),a,b);return this};d.prototype.parse=function(a){return this};d.prototype.dispose=function(){this.abort();te.prototype.dispose.call(this)};d.prototype.onError=function(a){a&&hb(a)};d.prototype.abort=function(a){null!=this.im&&this.im.abort(a);return this};
d.prototype.Fn=function(){return this.im.Fn()};d.prototype.rG=function(a,b){"string"===typeof b&&(b=encodeURI(b));this.YD[a.toLowerCase()]=b;return this};d.prototype.Cbb=function(a){if(null==a)return this;for(var b in a.YD)a.YD.hasOwnProperty(b)&&(this.YD[b]=a.YD[b]);return this};d.prototype.clone=function(){return Cb(this)};d.prototype.Ba=function(a,b){b=!0===b?xb:G;this.ua=b(a.ua,this.ua);this.im=a.im.clone();this.YD=b(a.YD,this.YD);return this};d.prototype.Adb=function(){return this.im};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRRdWVyeVBhcmFtZXRlciI6InJHIiwiY2xvbmVRdWVyeVBhcmFtZXRlcnMiOiJDYmIiLCJjb3B5Q29uc3RydWN0b3IiOiJCYSIsImdldENvbm5lY3RvciI6IkFkYiJ9fX0g");var K4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.prototype.L6=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGZWF0dXJlSWQiOiJMNiJ9fX0g");var L4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){this.mob=a}mc(d,K4);L(d,"geotoolkit.map.features.strategies.IdByAttribute");d.prototype.L6=function(a){return a[this.mob]};d.prototype.Gha=function(){return this.mob};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGZWF0dXJlSWQiOiJMNiIsImdldEF0dHJpYnV0ZU5hbWUiOiJHaGEifX19");var M4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}function a(c){return Math.round(100*c)/100}var b=new N;L(d,"geotoolkit.map.util.GeoJSON");d.parse=function(c,e,f,g){e||(e=new L4("name"));g||(g=[0,1]);var h=[];Array.isArray(c)||(c=[c]);for(var k=0;k<c.length;++k)d.MXc(c[k],e,f,g,h);return h};d.MXc=function(c,e,f,g,h){if(null!=c.crs){var k=d.BUd(c.crs,f);f=k.nxd;g=k.fwd||g}switch(c.type){case "Point":case "LineString":case "Polygon":case "MultiPoint":case "MultiLineString":case "MultiPolygon":case "GeometryCollection":d.Bcc(c,f,
g,null,{},h);break;case "Feature":k=c.properties||{};e=e.L6(k)||c.id;d.Bcc(c.geometry,f,g,e,k,h);break;case "FeatureCollection":for(c=c.features,k=0;k<c.length;++k)d.MXc(c[k],e,f,g,h)}};d.Bcc=function(c,e,f,g,h,k){var l=null;if(!c)return e=new u4({id:g,geometry:{x:NaN,y:NaN},attributes:h}),k&&k.push(e),e;switch(c.type){case "Point":var m=d.G7(c.coordinates,e,f);l=u4;break;case "LineString":m=d.E7(c.coordinates,e,f);l=E4;break;case "Polygon":m=d.Nhb(c.coordinates,e,f);l=G4;break;case "MultiPoint":m=
d.qVa(d.G7,c.coordinates,e,f);l=D4;break;case "MultiLineString":m=d.qVa(d.E7,c.coordinates,e,f);l=F4;break;case "MultiPolygon":m=d.qVa(d.Nhb,c.coordinates,e,f);l=H4;break;case "GeometryCollection":c=c.geometries;for(var n=JSON.stringify(h),p=0;p<c.length;++p)d.Bcc(c[p],e,f,g,JSON.parse(n),k)}return null!=l?(e=new l({id:g,geometry:m,attributes:h}),k&&k.push(e),e):null};d.qVa=function(c,e,f,g){for(var h=[],k=0;k<e.length;k++)h.push(c(e[k],f,g));return h};d.Nhb=function(c,e,f){var g=d.E7(c[0],e,f);if(1<
c.length){var h=l4.YQ(g);g.clip=[h];for(h=1;h<c.length;++h)g.clip.push(d.E7(c[h],e,f))}return g};d.E7=function(c,e,f){for(var g=[],h=[],k=0;k<c.length;k++)b.Da(c[k][f[0]],c[k][f[1]]),e&&(b=e(b,b)),g.push(b.getX()),h.push(b.getY());return{x:g,y:h}};d.G7=function(c,e,f){b.Da(c[f[0]],c[f[1]]);e&&(b=e(b,b));return{x:b.getX(),y:b.getY()}};d.BUd=function(c,e){function f(m){var n=m.split(":");if(7===n.length){m=n[4];n=n[6];if("EPSG"===m)return+n;if("OGC"===m&&("CRS84"===n||"CRS83"===n||"CRS27"===n))return 4269}return null}var g=c.properties,h=null;switch(c.type){case "EPSG":h=+g.code;break;case "OGC":h=f(g.urn);break;case "name":h=f(g.name)}var k=d4.lg(),l=null;switch(h){case 102100:case 3857:l=k.uk($3.VV);break;case 4326:case 4269:l=k.uk($3.fK)}return{nxd:null!=l?function(m,n){m=l.sc(m.x,m.y,n);return null!=e?e(m):m}:e,fwd:c.coordinate_order||g.coordinate_order}};d.IJb=function(c,e,f){function g(k){if(k instanceof v4)for(k=k.mya(),k.reset();k.wg();)h.push(d.H9c(k.next(),e,f));else h.push(d.H9c(k,e,f))}f||(f=[0,1]);
var h=[];c instanceof Hg||Array.isArray(c)?c.forEach(g):g(c);return 1===h.length?h[0]:{type:"FeatureCollection",features:h}};d.H9c=function(c,e,f){var g={type:"Feature",properties:c.getAttributes(),geometry:{}},h=c.$d(!0);c instanceof u4?(g.geometry.type="Point",g.geometry.coordinates=d.J9c(h,e,f)):c instanceof E4?(g.geometry.type="LineString",g.geometry.coordinates=d.I9c(h,e,f)):c instanceof G4?(g.geometry.type="Polygon",g.geometry.coordinates=d.K9c(h,e,f)):c instanceof D4?(g.geometry.type="MultiPoint",
g.geometry.coordinates=d.qVa(d.J9c,h,e,f)):c instanceof F4?(g.geometry.type="MultiLineString",g.geometry.coordinates=d.qVa(d.I9c,h,e,f)):c instanceof H4&&(g.geometry.type="MultiPolygon",g.geometry.coordinates=d.qVa(d.K9c,h,e,f));return g};d.J9c=function(c,e,f){var g=[];b.Da(c.x,c.y);e&&(b=e(b,b));g[f[0]]=a(b.getX());g[f[1]]=a(b.getY());return g};d.I9c=function(c,e,f){var g=[],h=c.x;c=c.y;for(var k=0;k<h.length;++k)g[k]=[],b.Da(h[k],c[k]),e&&(b=e(b,b)),g[k][f[0]]=a(b.getX()),g[k][f[1]]=a(b.getY());
return g};d.K9c=function(c,e,f){var g=[],h,k=c.x,l=c.y;for(h=0;h<k.length;++h)g[h]=[],b.Da(k[h],l[h]),e&&(b=e(b,b)),g[h][f[0]]=a(b.getX()),g[h][f[1]]=a(b.getY());g=[g];c=c.clip;if(Array.isArray(c))for(k=0;k<c.length;++k){l=c[k].x;var m=c[k].y,n=[];for(h=0;h<l.length;++h)n[h]=[],b.Da(l[h],m[h]),e&&(b=e(b,b)),n[h][f[0]]=a(b.getX()),n[h][f[1]]=a(b.getY());g.push(n)}return g};return d}(),2,"eyJ0b0dlb0pTT04iOiJJSmIifSAg");var N4=/*#__PURE__*/ta(/*#__PURE__*/{Ys:"FeatureAdded",yS:"FeatureRemoved",PZ:"FeaturesCleared",ak:"ImageLoaded",OOa:"ImageCleared",yM:"TilesUpdated",jC:"InfoUpdated"},2,"eyJGZWF0dXJlQWRkZWQiOiJZcyIsIkZlYXR1cmVSZW1vdmVkIjoieVMiLCJGZWF0dXJlc0NsZWFyZWQiOiJQWiIsIkltYWdlTG9hZGVkIjoiYWsiLCJJbWFnZUNsZWFyZWQiOiJPT2EiLCJUaWxlc1VwZGF0ZWQiOiJ5TSIsIkluZm9VcGRhdGVkIjoiakMifSAg");var O4=/*#__PURE__*/function(){function d(a){J4.call(this,a)}D(d,J4);L(d,"geotoolkit.map.sources.formats.GeoJSON");d.prototype.parse=function(a){if("string"===typeof a)try{a=JSON.parse(a)}catch(c){return this.onError(c),this}var b=this.ua.Nk;a=M4.parse(a,this.ua.id,b.transform.bind(b));this.notify(N4.Ys,this,a);return this};return d}();var P4=/*#__PURE__*/ta(/*#__PURE__*/{hC:"All",$Kb:"Bbox",hta:"Tile",wmb:"Grid"},2,"eyJBbGwiOiJoQyIsIkJib3giOiIkS2IiLCJUaWxlIjoiaHRhIiwiR3JpZCI6IndtYiJ9");var Q4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){te.call(this);a=a||{};this.C8a=a.ondataloaded;this.aXb=a.ondatafailed;var b=d4.lg().uk(a.system||$3.VV),c=d4.lg().uk($3.VV);this.ua=this.ua||{};this.ua.Nk=new e4(b,c);this.ua.u1=new e4(c,b);this.ua.data={};this.JTa=this.ATa=this.OGa=this.lUa=this.gHa=this.sy=this.li=this.ua.url=null;this.lUb=!1;b=a.format;null!=b&&b.pu(this.ua);this.vO(b);this.PTc(a.loader);a=a.url||a.server;null!=a&&this.d8(a)}D(d,te);L(d,"geotoolkit.map.sources.AbstractSource");d.prototype.query=
function(a,b){if(null==this.li||a.isEmpty())return this;var c=b.wa().lb();null==this.sy||this.sy.Eqa()?(this.mQ={Hk:a,Iqa:b,scale:c},this.li.query(a,b)):null==this.mQ?(this.mQ={Hk:a,Iqa:b,scale:c},this.vZa()):W.equals(c,this.mQ.scale)&&b===this.mQ.Iqa?this.mQ.Hk.union(a):(this.mQ.Hk=a,this.mQ.scale=c,this.mQ.Iqa=b);this.fM(!this.Fn());return this};d.prototype.d8=function(a){if(this.ua.url===a)return this;if(null==a)this.ua.url=a;else{a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;){var c=a[b],e=
c.match(/{(\w+)-(\w+)}/);if(e){a.splice(b,1);var f=!isNaN(e[1]),g=f?+e[1]:e[1].charCodeAt(0),h=f?+e[2]:e[2].charCodeAt(0);if(h<g){var k=g;g=h;h=k}for(;g<=h;g++)k=c.replace(e[0],f?g:String.fromCharCode(g)),a.push(k)}else b++}this.ua.url=1<a.length?a:a[0]}this.clear();return this};d.prototype.Eqa=function(){return null==this.sy||this.sy.Eqa()};d.prototype.V6=function(){return this.ua.url};d.prototype.vZa=function(){if(null==this.gHa)if(null==this.sy)this.gHa=Cg.resolve(this);else{var a=this;this.gHa=
(new Cg(function(b,c){a.OGa=b;a.ATa=c})).then(this.oFb.bind(this),this.MTd.bind(this));this.sy.query().then(this.OGa,this.ATa)}return this.gHa};d.prototype.Zgb=function(){if(null==this.lUa){var a=this;this.lUa=new Cg(function(b){a.JTa=b});!this.lUb&&this.V6()||this.fM(!0)}return this.lUa};d.prototype.nEb=function(){return this.lUb};d.prototype.WKd=function(){return this.ua.data};d.prototype.fM=function(a){(this.lUb=a)&&this.JTa?(this.JTa(this),this.JTa=null):a||!this.lUa||this.JTa||(this.lUa=null);
return this};d.prototype.oa=function(){return this.ua.Xb};d.prototype.Bfc=function(a){a=d4.lg().uk(a);var b=this.ua.u1.js();a!==b&&a&&(this.ua.u1.fNa(a),this.ua.Nk.a8(a));return this};d.prototype.uk=function(){return this.ua.u1.js()};d.prototype.jM=function(a){a=d4.lg().uk(a);var b=this.ua.Nk.js();a!==b&&a&&(this.ua.Nk.fNa(a),this.ua.u1.a8(a),null==this.sy&&(this.ua.Xb=a.Jk()));return this};d.prototype.AL=function(){return this.ua.Nk.js()};d.prototype.a8=function(a){a=d4.lg().uk(a);var b=this.ua.Nk.xJ();
a!==b&&(this.ua.Nk.a8(a),this.ua.u1.fNa(a));return this};d.prototype.xJ=function(){return this.ua.Nk.xJ()};d.prototype.MSc=function(){return this.ua.Nk};d.prototype.GMd=function(){return this.ua.u1};d.prototype.vO=Fb;d.prototype.PTc=function(a){null!=a?a.pu(this.ua):this.ua.Xb=this.AL().Jk();this.sy=a;return this};d.prototype.oFb=function(){if(this.te())return this;this.ATa=this.OGa=null;"function"===typeof this.C8a&&this.C8a();this.notify(ze.Jr,this,this.ua.Xb);if(null!=this.mQ){var a=this.mQ.Iqa;
if(a.te())return this;W.equals(this.mQ.scale,a.wa().lb())?this.query(this.mQ.Hk,a):this.query(a.wb(),a)}else this.fM(!this.Fn());return this};d.prototype.MTd=function(a){this.ATa=this.OGa=null;"function"===typeof this.aXb&&this.aXb(a);this.fM(!0);return this};d.prototype.NQ=function(a,b){if("function"===typeof this[a])this[a](b);return this};d.prototype.clear=function(){if(null==this.li)return this;this.fM(!1);if(null==this.sy)return this.update(),this;this.sy.clear();this.OGa?this.sy.query().then(this.OGa,
this.ATa):null!=this.gHa&&(this.gHa=null,this.vZa());return this};d.prototype.update=function(){if(null==this.li)return this;this.fM(!1);this.li.clear();null!=this.mQ&&this.query(this.mQ.Hk,this.mQ.Iqa);return this};d.prototype.dispose=function(){this.ATa=this.OGa=this.gHa=this.JTa=this.lUa=this.aXb=this.C8a=null;null!=this.sy&&this.sy.clear();null!=this.li&&this.li.dispose();te.prototype.dispose.call(this)};d.prototype.Fn=function(){return null!=this.sy&&!this.sy.Eqa()||null!=this.li&&this.li.Fn()};
d.prototype.BAb=function(){return null!=this.sy?this.sy.BAb():null};d.prototype.tJa=function(){return this.sy};d.prototype.rG=function(a,b){if("object"===typeof a){b=Object.keys(a);for(var c=0;c<b.length;c++)this.rG(b[c],a[b[c]])}else null!=this.sy&&this.sy.rG(a,b),null!=this.li&&this.li.rG(a,b);return this};d.prototype.e0c=function(){this.mQ=null;return this};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;(a.hasOwnProperty("url")||a.hasOwnProperty("server"))&&this.d8(a.url||a.server);
return this};d.prototype.ia=function(){return{url:this.ua.url}};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTZXJ2ZXJVUkwiOiJkOCIsImlzRGF0YUxvYWRlZCI6IkVxYSIsImdldFNlcnZlclVSTCI6IlY2IiwibG9hZFNlcnZlckRhdGEiOiJ2WmEiLCJsb2FkU291cmNlRGF0YSI6IlpnYiIsImlzRGF0YVJlYWR5IjoibkViIiwiZ2V0U2VydmVyRGF0YSI6IldLZCIsImdldE1vZGVsTGltaXRzIjoib2EiLCJzZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiak0iLCJnZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiQUwiLCJzZXRJbml0aWFsQ29vcmRpbmF0ZVN5c3RlbSI6ImE4IiwiZ2V0SW5pdGlhbENvb3JkaW5hdGVTeXN0ZW0iOiJ4SiIsImdldFRyYW5zZm9ybWVyVG9NYXAiOiJNU2MiLCJnZXRUcmFuc2Zvcm1lckZyb21NYXAiOiJHTWQiLCJpc0xvYWRpbmciOiJGbiIsImdldENvcHlyaWdodCI6IkJBYiIsInNldFF1ZXJ5UGFyYW1ldGVyIjoickciLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var R4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){te.call(this);this.Vg=a;this.ua=b;null!=a&&this.uO(a)}D(d,te);L(d,"geotoolkit.map.sources.managers.AbstractManager");d.prototype.dispose=function(){this.clear();null!=this.Vg&&this.Vg.dispose();te.prototype.dispose.call(this)};d.prototype.uO=Fb;d.prototype.query=Fb;d.prototype.clear=function(){this.abort();return this};d.prototype.abort=function(){null!=this.Vg&&this.Vg.abort();return this};d.prototype.Fn=function(){return null!=this.Vg&&this.Vg.Fn()};d.prototype.rG=
function(a,b){null!=this.Vg&&this.Vg.rG(a,b);return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0xvYWRpbmciOiJGbiIsInNldFF1ZXJ5UGFyYW1ldGVyIjoickcifX19");var S4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c,e){R4.call(this,c,e);this.Cz=null;this.pma={};this.Vc={};this.GTa=null;this.P5a=this.Xwa=!1;this.Dg=Infinity}var a=new U,b=new U;D(d,R4);L(d,"geotoolkit.map.sources.managers.Vector");d.prototype.query=function(c,e){if(!this.ua.url)return!1;var f=this.ua.Xb,g=this.ua.mode,h=this.ua.PGb;if(null!=c){if(!c.Dd(f))return!1;c=a.cb(c).intersect(f)}else g=P4.hC,c=f;var k=e?e.wa():X.xk;e=k.lb();switch(g){case P4.hC:return this.U6b(0,0)?this.Xwa=!1:(this.Xwa=!0,this.P5a=!1,this.Vg.abort(),
this.fGb(f,k),this.lgc(0,0,!0),!0);case P4.$Kb:if(null!=this.GTa&&this.GTa.Gi(c)&&W.equals(this.Dg,e))return!1;this.Xwa=!0;this.P5a=!1;this.Vg.abort();this.GTa=this.GTa?this.GTa.cb(c):c.clone();this.Dg=e;this.zja(function(){this.fGb(this.GTa,k)});return!0;case P4.hta:g=new Ud(256,256);k.pl(g,g);var l=g.ca();var m=g.da();W.equals(this.Dg,e)||(this.P5a=this.Xwa=!0,this.Vg.abort(),this.Vc={},this.Dg=e);break;case P4.wmb:this.Xwa=!1;this.P5a=!0;l=f.ca()/h;m=f.da()/h;break;default:return!1}var n=Math.floor((c.ka()-
f.ka())/l),p=Math.ceil((c.na()-f.ka())/l),q=Math.floor((c.la()-f.la())/m),r=Math.ceil((c.ma()-f.la())/m);this.zja(function(){for(var t=a.Qa(l).$a(m),u=n;u<p;u++)for(var w=q;w<r;w++)this.U6b(u,w)||(this.fGb(t.setX(f.ka()+u*l).setY(f.la()+w*m),k),this.lgc(u,w,!0))});return!0};d.prototype.uO=function(){var c=this.ZJc.bind(this),e=function(f,g,h){f===N4.Ys&&null!=h&&(this.Xwa&&(this.pma={},this.Xwa=!1,this.notify(N4.PZ,this)),this.P5a&&(h=h.filter(c)));this.notify(f,this,h)}.bind(this);this.Vg.on(N4.Ys,
e);this.Vg.on(N4.yS,e);this.Vg.on(N4.PZ,e);return this};d.prototype.U6b=function(c,e){return this.Vc[c]&&this.Vc[c][e]};d.prototype.lgc=function(c,e,f){this.Vc[c]=this.Vc[c]||{};this.Vc[c][e]=f;return this};d.prototype.fGb=function(c,e){e.Ua(c,b);this.Vg.query({left:c.ka(),top:c.la(),right:c.na(),bottom:c.ma(),width:b.ca(),height:b.da()})};d.prototype.ZJc=function(c){var e=I4.JJb(c.$d());return null==this.pma[e]?(this.pma[e]=c,!0):I4.F4b(c,this.pma[e])?!1:(Array.isArray(this.pma[e])?this.pma[e].push(c):
this.pma[e]=[this.pma[e],c],!0)};d.prototype.beb=function(){return this.Vg};d.prototype.zja=function(c){null!=this.Cz&&clearTimeout(this.Cz);this.Cz=setTimeout(function(){c.call(this);this.Cz=null}.bind(this),this.ua.timeout)};d.prototype.abort=function(){null!=this.Cz&&(clearTimeout(this.Cz),this.Cz=null);return R4.prototype.abort.call(this)};d.prototype.clear=function(){R4.prototype.clear.call(this);this.Vc={};this.pma={};this.Dg=Infinity;this.Xwa=!1;return this};d.prototype.Fn=function(){return null!=
this.Cz||R4.prototype.Fn.call(this)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0Rm9ybWF0IjoidU8iLCJnZXRGcm9tR3JpZCI6IlU2YiIsInNldEZyb21HcmlkIjoibGdjIiwicXVlcnlGZWF0dXJlc0Zyb21Cb3giOiJmR2IiLCJmaWx0ZXJVbmlxdWUiOiJaSmMiLCJnZXRGb3JtYXQiOiJiZWIiLCJpc0xvYWRpbmciOiJGbiJ9fX0g");var T4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){var e=G(c,{format:new O4,idfield:"name",requestresolution:10,mode:P4.hC,timeout:50},!0);Q4.call(this,c);this.ss=new Kg;this.ua=this.ua||{};this.ua.id=new L4(e.idfield);this.ua.PGb=e.requestresolution;this.ua.mode=e.mode;this.ua.timeout=e.timeout}function a(c){if(Array.isArray(c.x)){var e=[];var f=[];for(var g=0;g<c.x.length;++g)b.Da(c.x[g],c.y[g]),this.transform(b,b),e[g]=b.x,f[g]=b.y}else b.Da(c.x,c.y),b=this.transform(b,b),e=b.x,f=b.y;return{x:e,y:f}}var b=new N;
D(d,Q4);L(d,"geotoolkit.map.sources.Vector");d.prototype.vO=function(c){this.li=new S4(c,this.ua);this.li.on(N4.Ys,function(e,f,g){this.T0b(g,!1);this.li.Fn()||this.fM(!0)}.bind(this));this.li.on(N4.PZ,function(e,f){this.zIa()}.bind(this));return this};d.prototype.ZLa=function(c,e){this.query(c,e);return this};d.prototype.T0b=function(c,e){if(!1!==e){e=this.MSc();var f=a.bind(e);c.forEach(function(g){var h=g.$d();if(Array.isArray(h)){var k=[];for(var l=0;l<h.length;++l)k.push(f(h[l]))}else k=f(h);
g.Fm(k)})}this.ss.concat(c);this.notify(N4.Ys,this,c);return this};d.prototype.kec=function(c){for(this.ss.reset();this.ss.wg();)if(this.ss.next()===c){this.notify(N4.yS,this,c);break}return this};d.prototype.clear=function(){this.zIa();Q4.prototype.clear.call(this);return this};d.prototype.zIa=function(){this.notify(N4.PZ,this,this.ss);this.ss=new Kg;return this};d.prototype.requestData=function(c){this.ua.url=c;null!=this.li&&this.li.query()};d.prototype.psa=function(c){this.ua.id.Gha()!==c&&(this.ua.id=
new L4(c));return this};d.prototype.a$b=function(){return this.ua.id.Gha()};d.prototype.Kjb=function(c){this.ua.PGb=c;return this};d.prototype.YQc=function(){return this.ua.PGb};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJxdWVyeUZlYXR1cmVzIjoiWkxhIiwiYWRkRmVhdHVyZXMiOiJUMGIiLCJyZW1vdmVGZWF0dXJlIjoia2VjIiwiY2xlYXJGZWF0dXJlcyI6InpJYSIsInNldFVuaXF1ZUZpZWxkIjoicHNhIiwiZ2V0VW5pcXVlRmllbGQiOiJhJGIiLCJzZXRSZXF1ZXN0UmVzb2x1dGlvbiI6IktqYiIsImdldFJlcXVlc3RSZXNvbHV0aW9uIjoiWVFjIn19fSAg");var U4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{format:null,sources:a instanceof T4||Array.isArray(a)?a:null},!0);T4.call(this,a);this.oo=[];a=a.sources;if(Array.isArray(a))for(var b=0;b<a.length;++b)this.S0b(a[b]);else this.S0b(a)}D(d,T4);L(d,"geotoolkit.map.sources.CompositeSource");d.prototype.S0b=function(a){if(a instanceof T4){this.EEa||(this.EEa=this.sTd.bind(this));var b=this.oo.indexOf(a);0>b&&(this.oo.push(a),a.on(N4.Ys,this.EEa),a.on(N4.yS,this.EEa),a.on(N4.PZ,this.EEa))}return this};d.prototype.cYd=
function(a){var b=this.oo.indexOf(a);~b&&(a.zIa(),this.oo.splice(b,1),a.za(N4.Ys,this.EEa),a.za(N4.yS,this.EEa),a.za(N4.PZ,this.EEa));return this};d.prototype.fFd=function(){return this.oo};d.prototype.vO=function(){return this};d.prototype.query=function(a,b){for(var c=0;c<this.oo.length;++c)this.oo[c].query(a,b);this.fM(!this.Fn());return this};d.prototype.jM=function(a){this.NQ("setMapCoordinateSystem",a);return this};d.prototype.a8=function(a){this.NQ("setInitialCoordinateSystem",a);return this};
d.prototype.Kjb=function(a){this.NQ("setRequestResolution",a);return this};d.prototype.psa=function(a){this.NQ("setUniqueField",a);return this};d.prototype.clear=function(){this.NQ("clear");return this};d.prototype.dispose=function(){this.NQ("dispose")};d.prototype.NQ=function(a,b){T4.prototype.NQ.call(this,a,b);for(var c=0;c<this.oo.length;++c)this.oo[c].NQ(a,b);return this};d.prototype.sTd=function(a,b,c){this.notify(a,this,c)};d.prototype.Fn=function(){for(var a=0;a<this.oo.length;a++)if(this.oo[a].Fn())return!0;
return!1};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRGZWF0dXJlU291cmNlIjoiUzBiIiwicmVtb3ZlRmVhdHVyZVNvdXJjZSI6ImNZZCIsImdldEZlYXR1cmVTb3VyY2VMaXN0IjoiZkZkIiwiaW5pdFF1ZXJ5TWFuYWdlciI6InZPIiwic2V0TWFwQ29vcmRpbmF0ZVN5c3RlbSI6ImpNIiwic2V0SW5pdGlhbENvb3JkaW5hdGVTeXN0ZW0iOiJhOCIsInNldFJlcXVlc3RSZXNvbHV0aW9uIjoiS2piIiwic2V0VW5pcXVlRmllbGQiOiJwc2EiLCJjaGVja0FuZENhbGwiOiJOUSIsImlzTG9hZGluZyI6IkZuIn19fSAg");var V4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){y4.call(this);this.LD=[];if(Array.isArray(a))for(var b=0;b<a.length;++b)this.R0b(a[b]);else this.R0b(a)}D(d,y4);L(d,"geotoolkit.map.features.converters.CompositeConverter");d.prototype.R0b=function(a){a instanceof y4&&(this.rSb||(this.rSb=this.z7.bind(this)),this.LD.push(a),a.on(z4.Eka,this.rSb));return this};d.prototype.bYd=function(a){var b=this.LD.indexOf(a);~b&&(this.LD.splice(b,1),a.za(z4.Eka,this.rSb));return this};d.prototype.vja=function(a){for(var b=this.LD.length-
1;0<=b&&null!=a;--b)a=this.LD[b].vja(a);return a};d.prototype.KB=function(a){for(var b=new Kg,c,e=this.LD.length-1;0<=e;--e)c=this.LD[e].KB(a),null!=c&&b.concat(c);return b};d.prototype.oja=function(a){for(var b=this.LD.length-1;0<=b;--b)this.LD[b].oja(a);return this};d.prototype.clear=function(){for(var a=this.LD.length-1;0<=a;--a)this.LD[a].clear();return this};d.prototype.qRd=function(a){null==this.pSb&&(this.pSb=function(b,c,e){this.vja(e);this.notify(z4.Eka,this,!0)}.bind(this),this.qSb=function(b,
c,e){this.oja(e);this.notify(z4.Eka,this)}.bind(this),this.guc=function(b,c,e){c instanceof U4?this.qSb(b,c,e):(this.clear(),this.notify(z4.Eka,this))}.bind(this));a.on(N4.Ys,this.pSb);a.on(N4.yS,this.qSb);a.on(N4.PZ,this.guc);return this};d.prototype.Q7d=function(a){a.za(N4.Ys,this.pSb);a.za(N4.yS,this.qSb);a.za(N4.PZ,this.guc);return this};d.prototype.z7=function(a,b,c){this.notify(a,this,c)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhZGRGZWF0dXJlQ29udmVydGVyIjoiUjBiIiwicmVtb3ZlRmVhdHVyZUNvbnZlcnRlciI6ImJZZCIsInNhdmVDb252ZXJ0ZWRGZWF0dXJlcyI6InZqYSIsImdldEZlYXR1cmVzIjoiS0IiLCJyZW1vdmVGZWF0dXJlcyI6Im9qYSJ9fX0g");var W4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){y4.call(this);var f=new a(this.ss,function(g){return g.Hk.Dd(f.Hk)});this.iRa=f}function a(f,g,h){Dg.call(this,f,function(k){return k.Hk.Dd(this.Hk)&&(this.filter?this.filter(k.YIa):!0)}.bind(this));this.Hk=g;this.scale=h;this.filter=null}function b(f){var g=f.$d(!0);this.YIa=f;if(Array.isArray(g))for(this.Dhb=[],this.K_a=[],this.Hk=null,f=0;f<g.length;++f){var h=l4.YQ(g[f]);this.K_a.push(this.wHc(g[f]));this.Dhb.push({x:[g[f].x[0]],y:[g[f].y[0]],$j:{Tzb:h}});this.Hk=
null!=this.Hk?this.Hk.union(h):h.clone()}else this.Hk=l4.YQ(g),this.Dhb={x:[g.x[0]],y:[g.y[0]],$j:{Tzb:this.Hk}},this.K_a=this.wHc(g)}function c(f,g,h){var k=-Infinity,l=-1,m,n=f.x[h]-f.x[g],p=f.y[h]-f.y[g];if(0!==n||0!==p)for(m=g+1;m<h;++m){var q=Math.abs((f.x[m]-f.x[g])*p-(f.y[m]-f.y[g])*n);q>k&&(k=q,l=m)}else for(m=g+1;m<h;++m)n=f.x[m]-f.x[g],p=f.y[m]-f.y[g],q=n*n+p*p,q>k&&(k=q,l=m);return{id:l,distance:k}}function e(f){return Array.isArray(f)?f.every(e):Array.isArray(f.x)}b.prototype.wHc=function(f){var g=
c(f,0,f.x.length-1);return{geometry:f,VJb:{value:g.id,scale:g.distance}}};b.prototype.PO=function(f,g,h){for(var k=0,l=f.geometry.x.length-1,m,n=1,p=f.VJb,q=[],r=[];p;)p.scale<h||1===l-k?(g.x[n]=f.geometry.x[l],g.y[n++]=f.geometry.y[l],k=l,p=q.pop(),l=r.pop()):(p.left||(m=c(f.geometry,k,p.value),p.left={value:m.id,scale:m.distance}),p.right||(m=c(f.geometry,p.value,l),p.right={value:m.id,scale:m.distance}),q.push(p.right),r.push(l),l=p.value,p=p.left);g.x.length=n;g.y.length=n;4>=n&&4<=f.geometry.x.length&&
(p=f.VJb,h=f.geometry.x.length-1,p.left||(m=c(f.geometry,0,p.value),p.left={value:m.id,scale:m.distance}),p.right||(m=c(f.geometry,p.value,h),p.right={value:m.id,scale:m.distance}),g.x[0]=f.geometry.x[0],g.y[0]=f.geometry.y[0],p.left.scale>p.right.scale?(g.x[1]=f.geometry.x[p.left.value],g.y[1]=f.geometry.y[p.left.value],g.x[2]=f.geometry.x[p.value],g.y[2]=f.geometry.y[p.value]):(g.x[1]=f.geometry.x[p.value],g.y[1]=f.geometry.y[p.value],g.x[2]=f.geometry.x[p.right.value],g.y[2]=f.geometry.y[p.right.value]),
g.x[3]=f.geometry.x[h],g.y[3]=f.geometry.y[h],g.x.length=4,g.y.length=4)};b.prototype.getFeature=function(f){if(Array.isArray(this.K_a))for(var g=0;g<this.K_a.length;++g)this.PO(this.K_a[g],this.Dhb[g],f);else this.PO(this.K_a,this.Dhb,f);this.YIa.z3d(this.Dhb);return this.YIa};D(a,Dg);a.prototype.next=function(){var f=Dg.prototype.next.call(this);return null!=f?f.getFeature(this.scale):null};D(d,y4);L(d,"geotoolkit.map.features.converters.RDP");d.prototype.vja=function(f){for(var g=[],h=0;h<f.length;++h){var k=
f[h].$d(!0);e(k)?this.ss.push(new b(f[h])):g.push(f[h])}return g};d.prototype.KB=function(f){var g=f.scale;this.iRa.Hk=f.bbox;this.iRa.filter=f.filter;this.iRa.scale=1/(8*g*g);this.iRa.reset();return this.iRa};d.prototype.oja=function(f){if(f instanceof Hg)f.forEach(function(h){for(var k=0;k<this.ss.length;++k)if(this.ss[k].YIa===h){this.ss.splice(k,1);break}}.bind(this));else for(var g=0;g<this.ss;++g)if(this.ss[g].YIa===f){this.ss.splice(g,1);break}return this};d.prototype.clear=function(){y4.prototype.clear.call(this);
var f=new a(this.ss,function(g){return g.Hk.Dd(f.Hk)});this.iRa=f;return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzYXZlQ29udmVydGVkRmVhdHVyZXMiOiJ2amEiLCJnZXRGZWF0dXJlcyI6IktCIiwicmVtb3ZlRmVhdHVyZXMiOiJvamEifX19");var X4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.prototype.fU=Fb;d.prototype.reset=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6ImZVIn19fSAg");var Y4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){this.Rp=b instanceof ek?b:new ek(b)}function a(b,c,e,f){var g=l4.YQ(b);c.apply(b,e);b=e.getBoundingBox(f);return g.zA(b)}mc(d,X4);L(d,"geotoolkit.map.features.filters.AnnotationFit");d.Rsa=Hg.zi([]);d.prototype.fU=function(b,c,e){var f=e.ea.annotations;if(!f)return d.Rsa;var g=f.strategy;if(!g)return d.Rsa;var h=this.Rp;return new Jg(b,function(k){var l=g.fb(k,e);if(!l)return!1;var m=e.fR(k);if(!m)return!1;h.Eb(l);k=k.$d(!0);if(!Array.isArray(k))return a(k,m,h,c);l=
!1;for(var n=0;n<k.length;++n){var p=k[n];p.$j=p.$j||{};!1!==p.$j.ZN&&(a(p,m,h,c)?(l=!0,p.$j.ZN=!0):p.$j.ZN=!1)}return l})};d.prototype.reset=function(){return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6ImZVIn19fSAg");var Z4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}mc(d,X4);L(d,"geotoolkit.map.features.filters.BiggestGeometry");d.Rsa=Hg.zi([]);d.prototype.fU=function(a,b,c){b=c.ea.annotations;if(!b)return d.Rsa;var e=b.strategy;return e?new Jg(a,function(f){var g=e.fb(f,c);if(!g)return!1;f=f.$d(!0);if(Array.isArray(f)){g=l4.YQ(f[0]);var h=0,k;for(k=1;k<f.length;++k){var l=f[k];l=l4.YQ(l);l.ca()*l.da()>g.ca()*g.da()&&(g=l,h=k)}for(k=0;k<f.length;++k)l=f[k],l.$j=l.$j||{},!1!==l.$j.ZN&&(l.$j.ZN=k===h,k!==h&&(l.$j.SDb=!0))}return!0}):
d.Rsa};d.prototype.reset=function(){return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6ImZVIn19fSAg");var $4=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){this.Bqb=a}mc(d,X4);L(d,"geotoolkit.map.features.filters.ByType");d.prototype.fU=function(a,b,c){return new Jg(a,function(e){if(Array.isArray(this.Bqb)){for(var f=0;f<this.Bqb.length;++f)if(oc(e,this.Bqb[f]))return!0;return!1}return oc(e,this.Bqb)}.bind(this))};d.prototype.reset=function(){return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6ImZVIn19fSAg");var a5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}mc(d,X4);L(d,"geotoolkit.map.features.filters.EvenOddGeometry");d.Rsa=Hg.zi([]);d.prototype.fU=function(a,b,c){b=c.ea.annotations;if(!b)return d.Rsa;var e=b.strategy;return e?new Jg(a,function(f){var g=e.fb(f,c);if(!g)return!1;f=f.$d(!0);if(Array.isArray(f)){g=!1;for(var h=0;h<f.length;++h)if(Array.isArray(f[h].x)&&(!f[h].$j||!1!==f[h].$j.ZN)){for(var k=f[h].x[0],l=f[h].y[0],m=!1,n=0;n<f.length;++n)if(h!==n&&Array.isArray(f[n].x))for(var p=f[n],q=1;q<p.x.length;++q)p.y[q]>
l!==p.y[q-1]>l&&k<p.x[q]+(p.x[q-1]-p.x[q])*(l-p.y[q])/(p.y[q-1]-p.y[q])&&(m=!m);f[h].$j=f.$j||{};m?(f[h].$j.ZN=!1,f[h].$j.SDb=!0):g=f[h].$j.ZN=!0}return g}return!0}):d.Rsa};d.prototype.reset=function(){return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6ImZVIn19fSAg");var b5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e,f){e=G(e,{ignoretypes:f||[],weight:a},!0);var g=e.weight;if(null==g)this.fpb=null;else if("string"===typeof g){var h=g.split(",").map(function(k){k=k.trim();var l=k.toLowerCase();return l.endsWith(" asc")?{A1b:k.slice(0,-4),order:-1}:{A1b:l.endsWith(" desc")?k.slice(0,-5):k,order:1}});this.fpb=function(k,l){k=k.getAttributes();l=l.getAttributes();for(var m=0;m<h.length;m++){var n=+k[h[m].A1b],p=+l[h[m].A1b];if(n!==p)return h[m].order*(p-n)}return 0}}else this.fpb=function(k,
l){return g(l)-g(k)};this.bvc=e.ignoretypes;this.C5={};this.$sb=0}function a(e){var f=e.$d(!0);if(!e.NU())return e=l4.YQ(f),e.ca()*e.da();e=l4.YQ(f[0]);var g=e.ca()*e.da();for(var h=1;h<f.length;++h)e=l4.YQ(f[h]),g=Math.max(g,e.ca()*e.da());return g}var b=new Ud,c=20;mc(d,X4);L(d,"geotoolkit.map.features.filters.NoAnnotationOverlap");d.prototype.fU=function(e,f,g){var h=g.ea.annotations,k=h&&h.strategy;f.Ea().pl(b.setSize(1,1),b);e=null!=this.fpb?Hg.toArray(e).sort(this.fpb):e;var l=c*b.da();return Hg.zi(e.filter(function(m){for(var n=
0;n<this.bvc.length;++n)if(m instanceof this.bvc[n])return!0;var p=g.D1(m);if(!p)return!1;n=p.xza()||k;if(!n)return!1;var q=n.fb(m,g);if(!q)return!1;n=p.fR();if(!n)return!1;var r=m.$d(!0);m=p.bl(m);m.Eb(q);if(!Array.isArray(r))return n.apply(r,m,f),!this.Dd(I4.X6(m,b),l);p=!1;for(q=0;q<r.length;++q){var t=r[q];t.$j=t.$j||{};!1!==t.$j.ZN&&(n.apply(t,m,f),this.Dd(I4.X6(m,b),l)?t.$j.ZN=!1:(p=!0,t.$j.ZN=!0))}return p}.bind(this)))};d.prototype.reset=function(){this.C5={};this.$sb=0;return this};d.prototype.Dd=
function(e,f){var g=Math.floor(e.la()/f);this.$sb<e.da()&&(this.$sb=e.da());f=Math.ceil(this.$sb/f);for(var h=g-f;h<=g+f;h++)if(this.C5[h])for(var k=0;k<this.C5[h].length;k++)if(this.C5[h][k].Dd(e))return!0;this.C5[g]=this.C5[g]||[];this.C5[g].push(e.clone());return!1};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJmaWx0ZXJGZWF0dXJlcyI6ImZVIn19fSAg");var c5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){this.Xr=a;this.ea={nooverlap:!1};this.setOptions(b);this.C5=[];this.imd=Hg.zi([])}mc(d,X4);L(d,"geotoolkit.map.features.filters.VisibilityArea");d.prototype.setOptions=function(a){xb(a,this.ea);return this};d.prototype.ta=function(){return xb(this.ea,{})};d.prototype.fU=function(a,b,c){b=b.Ea();var e=c.wb();this.Xr.Jb(0,0);var f=this.Xr.lL(b);c=f&&!f.isEmpty();if(!c)return this.imd;var g=this.ea.nooverlap,h=f.getX(),k=f.getY();return new Jg(a,function(l){if(!(l instanceof
u4))return!1;l=l.$d(!0);f.setX(l.x+h);f.setY(l.y+k);if(!e.Dd(f))return!1;if(!g)return!0;for(l=0;l<this.C5.length;l++)if(f.Dd(this.C5[l]))return!1;this.C5.push(new U(f));return!0}.bind(this))};d.prototype.reset=function(){this.C5=[];return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRPcHRpb25zIjoidGEiLCJmaWx0ZXJGZWF0dXJlcyI6ImZVIn19fSAg");var d5=/*#__PURE__*/function(){function d(b,c,e,f){this.smd="string"===typeof b?b:null;this.bqd="string"===typeof c?c:"<br/>";this.YUb="number"===typeof e?e:5;this.crd=!0===f}function a(b,c){return null==b?c.kc():(c=c.getAttributes())&&c.hasOwnProperty(b)?c[b]:null}L(d,"geotoolkit.map.features.formatters.SingleField");d.prototype.format=function(b,c){function e(n){n=a(g,n);h&&-1!==f.indexOf(n)||f.push(n)}var f=[],g=this.smd,h=this.crd;b=b||[];for(var k=0;k<b.length;++k)if(b[k]instanceof v4){var l=Hg.toArray(b[k].mya());
if(l.length>this.YUb+1){for(var m=0;m<this.YUb;++m)e(l[m]);f.push("and "+(l.length-this.YUb)+" more\u2026")}else l.forEach(e)}else e(b[k]);return c+f.join(this.bqd)};return d}();var e5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){this.tmd=a;this.qt=!1!==b}L(d,"geotoolkit.map.features.formatters.Table");d.prototype.format=function(a,b){if(!a||0===a.length)return b;var c,e,f=this.tmd;if(null==f){f={};for(c=0;c<a.length;++c){var g=a[c].getAttributes();for(e in g)g.hasOwnProperty(e)&&!f[e]&&(f[e]=!0)}f=Object.keys(f)}b+="<table>";if(this.qt)for(c=0;c<f.length;++c){var h="<tr><td>"+f[c]+":</td>";for(e=0;e<a.length;++e)g=a[e].getAttributes(),h+="<td>"+(null!=g?g[f[c]]:null)+"</td>";b+=h+"</tr>"}else{b+=
"<tr>";for(c=0;c<f.length;++c)b+="<th>"+f[c]+"</th>";b+="</tr>";for(e=0;e<a.length;++e){b+="<tr>";for(c=0;c<f.length;++c)g=a[e].getAttributes(),b+="<td>"+(null!=g?g[f[c]]:null)+"</td>";b+="</tr>"}}return b+"</table>"};d.Ra=function(a,b){a=a||{};var c=Object.keys(a);b=!1!==b;return function(e,f){if(0===e.length)return f;f+="<table>";var g,h;if(b)for(g=0;g<c.length;++g){var k="<tr><td>"+c[g]+":</td>";for(h=0;h<e.length;++h){var l=a[c[g]](e[h]);k+="<td>"+l+"</td>"}f+=k+"</tr>"}else{f+="<tr>";for(g=0;g<
c.length;++g)f+="<th>"+c[g]+"</th>";f+="</tr>";for(h=0;h<e.length;++h){f+="<tr>";for(g=0;g<c.length;++g)l=a[c[g]](e[h]),f+="<td>"+l+"</td>";f+="</tr>"}}return f+"</table>"}};return d}(),2,"eyJmcm9tT2JqZWN0IjoiUmEifSAg");var f5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}d.prototype.fb=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiZmIifX19");var g5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){this.mob=a}mc(d,f5);L(d,"geotoolkit.map.features.strategies.AnnotationByAttribute");d.prototype.fb=function(a,b){return(a=a.getAttributes())?a[this.mob]:null};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiZmIifX19");var h5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}mc(d,f5);L(d,"geotoolkit.map.features.strategies.AnnotationById");d.prototype.fb=function(a,b){return a.kc()};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiZmIifX19");var i5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=G(c,{expression:c&&c.expression||function(f){return f.kc()},minscale:0,maxscale:Infinity,where:null},!0);if("string"===typeof c.expression){var e=c.expression;this.$tc=function(f){var g=f.getAttributes();return e.replace(/{(.*?)}/g,function(h,k){return g[k]})}}else this.$tc=c.expression;this.$7a=0===c.minscale?0:b.convert(c.minscale,a);this.T7a=Infinity===c.maxscale?Infinity:b.convert(c.maxscale,a);this.Cf=c.where}var a=Zd.ya().Xa("px"),b=Zd.ya().Xa("metre");mc(d,
f5);L(d,"geotoolkit.map.features.strategies.AnnotationByRule");d.prototype.fb=function(c,e){e=Math.abs(e.wa().lb());return e>=this.$7a&&e<=this.T7a&&(!this.Cf||this.Cf(c))?this.$tc(c):""};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRBbm5vdGF0aW9uIjoiZmIifX19");var j5=/*#__PURE__*/function(){function d(a){a=a||{};a.shape=a.shape||new Yn({linestyle:{color:"black",width:1}});a.shape instanceof Yn&&a.shape.YJ(!1);a.geometrytoshape=a.geometrytoshape||new q4;a.geometrytotext=a.geometrytotext||new o4;w4.call(this,a)}D(d,w4);L(d,"geotoolkit.map.features.templates.LineString");return d}();var k5=/*#__PURE__*/function(){function d(a){a=a||{};a.shape=a.shape||new Km(0,0,8,8,O.Oa,!0,$m,new Y("black"),new rf("white"));a.geometrytoshape=a.geometrytoshape||new s4;a.geometrytotext=a.geometrytotext||a.geometrytoshape;w4.call(this,a)}D(d,w4);L(d,"geotoolkit.map.features.templates.Point");return d}();var l5=/*#__PURE__*/function(){function d(a){a=a||{};a.shape=a.shape||new Um({linestyle:{color:"black",width:1},fillstyle:{color:"white"}});a.geometrytoshape=a.geometrytoshape||new t4;a.geometrytotext=a.geometrytotext||new n4;w4.call(this,a)}D(d,w4);L(d,"geotoolkit.map.features.templates.Polygon");return d}();var m5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){Ee.call(this,a);this.ea=this.ea||{};a=xb(a,{system:$3.VV,limits:null,source:null,alpha:1,layerfilter:null},!0);this.f5a=d4.lg().uk(a.system);this.Cc=null;this.setOptions(a);this.Wu(a.source||a.sources);a=a.url||a.server;void 0!==a&&this.d8(a);this.uaa=this.zFa=this.Gd=null;this.Svc=this.pH=!1}D(d,Ee);L(d,"geotoolkit.map.layers.AbstractLayer");d.prototype.Sa=function(){return this.ge()};d.prototype.wb=function(a){var b=this.getParent(),c=this.oa(),e=null;null!=b&&null!=
b.oa()&&(e=this.wa(),e=null==e?new U(b.fj(a)):e.wd(b.fj(a)));if(null!=c&&null!=e)a||e.intersect(c);else return c;return e};d.prototype.oa=function(){if(null!=this.fe)return this.fe.clone();if(null!=this.Cc){var a=this.Cc.oa();if(null!=a)return a}this.ft||(this.ft=this.YT());return this.ft?this.ft.clone():null};d.prototype.Ha=function(a){this.fe=a?a.clone():null;this.notify(ze.Jr,this,this.fe);return this};d.prototype.Jk=function(){return null!=this.ft?this.ft.clone():null};d.prototype.YT=function(){return null!=
this.zFa?this.zFa.Jk():null};d.prototype.VGd=function(){return this.AP};d.prototype.s2d=function(a){this.AP!==a&&(this.AP=a,this.ea.alpha=a,this.ha());return this};d.prototype.ta=function(){return xb(this.ea,{})};d.prototype.setOptions=function(a){xb(a,this.ea);a&&a.hasOwnProperty("limits")&&this.Ha(a.limits);this.ZG=this.ea.layerfilter;this.AP=this.ea.alpha;return this};d.prototype.Bfc=function(a){this.f5a=d4.lg().uk(a);null!=this.Cc&&this.Cc.Bfc(this.f5a);return this};d.prototype.uk=function(){return this.f5a};
d.prototype.ql=function(a){this.pH!==a&&(this.pH=a,this.ha());return this};d.prototype.Xo=function(){return this.pH};d.prototype.render=function(a){!this.isVisible||this.ZG&&!this.ZG.filter(this,a)||(this.Gd&&!a.fc()?this.Gd.render(a):this.uj(a))};d.prototype.Fe=function(a,b){if(this.isVisible&&(!this.ZG||this.ZG.filter(this,a)))if(this.Gd&&!a.fc())this.Gd.render(a);else{this.Ft(a,b);return}b()};d.prototype.uj=Fb;d.prototype.Ft=function(a,b){var c=this,e=this.wb(!0);this.Qc().query(e,this);this.Qc().Zgb().then(function(){c.uj(a);
b()},b)};d.prototype.load=function(){if(null!=this.Cc){var a=this;return this.Cc.Zgb().then(function(){return a},function(){return a})}return Cg.resolve(this)};d.prototype.Fn=function(){return null!=this.Cc?!this.Cc.nEb():!1};d.prototype.ge=function(){return null!=this.getParent()?this.getParent().ge():null};d.IJe=function(a){var b=null,c=[];a.forEach(function(e){e instanceof Ti&&e.IA()?c.push(e.al()):e.ga&&(e=e.ga())&&(null==b?b=e.clone():b.union(e))});0<c.length&&(a=Hd.getBoundingBox(c),null==b?
b=a:b.union(a));return b};d.prototype.Li=function(a){if(this.Gd===a)return this;this.Gd&&this.Gd.SA(null);a&&a.Ly()&&a.SA(null);if(this.Gd=a)this.Gd.SA(this),this.Gd.Y2(this.uj.bind(this));return this};d.prototype.ha=function(a,b){this.Gd&&(a?this.Gd.ha(a,b):this.Gd.Mf());Ee.prototype.ha.call(this,a,b);return this};d.prototype.es=function(){return this.Gd};d.prototype.aU=function(){this.Gd&&(this.Gd.SA(null),this.Gd.Y2(null));this.Gd=null;return this};d.prototype.ia=function(){var a=Ee.prototype.ia.call(this);
a.url=this.V6();return a=xb(a,this.ta())};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;Ee.prototype.fa.call(this,a);void 0!==a.source&&this.Wu(a.source);this.setOptions(a);return this};d.prototype.AL=function(){return this.zFa};d.prototype.jM=function(a){this.zFa=d4.lg().uk(a);null!=this.Cc&&this.Cc.jM(this.zFa);return this};d.prototype.Ma=function(a,b,c,e){b=b instanceof V3?b:d4.lg().uk(b);c=c instanceof V3?c:d4.lg().uk(c);if(null!=b&&null!=c){if(null==this.uaa||this.uaa.xJ()!==b||this.uaa.js()!==
c)this.uaa=new e4(b,c);return this.uaa.transform(a,e)}return null};d.prototype.uda=function(a,b){var c=this.uk(),e=this.AL();return this.Ma(a,c,e,b)};d.prototype.Vjc=function(a,b){var c=this.uk(),e=this.AL();return this.Ma(a,e,c,b)};d.prototype.d8=function(a){null!=this.Cc&&this.Cc.d8(a);return this};d.prototype.V6=function(){return null!=this.Cc?this.Cc.V6():null};d.prototype.dispose=function(){null!=this.Cc&&this.Cc.dispose();this.Gd&&this.Li(null);Ee.prototype.dispose.call(this)};d.prototype.Qc=
function(){return this.Cc};d.prototype.gj=function(a,b){return[]};d.prototype.Qba=function(){return null};d.prototype.cpa=function(a,b){return a};d.prototype.Wu=Fb;d.prototype.V5d=function(a){this.Svc=a;this.es()instanceof Em&&this.es().freeze(a);return this};d.prototype.bAa=function(){return this.Svc};d.prototype.Ba=function(a,b){b=!0===b?xb:G;this.ea=b(a.ea,this.ea);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRXb3JsZFRyYW5zZm9ybSI6IlNhIiwiZ2V0VmlzaWJsZU1vZGVsTGltaXRzIjoid2IiLCJnZXRNb2RlbExpbWl0cyI6Im9hIiwic2V0TW9kZWxMaW1pdHMiOiJIYSIsImdldERlZmF1bHRNb2RlbExpbWl0cyI6IkprIiwiY2FsY3VsYXRlRGVmYXVsdE1vZGVsTGltaXRzIjoiWVQiLCJnZXRMYXllckFscGhhIjoiVkdkIiwic2V0TGF5ZXJBbHBoYSI6InMyZCIsImdldE9wdGlvbnMiOiJ0YSIsImdldENvb3JkaW5hdGVTeXN0ZW0iOiJ1ayIsInNldFZlcnRpY2FsRmxpcCI6InFsIiwiaXNWZXJ0aWNhbEZsaXAiOiJYbyIsInJlbmRlckFzeW5jIjoiRmUiLCJyZW5kZXJDb250ZW50IjoidWoiLCJyZW5kZXJDb250ZW50QXN5bmMiOiJGdCIsImlzTG9hZGluZyI6IkZuIiwic2V0Q2FjaGUiOiJMaSIsImludmFsaWRhdGUiOiJoYSIsImdldENhY2hlIjoiZXMiLCJjbGVhckNhY2hlIjoiYVUiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiQUwiLCJzZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiak0iLCJ0cmFuc2Zvcm1Qb2ludCI6Ik1hIiwidHJhbnNmb3JtVG9NYXAiOiJ1ZGEiLCJ0cmFuc2Zvcm1Gcm9tTWFwIjoiVmpjIiwic2V0U2VydmVyVVJMIjoiZDgiLCJnZXRTZXJ2ZXJVUkwiOiJWNiIsImdldERhdGFTb3VyY2UiOiJRYyIsImhpdFRlc3QiOiJnaiIsImdldFRvb2x0aXBGb3JtYXR0ZXIiOiJRYmEiLCJjb3B5Q29uc3RydWN0b3IiOiJCYSJ9fX0g");var n5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){var b={geometry:null,properties:null,name:null,filter:null};b=G(a,b);this.Uc=b.geometry;this.sx=b.properties;this.ic=b.name;this.Cf=b.filter}L(d,"geotoolkit.map.util.Query");d.prototype.Fm=function(a){this.Uc=a;return this};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;void 0!==a.properties?(this.sx=a.properties,void 0!==a.geometry&&(this.Uc=a.geometry),void 0!==a.filter&&(this.Cf=a.filter),void 0!==a.name&&(this.ic=a.name)):this.sx=a;return this};d.prototype.nb=
function(a){this.ic=a;return this};d.prototype.Ga=function(){return this.ic};d.prototype.$d=function(){return this.Uc};d.prototype.ia=function(){return xb(this.sx,{properties:this.sx,filter:this.Cf,geometry:this.Uc,name:this.ic})};d.prototype.setFilter=function(a){this.Cf=a;return this};d.prototype.getFilter=function(){return this.Cf};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRHZW9tZXRyeSI6IkZtIiwic2V0UHJvcGVydGllcyI6ImZhIiwic2V0TmFtZSI6Im5iIiwiZ2V0TmFtZSI6IkdhIiwiZ2V0R2VvbWV0cnkiOiIkZCIsImdldFByb3BlcnRpZXMiOiJpYSJ9fX0g");var o5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){this.im=a&&a.connector||new C4;this.ua=a&&a.settings||{};this.ypb=null;this.Ipb=!1;this.Iub=this.A7a=null;this.YD={};for(var b=I4.rcc(a),c=0;c<b.length;++c)this.rG(b[c],a[b[c]])}L(d,"geotoolkit.map.sources.loaders.AbstractLoader");d.prototype.pu=function(a){null!=a&&(this.ua=a);return this};d.prototype.query=function(){if(null==this.Iub){var a=this;this.Ipb=!1;this.Iub=new Cg(function(b,c){var e=a.pY();null==e?b(a):(e=I4.sWa(e,a.YD),a.im.send(e,a.VXa(),function(f,g){if(f)hb(f),
c(f);else try{a.parse(g,function(h){a.Ipb=!0;b(h)})}catch(h){hb(h),c(h)}}))})}return this.Iub};d.prototype.Eqa=function(){return this.Ipb};d.prototype.loaded=function(a){var b=this;this.A7a=setTimeout(function(){b.A7a=null;a(b)},0)};d.prototype.clear=function(){this.im.abort();null!=this.A7a&&(clearTimeout(this.A7a),this.A7a=null);this.Iub=null;this.Ipb=!1;return this};d.prototype.parse=Fb;d.prototype.pY=Fb;d.prototype.VXa=function(){return null};d.prototype.Adb=function(){return this.im};d.prototype.rG=
function(a,b){"string"===typeof b&&(b=encodeURI(b));this.YD[a.toLowerCase()]=b;return this};d.prototype.Cbb=function(a){if(null==a)return this;for(var b in a.YD)a.YD.hasOwnProperty(b)&&(this.YD[b]=a.YD[b]);return this};d.prototype.BAb=function(){return this.ypb};d.prototype.clone=function(){return Cb(this)};d.prototype.Ba=function(a,b){b=!0===b?xb:G;this.ua=b(a.ua,this.ua);this.im=a.im.clone();this.YD=b(a.YD,this.YD);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6InBZIiwiZ2V0UmVxdWVzdE9wdGlvbnMiOiJWWGEiLCJnZXRDb25uZWN0b3IiOiJBZGIiLCJzZXRRdWVyeVBhcmFtZXRlciI6InJHIiwiY2xvbmVRdWVyeVBhcmFtZXRlcnMiOiJDYmIiLCJnZXRDb3B5cmlnaHQiOiJCQWIiLCJjb3B5Q29uc3RydWN0b3IiOiJCYSJ9fX0g");var p5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(F){return F.getAttributes()[this]}function a(F){return F.kc()}function b(F){return F instanceof u4||F instanceof D4?"Point":F instanceof E4||F instanceof F4?"LineString":"Polygon"}function c(){return!0}function e(){return this}function f(){}function g(F){this.pIa=new Uint8Array(F);this.type=this.xg=0;this.length=this.pIa.length}function h(F,I,J){return J?4294967296*I+(F>>>0):4294967296*(I>>>0)+(F>>>0)}function k(F,I,J,K,M){var P=8*M-K-1;var R=(1<<P)-1,Q=R>>1,V=-7;M=J?
M-1:0;var Z=J?-1:1,aa=F[I+M];M+=Z;J=aa&(1<<-V)-1;aa>>=-V;for(V+=P;0<V;V-=8)J=256*J+F[I+M],M+=Z;P=J&(1<<-V)-1;J>>=-V;for(V+=K;0<V;V-=8)P=256*P+F[I+M],M+=Z;if(0===J)J=1-Q;else{if(J===R)return P?NaN:aa?-Infinity:Infinity;P+=Math.pow(2,K);J-=Q}return(aa?-1:1)*P*Math.pow(2,J-K)}function l(F,I,J){3===F&&(F=new m(J,J.WH()+J.xg),F.length&&(I[F.name]=F))}function m(F,I){this.version=1;this.name=null;this.bya=4096;this.length=0;this.gTa=F;this.BF=[];this.Cb=[];this.ss=[];F.Kdc(n,this,I);this.length=this.ss.length}function n(F,I,J){switch(F){case 15:I.version=J.WH();break;case 1:I.name=J.RAa();break;case 5:I.bya=J.WH();break;case 2:I.ss.push(J.xg);break;case 3:I.BF.push(J.RAa());break;case 4:var K=null;for(F=J.WH()+J.xg;J.xg<F;)K=J.WH()>>3,K=1===K?J.RAa():2===K?J.kXd():3===K?J.iXd():4===K?J.qXd():5===K?J.WH():6===K?J.Mdc():7===K?J.eXd():null;I.Cb.push(K)}}function p(F,I,J,K,M){w.Da(F*J,-I*K);M&&M(w,w);return w}function q(F,I,J,K,M){this.properties={};this.bya=J;this.type=0;this.gTa=F;this.Uc=-1;this.BF=K;this.Cb=
M;F.Kdc(r,this,I)}function r(F,I,J){switch(F){case 1:I.id=J.WH();break;case 2:for(F=J.WH()+J.xg;J.xg<F;){var K=I.BF[J.WH()],M=I.Cb[J.WH()];I.properties[K]=M}break;case 3:I.type=J.WH();break;case 4:I.Uc=J.xg}}function t(F){s4.call(this,F);this.Uc={x:0,y:0}}var u,w=new N,y=d4.lg().uk($3.VV),z=y.Jk();D(t,s4);L(t,"MapboxPointAdapter");t.prototype.apply=function(F,I,J){this.Uc.x=F.x[0]||F.x;this.Uc.y=F.y[0]||F.y;s4.prototype.apply.call(this,this.Uc,I,J)};var x=1,C=2,A=3,v=z.ca()/360,B=z.da()/360;q.prototype.yRd=
function(F,I,J,K){var M=J*v,P=J*B,R=this.gTa;R.xg=this.Uc;var Q=R.WH()+R.xg,V=1,Z=0;J=180/J;F-=J;I-=J;J=[];for(var aa;R.xg<Q;)if(0>=Z&&(Z=R.WH(),V=Z&7,Z>>=3),Z--,1===V||2===V){F+=R.Mdc();I+=R.Mdc();1===V&&(aa&&J.push(aa),aa=this.type===x?{}:{x:[],y:[]});if(!aa)throw Error("Pbf wrong data found: wrong geometry found");var na=p(F,I,M,P,K);this.type===x?(aa.x=na.x,aa.y=na.y):(aa.x.push(na.x),aa.y.push(na.y))}else if(7===V)aa&&this.type===A&&(na=aa.x.length-1,aa.x[0]!==aa.x[na]||aa.y[0]!==aa.y[na])&&
(aa.x.push(aa.x[0]),aa.y.push(aa.y[0]));else throw Error("Pbf wrong data found: unknown command "+V);aa&&J.push(aa);return J};q.prototype.o7d=function(F,I,J,K,M){J=360/(this.bya*J);F*=this.bya;I*=this.bya;M=this.yRd(F,I,J,M);K=this.id||K.L6(this.properties)||this.properties.id;if(0===M.length)return null;switch(this.type){case x:I=1===M.length?u4:D4;break;case C:I=1===M.length?E4:F4;break;case A:if(1<M.length){I=null;for(J=0;J<M.length;)(F=l4.yUc(M[J]))?I=M[J++]:(I&&(I.clip=I.clip||[l4.YQ(I)],I.clip.push(M[J])),
M.splice(J,1));I=1===M.length?G4:H4}else I=G4;break;default:return null}return new I({id:K,attributes:this.properties,geometry:1===M.length?M[0]:M})};m.prototype.YIa=function(F){this.gTa.xg=this.ss[F];F=this.gTa.WH()+this.gTa.xg;return new q(this.gTa,F,this.bya,this.BF,this.Cb)};g.Zjd=0;g.Ked=1;g.gcd=2;g.Jed=5;g.prototype={destroy:function(){this.pIa=null},Kdc:function(F,I,J){for(J=J||this.length;this.xg<J;){var K=this.WH(),M=K>>3,P=this.xg;this.type=K&7;F(M,I,this);this.xg===P&&this.k6d(K)}return I},
kXd:function(){var F=k(this.pIa,this.xg,!0,23,4);this.xg+=4;return F},iXd:function(){var F=k(this.pIa,this.xg,!0,52,8);this.xg+=8;return F},WH:function(F){var I=this.pIa;var J=I[this.xg++];var K=J&127;if(128>J)return K;J=I[this.xg++];K|=(J&127)<<7;if(128>J)return K;J=I[this.xg++];K|=(J&127)<<14;if(128>J)return K;J=I[this.xg++];K|=(J&127)<<21;if(128>J)return K;J=I[this.xg];K|=(J&15)<<28;J=I[this.xg++];var M=(J&112)>>4;if(128>J)return h(K,M,F);J=I[this.xg++];M|=(J&127)<<3;if(128>J)return h(K,M,F);J=
I[this.xg++];M|=(J&127)<<10;if(128>J)return h(K,M,F);J=I[this.xg++];M|=(J&127)<<17;if(128>J)return h(K,M,F);J=I[this.xg++];M|=(J&127)<<24;if(128>J)return h(K,M,F);J=I[this.xg++];M|=(J&1)<<31;if(128>J)return h(K,M,F);throw Error("Pbf wrong data found: expected varint not more than 10 bytes");},qXd:function(){return this.WH(!0)},Mdc:function(){var F=this.WH();return 1===F%2?(F+1)/-2:F/2},eXd:function(){return!!this.WH()},RAa:function(){for(var F=this.WH()+this.xg,I="",J=this.xg,K=this.pIa;J<F;){var M=
K[J],P=null,R=239<M&&4||223<M&&3||191<M&&2||1;if(J+R>F)break;if(1===R)128>M&&(P=M);else if(2===R){var Q=K[J+1];128===(Q&192)&&(P=(M&31)<<6|Q&63,127>=P&&(P=null))}else if(3===R){Q=K[J+1];var V=K[J+2];128===(Q&192)&&128===(V&192)&&(P=(M&15)<<12|(Q&63)<<6|V&63,2047>=P||55296<=P&&57343>=P)&&(P=null)}else if(4===R){Q=K[J+1];V=K[J+2];var Z=K[J+3];128===(Q&192)&&128===(V&192)&&128===(Z&192)&&(P=(M&15)<<18|(Q&63)<<12|(V&63)<<6|Z&63,65535>=P||1114112<=P)&&(P=null)}null===P?(P=65533,R=1):65535<P&&(P-=65536,
I+=String.fromCharCode(P>>>10&1023|55296),P=56320|P&1023);I+=String.fromCharCode(P);J+=R}this.xg=F;return I},k6d:function(F){F&=7;if(F===g.Zjd)for(;127<this.pIa[this.xg++];);else if(F===g.gcd)this.xg=this.WH()+this.xg;else if(F===g.Jed)this.xg+=4;else if(F===g.Ked)this.xg+=8;else throw Error("Pbf wrong data found: unknown type: "+F);}};L(f,"geotoolkit.map.util.Mapbox");var E="background_layer",H=16;f.parse=function(F,I,J,K,M,P,R){M=M||new L4("name");R=R||{};var Q=0===Object.keys(R).length||1===Object.keys(R).length&&
null!=R.layers,V=1<<K,Z=z.width/V,aa=z.height/V,na=z.x+Z*I,ya=z.y+aa*(V-J-1),va=new g(F),qa=va.Kdc(l,{});F={};for(var Ja=Object.keys(qa),Qa=0;Qa<Ja.length;Qa++){var Oa=Ja[Qa];if(Q)R.layers=R.layers||[],0>R.layers.indexOf(Oa)&&R.layers.push(Oa);else if(!R[Oa])continue;for(var Ua=0;Ua<qa[Oa].length;++Ua){var bb=qa[Oa].YIa(Ua).o7d(I,J,V,M,P);if(bb)if(Q)F[Oa]=F[Oa]||[],F[Oa].push(bb);else for(var Ya=f.TDc(bb,K,R[Oa]),tb=!1,Vb=0;Vb<Ya.length;Vb++){var Tb=Ya[Vb].id,ub=Ya[Vb].Zu;0<Vb&&(bb=bb.vNa());F[Tb]=
F[Tb]||[];F[Tb].push(bb);bb.Zu=ub;ub.bl()!==u&&(tb&&bb.f0d({}),tb=!0)}}}va.destroy();if(R[E])for(I=R[E],J=0;J<I.length;J++)M=new G4({geometry:{x:[na,na+Z,na+Z,na],y:[ya,ya,ya+aa,ya+aa]}}),I[J].setZ(K),M.Zu=I[J].Zu,F[I[J].id]=[M];return F};f.OFb=function(F,I,J){F=F.layers;I={layers:[],cyb:{},kkb:J,fjc:{},fonts:[],lkb:I};for(J=0;J<F.length;++J)f.pYc(F[J],I);return I};f.TDc=function(F,I,J){var K=[];if(!J)return K;for(var M=0;M<J.length;M++)J[M].filter(F,I)&&K.push(J[M]);return K};f.pYc=function(F,I){var J=
G(F.layout,F.paint);if(J&&"none"!==J.visibility){var K=F["source-layer"],M=null!=F.minzoom?F.minzoom:0,P=null!=F.maxzoom?F.maxzoom:Infinity,R=f.GFb(F.filter),Q={id:F.id,zoom:null,setZ:function(ya){Q.zoom=ya},EBa:e,filter:function(ya,va){return va>=M&&va<=P&&R(ya)}};u=u||new ek({visible:!1});switch(F.type){case "background":K=E;J=J["background-pattern"]?f.zcc(J["background-pattern"],J["background-opacity"],I):f.KAa(J["background-color"],J["background-opacity"],Q,rf);if(!J)return;Q.Zu=new l5({shape:new Um({fillstyle:J})});
break;case "fill":if(J["fill-pattern"]){J=f.zcc(J["fill-pattern"],J["fill-opacity"],I);if(!J)return;Q.Zu=new l5({shape:new Um({fillstyle:J}),textshape:u})}else Q.Zu=new l5({shape:new Um({fillstyle:f.KAa(J["fill-color"],J["fill-opacity"],Q,rf),linestyle:f.KAa(J["fill-outline-color"],J["fill-opacity"],Q,Y)}),textshape:u});break;case "line":Q.Zu=new j5({shape:new Yn({linestyle:f.XXc(J,Q)}),textshape:u});break;case "symbol":var V=f.QXc(J,I,Q),Z=f.qYc(J,I,Q);if("line"===J["symbol-placement"]){var aa=j5;
var na=o4}else"line-center"===J["symbol-placement"]?(aa=l5,na=n4):(aa=k5,na=t);!0!==J["icon-allow-overlap"]&&(I.fjc[F.id]=J["symbol-spacing"]||250);Q.Zu=new aa({shape:V.shape,geometrytoshape:new na({offset:{x:V.offset[0],y:V.offset[1]}}),textshape:Z.shape,geometrytotext:new na({offset:{x:Z.offset[0],y:Z.offset[1]}}),textstrategy:Z.J6d,textsizeinfo:Z.$ic});break;case "circle":V=J["circle-stroke-width"]||0;Z=(J["circle-radius"]||5)+V/2;aa=f.KAa(J["circle-color"],J["circle-opacity"],Q,rf);na=null;0<
V&&(na=f.KAa(J["circle-stroke-color"]||"#000000",J["circle-stroke-opacity"],Q,Y),na.Qa(V));Q.Zu=new k5({shape:new Km({painter:$m,width:2*Z,height:2*Z,fillstyle:0<J["circle-blur"]&&null!=aa?new pg({innerradius:1-J["circle-blur"],startcolor:aa.mb(),endcolor:"transparent"}):aa,linestyle:na}),textshape:u});break;default:hb('VectorTile: "'+F.type+'" type is not supported');return}Q.EBa!==e&&Q.Zu.fa({shapecallback:Q.EBa});I.layers.push(F.id);I.cyb[F.id]=Q;I[K]=I[K]||[];I[K].push(Q)}};f.qYc=function(F,I,
J){function K(na,ya){return aa[ya]||""}if(!F||!F["text-field"])return{shape:u,offset:[0,0]};var M=F.text,P=0;switch(F["text-anchor"]){case "left":var R=O.Bd;M=2;break;case "right":R=O.we;M=-2;break;case "top":R=O.Se;P=-2;break;case "bottom":R=O.ee;P=2;break;case "top-left":R=O.hg;M=2;P=-2;break;case "top-right":R=O.Ah;P=M=-2;break;case "bottom-left":R=O.Id;P=M=2;break;case "bottom-right":R=O.Nf;M=-2;P=2;break;default:R=O.Oa}var Q="uppercase"===F["text-transform"]&&String.prototype.toUpperCase||"lowercase"===
F["text-transform"]&&String.prototype.toLowerCase||null,V=W.degToRad(F["text-rotate"])||0;I=f.rYc(F,I,J);var Z=F["text-field"];R=new ek({textstyle:I?I.style:null,rotationangle:V,preservereadingorientation:!0,ispointingup:!0,width:0<F["text-max-width"]&&I?I.size*F["text-max-width"]:0,alignment:R});0<F["text-max-width"]&&I&&(I.style.ce(Ai.Oa),R.setSize(I.size*F["text-max-width"],0).wk(ck.qC));var aa;return{shape:R,$ic:I.$ic,J6d:new i5({expression:function(na){aa=na.getAttributes();na=Z;if("string"!==
typeof Z){var ya=Z.stops||[];na=ya[ya.length-1]&&ya[ya.length-1][1]||"";for(var va=0;va<ya.length;va++)if(J.zoom<=ya[va][0]){na=ya[va][1];break}}na=na.replace(/{(.*?)}/g,K);return Q?Q.call(na):na}}),offset:[M,P]}};f.QXc=function(F,I,J){if(!(F&&F["icon-image"]&&I.kkb&&I.lkb))return{shape:u,offset:[0,0]};var K=F["icon-image"],M=F["icon-size"]||1,P=I.kkb,R=W.degToRad(F["icon-rotate"])||0,Q=F.hasOwnProperty("icon-opacity")?F["icon-opacity"]:1;if(0>K.indexOf("{")){if(!P[K])return{shape:u,offset:[0,0]};
F=F["icon-offset"]||[0,0];return{shape:new Cj({url:I.lkb,rotationangle:R,opacity:Q,crossorigin:"anonymous",sizeisindevicespace:!0,alignment:O.Oa,width:P[K].width*M,height:P[K].height*M,sprite:new U(P[K])}),offset:[P[K].width*M*F[0],P[K].height*M*F[1]]}}var V=J.EBa;J.EBa=function(Z,aa){var na=Z.getAttributes(),ya=K.replace(/{(.*?)}/g,function(va,qa){return na[qa]});P[ya]?aa.setSize(P[ya].width*M,P[ya].height*M).X6c(new U(P[ya])).va(!0):aa.va(!1);V(Z,aa)};return{shape:new Cj({url:I.lkb,rotationangle:R,
alignment:O.Oa,opacity:Q,crossorigin:"anonymous",sizeisindevicespace:!0}),offset:[0,0]}};f.rYc=function(F,I,J){if(!F["text-font"]&&!F["text-size"]&&!F["text-color"])return null;var K=f.KAa(F["text-color"],F["text-opacity"],J,Fi)||new Fi,M="string"===typeof F["text-font"]?F["text-font"]:Array.isArray(F["text-font"])&&F["text-font"][0];M?0>I.fonts.indexOf(M)&&I.fonts.push(M):M="sans-serif";I=F["text-size"]||H;var P=null;if("number"!==typeof I){var R=f.b_a(I);if(2>R.length){var Q=J.setZ;J.setZ=function(V){var Z=
Math.round(R(V));K.yo(Z+"px "+M);Q(V)}}else J=I.stops.length-1,P={field:I.property,minDataValue:I.stops[0][0],maxDataValue:I.stops[J][0],minSize:I.stops[0][1],maxSize:I.stops[J][1]};I=H}K.yo(I+"px "+M);"string"===typeof F["text-halo-color"]&&0<F["text-halo-width"]&&K.gsa({color:F["text-halo-color"],blur:2*F["text-halo-width"],enable:!0});return{style:K,$ic:P,size:I}};f.zcc=function(F,I,J){if(!J.kkb||!J.lkb||!J.kkb[F])return null;var K=new rf("transparent"),M=new U(J.kkb[F]),P=new Cj({url:J.lkb,alignment:O.Id,
ax:0,ay:0,width:M.ca(),height:M.da(),opacity:"number"===typeof I?I:1,crossorigin:"anonymous",sprite:M});P.JR(function(){var R=new Fh(M.ca(),M.da(),!0),Q=R.lza();P.render(Q);R.tp();K.kw(ui.ya().createPattern(R.Sk().toDataURL()))});return K};f.XXc=function(F,I){function J(aa,na){return Array.isArray(aa)?aa.map(function(ya){return ya*na}):null}if(!F["line-color"]&&!F["line-width"])return null;var K=f.KAa(F["line-color"]||"#000000",F["line-opacity"],I,Y),M=F.hasOwnProperty("line-width")?F["line-width"]:
1,P=F["line-dasharray"];if("number"!==typeof M||P&&P.stops){var R=f.b_a(M),Q=f.b_a(P);if(2>R.length&&2>Q.length){var V=I.setZ;I.setZ=function(aa){var na=R(aa),ya=Q(aa);K.Qa(na).kw(J(ya,na));V(aa)}}else{var Z=I.EBa;I.EBa=function(aa,na){var ya=2>R.length?R(I.zoom):R(aa,na),va=2>Q.length?Q(I.zoom):Q(aa,na);K.Qa(ya).kw(J(va,ya));Z(aa,na)}}M=1;P=null}K.Qa(M).Pra(F["line-cap"]||xg.Nda).mjb(F["line-join"]||wg.Kka).kw(J(P,M));return K};f.KAa=function(F,I,J,K){if(null==F)return null;if("string"===typeof F){if(null==
I||1===I)return new K({color:F});if("number"===typeof I)return new K({color:Pd.dC(F,255*I)})}var M=f.b_a(F),P=f.b_a(I),R=J.setZ,Q=new K;if(2>M.length&&2>P.length)J.setZ=function(Z){var aa=M(Z),na=P(Z);aa.dC(na);Q.setColor(aa);R(Z)};else{var V=J.EBa;J.EBa=function(Z,aa){var na=2>M.length?M(J.zoom):M(Z,aa),ya=2>P.length?P(J.zoom):P(Z,aa);na.dC(ya);Q.setColor(na);V(Z,aa)}}return Q};f.b_a=function(F){function I(R){var Q;if("number"!==typeof R){for(Q=0;Q<J.length;Q++)if(J[Q][0]===R)return J[Q][1];return J[0][0]}if(R<
J[0][0])return J[0][1];for(Q=1;Q<J.length;Q++)if(!(J[Q][0]<R)){R-=J[Q-1][0];var V=J[Q][0]-J[Q-1][0];R=1===K?R/V:(Math.pow(K,R)-1)/(Math.pow(K,V)-1);return P?M.mb(J[Q-1][0]+R*(J[Q][0]-J[Q-1][0])):J[Q-1][1]+R*(J[Q][1]-J[Q-1][1])}return J[J.length-1][1]}if("object"!==typeof F||!Array.isArray(F.stops))return"string"===typeof F&&(F=new xd(F)),function(){return F};var J=F.stops,K=F.base||1,M,P="string"===typeof J[0][1];P&&(M=new Po({values:J.map(function(R){return R[0]}),colors:J.map(function(R){return R[1]})}));
return F.property?function(R,Q){R=I(R.getAttributes()[F.property]);return P&&"string"===typeof R?new xd(R):R}:function(R){R=I(R);return P&&"string"===typeof R?new xd(R):R}};f.GFb=function(F){if(!Array.isArray(F)||0===F.length)return c;var I,J=F[1],K=F[2],M="$type"===J&&b||"$id"===J&&a||d;switch(F[0]){case "has":return function(Z){return void 0!==M.call(J,Z)};case "!has":return function(Z){return void 0===M.call(J,Z)};case "==":return function(Z){return M.call(J,Z)===K};case "!=":return function(Z){return M.call(J,
Z)!==K};case ">":return function(Z){return M.call(J,Z)>K};case ">=":return function(Z){return M.call(J,Z)>=K};case "<":return function(Z){return M.call(J,Z)<K};case "<=":return function(Z){return M.call(J,Z)<=K};case "in":case "!in":var P=F.slice(2);var R="!in"===F[0];return function(Z){return-1===P.indexOf(M.call(J,Z))===R};case "all":var Q=[];for(I=1;I<F.length;++I)Q.push(f.GFb(F[I]));return function(Z){return Q.every(function(aa){return aa(Z)})};case "any":case "none":var V=[];for(I=1;I<F.length;++I)V.push(f.GFb(F[I]));
R="any"===F[0];return function(Z){return V.some(function(aa){return aa(Z)})===R}}return c};return f}(),1,"eyJwYXJzZVN0eWxlcyI6Ik9GYiIsImFwcGx5VGVtcGxhdGVzIjoiVERjIiwicGFyc2VUZW1wbGF0ZSI6InBZYyIsInBhcnNlVGV4dEZpZWxkIjoicVljIiwicGFyc2VJY29uSW1hZ2UiOiJRWGMiLCJwYXJzZVRleHRTdHlsZSI6InJZYyIsInBhcnNlRmlsbFBhdHRlcm4iOiJ6Y2MiLCJwYXJzZUxpbmVTdHlsZSI6IlhYYyIsInBhcnNlQ29sb3JlZFN0eWxlIjoiS0FhIiwicGFyc2VGdW5jdGlvbiI6ImJfYSIsInBhcnNlRmlsdGVyIjoiR0ZiIn0g");var q5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b,c){return b?new Cg(function(e){c.send(b,null,function(f,g){if(f||"string"!==typeof g)g=null;else try{g=JSON.parse(g)}catch(h){f=h}f&&hb(f);e(g)})}):Cg.resolve(null)}function a(b){o5.call(this,b)}D(a,o5);L(a,"geotoolkit.map.sources.loaders.VectorTile");a.prototype.parse=function(b,c){"string"===typeof b&&(b=JSON.parse(b));this.ua.data=b;this.ua.Xb=this.ua.Nk.js().Jk();if(null!=b.tiles&&0<b.tiles.length){var e="/"===b.tiles[0][0]?"":"/";var f=I4.CNc(e+b.tiles[0],["{x}",
"{y}","{z}"]);this.ua.Mzb=function(k,l,m){for(var n="",p=0;p<f.length;++p)switch(f[p]){case "{x}":n+=m;break;case "{y}":n+=l;break;case "{z}":n+=k;break;default:n+=f[p]}return n}}var g=this;b.tileMap&&(e="/"===b.tileMap[0]||"/"===this.ua.url[this.ua.url.length-1]?"":"/",e=I4.sWa(this.ua.url+e+b.tileMap,this.YD),this.im.send(e,null,function(k,l){if(!k){if("string"===typeof l)try{l=JSON.parse(l)}catch(m){return}g.ua.D9c=l.index}}));this.ua.qu={};if(this.ua.d9c||b.defaultStyles){e="/"===b.defaultStyles[0]||
"/"===this.ua.url[this.ua.url.length-1]?"":"/";var h=this.ua.d9c||this.ua.url+e+b.defaultStyles;h=I4.sWa(h,this.YD);d(h,this.im).then(function(k){if(k){var l=a.rVd(k,h);d(l.rLa,g.im).then(function(m){g.ua.layers=[];g.ua.qu=m?p5.OFb(k,l.image,m):{};l.image?Eb({image:l.image},function(){c(g)}):c(g)},function(){c(g)})}else c(g)},function(){c(g)})}else this.loaded(c)};a.prototype.pY=function(){return this.ua.url?this.ua.url+"?f=json":null};a.kYc=function(b){if("string"===typeof b)try{b=JSON.parse(b)}catch(f){return null}b=
b.sources;if(!b)return null;for(var c in b){var e=b[c];if(null!=e&&"string"===typeof e.type&&"vector"===e.type.toLowerCase()&&"string"===typeof e.url)return e.url}return null};a.rVd=function(b,c){if(!b.sprite)return{image:"",rLa:""};b=b.sprite;var e=96<Zd.ya().qQc()?"@2x":"",f=c.indexOf("?"),g=0>f?"":c.substr(f),h="mapbox://styles";if(b.startsWith(h))return{image:c.replace(/\/mapbox.+(?=\?)/,b.substr(h.length)+"/sprite"+e+".png"),rLa:c.replace(/\/mapbox.+(?=\?)/,b.substr(h.length)+"/sprite"+e+".json")};
if(/(:|\/\/|^[a-z]+\.)/.test(b))return{image:b+e+".png"+g,rLa:b+e+".json"+g};h="/"!==b[0]?"/":"";f=/\/[^.]+($|\?)/.test(c)?c.lastIndexOf("?"):c.lastIndexOf("/");c=0>f?c:c.substr(0,f);return{image:c+h+b+e+".png"+g,rLa:c+h+b+e+".json"+g}};return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6InBZIn19fSAg");var r5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){B4.call(this)}D(d,B4);L(d,"geotoolkit.map.sources.connectors.DOMImage");d.prototype.send=function(a,b,c){if(a){if(b&&b.dst){var e=b.dst;e.url=a}else e=new Cj({url:a,lazyloading:!0,crossorigin:"anonymous"});var f=this,g={image:e},h=b&&b.key;g.onload=function(){e.za(Bj.ak,g.onload);f.oib(h,g);c(null,e)};e.on(Bj.ak,g.onload);this.wxb(h,g);e.JR()}else c(Error("geotoolkit.map.sources.connectors.DOMImage: No url provided"))};d.prototype.nxa=function(a){a.image.za(Bj.ak,a.onload);
return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhYm9ydENvbm5lY3Rpb24iOiJueGEifX19");var s5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){r5.call(this);this.VXb=new C4(a)}D(d,r5);L(d,"geotoolkit.map.sources.connectors.PreloadedImage");d.prototype.send=function(a,b,c){if(a){var e=b&&b.dst?b.dst:new Cj({lazyloading:!0,crossorigin:"anonymous"});var f={image:e},g=this,h=b&&b.key;f.onload=function(){e.za(Bj.ak,f.onload);g.oib(h,f);c(null,e)};this.VXb.send(a,{responseType:"blob",key:h,priority:b&&b.priority},function(k,l){k?c(k):(e.url=$a.URL.createObjectURL(l),e.on(Bj.ak,f.onload),g.wxb(h,f),e.JR())})}else c(Error("geotoolkit.map.sources.connectors.PreloadedImage: No url provided"))};
d.prototype.abort=function(a){this.VXb.abort(a);r5.prototype.abort.call(this,a);return this};d.prototype.Fn=function(){return this.VXb.Fn()||r5.prototype.Fn.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0xvYWRpbmciOiJGbiJ9fX0g");var t5=/*#__PURE__*/function(){function d(a){a=G(a,{connector:new s5});var b=a.formatterfunction;a.formatterfunction=null;J4.call(this,a);this.Or=b}D(d,J4);L(d,"geotoolkit.map.sources.formats.Tile");d.prototype.query=function(a){var b=a.z,c=a.x,e=a.y,f=this.Or||this.ua.Mzb;f=this.zJ(f?f(b,e,c):null);null!=f&&(f=f.replace("{x}",c).replace("{y}",e).replace("{z}",b));this.im.send(f,{dst:a.dst,key:a.key,priority:a.priority},function(g,h){if(g)this.onError(g);else this.te()||this.notify(Bj.ak,h,h.url)}.bind(this));
return this};d.prototype.iba=function(){return this.Or};d.prototype.MMa=function(a){this.Or=a;return this};return d}();var u5=/*#__PURE__*/function(){function d(a){a=G(a,{connector:new C4});t5.call(this,a);this.ua=this.ua||{};this.ua.qu={}}D(d,t5);L(d,"geotoolkit.map.sources.formats.VectorTile");d.prototype.query=function(a){var b=a.z,c=a.x,e=a.y,f=this.Or||this.ua.Mzb;f=f?f(b,e,c):null;var g=a.dst,h=this;this.im.send(this.zJ(f),{responseType:"arraybuffer",key:a.key},function(k,l){if(k)this.onError(k);else this.te()||(k=h.ua.Nk,k=h.ua.Nk.xJ()!==h.ua.Nk.js()?k.Ma.bind(k):null,l=p5.parse(l,c,e,b,h.ua.id,k,h.ua.qu),g.tile=l,this.notify(N4.Ys,
this,g))}.bind(this));return this};return d}();var v5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f,g){R4.call(this,f,g);this.rp=[];this.dEa=0;this.Zk={};this.Kl=this.qH=-1;this.jE={}}function a(f,g,h){return Math.round(Math.log(f/g/h)/Math.LN2)}function b(f){f=Math.sin(f*Math.PI/180);f=Math.log((1+f)/(1-f))/2;return Math.max(Math.min(f,Math.PI),-Math.PI)/2}var c=Zd.ya().Xa("px"),e=Zd.ya().Xa("metre");D(d,R4);L(d,"geotoolkit.map.sources.managers.Tile");d.prototype.query=function(f,g){g=g.wa();if(null==this.ua.Xb||f.isEmpty()||!this.ua.Xb.Dd(f)||!g)return!1;var h=this.ua.YAa,
k=c.convert(g.lb(),e);if(null!=k&&null!=h&&(null!=h[0]&&h[0]>k||null!=h[1]&&h[1]<k))return this.qH=-1,!1;f=this.Gxa(f.clone().intersect(this.ua.Xb),g);g=f.z;if(0>g)return!1;this.Dad(g,f.hib);this.Kl=g;this.SCc();h=this.qH;-1===h?this.qH=g:h!==g&&(h=this.lKc(),h>=this.ua.VU&&(this.qH=h));k=this.yL(g);var l=Date.now();h=this.Aec(g,f.hib,k,l);return h=this.Aec(g,f.S$b,k,l)||h};d.prototype.uO=function(){this.Vg.on(Bj.ak,function(f,g){this.jE[g.gh+"x"+g.CQ]=null;this.Zk[g.gh][g.CQ]=g;this.Kl===g.gh&&this.XKa()&&
this.notify(N4.yM,this,null)}.bind(this));this.Vg.on(Bj.Vda,function(f,g){this.jE[g.gh+"x"+g.CQ]="N/A";this.dEa--}.bind(this));return this};d.prototype.Gxa=function(f,g){function h(u,w,y,z){var x=Math.floor((u.ka()-p.ka())/w);w=Math.ceil((u.na()-p.ka())/w)-1;var C=Math.floor((u.la()-p.la())/y);u=Math.ceil((u.ma()-p.la())/y)-1;return{gD:Math.max(x,0),ZB:Math.min(w,z.ca()-1),BO:Math.max(C,0),VL:Math.min(u,z.da()-1)}}var k=g.Ua(f),l=this.ua.Nk.js(),m=l.sc(f.ka(),f.la()),n=l.sc(f.na(),f.ma());f=(b(n.y)-
b(m.y))/Math.PI;m=n.x-m.x;m=(0>m?m+360:m)/360;f=a(k.da(),this.ua.$u,f);m=a(k.ca(),this.ua.av,m);f=Math.min(f,m);if(!isFinite(f))return{z:-1};f=W.clamp(f,this.ua.VU,this.ua.AO);var p=g.Ua(l.Jk());l=this.yL(f);m=p.ca()/l.ca();n=p.da()/l.da();var q=this.yL(),r=p.ca()/q.ca(),t=p.da()/q.da();g=g.Ua(this.ua.Xb);return{z:f,hib:h(k,m,n,l),t9d:h(k,r,t,q),S$b:h(k.bd(k.ca()/10,k.da()/10).intersect(g),m,n,l)}};d.prototype.lKc=function(){if(this.XKa())return this.Kl;if(this.qH>this.Kl)return this.qH;for(var f=
this.Kl,g=0;g<this.rp.length;g++)for(var h=this.rp[g].gD;h<=this.rp[g].ZB;h++)for(var k=this.rp[g].BO;k<=this.rp[g].VL;k++){var l,m=h,n=k;for(l=this.Kl;l>this.qH&&(!this.Zk[l]||!this.Zk[l][m+"x"+n]);l--)m=Math.floor(m/2),n=Math.floor(n/2);f=Math.min(f,l)}return f};d.prototype.Aec=function(f,g,h,k){this.Zk[f]=this.Zk[f]||{};for(var l=Math.floor((g.gD+g.ZB)/2),m=Math.floor((g.BO+g.VL)/2),n=0,p=(g.ZB-g.gD+1)*(g.VL-g.BO+1),q=1,r=0,t=1,u=0,w=!1;n<p;)l>=g.gD&&l<=g.ZB&&m>=g.BO&&m<=g.VL&&(w=this.A_a(f,l,
m,h,k)||w,n++),l+=q,m+=r,++u===t&&(u=0,0===q?(q=-r,r=0,t++):(r=q,q=0));return w};d.prototype.A_a=function(f,g,h,k,l){var m=g+"x"+h,n=f+"x"+m,p=this.Zk[f][m]||this.jE[n];if(null!=p)return p.timestamp=l,!1;p=this.EQc();p.Ch=g;p.Fu=h;p.gh=f;p.CQ=m;p.loaded=!1;p.timestamp=l;this.jE[n]=p;this.Vg.query({z:f,x:g,y:h,grid:k,dst:p,key:n,priority:l});return!0};d.prototype.SCc=function(){for(var f=Object.keys(this.jE),g=0;g<f.length;g++){var h=this.jE[f[g]];h&&!this.Gqa(h)&&(this.Vg.abort(f[g]),this.jE[f[g]]=
null,h instanceof Cj&&(h.dispose(),this.dEa--))}return this};d.prototype.Gqa=function(f,g){if(f.gh!==this.Kl)return!1;null==g&&(g=1);for(var h=0;h<this.rp.length;h++)if(f.Ch>=this.rp[h].gD-g&&f.Ch<=this.rp[h].ZB+g&&f.Fu>=this.rp[h].BO-g&&f.Fu<=this.rp[h].VL+g)return!0;return!1};d.prototype.n3b=function(){return new Cj({lazyloading:!0,crossorigin:"anonymous"})};d.prototype.EQc=function(){if(this.dEa>this.ua.Whb&&0<this.ua.Whb){for(var f=null,g=Infinity,h=this.ua.VU;h<this.ua.AO;++h)if(this.Zk[h]&&
(h!==this.qH||h===this.Kl))for(var k in this.Zk[h]){var l=this.Zk[h][k];l&&g>l.timestamp&&!this.Gqa(l)&&(f=l,g=f.timestamp)}if(null!=f)return this.Zk[f.gh][f.CQ]=null,f}this.dEa++;return this.n3b()};d.prototype.XKa=function(){if(!this.Zk[this.Kl])return!1;for(var f=0;f<this.rp.length;f++)for(var g=this.rp[f].gD;g<=this.rp[f].ZB;g++)for(var h=this.rp[f].BO;h<=this.rp[f].VL;h++)if(!this.Zk[this.Kl][g+"x"+h])return!1;return!0};d.prototype.Dad=function(f,g){var h=null,k=this.yL(f).ca()-1;if(f>this.Kl||
0===this.rp.length||0!==g.gD&&g.ZB!==k)this.rp=[g];else if(2===this.rp.length)0===g.gD?(this.rp[0]=g,h=this.rp[1]):(this.rp[1]=g,h=this.rp[0]);else{var l=f===this.Kl?k:this.yL(this.Kl).ca()-1;0===this.rp[0].gD&&g.ZB===k?(h=this.rp[0],this.rp.push(g)):this.rp[0].ZB===l&&0===g.gD?(h=this.rp[0],this.rp.unshift(g)):this.rp=[g]}if(null!=h)for(;f<this.Kl;f++)h.gD=Math.floor(h.gD/2),h.ZB=Math.floor(h.ZB/2),h.BO=Math.floor(h.BO/2),h.VL=Math.floor(h.VL/2);2===this.rp.length&&this.rp[0].ZB>=this.rp[1].gD&&
(this.rp=[{gD:Math.min(this.rp[0].gD,this.rp[1].gD),ZB:Math.max(this.rp[0].ZB,this.rp[1].ZB),BO:this.rp[0].BO,VL:this.rp[0].VL}])};d.prototype.clear=function(){R4.prototype.clear.call(this);for(var f in this.Zk)for(var g in this.Zk[f])this.Zk[f][g]instanceof Cj&&this.Zk[f][g].dispose();this.rp=[];this.dEa=0;this.Zk={};this.qH=-1;return this};d.prototype.abort=function(){R4.prototype.abort.call(this);for(var f in this.jE)this.jE[f]instanceof Cj&&(this.jE[f].dispose(),this.dEa--);this.jE={};return this};
d.prototype.zE=function(){return this.Zk[this.qH]||{}};d.prototype.yL=function(f,g){null==f&&(f=this.qH);f=0<f?1<<f:1;var h=this.ua.Nk.xJ().Jk();if(!h||h.ca()===h.da())return g?g.setSize(f,f):new Ud(f,f);if(h.ca()>h.da())return h=Math.round(h.ca()/h.da()),g?g.setSize(f*h,f):new Ud(f*h,f);h=Math.round(h.da()/h.ca());return g?g.setSize(f,f*h):new Ud(f,f*h)};d.prototype.ML=function(){return-1===this.Kl?this.ua.VU:this.Kl};d.prototype.iba=function(){return this.Vg instanceof t5?this.Vg.iba():null};d.prototype.MMa=
function(f){this.Vg instanceof t5&&this.Vg.MMa(f);return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0Rm9ybWF0IjoidU8iLCJjYWxjdWxhdGVab29tTGV2ZWwiOiJHeGEiLCJmaW5kU3VpdGFibGVab29tTGV2ZWwiOiJsS2MiLCJyZXF1ZXN0VGlsZXMiOiJBZWMiLCJyZXF1ZXN0VGlsZSI6IkFfYSIsImFib3J0T3V0T2ZCb3VuZFRpbGVzIjoiU0NjIiwiaXNUaWxlTmVlZGVkIjoiR3FhIiwiaXNMYXllclJlYWR5IjoiWEthIiwidXBkYXRlVmlzaWJsZVRpbGVMaW1pdHMiOiJEYWQiLCJnZXRMYXllciI6InpFIiwiZ2V0R3JpZFNpemUiOiJ5TCIsImdldFpvb21MZXZlbCI6Ik1MIiwiZ2V0Rm9ybWF0dGVyIjoiaWJhIiwic2V0Rm9ybWF0dGVyIjoiTU1hIn19fSAg");var w5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f,g){v5.call(this,f,g);this.rQb=this.sQb=0;this.ua=this.ua||{};this.ua.qu=this.ua.qu||{}}function a(f,g,h,k){var l=Math.floor(f/b.width),m=Math.floor(g/b.height);l=(l+m)*(l+m+1)/2+l;if(h.tj[l])return!1;for(m=0;m<h.uf.length;m++)if(N.qia(h.uf[m],h.Ef[m],f,g)<k)return!1;h.tj[l]=!0;h.uf.push(f);h.Ef.push(g);return!0}var b=new Ud,c=new Ud,e=new U;D(d,v5);L(d,"geotoolkit.map.sources.managers.VectorTile");d.prototype.uO=function(){var f=[];this.Vg.on(N4.Ys,function(g,h,k){this.jE[k.gh+
"x"+k.CQ]=null;this.Zk[k.gh][k.CQ]=k;g=k.gh===this.Kl;if(k.Kqa){for(h=0;h<k.Kqa.length;h++){var l=k.Kqa[h];this.jE[l.gh+"x"+l.CQ]=null;this.Zk[l.gh][l.CQ]=l;l.tile=k.tile;g=g||l.gh===this.Kl}k.Kqa=null}if(g)if(this.XKa())if(this.Gqa(k,0))if(this.Kl===this.qH){k=this.L9b(k).clone();for(g=0;g<f.length;g++)this.Gqa(f[g],0)&&(h=this.L9b(f[g]),k.union(h));f.length=0;this.notify(N4.yM,this,k)}else f.length=0,this.notify(N4.yM,this,null);else this.notify(N4.yM,this,this.L9b(k));else f.push(k)}.bind(this));
return this};d.prototype.n3b=function(){return{}};d.prototype.zE=function(f,g,h){var k=new Kg,l=this.Zk[this.qH];if(!l)return k;var m=1<<this.qH,n=0,p=0,q=m-1,r=m-1;if(null!=f){var t=this.ua.Nk.js().Jk(),u=t.ca()/m;m=t.da()/m;n=Math.max(n,Math.floor((f.ka()-t.ka())/u));p=Math.max(p,Math.floor((t.ma()-f.ma())/m));q=Math.min(q,Math.ceil((f.na()-t.ka())/u)-1);r=Math.min(r,Math.ceil((t.ma()-f.la())/m)-1)}f=[];for(var w in l)l[w]&&l[w].Ch>=n&&l[w].Ch<=q&&l[w].Fu>=p&&l[w].Fu<=r&&f.push(l[w].tile);g?g.pl(b.setSize(1,
1),b):b.setSize(0,0);null==this.ua.qu.layers&&f.reduce(function(y,z){return y.concat(z)},k);g=this.ua.qu.layers||[];l={tj:{},uf:[],Ef:[]};for(n=0;n<g.length;++n){p=g[n];q=this.ua.qu.fjc?this.ua.qu.fjc[p]:0;0<q&&(q=Math.pow(q*b.ca(),2));for(r=0;r<f.length;++r)f[r][p]&&(null!=this.ua.qu.cyb&&this.ua.qu.cyb[p].zoom!==this.qH&&this.ua.qu.cyb[p].setZ(this.qH),0<q?k.concat(this.YJc(f[r][p],l,q)):k.concat(f[r][p]));l.uf.length=0;l.Ef.length=0}"function"===typeof h&&(k=new Jg(k,h));return k};d.prototype.YJc=
function(f,g,h){return f.filter(function(k){var l=k.Zu;if(!l)return!1;var m=l.Gb();if(!m.Ia())return!0;l=l.Wha();k=k.dza();if(Array.isArray(k)){for(var n=!1,p=0;p<k.length;p++)k[p].$j=k[p].$j||{},l.apply(k[p],m),a(m.Wn(),m.Cm(),g,h)?(k[p].$j.JTc=!1,k[p].$j.SDb=!1,n=k[p].$j.ZN=!0):(k[p].$j.JTc=!0,k[p].$j.SDb=!0,k[p].$j.ZN=!1);return n}l.apply(k,m);return a(m.Wn(),m.Cm(),g,h)?!0:!1})};d.prototype.clear=function(){for(var f in this.Zk)for(var g in this.Zk[f])this.Zk[f][g]=null;this.Zk={};v5.prototype.clear.call(this);
return this};d.prototype.abort=function(){for(var f in this.jE)null!=this.jE[f]&&this.dEa--;this.jE={};v5.prototype.abort.call(this);return this};d.prototype.yL=function(f,g){null==f&&(f=this.qH);f=0<f?1<<f:1;return g?g.setSize(f,f):new Ud(f,f)};d.prototype.A_a=function(f,g,h,k){var l=g+"x"+h,m=f+"x"+l,n=this.Zk[f][l]||this.jE[m];if(null!=n)return n.timestamp=k,!1;if(Array.isArray(this.ua.D9c)&&0<f)for(var p=1<<f-1,q=n=0,r=0,t=this.ua.D9c;0<p;){var u=0<(p&g)?1:0,w=0<(p&h)?1:0,y=(w<<1)+u;q=(q<<1)+
u;r=(r<<1)+w;n++;if(!Array.isArray(t[y])&&(q!==g||r!==h||n!==f)){p=q+"x"+r;t=n+"x"+p;u=this.EQc();u.Ch=g;u.Fu=h;u.gh=f;u.CQ=l;u.timestamp=k;if(this.Zk[n]&&this.Zk[n][p])return u.tile=this.Zk[n][p].tile,this.Zk[f][l]=u,!1;this.jE[t]||(this.Zk[n]=this.Zk[n]||{},v5.prototype.A_a.call(this,n,q,r,k));this.jE[t].Kqa=this.jE[t].Kqa||[];this.jE[t].Kqa.push(u);this.jE[m]=u;return!0}t=t[y];p>>=1}return v5.prototype.A_a.call(this,f,g,h,k)};d.prototype.Gqa=function(f,g){if(v5.prototype.Gqa.call(this,f,g))return!0;
if(!f.Kqa)return!1;for(var h=0;h<f.Kqa.length;h++)if(v5.prototype.Gqa.call(this,f.Kqa[h],g))return!0;return!1};d.prototype.query=function(f,g){var h=g.es();null!=h&&(this.sQb=h.Pba()/bc(),this.rQb=h.Oba()/bc());return v5.prototype.query.call(this,f,g)};d.prototype.Gxa=function(f,g){var h=v5.prototype.Gxa.call(this,f,g);if(0===this.sQb&&0===this.rQb)return h;f=g.Ua(f);var k=this.ua.Nk.js();k=g.Ua(k.Jk());g=g.Ua(this.ua.Xb);f.bd(this.sQb,this.rQb).intersect(g);g=this.yL(h.z);var l=k.ca()/g.ca(),m=k.da()/
g.da(),n=Math.floor((f.ka()-k.ka())/l);l=Math.ceil((f.na()-k.ka())/l)-1;var p=Math.floor((f.la()-k.la())/m);f=Math.ceil((f.ma()-k.la())/m)-1;h.hib={gD:Math.max(n,0),ZB:Math.min(l,g.ca()-1),BO:Math.max(p,0),VL:Math.min(f,g.da()-1)};h.S$b=h.hib;return h};d.prototype.ML=function(){return this.Kl};d.prototype.FDb=function(){return this.qH};d.prototype.L9b=function(f){var g=this.ua.Nk.js().Jk(),h=this.yL(f.gh,c),k=g.ca()/h.ca();h=g.da()/h.da();var l=g.ka()+k*f.Ch;f=g.ma()-h*f.Fu;return e.cb(l,f,l+k,f-
h)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0Rm9ybWF0IjoidU8iLCJjcmVhdGVQb29sVGlsZSI6Im4zYiIsImdldExheWVyIjoiekUiLCJmaWx0ZXJTcGFjaW5nIjoiWUpjIiwiZ2V0R3JpZFNpemUiOiJ5TCIsInJlcXVlc3RUaWxlIjoiQV9hIiwiaXNUaWxlTmVlZGVkIjoiR3FhIiwiY2FsY3VsYXRlWm9vbUxldmVsIjoiR3hhIn19fSAg");var x5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){var b=G(a,{styleurl:null,format:null,loader:a&&a.hasOwnProperty("loader")?a.loader:new q5,tilewidth:256,tileheight:256,imagepool:400,minlod:0,maxlod:15},!0);b.format=b.format||new u5({formatterfunction:b.formatterfunction});null==b.formatterfunction||a&&a.loader||(b.loader=null);T4.call(this,b);this.ua=this.ua||{};this.ua.av=b.tilewidth;this.ua.$u=b.tileheight;this.ua.VU=b.minlod;this.ua.AO=b.maxlod;this.ua.Whb=b.imagepool;this.ua.d9c=b.styleurl}D(d,T4);L(d,"geotoolkit.map.sources.VectorTile");
d.prototype.mBb=function(){return this.ua.qu&&this.ua.qu.fonts||[]};d.prototype.vO=function(a){this.li=new w5(a,this.ua);this.li.on(N4.yM,function(b,c,e){this.notify(N4.yM,this,e);this.fM(!0)}.bind(this));return this};d.prototype.zE=function(a,b,c){return null!=this.li?this.li.zE(a,b,c):{}};d.prototype.ML=function(){return null!=this.li?this.li.ML():0};d.prototype.FDb=function(){return null!=this.li?this.li.FDb():0};d.prototype.XKa=function(){return null!=this.li?this.li.XKa():!0};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGb250cyI6Im1CYiIsImluaXRRdWVyeU1hbmFnZXIiOiJ2TyJ9fX0g");var y5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=xb(c,{source:null,converters:c&&c.hasOwnProperty("converters")?c.converters:new W4,features:{filter:null},annotations:{visible:!1,strategy:new h5},tooltip:{visible:!1,formatter:new d5}});m5.call(this,c);this.c1c(c.annotations.text)}function a(c){c.$j&&!0!==c.$j.SDb&&!1===c.$j.ZN&&(c.$j.ZN=!0)}function b(c,e){if(!c||!e)return!1;for(var f in e)if(c[f]!==e[f])return!1;return!0}D(d,m5);L(d,"geotoolkit.map.layers.AbstractFeatureLayer");d.prototype.c1c=function(c){c instanceof
ek?this.kob=c:(c=xb(c,{preservereadingorientation:!0,ispointingup:!0}),this.kob=new ek(c));return this};d.prototype.KB=function(c){var e=this.getParent();if(!e)return Hg.zi([]);var f=null;c instanceof n5&&(f=c.$d(),c=c.getFilter());e=null!=f?f:e.oa();return this.Cc instanceof x5?this.Cc.zE(e,this.wa(),c):this.LD.KB({bbox:e,layer:this,filter:c||null,scale:Math.abs(this.wa().lb())})};d.prototype.fR=Fb;d.prototype.eFd=function(c){for(var e=this.KB(),f;e.wg();)if(f=e.next(),f.kc()===c)return f;return null};
d.prototype.ZLa=function(c){c instanceof n5||"function"!==typeof c||(c=new n5({filter:c}));var e=c.$d();if(null==e)e=Hg.toArray(this.KB());else{var f=new Zj;e=e instanceof U?f.select(this,e):e instanceof N?f.select(this,e.getX(),e.getY()):f.select(this,e.x,e.y)}if(!e||1>e.length)return[];var g=c.ia(),h=c.Ga(),k=c.getFilter();return e.filter(function(l){return null!=h&&l.Ga()!==h||null!=g&&!b(l.getAttributes(),g)?!1:null!=k?k(l):!0})};d.prototype.rja=function(c,e){c.forEach(function(f){f instanceof
Ee&&f.Ia()&&(e.fc()&&e.Sh(f),f.render(e))})};d.prototype.Bra=function(c,e){var f=this.ea.geometrytotext;if(f){var g=this.ea.annotations;if(g){var h=g.strategy;if(h){var k=this.kob;c.forEach(function(l){if(l instanceof Ee&&l.Ia()){var m=h.fb(l,this);if(m)if(l=l.$d(!0),Array.isArray(l))for(var n,p=0;p<l.length;++p)n=l[p],n.$j&&!1===n.$j.ZN||(f.apply(n,k,e),k.Eb(m),k.render(e));else f.apply(l,k,e),k.Eb(m),k.render(e)}}.bind(this))}}}};d.prototype.Zab=function(c,e,f){c.reset();if(!e)return c;Array.isArray(e)||
(e=[e]);var g=this;e.forEach(function(h){if(!nc(h,X4))throw Error("Not a geotoolkit.map.features.filters.IFilter instance");h.reset();c=h.fU(c,f,g)});return c};d.prototype.a0c=function(c){c.forEach(function(e){e=e.$d(!0);Array.isArray(e)&&e.forEach(a)})};d.prototype.uj=function(c){var e=c.wJ();c.Br(this.AP);var f=c.fc()?new n5({geometry:this.wb()}):new n5({geometry:c.eg()});f=this.KB(f);var g=this.ea.features.filter;g&&(f=this.Zab(f,g,c));this.rja(f,c);if(this.ea.annotations.visible&&!c.fc()){if(g=
this.ea.annotations.filter)this.a0c(f),f=this.Zab(f,g,c);this.Bra(f,c)}c.Br(e)};d.prototype.jM=function(c){m5.prototype.jM.call(this,c);if(c=this.AL())null!=this.Cc&&this.Cc.jM(c),this.os();return this};d.prototype.jfc=function(c){this.kob.jb()!==c&&(this.kob.kb(c),this.ha());return this};d.prototype.Wu=function(c){if(this.Cc===c)return this;Array.isArray(c)?c=1===c.length?c[0]:new U4(c):null==c&&(c=new T4);this.MT||(this.MT=this.z7.bind(this));this.wX||(this.wX=function(e,f,g){this.ha(g)}.bind(this));
null!=this.Cc&&(this.Cc.za(ze.Jr,this.MT),this.Cc.za(N4.Ys,this.MT),this.Cc.za(N4.yS,this.MT),this.Cc.za(N4.yM,this.wX),this.LD.Q7d(this.Cc));this.Cc=c;null!=this.Cc&&(this.Cc.a8(this.f5a),this.Cc.on(ze.Jr,this.MT),this.Cc.on(N4.Ys,this.MT),this.Cc.on(N4.yS,this.MT),this.Cc.on(N4.yM,this.wX),this.LD.qRd(this.Cc),c=this.ea.url||this.ea.server,null!=c&&null==this.Cc.V6()&&this.Cc.d8(c));return this};d.prototype.Qba=function(){return!0===this.ea.tooltip.visible?this.ea.tooltip.formatter:null};d.prototype.ia=
function(){var c=m5.prototype.ia.call(this);c.annotations=this.ea.annotations.visible;c.tooltip=this.ea.tooltip.visible;c.features=this.ea.features;return c};d.prototype.fa=function(c){c=jc(c);if(null==c)return this;m5.prototype.fa.call(this,c);"boolean"===typeof c.annotations&&(hb("geotoolkit.map.layers.AbstractFeatureLayer.setProperties() option 'annotations' with boolean type is deprecated since 2021.1 (3.3), use object instead."),this.ea.annotations.visible=c.annotations);"boolean"===typeof c.tooltip&&
(hb("geotoolkit.map.layers.AbstractFeatureLayer.setProperties() option 'tooltip' with boolean type is deprecated since 2021.1 (3.3), use object instead."),this.ea.tooltip.visible=c.tooltip);c.annotations&&c.annotations.text&&this.c1c(c.annotations.text);void 0!==c.features&&(this.ea.features=c.features);return this};d.prototype.setOptions=function(c){if(null==c)return this;var e=null;Array.isArray(c.converters)?e=[new y4].concat(c.converters):null!=c.converters?e=[new y4,c.converters]:null==this.LD&&
(e=new y4);null!=e&&(null!=this.LD&&this.LD.dispose(),this.LD=(new V4(e)).on(z4.Eka,function(f,g,h){h||this.ha();this.notify(z4.Eka,this)}.bind(this)),null!=this.Qc()&&this.Qc().update());c.annotations&&c.annotations.text&&c.annotations.text.textstyle&&this.jfc(c.annotations.text.textstyle);m5.prototype.setOptions.call(this,c);return this};d.prototype.os=function(c){this.fe||(null==c||Array.isArray(c)||c instanceof Hg||(c=[c]),this.ft=this.YT(c),this.notify(ze.Jr,this,this.ft))};d.prototype.IJb=function(){var c=
this.KB(),e=new f4({initialcoordinatesystem:this.AL()});return M4.IJb(c,e.transform.bind(e))};d.prototype.n7d=function(c){function e(k){if(!k.j7())if(k instanceof v4)k.mya().forEach(e);else{var l,m,n=k.$d(!0);k.NU()||(n=[n]);var p=Object.keys(k.getAttributes());for(l=0;l<p.length;l++)if(-1===g[0].indexOf(p[l]))for(g[0].push(p[l]),m=1;m<g.length;m++)g[m].push("");for(l=0;l<n.length;l++){h.x=n[l].x;h.y=n[l].y;f.Ma(h,h);p=[W.round(h.y,c),W.round(h.x,c)];for(m=2;m<g[0].length;m++){var q=g[0][m];void 0!==
k.getAttributes()[q]?p.push(k.getAttributes()[q]):p.push("")}g.push(p)}}}var f=new f4({initialcoordinatesystem:this.AL()}),g=[["lat","lon"]],h=new N;this.KB().forEach(e);return g};d.prototype.z7=function(c,e,f){this.os(c===N4.Ys?f:null)};d.prototype.dispose=function(){null!=this.LD&&this.LD.dispose();m5.prototype.dispose.call(this)};d.prototype.cpa=function(c,e){return c.filter(function(f){return f instanceof j4})};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGZWF0dXJlcyI6IktCIiwiZ2V0R2VvbWV0cnlUb1RleHQiOiJmUiIsImdldEZlYXR1cmVCeUlkIjoiZUZkIiwicXVlcnlGZWF0dXJlcyI6IlpMYSIsInJlbmRlckZlYXR1cmVzIjoicmphIiwicmVuZGVyQW5ub3RhdGlvbnMiOiJCcmEiLCJyZW5kZXJDb250ZW50IjoidWoiLCJzZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiak0iLCJzZXREYXRhU291cmNlIjoiV3UiLCJnZXRUb29sdGlwRm9ybWF0dGVyIjoiUWJhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwidG9HZW9KU09OIjoiSUpiIiwidG9DU1YiOiJuN2QiLCJmaWx0ZXJUb29sdGlwSW5mbyI6ImNwYSJ9fX0g");var z5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){B4.call(this);this.im=b&&b.connector||new C4(b);this.mwb=new C4(b)}var a={};D(d,B4);L(d,"geotoolkit.map.sources.connectors.ArcGISToken");d.prototype.send=function(b,c,e){if(!b)return this.im.send(b,c,e);c=c||{};var f=b.split(/(\/FeatureServer|\/MapServer|\/StreamServer|\/ImageServer|\?)/,2).join("");if(c.token||a[f])b+=(0<=b.indexOf("?")?"&":"?")+"token="+(c.token||a[f]);var g=this;this.im.send(b,c,function(h,k){if(h||"string"!==typeof k)return e(h,k);try{k=JSON.parse(k)}catch(l){return e(null,
k)}if(!k.error||k.error.code!==sc.Rfd&&k.error.code!==sc.Ijd)return e(null,k);if(!c.token)return e(Error(g.Pa()+": Authorization token should be specified"));h=b.indexOf("/rest/");if(0>h)return e(Error(g.Pa()+": Can't find info url"));h=b.substr(0,h)+"/rest/info?f=json";g.mwb.send(h,c,function(l,m){if(l)return e(l);try{m=JSON.parse(m)}catch(n){return e(n,m)}if(!m||!m.authInfo||!m.authInfo.isTokenBasedSecurity)return e(Error(g.Pa()+": Not a token based security"));if(!m.authInfo.tokenServicesUrl)return e(Error(g.Pa()+
": Can't find a token service url"));l=m.authInfo.tokenServicesUrl+"?f=json&serverUrl="+f+"&token="+c.token;g.mwb.send(l,c,function(n,p){if(n)return e(n);try{p=JSON.parse(p)}catch(q){return e(q,p)}if(!p||!p.token)return e(null,p);a[f]=p.token;g.send(b,c,e);return null});return null});return null});return null};d.prototype.abort=function(b){this.mwb.abort(b);this.im.abort(b);return this};d.prototype.Fn=function(){return this.im.Fn()||this.mwb.Fn()};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0xvYWRpbmciOiJGbiJ9fX0g");var A5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f){var g=new Do(f);this.LT=null;try{this.LT=g.jYc()}catch(h){hb("Arcade code is not supported: "+f)}}function a(f,g){var h=g.length;switch(f){case "array":var k=[];h=1<h?g[1]:null;for(f=0;f<g[0];f++)k.push(h);return k;case "back":return g[0][g[0].length-1];case "count":return"string"===typeof g[0]||Array.isArray(g[0])?g[0].length:Object.keys(g[0]).length;case "dictionary":if(1===h)return JSON.parse(g[0]);k={};for(f=0;f<h;f+=2)k[g[f]]=g[f+1];return k;case "distinct":return g=
a("splice",g),g.filter(function(n,p){return g.indexOf(n)===p});case "erase":return g[0].splice(g[1],1);case "first":return g[0][0];case "haskey":return g[0].hasOwnProperty(g[1]);case "includes":return 0<=g[0].indexOf(g[1]);case "indexof":return g[0].indexOf(g[1]);case "insert":return g[0].splice(g[1],0,g[2]);case "isnan":return isNaN(g[0]);case "number":return+g[0];case "push":return g[0].push(g[1]);case "pop":return g[0].pop();case "resize":k=g[0];k.length=Math.min(k.length,g[1]);for(f=k.length;f<
g[1];f++)k.push(2<h?g[2]:null);return k;case "reverse":return g[0].reverse();case "slice":return g[0].slice(g[1],g[2]);case "sort":return g[1].sort();case "splice":return Array.prototype.concat.apply([],g);case "text":return""+g[0];case "top":return g[0].slice(0,g[1]);case "typeof":return f=typeof g[0],"string"===f?"Text":"boolean"===f||"number"===f||"function"===f?b(f):Array.isArray(g[0])?"Array":f;case "boolean":return f=g[0],"string"!==typeof f?!!f:"true"===f;case "decode":for(f=1;f<h-1;f+=2)if(g[0]===
g[f])return g[f+1];return g[h-1];case "defaultvalue":return null==g[0]||""===g[0]?g[1]:g[0];case "iif":return g[0]?g[1]:g[2];case "isempty":return null==g[0]||""===g[0];case "when":for(f=0;f<h-1;f+=2)if(g[f])return g[f+1];return g[h-1];case "abs":case "acos":case "asin":case "atan":case "atan2":case "cos":case "sin":case "tan":case "sqrt":case "exp":case "log":case "pow":case "random":return Math[f].apply(null,g);case "mean":case "average":if("string"===typeof g[1])break;g=a("splice",g);return a("sum",
g)/g.length;case "ceil":case "floor":case "round":return h=Math.pow(10,g[1]||0),Math[f](g[0]*h)/h;case "constrain":return W.clamp(g[0],g[1],g[2]);case "min":case "max":if("string"===typeof g[1])break;g=a("splice",g);return Math[f].apply(null,g);case "variance":if("string"===typeof g[1])break;var l=a("mean",g);return a("mean",g.map(function(n){return(n-l)*(n-l)}));case "stdev":return f=a("variance",g),Math.sqrt(f);case "sum":if("string"===typeof g[1])break;return g.reduce(function(n,p){return n+p});
case "concatenate":return g[0].join(g[1]||"");case "find":return g[1].indexOf(g[0],g[2]);case "left":return g[0].substr(0,g[1]);case "mid":return g[0].substr(g[1],g[2]);case "right":return g[0].substr(-g[1]);case "lower":return g[0].toLowerCase();case "upper":return g[0].toUpperCase();case "proper":return"firstword"===g[1]?b(g[0]):g[0].split(" ").map(b).join(" ");case "replace":return f=!1===g[3]?g[1]:new RegExp(g[1],"g"),g[0].replace(f,g[2]);case "split":return f=g[0].split(g[1]),0<g[2]&&(f.length=
g[2]),g[3]?f.filter(function(n){return""!==n}):f;case "trim":return g[0].trim();case "urlencode":if("string"===typeof g[0])return encodeURI(g[0]);var m=g[0];return Object.keys(m).map(function(n){return n+"="+m[n]}).join("&")}return 0}function b(f){return f[0].toUpperCase()+f.substr(1)}function c(f,g,h){switch(f){case "+":return g+h;case "-":return g-h;case "*":return g*h;case "/":return g/h;case "%":return g%h;case "==":return g==h;case "!=":return g!=h;case "===":return g===h;case "!==":return g!==
h;case ">":return g>h;case ">=":return g>=h;case "<":return g<h;case "<=":return g<=h;case "&":return g&h;case "|":return g|h;case "^":return g^h;case "<<":return g<<h;case ">>":return g>>h;case ">>>":return g>>>h;case "&&":return g&&h;case "||":return g||h}return 0}function e(f,g){switch(f){case "-":return-g;case "+":return g;case "!":return!g;case "~":return~g}return 0}d.prototype.getValue=function(f){return d.rk(this.LT,{$feature:f,$view:{scale:1E4},Infinity:Infinity,PI:Math.PI,TextFormatting:{BackwardSlash:"\\",
DoubleQuote:'"',ForwardSlash:"/",NewLine:"\n",SingleQuote:"'"}},{})};d.rk=function(f,g,h){if(!f||h.d1||h.continue)return null;var k;switch(f.type){case Do.Lt.oF:return h.aca?[f.name]:g[f.name];case Do.Lt.Zda:return f.value;case Do.Lt.BOa:return d.rk(f.n1,g,h);case Do.Lt.PNb:var l={};for(k=0;k<f.properties.length;k++){var m=f.properties[k];var n=d.rk(m.key,g,{aca:!0});l[n]=d.rk(m.value,g,h)}return l;case Do.Lt.cla:for(k=0;k<f.tv.length;k++)d.rk(f.tv[k],g,h);return null;case Do.Lt.YOb:var p=d.rk(f.id,
g,{aca:!0});l=null!=h.init?h.init:d.rk(f.init,g,h);return g[p[0]]=l;case Do.Lt.knb:case Do.Lt.Elb:m=null;for(k=0;k<f.body.length;k++)m=d.rk(f.body[k],g,h);return m;case Do.Lt.k3a:return m=d.rk(f.object,g,h),l=d.rk(f.bC,g,{aca:!f.BIa}),Array.isArray(l)&&(l=l[0]),h.aca?[].concat(m,l):m[l];case Do.Lt.TKb:p=d.rk(f.left,g,{aca:!0});l=d.rk(f.right,g,h);m=g;k=0;for(n=p.length-1;k<n;k++)m=m[p[k]];1<f.SH.length&&(l=c(f.SH.slice(0,-1),m[p[n]],l));return m[p[n]]=l;case Do.Lt.d2a:case Do.Lt.Umb:return m=d.rk(f.left,
g,h),l=d.rk(f.right,g,h),c(f.SH,m,l);case Do.Lt.Rnb:return l=d.rk(f.ON,g,h),e(f.SH,l);case Do.Lt.TOb:p=d.rk(f.ON,g,{aca:!0});m=g;k=0;for(n=p.length-1;k<n;k++)m=m[p[k]];l=m[p[n]];m[p[n]]="--"===f.SH?l-1:l+1;return f.prefix?m[p[n]]:l;case Do.Lt.zLb:return m=f.arguments.map(function(q){return d.rk(q,g,h)}),l=d.rk(f.callee,g,{aca:!0})[0],"function"===typeof g[l]?g[l](m):a(l.toLowerCase(),m);case Do.Lt.ooc:case Do.Lt.fmc:return m=d.rk(f.test,g,h)?f.L2b:f.IDc,d.rk(m,g,h);case Do.Lt.RKb:return f.elements.map(function(q){return d.rk(q,
g,h)});case Do.Lt.Spc:return d.rk(f.ON,g,h);case Do.Lt.Knc:case Do.Lt.JCa:return p=f.params.map(function(q){return d.rk(q,g,{aca:!0})[0]}),m=function(q){var r=G(g,{});for(k=0;k<p.length;k++)r[p[k]]=q[k];return d.rk(f.body,r,{})},l=d.rk(f.id,g,{aca:!0}),null!=l&&(g[l[0]]=m),m;case Do.Lt.Enc:d.rk(f.init,g,h);for(h={};d.rk(f.test,g,h);){d.rk(f.body,g,h);h.continue=!1;if(h.d1)break;d.rk(f.update,g,h)}return null;case Do.Lt.Dnc:l=d.rk(f.right,g,{});h={};m=Object.keys(l);for(k=0;k<m.length;k++){d.rk(f.left,
g,{init:m[k]});d.rk(f.body,g,h);if(h.d1)break;h.continue=!1}return null;case Do.Lt.Klc:return h.d1=!0,null;case Do.Lt.imc:return h.continue=!0,null;default:return null}};return d}(),1,"eyJjYWxjdWxhdGUiOiJyayJ9");var B5=/*#__PURE__*/function(){function d(){}function a(k){this.nld=null!=k?k:!0;this.BF=[];this.Cb=[]}var b=null,c=null,e,f=Zd.ya().Xa("pt"),g=new xd(0,0,0,0),h=new N;a.prototype.Fxb=function(k,l){if(this.nld)if("string"===typeof l){var m=l.substr(-2);l=parseFloat(l);l="pt"===m?f.convert(l,"px"):l}else l=f.convert(l,"px");for(m=0;m<this.BF.length;++m)if(k<this.BF[m]){this.BF.splice(m,0,k);this.Cb.splice(m,0,l);return}this.BF.push(k);this.Cb.push(l)};a.prototype.getValue=function(k){if(1>=this.BF.length||this.BF[0]>=
k)return this.Cb[0]||0;for(var l=1;l<this.BF.length;++l)if(this.BF[l]>=k)return k=(k-this.BF[l-1])/(this.BF[l]-this.BF[l-1]),this.Cb[l-1]+k*(this.Cb[l]-this.Cb[l-1]);return this.Cb[this.Cb.length-1]};a.prototype.ae=function(){return 0<this.BF.length};L(d,"geotoolkit.map.util.ArcGIS");d.parse=function(k,l,m){var n=k.drawingInfo||{};n=n.renderer;var p={nG:n,type:d.Ccc(k.geometryType)};if(!n)return p;var q=d.pVd(n);switch(n.type){case "simple":p.Zj={du:q,t6:d.mra(n.symbol,l,m)};break;case "uniqueValue":var r=
n.uniqueValueInfos;for(k=0;k<r.length;k++)p[r[k].value]={du:q,t6:d.mra(r[k].symbol,l,m)};null!=n.defaultSymbol&&(p.kWa={du:q,label:n.defaultLabel,t6:d.mra(n.defaultSymbol,l,m)});break;case "classBreaks":p.dyb=[];p.nyb={};r=n.classBreakInfos;for(k=0;k<r.length;k++)p.dyb[k]={du:q,label:r[k].label,t6:d.mra(r[k].symbol,l,m)},p.nyb[k]={$i:r[k].classMinValue,Pi:r[k].classMaxValue};null!=n.defaultSymbol&&(p.kWa={du:q,label:n.defaultLabel,t6:d.mra(n.defaultSymbol,l,m)});break;case "vectorField":p=d.GVd(n,
p,q);break;default:hb("This renderer type is not supported!")}null!=n.valueExpression&&(n.tKb=d.Jhb(n.valueExpression));return p};d.mra=function(k,l,m){if(null==k)return null;l=d.TXc(k,l);switch(k.type){case "esriSMS":null==c&&(c={esriSMSSquare:Qn,esriSMSCircle:$m,esriSMSCross:an,esriSMSDiamond:bn,esriSMSTriangle:Jm,esriSMSX:an,"default":$m});l=d.IFb(k.outline);var n=null!=l?2*l.ca():0;return new k5({shape:new Km({painter:null!=c[k.style]?c[k.style]:c["default"],width:k.size+n,height:k.size+n,sizeisindevicespace:!0,
ax:k.xoffset,ay:k.yoffset,fillstyle:d.Rg(k.color),linestyle:l}),textshape:m});case "esriPMS":return new k5({shape:new Cj({ax:k.xoffset,ay:k.yoffset,width:k.width,height:k.height,alignment:O.Oa,ispointingup:!0,sizeisindevicespace:!0,url:l}),textshape:m});case "esriSFS":return new l5({shape:new Um({fillstyle:d.Acc(k),linestyle:d.IFb(k.outline)}),textshape:m});case "esriPFS":return new l5({shape:new Um({fillstyle:new rf({pattern:ui.ya().createPattern(l)}),linestyle:d.IFb(k.outline)}),textshape:m});case "esriSLS":return new j5({shape:new Yn({linestyle:d.IFb(k)}),
textshape:m})}return null};d.TXc=function(k,l){return null!=k.imageData?(l=k.contentType||"image/png","data:"+l+";base64,"+k.imageData):null!=k.url?l+k.url:null};d.Rg=function(k){return Array.isArray(k)?new xd(k[0],k[1],k[2],k[3]):k};d.IFb=function(k){if(null==k)return null;null==b&&(b={esriSLSDash:vg.wka,esriSLSDashDot:vg.v2a,esriSLSDashDotDot:vg.rOa,esriSLSDot:vg.zka,esriSLSSolid:vg.Hp,"default":vg.Hp});return new Y({color:d.Rg(k.color),width:null!=k.width?k.width:1,style:null!=b[k.style]?b[k.style]:
b["default"]})};d.t2=function(k){if(null==k)return null;var l=null!=k.size?k.size+"pt ":"12px ",m=null!=k.family?k.family:"sans-serif",n=null!=k.style?k.style+" ":"";k=null!=k.weight?k.weight+" ":"";return k+n+l+m};d.jra=function(k){if(null==k)return null;null==e&&(e={esriSFSSolid:null,esriSFSNull:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz48L3N2Zz4="),
esriSFSHollow:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz48L3N2Zz4="),esriSFSHorizontal:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnIC8+ICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAnIGhlaWdodD0nMScgZmlsbD0nYmxhY2snIC8+PC9zdmc+"),
esriSFSVertical:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnIC8+ICA8cmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMScgaGVpZ2h0PScxMCcgZmlsbD0nYmxhY2snIC8+PC9zdmc+"),esriSFSForwardDiagonal:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J00wLDAgbDEwLDEwJyBzdHJva2U9J2JsYWNrJyBzdHJva2Utd2lkdGg9JzEnLz48L3N2Zz4="),
esriSFSBackwardDiagonal:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J00tMSwxIGwyLC0yICAgICAgICAgICBNMCwxMCBsMTAsLTEwICAgICAgICAgICBNOSwxMSBsMiwtMicgc3Ryb2tlPSdibGFjaycgc3Ryb2tlLXdpZHRoPScxJy8+PC9zdmc+"),esriSFSCross:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J001LDAgbDAsMTAgICAgICAgICAgIE0wLDUgbDEwLDAnIHN0cm9rZT0nYmxhY2snIHN0cm9rZS13aWR0aD0nMScvPjwvc3ZnPg=="),
esriSFSDiagonalCross:ui.ya().createPattern("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+ICA8cmVjdCB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIGZpbGw9J25vbmUnLz4gIDxwYXRoIGQ9J00wLDAgbDEwLDEwICAgICAgICAgICBNMTAsMCBsLTEwLDEwJyBzdHJva2U9J2JsYWNrJyBzdHJva2Utd2lkdGg9JzEnLz48L3N2Zz4=")});return e[k]};d.Acc=function(k){var l=d.jra(k.style);k=d.Rg(k.color);return null!=l?new rf({color:g,pattern:l,foreground:k}):new rf({color:k})};d.ira=function(k,l){var m=
[];if(!Array.isArray(k))return h.Da(k.x,k.y),l&&l.transform(h,h),[{x:h.x,y:h.y}];for(var n=0<k.length&&Array.isArray(k[0][0]),p=0;p<k.length;p++)if(n){for(var q={x:[],y:[]},r=0;r<k[p].length;r++)h.Da(k[p][r][0],k[p][r][1]),l&&l.transform(h,h),q.x.push(h.x),q.y.push(h.y);m.push(q)}else h.Da(k[p][0],k[p][1]),l&&l.transform(h,h),m.push({x:h.x,y:h.y});return m};d.scc=function(k){return Array.isArray(k)&&0!==k.length?d.zVd(k[0].symbol):null};d.zVd=function(k){if(null==k)return null;var l=d.Rg(k.backgroundColor),
m=d.Rg(k.borderLineColor),n=null!=k.borderLineSize?k.borderLineSize:1,p=d.iVd(k.labelPlacement),q=null==k.haloColor?null:new Y({color:d.Rg(k.haloColor),size:null==k.haloSize?1:k.haloSize/.75});return new ek({textstyle:new Fi({color:d.Rg(k.color),font:d.t2(k.font),alignment:"center",outline:q}),ispointingup:!0,fillstyle:l?new rf(l):null,linestyle:m?new Y(m,n):null,alignment:p})};d.iVd=function(k){if("string"!==typeof k)return O.Oa;var l=-1<k.indexOf("Left"),m=!l&&-1<k.indexOf("Right");return-1<k.indexOf("Above")?
l&&O.fFe||m&&O.gFe||O.ee:-1<k.indexOf("Below")?l&&O.Xce||m&&O.Yce||O.Se:l&&O.Bd||m&&O.we||O.Oa};d.uza=function(k,l){if(!l||!l.nG)return null;var m=l.nG;switch(m.type){case "simple":return d.jYa(l.Zj,k);case "uniqueValue":var n=null!=m.tKb?m.tKb(k):["field","field1","field2","field3"].reduce(function(r,t){if(null==m[t])return r;t=k[m[t]];return r?r+m.fieldDelimiter+t:t},null);if(null!=l[n])return d.jYa(l[n],k);break;case "classBreaks":n=m.tKb?m.tKb(k):+k[m.field];for(var p=0;p<l.dyb.length;p++){var q=
l.nyb[p].$i||(0<p?l.nyb[p-1].Pi:m.minValue);if(n>=q&&n<=l.nyb[p].Pi)return d.jYa(l.dyb[p],k)}break;case "vectorField":p=l.Xja;n=m.attributeField;if(!k.hasOwnProperty(n))for(q in n=n.toLowerCase(),k)if(q.toLowerCase()===n){m.attributeField=q;break}n=k[m.attributeField];if(p&&null!=n){for(q=1;q<p.length-1;++q)if(n<p[q])return d.jYa(l.k8[q-1],k);return d.jYa(l.k8[l.k8.length-1],k)}}return d.jYa(l.kWa,k)};d.Ccc=function(k){switch(k){case "esriGeometryPoint":return[u4,D4,null];case "esriGeometryMultipoint":return[u4,
D4,"points"];case "esriGeometryPath":case "esriGeometryLine":case "esriGeometryPolyline":return[E4,F4,"paths"];default:return[G4,H4,"rings"]}};d.warn=function(k){if(null!=k){var l=k.code,m=k.details;k=k.message;hb("ArcGIS layer returned error ("+l+"):\n"+(Array.isArray(m)&&0<m.length?m.join("\n"):k))}};d.GVd=function(k,l,m){var n=new Y("black",1.5),p=d.nYc("M15 32 15 16 10 23 16 3 22 23 17 16 17 32");switch(k.style.toLowerCase()){case "wind_speed":var q=d.Awd(.5,.3,n);k=[q,q];p="M25 0 25 40 M25 35 17.5 37.5;M25 0 25 40 10 45 25 40;M25 0 25 40 10 45 25 40 M25 35 17.5 37.5;M25 0 25 40 10 45 25 40 M25 35 10 40;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 17.5 32.5;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35 25 30 M25 25 17.5 27.5;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30;M25 0 25 40 10 45 25 40 M25 35 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 17.5 22.5;M25 0 25 40 10 40 25 35;M25 0 25 40 10 40 25 35 M25 30 17.5 32.5;M25 0 25 40 10 40 25 35 M25 30 10 35;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 17.5 27.5;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 17.5 22.5;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25 25 20 M25 15 17.5 17.5;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25 25 20 M25 15 10 20;M25 0 25 40 10 40 25 35 M25 30 10 35 25 30 M25 25 10 30 25 25 M25 20 10 25 25 20 M25 15 10 20 25 15 M25 10 17.5 12.5;M25 0 25 40 10 40 25 35 10 35 25 30;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 17.5 27.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 17.5 22.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 17.5 17.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20 M25 15 M25 10 17.5 12.5;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20 M25 15 M25 10 10 15;M25 0 25 40 10 40 25 35 10 35 25 30 M25 25 10 30 M25 25 M25 20 10 25 M25 20 M25 15 10 20 M25 15 M25 10 10 15 M25 10 M25 5 17.5 7.5".split(";");
l.Xja=[0,5];for(var r=0,t=10;150>=t;r++,t+=5)l.Xja.push(t),k.push(d.nYc(p[r]).qa(n));l.k8=d.Ioa(k,m);break;case "single_arrow":q=p.ra("#005ce6");break;case "classified_arrow":q=p.ra("#38a800");l.Xja=[0,1E-6,3.5,7,10.5,14];l.k8=d.Ioa(p,m,["#38a800","#8b3500","#ffff00","#ff8000","#ff0000"]);break;case "beaufort_m":q=p.ra("#d62f27");l.Xja=[0,.2,1.8,3.3,5.4,8.5,11,14.1,17.2,20.8,24.4,28.6,32.7];l.k8=d.Ioa(p,m,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));
break;case "beaufort_km":q=p.ra("#d62f27");l.Xja=[0,.72,6.48,11.88,19.44,30.6,39.6,50.76,61.92,74.88,87.84,102.96,117.72];l.k8=d.Ioa(p,m,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));break;case "beaufort_ft":q=p.ra("#d62f27");l.Xja=[0,.656168,5.905512,10.826772,17.716536,27.88714,36.08924,46.259844,56.430448,68.241472,80.052496,93.832024,107.283468];l.k8=d.Ioa(p,m,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));
break;case "beaufort_mi":q=p.ra("#d62f27");l.Xja=[0,.447388,4.026492,7.381902,12.079476,19.01399,24.60634,31.540854,38.475368,46.528352,54.581336,63.976484,73.147938];l.k8=d.Ioa(p,m,"#4575b5 #6589b8 #849eba #a2b4bd #c0ccbe #dee3bf #ffffbf #ffdca1 #fab984 #f59869 #ed7551 #e81515".split(" "));break;case "beaufort_kn":q=p.ra("#d62f27");l.Xja=[0,1,3,6,10,16,21,27,33,40,47,55,63];l.k8=d.Ioa(p,m,"#2892c7 #59a2ba #81b3ab #a0c29b #bfd48a #dae677 #fafa64 #fcd553 #fcb366 #fa8d34 #f76e2a #f0471d".split(" "));
break;case "ocean_current_m":q=p.ra("#b1b1b1");l.Xja=[0,.5,1,1.5,2];l.k8=d.Ioa(p,m,["#4e1a99","#b31b1a","#ca801a","#b1b1b1"]);break;case "ocean_current_kn":q=p.ra("#b1b1b1");l.Xja=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];l.k8=d.Ioa(p,m,"#000000 #002564 #4e1a99 #970064 #b31b1a #b14e1a #ca801a #b1b334 #b1b1b1".split(" "));break;case "simple_scalar":var u=(new $g({fillstyle:"black",linestyle:null})).moveTo(.4,.4).lineTo(.4,.6).lineTo(.6,.6).lineTo(.6,.4);q=function(w,y,z){z.qa(n);$m.call(this,w,y,z);u.render(z)}}l.kWa=
new k5({shape:new Km({width:40,height:40,sizeisindevicespace:!0,painter:q})});return l};d.Awd=function(k,l,m){var n=new U(.5-k,.5-k,.5+k,.5+k),p=new U(.5-l,.5-l,.5+l,.5+l);return function(q,r,t){t.qa(m);$m.call(this,q,n,t);$m.call(this,q,p,t)}};d.nYc=function(k){var l=new $g({linestyle:null});k=k.split(" ");for(var m=0;m<k.length;)switch(k[m][0]){case "M":l.moveTo(+k[m++].substr(1),+k[m++]);break;case "L":l.lineTo(+k[m++].substr(1),+k[m++]);break;default:l.lineTo(+k[m++],+k[m++])}return d.MSd(l)};
d.Ioa=function(k,l,m){var n=[],p=new s4,q=Array.isArray(k),r=Array.isArray(m),t,u=q?k.length:m.length;for(t=0;t<u;++t){var w=r?m[t]:m;var y=q?k[t]:k.clone();"function"!==typeof y&&null!=w&&y.ra(w).qa(w);n.push({du:l,t6:new k5({shape:new Km({sizeisindevicespace:!0,painter:y}),geometrytoshape:p})})}return n};d.MSd=function(k){var l=k.ga(),m=Math.max(l.ca(),l.da()),n=m/2,p=n-l.hc();l=n-l.Dc();m=1/m;k.Tc(new X(m,0,0,m,p*m,l*m));return k};d.HVd=function(k){if(!k||!Array.isArray(k.visualVariables))return[];
for(var l,m=[],n=0;n<k.visualVariables.length;++n){l=k.visualVariables[n];switch(l.type){case "colorInfo":l=d.yUd(l);break;case "sizeInfo":l=d.qVd(l);break;case "transparencyInfo":l=d.CVd(l);break;case "rotationInfo":l.rotationExpression=l.valueExpression||l.field&&"["+l.field+"]";l=d.hYc(l);break;default:l=null}l&&m.push(l)}return m};d.mpa=function(k,l,m,n){var p=0;if(null!=l){if(k.hasOwnProperty(l))p=+k[l];else{l=l.toLowerCase();for(var q in k)if(q.toLowerCase()===l){p=+k[q];break}}return n?p/+k[n]:
p}if(null==m)return 0;p=m(k);return n?p/+k[n]:p};d.CVd=function(k){if(!Array.isArray(k.stops))return null;var l=k.field,m=k.normalizationField,n=k.stops;if(!l){var p=d.Jhb(k.valueExpression);if(!p)return null}var q=new a(!1);for(k=0;k<n.length;++k)q.Fxb(n[k].value,1-n[k].transparency/100);return q.ae()?function(r,t){r=d.mpa(r,l,p,m);t.oS=+q.getValue(r).toFixed(2);t.name=null!=t.name?t.name+"x"+t.oS:t.oS}:null};d.Jhb=function(k){if(!k)return null;var l=new A5(k);return function(m){return l.getValue(m)}};
d.qVd=function(k){var l=new a,m=k.field,n=k.normalizationField,p=k.stops;if(!m){var q=d.Jhb(k.valueExpression);if(!q)return null}null!=k.minSize&&null!=k.minDataValue&&l.Fxb(k.minDataValue,k.minSize);null!=k.maxSize&&null!=k.maxDataValue&&l.Fxb(k.maxDataValue,k.maxSize);if(Array.isArray(p))for(k=0;k<p.length;++k)l.Fxb(p[k].value,p[k].size);return l.ae()?function(r,t){r=d.mpa(r,m,q,n);t.size=l.getValue(r);t.name=null!=t.name?t.name+"x"+t.size:t.size}:null};d.yUd=function(k){if(!Array.isArray(k.stops))return null;
var l=[],m=[],n=k.field,p=k.normalizationField,q=k.stops;if(!n){var r=d.Jhb(k.valueExpression);if(!r)return null}for(k=0;k<q.length;++k)m.push(q[k].value),l.push(d.Rg(q[k].color));var t=new Po({values:m,colors:l});return function(u,w){u=d.mpa(u,n,r,p);w.color=t.mb(u);w.name=null!=w.name?w.name+"x"+w.color.um():w.color.um()}};d.hYc=function(k){var l=k.rotationType,m=d.Jhb(k.rotationExpression),n=null,p=k.normalizationField;if(!m)if("vectorField"===k.type)n="Direction";else return null;if(l&&"arithmetic"===
l.toLowerCase()){var q=1;var r=-Math.PI/2}else q=-1,r=0;var t=!0,u=2*Math.PI;return function(w,y){w=d.mpa(w,n,m,p);t&&(w<-u||w>u)&&(r=W.radToDeg(r),t=!1);y.angle=r+q*w;t&&(y.angle=W.radToDeg(y.angle));y.angle=1.8*Math.round(y.angle/1.8);y.angle=W.degToRad(y.angle);y.name=null!=y.name?y.name+"x"+y.angle:y.angle}};d.pVd=function(k){var l=d.HVd(k);(k=d.hYc(k))&&l.push(k);return 0===l.length?null:function(m){for(var n={},p=0;p<l.length;++p)l[p](m,n);return n}};d.jYa=function(k,l){if(!k||!k.t6)return null;
var m=k.t6,n=k.du;if(null==n)return m;k.yEc=k.yEc||{};k=k.yEc;var p=m.Gb();l=n(l);if(null!=k[l.name])return k[l.name];p=p.clone();n=p.Fa();null!=n&&(null!=l.color&&n.setColor(l.color),null!=l.oS&&n.setColor(Pd.dC(n.mb(),l.oS)));n=p.eb();null!=n&&(null!=l.color&&n.setColor(l.color),null!=l.oS&&n.setColor(Pd.dC(n.mb(),l.oS)));p instanceof Ti&&(null!=l.size&&p.setSize(l.size,l.size),null!=l.angle&&(p.nu(!1),p.Vz(l.angle)));null!=l.oS&&p instanceof Cj&&p.bda(l.oS);m=new w4({shape:p,geometrytoshape:m.Wha(),
geometrytotext:m.fR(),textshape:m.bl()});return k[l.name]=m};d.bVd=function(k,l){if(!k||k.error||!Array.isArray(k.layers))return null;k=k.layers;for(var m=[],n=0;n<k.length;++n){var p=[];k[n].legend=k[n].legend||[];for(var q=0;q<k[n].legend.length;q++){var r=k[n].legend[q];p.push({label:r.label,image:d.TXc(r,l),width:r.width,height:r.height,values:r.values})}m.push({layerId:k[n].layerId,layerName:k[n].layerName,layerType:k[n].layerType,minScale:k[n].minScale,maxScale:k[n].maxScale,legend:p})}return m};
d.kVd=function(k,l){for(var m=k.displayFieldName,n=!k.hasOwnProperty("geometryType"),p=!n&&d.Ccc(k.geometryType),q=[],r=0;r<k.features.length;r++){var t=k.features[r],u=t.geometry;if(u)if(n&&(p=d.Ccc(t.geometryType)),u=d.ira(u[p[2]]||u),1<u.length)var w=p[1];else if(1===u.length)w=p[0],u=u[0];else continue;else u={x:NaN,y:NaN},w=u4;var y=t.attributes||{};y.layerId=t.hasOwnProperty("layerId")?t.layerId:l;q.push(new w({attributes:y,id:t.hasOwnProperty("value")?t.value:y[m],geometry:u}))}return q};d.Iyb=
function(k){if(!k)return[];var l=k.nG||{},m=[];switch(l.type){case "simple":m.push(d.acb(k.Zj.t6,l.label));break;case "uniqueValue":var n=l.uniqueValueInfos||[];for(l=0;l<n.length;l++)m.push(d.acb(k[n[l].value].t6,n[l].label));break;case "classBreaks":n=k.dyb||[];for(l=0;l<n.length;l++)m.push(d.acb(n[l].t6,n[l].label));break;case "vectorField":for(n=k.k8||[],l=0;l<n.length;l++)m.push(d.acb(n[l].t6))}k.kWa&&m.push(d.acb(k.kWa.t6,k.kWa.label));return m.filter(function(p){return null!=p})};d.acb=function(k,
l){if(!k)return null;k=k.Gb();var m=20,n=20;if(k instanceof Cj)return m=k.ca(),n=k.da(),{width:m,height:n,label:l||"",image:k.ia().url};var p=new U(0,0,m,n),q=new Fh(m,n),r=q.lza();k instanceof Ti?k.IA()?(k.Jb(Ti.Saa(p,k.Zp())),k.render(r)):(m=k.ca(),n=k.da(),m<=n?k.setSize(m*p.da()/n,p.da()):k.setSize(p.ca(),n*p.ca()/m),k.render(r),k.setSize(m,n)):(r.qa(k.Fa(),p),r.ra(k.eb(),p),k instanceof Yn?r.Um([p.ka(),p.na()],[p.Dc(),p.Dc()]):r.tk([p.ka(),p.ka(),p.na(),p.na()],[p.la(),p.ma(),p.ma(),p.Dc()]));
q.tp();return{width:q.ca(),height:q.da(),label:l||"",image:q.Sk().toDataURL()}};return d}();var C5=/*#__PURE__*/function(){function d(e){e=G(e,{connector:new z5});J4.call(this,e);this.jRa=new Map;this.hwa=null;this.Npd=this.PZc.bind(this);this.Mwb=!0}function a(e){return Array.isArray(e)&&0<e.length?"&outFields="+e.join("%2C"):""}var b=1E3,c=new N;D(d,J4);L(d,"geotoolkit.map.sources.formats.ArcGISFeature");d.prototype.query=function(e){function f(y,z){z=u.gYc(y,z,e);if(null!=z){if(!0===z.exceededTransferLimit){if(!u.ua.vhb){y=(e.left+e.right)/2;z=(e.top+e.bottom)/2;u.query({left:e.left,top:e.top,right:y,
bottom:z,key:e.key});u.query({left:e.left,top:z,right:y,bottom:e.bottom,key:e.key});u.query({left:y,top:e.top,right:e.right,bottom:z,key:e.key});u.query({left:y,top:z,right:e.right,bottom:e.bottom,key:e.key});return}0===w&&u.im.send(u.zJ(t+"&returnCountOnly=true"),{token:u.ua.hI,key:e.key},function(x,C){C=u.gYc(x,C);if(null!=C)for(x=w=u.ua.XRd;x<C.count;x+=w)u.im.send(u.zJ(t+"&resultOffset="+x),{token:u.ua.hI,key:e.key},f)})}Array.isArray(z.features)&&((u.EWd(z.features),u.im.Fn())?null==u.hwa&&(u.hwa=
setTimeout(u.Npd,b)):(null!=u.hwa&&clearTimeout(u.hwa),u.PZc()))}}var g=this.ua.u1;g.Ma(c.Da(e.left,e.top),c);var h=c.getX(),k=c.getY();g.Ma(c.Da(e.right,e.bottom),c);var l=c.getX(),m=c.getY(),n=a(this.ua.Yv),p=g.xJ().JB();g="&returnExceededLimitFeatures="+("standard"===this.ua.resultType);var q="&resultType="+this.ua.resultType,r="&geometryPrecision="+this.ua.l5b;p=this.Mwb?"&outSR="+p:"";var t="/query?geometryType=esriGeometryEnvelope&geometry="+encodeURIComponent(h+","+k+","+l+","+m)+"&spatialRel=esriSpatialRelIntersects"+
n+g+r+q+p+"&returnDistinctValues=false&f=json",u=this,w=0;this.im.send(this.zJ(t),{token:this.ua.hI,key:e.key},f);return this};d.prototype.EWd=function(e){if(!this.te())for(var f=this.Mwb?null:this.ua.Nk,g=this.ua.id.Gha(),h=0;h<e.length;h++){var k=e[h],l=k.geometry,m=k.attributes;k=k.symbol;k=B5.mra(k)||B5.uza(m,this.ua.j3);if(null!=k&&null!=l){var n=l[this.ua.j3.type[2]]||l;n=B5.ira(n,f);if(1<n.length)l=this.ua.j3.type[1];else if(1===n.length)l=this.ua.j3.type[0],n=n[0];else continue;m=new l({id:m[g],
geometry:n,attributes:m});m.Zu=k;this.jRa.has(k)?this.jRa.get(k).push(m):this.jRa.set(k,[m])}}};d.prototype.abort=function(e){J4.prototype.abort.call(this,e);null!=this.hwa&&(clearTimeout(this.hwa),this.hwa=null);this.jRa.clear()};d.prototype.PZc=function(){if(!this.te()){var e=null;this.jRa.forEach(function(f){if(null==e)e=f;else for(var g=0;g<f.length;g++)e.push(f[g])});null!=e&&this.notify(N4.Ys,this,e)}this.jRa.clear();this.hwa=null};d.prototype.gYc=function(e,f,g){if(e)return this.onError(e),
null;if("string"===typeof f)try{f=JSON.parse(f)}catch(h){return this.onError(h),null}if(null!=f.error){e=f.error.details||[];if(this.Mwb&&0<=e.join("").indexOf("outSR"))return this.Mwb=!1,g&&this.query(g),null;B5.warn(f.error);return null}return f};return d}();var D5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=G(b,{connector:new z5});o5.call(this,b)}function a(b){return"esriFieldTypeOID"===b.type}D(d,o5);L(d,"geotoolkit.map.sources.loaders.ArcGISFeature");d.prototype.parse=function(b,c){"string"===typeof b&&(b=JSON.parse(b));this.ua.data=b;if(null!=b.error)throw B5.warn(b.error),Error("ArcGISFeature server returned error!");var e=b.drawingInfo||{},f=b.spatialReference||b.sourceSpatialReference;this.ua.vhb=this.ua.vhb&&(!b.advancedQueryCapabilities||b.advancedQueryCapabilities.supportsPagination);
var g=b.maxRecordCountFactor||1,h=this.ua.vhb?"standard":"tile";this.ua.resultType=h;this.ua.XRd=b[h+"MaxRecordCount"]*g||b.maxRecordCount;this.ua.YAa||!b.minScale&&!b.maxScale||(this.ua.YAa=[0<b.minScale?1/b.minScale:null,0<b.maxScale?1/b.maxScale:null]);Array.isArray(b.layers)?(this.ua.layers=this.Dcc(b.layers,b.type),this.ua.alpha=1,this.KMa(b.fullExtent,f)):(this.ua.id=this.zad(b.fields,b.displayField),this.ua.Yv=this.WJc(b),this.ua.DNa=B5.scc(e.labelingInfo),this.ua.j3=B5.parse(b,this.ua.url,
this.ua.DNa),this.ua.layers=[],this.ua.alpha=0<e.transparency?(100-e.transparency)/100:1,this.ua.Qgb=b.id,this.ua.VQd=b.name,this.ua.WQd=b.type,this.KMa(b.extent,f));this.ua.initial=this.t7b(b.initialExtent,f);this.ypb=b.copyrightText;this.loaded(c)};d.prototype.pY=function(){return this.ua.url?this.ua.url+"?f=json":null};d.prototype.VXa=function(){return{token:this.ua.hI}};d.prototype.KMa=function(b,c){var e=this.ua.Nk;null==b?this.ua.Xb=e.js().Jk():(this.fic(b.spatialReference||c),c=new N(parseFloat(b.xmin),
parseFloat(b.ymin)),b=new N(parseFloat(b.xmax),parseFloat(b.ymax)),e.transform(c,c),e.transform(b,b),this.ua.Xb=new U(c.x,c.y,b.x,b.y));return this};d.prototype.t7b=function(b,c){if(!b)return this.ua.Xb;c=b.spatialReference||c;c=c.wkid||c.wkt||c;var e=this.ua.Nk.xJ();if(e.JB()===c)c=this.ua.Nk;else{c=d4.lg().uk(c);if(!c)return this.ua.Xb;c=new e4({initialcoordinatesystem:c,targetcoordinatesystem:this.ua.Nk.js()})}e=new N(parseFloat(b.xmin),parseFloat(b.ymin));b=new N(parseFloat(b.xmax),parseFloat(b.ymax));
c.transform(e,e);c.transform(b,b);return new U(e.x,e.y,b.x,b.y)};d.prototype.fic=function(b){b=b.wkid||b.wkt||b;var c=this.ua.Nk.xJ();if(c.JB()===b)return this;c=d4.lg().uk(b);if(!c)throw Error("ArcGISFeature: coordinate system ("+b+") is not supported, use geotoolkit.map.coordinatesystems.Registry to register it manually.");this.ua.u1.fNa(c);this.ua.Nk.a8(c);return this};d.prototype.Dcc=function(b,c){c="Group Layer"===c?this.ua.url.substr(0,this.ua.url.lastIndexOf("/"))+"/":this.ua.url+"/";for(var e=
0;e<b.length;++e){var f=b[e],g=b[f.parentLayerId];null!=g&&(0<g.minScale&&(f.minScale=0<f.minScale?Math.min(f.minScale,g.minScale):g.minScale),0<g.maxScale&&(f.maxScale=0<f.maxScale?Math.max(f.maxScale,g.maxScale):g.maxScale));f.url=c+f.id}return b.reverse()};d.prototype.zad=function(b,c){var e=this.ua.id instanceof L4?this.ua.id.Gha():this.ua.id;Array.isArray(b)&&0<b.length&&b.every(function(f){return f.name!==e})&&("string"===typeof c?e=c:(c=b.filter(a),e=0<c.length?c[0].name:b[0].name));return this.ua.id instanceof
L4&&this.ua.id.Gha()===e?this.ua.id:new L4(e)};d.prototype.WJc=function(b){if(!Array.isArray(b.fields))return null;var c=null,e=b.fields.map(function(l){"esriFieldTypeOID"===l.type&&(c=l.name);return l.name});this.ua.WKe=c;if("*"===this.ua.Yv)return e;var f=b.drawingInfo&&b.drawingInfo.renderer||{};b=[this.ua.id.Gha(),b.displayField,f.field,f.field1,f.field2,f.field3];var g=[];Array.isArray(this.ua.Yv)&&(b=b.concat(this.ua.Yv));if(Array.isArray(f.visualVariables)){var h=f.visualVariables;f=e.filter(function(l){for(var m=
0;m<h.length;++m){var n=h[m];if(n.field===l||null!=n.valueExpression&&-1<n.valueExpression.indexOf(l))return!0}return!1});b=b.concat(f)}for(f=0;f<b.length;++f){var k=b[f];null!=k&&-1<e.indexOf(k)&&-1===g.indexOf(k)&&g.push(k)}return 0<g.length?g:e};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6InBZIiwiZ2V0UmVxdWVzdE9wdGlvbnMiOiJWWGEifX19");var E5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=c||{};c=G(c,{layer:null,format:c.format||new C5,loader:c.hasOwnProperty("loader")?c.loader:new D5,idfield:c.idfield||(c.getfeatureid instanceof L4?c.getfeatureid.Gha():"name"),offsetsupport:!0,requestfields:null,geometryprecision:3,token:null,scalerange:null,layerid:null},!0);T4.call(this,c);this.oo={};this.ua=this.ua||{};this.ua.hI=c.token;this.ua.YAa=c.scalerange;this.ua.Yv=c.requestfields;this.ua.layers=[];this.ua.alpha=1;this.ua.DNa=null;this.ua.Qgb=c.layerid;
this.ua.vhb=c.offsetsupport;this.ua.l5b=c.geometryprecision;this.Pn=null==c.layer||Array.isArray(c.layer)?c.layer:[c.layer];this.P5=null;this.nX=[];this.vva=null}var a=Zd.ya().Xa("px"),b=Zd.ya().Xa("metre");D(d,T4);L(d,"geotoolkit.map.sources.ArcGISFeature");d.prototype.L0a=function(c){this.ua.hI=c;for(var e=0;e<this.nX.length;e++)this.nX[e].L0a(c);return this};d.prototype.vY=function(){return this.ua.hI};d.prototype.s4d=function(c){this.ua.Yv=c;return this};d.prototype.HCb=function(){return this.ua.Yv};
d.prototype.E1d=function(c){this.ua.l5b=c;return this};d.prototype.AFd=function(){return this.ua.l5b};d.prototype.nba=function(){return this.ua.layers};d.prototype.yeb=function(c){if(null==this.oo[c])for(var e=this.ua.layers,f=0;f<e.length;++f){var g=e[f];if(g.id===c){e=0<g.minScale||0<g.maxScale?[0<g.minScale?1/g.minScale:null,0<g.maxScale?1/g.maxScale:null]:null;this.oo[c]=new d({system:this.xJ(),idfield:this.a$b(),scalerange:e,server:g.url,mode:this.ua.mode,offsetsupport:this.ua.vhb,requestresolution:this.ua.PGb,
requestfields:this.ua.Yv,token:this.ua.hI,layerid:c});null==this.tJa()?this.oo[c].PTc(null):this.oo[c].tJa().Cbb(this.tJa());g=this.oo[c].li;g.beb().Cbb(this.li.beb());break}}return this.oo[c]};d.prototype.Zza=function(){return 0<this.ua.layers.length};d.prototype.wJ=function(){return this.ua.alpha};d.prototype.o9b=function(){return this.ua.YAa};d.prototype.nya=function(){return this.ua.DNa};d.prototype.bF=function(c){this.Pn=null==c||Array.isArray(c)?c:[c];this.Pn=null!=this.Pn?this.Pn.map(function(e){return"string"==
typeof e?+e:e}):this.Pn;this.update();return this};d.prototype.u7b=function(){return this.ua.initial};d.prototype.CJ=function(){return this.Pn};d.prototype.oFb=function(){if(this.te())return this;if(this.Zza()){for(var c=[],e=Array.isArray(this.Pn),f=0;f<this.ua.layers.length;++f){var g=this.ua.layers[f],h=g.id;(g=e?0<=this.Pn.indexOf(h):g.defaultVisibility)&&c.push(h)}null==this.Pn&&(this.Pn=c);this.wad()}T4.prototype.oFb.call(this);return this};d.prototype.query=function(c,e){var f=this.ua.YAa;
if(null!=f){var g=e.wa();g=g?a.convert(g.lb(),b):null;if(null!=g&&(null!=f[0]&&f[0]>g||null!=f[1]&&f[1]<g))return this.fM(!0),this}if(this.Zza()){for(f=0;f<this.nX.length;++f)this.nX[f].query(c,e);this.fM(!this.Fn())}else T4.prototype.query.call(this,c,e);return this};d.prototype.dispose=function(){if(null!=this.P5)for(var c=0;c<this.nX.length;++c)this.nX[c].za(N4.Ys,this.P5).za(N4.yS,this.P5).za(N4.PZ,this.P5);this.oo=null;T4.prototype.dispose.call(this)};d.prototype.M7=function(c){if(this.tJa())if(this.vva)c(null,
this.vva);else{var e=this;this.vZa().then(function(){if(e.Zza())Cg.all(e.ua.layers.map(function(g){return e.yeb(g.id).vZa()})).then(function(){e.vva=[];e.ua.layers.reverse().forEach(function(g){e.yeb(g.id).M7(function(h,k){h||e.vva.push(k)})});c(null,e.vva)},hb);else{var f=e.ua.YAa;e.vva={layerId:e.ua.Qgb,layerName:e.ua.VQd,layerType:e.ua.WQd,minScale:f&&f[0]?1/f[0]:null,maxScale:f&&f[1]?1/f[1]:null,legend:B5.Iyb(e.ua.j3)};c(null,e.vva)}},hb)}else c(Error("Cannot query ArcGIS legend, no loader provided!"))};
d.prototype.Fn=function(){if(T4.prototype.Fn.call(this))return!0;if(this.Zza())for(var c=0;c<this.nX.length;c++)if(this.nX[c].Fn())return!0;return!1};d.prototype.wad=function(){if(!this.Zza())return this;this.P5=this.P5||function(h,k,l){if(h===N4.Ys)for(var m in this.oo){if(this.oo[m]===k){for(var n=0;n<l.length;n++)l[n].mXa().Qgb=+m;break}}else h===N4.PZ&&(h=N4.yS);this.notify(h,k,l)}.bind(this);var c;for(c=0;c<this.nX.length;c++)this.nX[c].za(N4.Ys,this.P5).za(N4.yS,this.P5).za(N4.PZ,this.P5);var e=
[],f=this.CJ();for(c=0;c<f.length;c++){var g=this.yeb(f[c]);null!=g&&(g.on(N4.Ys,this.P5).on(N4.yS,this.P5).on(N4.PZ,this.P5),e.push(g))}this.nX=e;return this};d.prototype.update=function(){if(this.Zza()){for(var c=0;c<this.nX.length;c++)this.nX[c].e0c(),this.nX[c].update();this.wad()}return T4.prototype.update.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRUb2tlbiI6IkwwYSIsImdldFRva2VuIjoidlkiLCJzZXRSZXF1ZXN0RmllbGRzIjoiczRkIiwiZ2V0UmVxdWVzdEZpZWxkcyI6IkhDYiIsInNldEdlb21ldHJ5UHJlY2lzaW9uIjoiRTFkIiwiZ2V0R2VvbWV0cnlQcmVjaXNpb24iOiJBRmQiLCJnZXRMYXllcnMiOiJuYmEiLCJnZXRMYXllclNvdXJjZSI6InllYiIsImlzTXVsdGlsYXllclNvdXJjZSI6Ilp6YSIsImdldEdsb2JhbEFscGhhIjoid0oiLCJnZXRTY2FsZVJhbmdlIjoibzliIiwiZ2V0QW5ub3RhdGlvblNoYXBlIjoibnlhIiwic2hvd0xheWVycyI6ImJGIiwiZ2V0SW5pdGlhbE1vZGVsTGltaXRzIjoidTdiIiwiZ2V0VmlzaWJsZUxheWVycyI6IkNKIiwib25TZXJ2ZXJEYXRhTG9hZGVkIjoib0ZiIiwicXVlcnlMZWdlbmQiOiJNNyIsImlzTG9hZGluZyI6IkZuIn19fSAg");var F5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(h){if(!h||!h.templates)throw Error("options.templates must be provided");y5.call(this,h);this.cxa=this.zB=null;this.XM=!1;this.mZb=[];this.wua=this.uma=null;this.J5={};this.v7c(h.templates);this.Li(new Em)}function a(h){return h instanceof v4}var b=new w4,c=new N,e=new U,f=new U,g=new Ud;D(d,y5);L(d,"geotoolkit.map.layers.Template");d.prototype.fa=function(h){h=jc(h);if(null==h)return this;y5.prototype.fa.call(this,h);this.v7c(h.templates);return this};d.prototype.ia=
function(){return y5.prototype.ia.call(this)};d.prototype.v7c=function(h){if(null==h)return this;h=Array.isArray(h)?h:[h];h.forEach(function(k){for(var l=Array.isArray(k.featureclassname)?k.featureclassname:[k.featureclassname],m=0;m<l.length;++m)this.J5[l[m]]=k.template}.bind(this));return this};d.prototype.MZd=function(h,k){h?oc(h,i4)&&(h=[h]):(h=this.KB(),this.mZb=[]);h.forEach(function(l){l.Zu=null});k||this.ha();return this};d.prototype.Ydb=function(h){return this.J5[h]};d.prototype.D1=function(h){var k=
this.J5[h.Pa()];if(!h.Zu)return k;if(!k)return h.Zu;var l=void 0===h.Zu.oza()?k.oza():h.Zu.oza();b.fa({shape:h.Zu.Gb()||k.Gb(),geometrytoshape:h.Zu.Wha()||k.Wha(),geometrytotext:h.Zu.fR()||k.fR(),textshape:h.Zu.bl(h)||k.bl(h),textstrategy:h.Zu.xza()||k.xza(),textsizeinfo:h.Zu.qSc()||k.qSc(),shapecallback:l});return b};d.prototype.uza=function(h){return"string"===typeof h?this.Ydb(h):h instanceof j4?h.Zu?h.Zu:this.Ydb(h.Pa()):null};d.prototype.SIb=function(h,k,l){"string"===typeof h?this.J5[h]=k:(nc(h,
i4)&&(h=[h]),0>this.mZb.indexOf(k)&&this.mZb.push(k),h.forEach(function(m){m.Zu=k}));l||this.ha();return this};d.prototype.GMe=function(){var h=0,k;for(k in this.J5)this.J5.hasOwnProperty(k)&&++h;return h};d.prototype.kFd=function(){for(var h in this.J5)if(this.J5.hasOwnProperty(h))return this.J5[h];return null};d.prototype.YT=function(h){if(!h)return h=this.KB(),this.ft=null,h.wg()?this.YT(h):null;h=this.QEc(h);null!=h&&(this.ft?this.ft.union(h):this.ft=h);return this.ft};d.prototype.QEc=function(h){function k(E){p=
B.D1(E);if(null!=p&&(n=p.Gb(),q=p.bl(E),r=p.Wha(),t=p.fR(),w=E,u=E.$d(!0),Array.isArray(u)?u.forEach(l):l(u),0<v.length)){if(E.NU())E.Fm(v.concat(u).reverse());else{for(var H=[],F=0;F<v.length;F++){var I=E.vNa().Fm(v[F]);I.mXa().y8c=!0;H.push(I)}B.LD.vja(H)}v.length=0}}function l(E){r.apply(E,n,x);if(n instanceof Ti&&n.IA()){var H=(H=n.Fa())?2*H.ca():0;H=n.SX(x,n.Wn(),n.Cm(),n.ca()+H,n.da()+H);y=null!=y?y.union(H):H}else if(Wc(n)&&n.ga()instanceof U)H=n.ga(),y=null!=y?y.union(H):H.clone();else throw Error("Wrong or unexpected type of templates shape");
B.ea.annotations.visible&&t.apply(E,q,x);B.b6d(w,p,E,H,A,m)}function m(E,H){var F={};Array.isArray(E.x)?(F.x=E.x.map(function(I){return I+H}),F.y=E.y.slice()):(F.x=E.x+H,F.y=E.y);v.push(F)}var n,p,q,r,t,u,w,y=null,z=this.getParent(),x,C=this.AL();if(null!=C&&null!=z){var A=C.Jk();(z=z.fj())&&A&&(x=X.Vd(A,z))}x=x||this.wa()||X.xk;var v=[];x.pl(g.setSize(1,1),g);var B=this;h.forEach(k);return y};d.prototype.b6d=function(h,k,l,m,n,p){if(n&&!h.mXa().y8c){h.mXa().y8c=!0;e.cb(n).translate(n.ca(),0);f.cb(n).translate(-n.ca(),
0);var q=!1,r=!1;U.h7(e,m)&&(q=!0,p(l,-n.ca()));U.h7(f,m)&&(r=!0,p(l,n.ca()));(m=k.xza()||this.ea.annotations.strategy)&&this.ea.annotations.visible&&(m=m.fb(h,this))&&(h=k.bl(h),h.Eb(m),h=I4.X6(h,g),!q&&U.h7(e,h)&&p(l,-n.ca()),!r&&U.h7(f,h)&&p(l,n.ca()))}};d.prototype.lh=function(h,k){h.Uc=k;(k=this.AL())&&"function"===typeof h.WF&&h.WF(this);this.ft=this.YT();this.ha();return this};d.prototype.moa=function(h){if(null==h)return this;Array.isArray(h)||(h=[h]);h.forEach(function(k){k.WF(this)}.bind(this));
this.Cc.T0b(h,!1);this.fe||(this.ft=this.YT(Hg.getIterator(h)),this.notify(ze.Jr,this,this.ft));this.ha();return this};d.prototype.kec=function(h){if(null==h)return this;this.LD.oja(h);this.fe||(this.ft=this.YT(),this.notify(ze.Jr,this,this.ft));this.ha();return this};d.prototype.zIa=function(){this.Cc.zIa();return this};d.prototype.jfc=function(h){for(var k in this.J5)this.J5.hasOwnProperty(k)&&this.J5[k].bl().kb(h);this.ha();return this};d.prototype.render=function(h){!this.isVisible||this.ZG&&
!this.ZG.filter(this,h)||(null==this.Cc||this.bAa()&&this.zB||this.Cc.ZLa(this.wb(),this),this.Gd&&!h.fc()?this.Gd.render(h):this.uj(h),this.XYd(h),this.qec(h))};d.prototype.Fe=function(h,k){var l=this;if(this.isVisible&&(!this.ZG||this.ZG.filter(this,h))){null==this.Cc||this.bAa()&&this.zB||this.Cc.ZLa(this.wb(),this);if(this.Gd&&!h.fc())this.Gd.render(h);else{this.Ft(h,function(){l.qec(h);k()});return}this.qec(h)}k()};d.prototype.uj=function(h){if(h.fc()&&(h.ra(rf.zh),h.Bc(this.oa()),this.bAa()))return;
var k=h.wJ();h.Br(this.AP);this.fdc(h);this.rja(this.zB,h);this.bdc(h);this.ea.annotations.visible&&!h.fc()&&this.Bra(this.bAa()?this.yrd:this.cxa,h);h.Br(k)};d.prototype.rja=function(h,k){var l,m=this;h.forEach(function(n){if(l=m.D1(n)){k.fc()&&k.Sh(n);var p=n.dza();if(n.NU())for(var q=0;q<p.length;++q)m.wib(n,p[q],l,k);else m.wib(n,p,l,k)}})};d.prototype.fdc=function(h){var k=h.Ea(),l=k.lb();k.pl(g.setSize(1,1),g);this.hb={LAa:{},Lf:null,fillStyle:null};k=!W.equals(this.Kob,l);if(null==this.zB||
this.XM||this.aZa()&&k){k&&this.V2c(null);this.Cc.ZLa(this.wb(),this);this.Kob=l;this.XM=!1;this.zB=this.KB();if(l=this.ea.features.filter)this.zB=this.Zab(this.zB,l,h);this.zB=Hg.toArray(this.zB);this.ea.annotations.visible&&((l=this.ea.annotations.filter)?(k=new Gg(this.zB),this.a0c(k),this.cxa=this.Zab(k,l,h),this.cxa=Hg.toArray(this.cxa)):this.cxa=this.zB,this.yrd=this.ea.annotations.visibleonzoom?this.cxa:this.cxa.filter(a))}};d.prototype.bdc=function(h){this.Fy(h);this.hb=null};d.prototype.wib=
function(h,k,l,m){var n=l.Gb(),p=l.Wha(),q=l.oza();if(q||n.Ia()){l=m.eg();var r=l4.YQ(k);if(h.j7()||m.fc())if(U.h7(l,r)){if(m.fc()){m.qa(n.Fa());m.ra(n.eb());h.j7()?h.CY()?m.tk(k.x,k.y,0,k.x.length-1):m.Um(k.x,k.y,0,k.x.length-1):m.Bc(r);return}if(q)p.apply(k,n,m),q(h,n,m);else{p=n.Fa();n=n.eb();if(this.hb.Lf!==p||this.hb.fillStyle!==n)this.Fy(m),this.hb.Lf=p,this.hb.fillStyle=n,m.qa(p),m.ra(n),m.beginPath();r4.r1b(k,m,h.CY(),g,l);return}}else return;else{var t=n.ca(),u=n.da();q&&(p.apply(k,n,m),
q(h,n,m));h=n.ca();var w=n.da();n.IA&&n.IA()&&(h*=g.ca(),w*=g.da());n.Z1b(k.x,k.y,h,w,X.xk,r);if(!U.h7(l,r)||t===n.ca()&&u===n.da()&&!this.Uud(n,k,l))return;q||p.apply(k,n,m)}this.Fy(m);this.hb.Lf=null;this.hb.fillStyle=null;n.render(m)}};d.prototype.Fy=function(h){this.hb.fillStyle&&(h.Si(),this.hb.fillStyle=null);this.hb.Lf&&(h.stroke(),this.hb.Lf=null)};d.prototype.Uud=function(h,k,l){var m=Math.floor((k.x-l.x)/g.width);k=Math.floor((k.y-l.y)/g.height);m=(m+k)*(m+k+1)/2+m;return this.hb.LAa[m]?
this.hb.LAa[m]===h?!1:Array.isArray(this.hb.LAa[m])?-1===this.hb.LAa[m].indexOf(h)?(this.hb.LAa[m].push(h),!0):!1:(this.hb.LAa[m]=[this.hb.LAa[m],h],!0):(this.hb.LAa[m]=h,!0)};d.prototype.aZa=function(){return!this.bAa()};d.prototype.oa=function(){if(null!=this.fe)return this.fe;var h=this.Cc?this.Cc.oa():null;this.ft||(this.ft=this.YT());null!=h&&null!=this.ft&&this.ft.union(h);return this.ft?(null!=h&&this.ft.union(h),this.ft):null!=h?h:this.zFa?this.zFa.Jk():null};d.prototype.fR=function(h){(h=
this.uza(h))||(h=this.kFd());return h.fR()};d.prototype.Bra=function(h,k){var l=this.ea.annotations&&this.ea.annotations.strategy,m,n,p,q,r;h.forEach(function(t){if(m=this.D1(t))if(n=m.xza()||l)if(r=n.fb(t,this))if(q=m.bl(t),p=m.fR(),q.Ia())if(t=t.$d(!0),Array.isArray(t))for(var u=0;u<t.length;++u)t[u].$j&&!1===t[u].$j.ZN||(q.Eb(r),p.apply(t[u],q,k),U.h7(k.eg(),I4.X6(q,g))&&q.render(k));else t.$j&&!1===t.$j.ZN||(q.Eb(r),p.apply(t,q,k),U.h7(k.eg(),I4.X6(q,g))&&q.render(k))}.bind(this))};d.prototype.gj=
function(h,k){function l(u,w,y){if(!Ag.j2(y.ga(),y.ob(),t))return!1;if(u instanceof E4||u instanceof F4)return u=new rh(h,k,r),u.wFc(w.x,w.y,!1);u=new sh(h,k);return u.wFc(w.x,w.y,!0)}var m=this.AL();if(!m)return[];var n=this.wa();h=n.rd(h,c);m=m.Jk();h.getX()<m.getX()?h.x+=m.ca():h.getX()>m.na()&&(h.x-=m.ca());m=this.oa();if(!this.zB||!m||!m.contains(h))return[];n.pl(g.setSize(1,1),g);k=(k||2)*g.ca();var p=this,q=[],r,t=f.cb(h.x-k,h.y-k,h.x+k,h.y+k);m=new Kg(this.zB,this.wua);m.forEach(function(u){var w=
p.D1(u);if(w){var y=w.Gb(),z=w.Wha(),x=u.$d(!0);w=w.oza();if(y.Ia()&&x){r=null!=y.Fa()?y.Fa().ca()*g.width:g.width;Array.isArray(x)||(x=[x]);for(var C=0;C<x.length;++C)if(z.apply(x[C],y,n),Array.isArray(x[C].x)){if(w&&w(u,y),l(u,x[C],y)){q.push(u);break}}else{w&&w(u,y);var A=y.ca(),v=y.da();y.IA&&y.IA()&&(A*=g.width,v*=g.height);var B=y.Wn(),E=y.Cm();y.Z1b(B,E,A,v,X.xk,e);if(U.h7(t,e)){q.push(u);break}}}}});return q.reverse()};d.prototype.jM=function(h){y5.prototype.jM.call(this,h);h&&(this.KB().forEach(function(k){k.WF(this)}.bind(this)),
this.es()instanceof Em&&this.es().asa(h.Jk()));return this};d.prototype.z7=function(h,k,l){var m=this;h!==N4.Ys&&h!==N4.yS||Hg.getIterator(l).forEach(function(n){if(!n.j7()&&(n=m.D1(n))){var p=n.Gb();if(p instanceof Cj&&!p.loaded){var q=function(){p.za(Bj.ak,q);m.ha()};p.on(Bj.ak,q)}}});h===N4.Ys?(h=this.QEc(l),this.fe||null==h||(this.ft=null!=this.ft?this.ft.union(h):h,this.notify(ze.Jr,this,this.ft)),this.ha(h)):y5.prototype.z7.call(this,h,k,l)};d.prototype.V2c=function(h){this.wua=h;return this};
d.prototype.LEd=function(){return this.wua};d.prototype.qec=function(h){if(!this.wua)return this;var k=this.ea.annotations&&this.ea.annotations.strategy,l,m,n,p,q,r=h.fc(),t,u,w,y,z,x=this;r&&h.Sh(null);this.wua.forEach(function(C){t=x.D1(C);if(t instanceof x4&&(w=t.NEd(),m=t.bl(),y=t.Wha(),l=t.fR(),z=t.oza(),u=t.xza()||k,w.Ia())){var A=C.dza();Array.isArray(A)||(A=[A]);p=C.getParent();u&&(n=u.fb(C,this),m.Eb(n));for(var v=0;v<A.length;++v)y.apply(A[v],w,h),l.apply(A[v],m,h),z&&z(C,w,h),p&&(q=t.MEd(A[v],
p,h),q.render(h)),r&&h.Sh(C),w.render(h),r&&h.Sh(null),u&&m.Ia()&&m.render(h)}});return this};d.prototype.XYd=function(h){if(null!=this.uma&&!this.bAa()&&!h.fc()){var k=this,l=this.uma,m=$f.Ep,n=k.D1(l);if(n){var p=n.Gb(),q=n.Wha();n=n.oza();p.iL(m);k.notify(ze.oOa,p,m);n&&n(l,p,h);n=l.dza();l.NU()||(n=[n]);for(l=0;l<n.length;++l)q.apply(n[l],p,h),p.render(h);p.QJ(m);k.notify(ze.oOa,p,m);this.ea.annotations.visible&&0<=this.cxa.indexOf(this.uma)&&this.Bra([this.uma],h)}}};d.prototype.ha=function(h,
k){this.XM=!0;return y5.prototype.ha.call(this,h,k)};d.prototype.notify=function(h,k,l){switch(h){case Gc.Ep:for(var m=this.wa().rd(l.kCb(),c),n=l.getSelection(),p=Infinity,q=null,r=n.indexOf(this)+1;r<n.length&&!1!==n[r]instanceof j4;r++){var t=n[r],u=this.D1(t);if(u){u=u.Gb();u.iL($f.Ep);var w=this.xud(u);u.QJ($f.Ep);w&&(t.j7()||t.NU()?q=t:(u=t.$d(!0),u=N.qia(m.getX(),m.getY(),u.x,u.y),u<=p&&(q=t,p=u)))}}this.uma!==q&&(this.uma=q,this.notify(N4.jC,this,this.uma),this.Lg());break;case Gc.Omb:null!=
this.uma&&(this.uma=null,this.notify(N4.jC,this,null),this.Lg())}return y5.prototype.notify.call(this,h,k,l)};d.prototype.xud=function(h){if(null!=h.ECb()&&h.ECb().match(h))return!0;for(var k=this.getParent();null!=k;){if(null!=k.ECb()&&k.ECb().match(h))return!0;k=k.getParent()}return!1};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJyZXNldEZlYXR1cmVUZW1wbGF0ZXMiOiJNWmQiLCJnZXRUZW1wbGF0ZSI6InV6YSIsInNldFRlbXBsYXRlIjoiU0liIiwiY2FsY3VsYXRlRGVmYXVsdE1vZGVsTGltaXRzIjoiWVQiLCJ1cGRhdGVHZW9tZXRyeSI6ImxoIiwiYWRkRmVhdHVyZSI6Im1vYSIsInJlbW92ZUZlYXR1cmUiOiJrZWMiLCJjbGVhckZlYXR1cmVzIjoieklhIiwic2V0QW5ub3RhdGlvblRleHRTdHlsZSI6ImpmYyIsInJlbmRlckFzeW5jIjoiRmUiLCJyZW5kZXJDb250ZW50IjoidWoiLCJyZW5kZXJGZWF0dXJlcyI6InJqYSIsImdldE1vZGVsTGltaXRzIjoib2EiLCJnZXRHZW9tZXRyeVRvVGV4dCI6ImZSIiwicmVuZGVyQW5ub3RhdGlvbnMiOiJCcmEiLCJoaXRUZXN0IjoiZ2oiLCJzZXRNYXBDb29yZGluYXRlU3lzdGVtIjoiak0iLCJvbkZlYXR1cmVzVXBkYXRlZCI6Ino3IiwiaW52YWxpZGF0ZSI6ImhhIn19fSAg");var G5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{source:a&&a.sources||new T4});null==a.templates&&(a.templates=[]);F5.call(this,a);null!=a.idfield&&this.Cc.psa(a.idfield);a=[G4.Pa(),H4.Pa(),E4.Pa(),F4.Pa(),u4.Pa(),D4.Pa(),v4.Pa()];for(var b=0;b<a.length;++b)if(null==this.Ydb(a[b])){var c=this.ZDd(a[b]);null!=c&&this.SIb(a[b],c,!0)}}D(d,F5);L(d,"geotoolkit.map.layers.Vector");d.prototype.vRd=function(a){return this};d.prototype.psa=function(a){this.Cc.psa(a);return this};d.prototype.ZDd=function(a){switch(a){case G4.Pa():case H4.Pa():return new l5;
case E4.Pa():case F4.Pa():return new j5;case u4.Pa():case D4.Pa():return new k5;case v4.Pa():return new x4}return null};d.prototype.ia=function(){var a=F5.prototype.ia.call(this);a.idfield=this.Cc.a$b();return a};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;"string"===typeof a.idfield&&this.Cc.psa(a.idfield);F5.prototype.fa.call(this,a);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJsb2FkRGF0YSI6InZSZCIsInNldFVuaXF1ZUZpZWxkIjoicHNhIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var H5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=G(c,{source:c&&(c.source||c.sources)||new E5,token:null,templates:[],annotations:{}},!0);I4.gHc(c.annotations,"filter",a5);var e=Array.isArray(c.source)?1===c.source.length?c.source[0]:new U4(c.source):c.source;null!=c.requestresolution&&e.Kjb(c.requestresolution);null!=c.idfield&&e.psa(c.idfield);null!=c.requestfields&&e.NQ("setRequestFields",c.requestfields);null!=c.token&&e.NQ("setToken",c.token);c.source=e;G5.call(this,c);null!=c.layer&&this.Cc instanceof E5&&
this.Cc.bF(c.layer)}var a=Zd.ya().Xa("px"),b=Zd.ya().Xa("metre");D(d,G5);L(d,"geotoolkit.map.layers.ArcGISFeature");d.prototype.HCb=function(){return this.Cc.HCb()};d.prototype.ia=function(){var c=G5.prototype.ia.call(this);c.requestresolution=this.Cc.YQc();return c};d.prototype.fa=function(c){c=jc(c);if(null==c)return this;G5.prototype.fa.call(this,c);void 0!==c.requestresolution&&this.Cc.Kjb(c.requestresolution);void 0!==c.requestfields&&this.Cc.NQ("setRequestFields",c.requestfields);void 0!==c.token&&
this.Cc.NQ("setToken",c.token);void 0!==c.layer&&this.Cc instanceof E5&&this.Cc.bF(c.layer);return this};d.prototype.bF=function(c){null!=this.Cc&&this.Cc.bF(c);return this};d.prototype.CJ=function(){return null!=this.Cc?this.Cc.CJ():null};d.prototype.z7=function(c,e,f){G5.prototype.z7.call(this,c,e,f);c===ze.Jr&&(1===this.AP&&(this.AP=e.wJ()),c=new b5(e.nya()),this.ea.annotations.filter.push(c),e=e.o9b(),null==this.ZG&&null!=e&&(this.ZG=new pm({minscale:b.convert(e[0],a),minscaleinclusive:!1,maxscale:b.convert(e[1],
a),maxscaleinclusive:!1})))};d.prototype.rja=function(c,e){var f=[],g=[];if(null!=this.Qc()&&this.Qc().Zza()){var h=this.CJ();c.forEach(function(l){var m=l.mXa().Qgb;if(null==m)g.push(l);else if(null==h||-1!==h.indexOf(m))f[m]=f[m]||[],f[m].push(l)});f.reverse()}else g=c instanceof Hg?c.toArray():c;0<g.length&&f.push(g);var k=a.convert(e.Ea().lb(),b);c=e.wJ();f.forEach(function(l){if(0!==l.length){var m=l[0].mXa(),n=(m=l!==g?this.Cc.yeb(m.Qgb):null)?m.o9b():null;null!=n&&(null!=n[0]&&n[0]>k||null!=
n[1]&&n[1]<k)||(m=m?m.wJ():1,e.Br(this.AP*m),G5.prototype.rja.call(this,l,e),G5.prototype.Fy.call(this,e))}}.bind(this));e.Br(c)};d.prototype.M7=function(c){var e=this.Qc();e instanceof E5?e.M7(c):c(Error("ArcGISFeature source should be used to query a legend"));return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRSZXF1ZXN0RmllbGRzIjoiSENiIiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwic2hvd0xheWVycyI6ImJGIiwiZ2V0VmlzaWJsZUxheWVycyI6IkNKIiwib25GZWF0dXJlc1VwZGF0ZWQiOiJ6NyIsInJlbmRlckZlYXR1cmVzIjoicmphIiwicXVlcnlMZWdlbmQiOiJNNyJ9fX0g");var I5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=G(b,{connector:new z5({connector:new r5}),transparent:!0});J4.call(this,b);this.qRa=b.geometryconnector||new C4}function a(b){for(var c="&layers=show:"+b[0],e=1;e<b.length;e++)c+=","+b[e];return c}D(d,J4);L(d,"geotoolkit.map.sources.formats.ArcGISImage");d.prototype.query=function(b){var c=b.left,e=b.right,f=b.top,g=b.bottom,h=b.width,k=b.height,l=this.ua.url;if(!l)return this;var m=l.endsWith("/")?"":"/",n=a(this.ua.UA),p="export",q=new Cj({lazyloading:!0,ax:(c+
e)/2,ay:(f+g)/2,width:e-c,height:g-f,ispointingup:!0,alignment:O.Oa,crossorigin:"anonymous"});if((l+m).endsWith("ImageServer/"))p="exportImage",n="";else if(0===this.ua.UA.length)return this.notify(Bj.ak,q,null),this;l=this.ua.Nk.js().JB();c="?bbox="+c+"%2C"+f+"%2C"+e+"%2C"+g+"&size="+h+"%2C"+k;m=m+p+c+n+"&imageSR="+l+"&bboxSR="+l+"&f=image";this.im.send(this.zJ(m),{token:this.ua.hI,dst:q,key:b.key},function(r,t){if(r)this.onError(r);else this.te()||this.notify(Bj.ak,t,t.url)}.bind(this));return this};
d.prototype.Gca=function(b){if(!this.ua.url)return this;var c=b.geometry,e=this.ua.url.endsWith("/")?"":"/",f=null!=b.layer?b.layer+"/":"",g=this.ua.Nk.js(),h=g.Jk();g=g.JB();if(c instanceof N){var k="esriGeometryPoint";c=c.getX()+","+c.getY()}else if(c instanceof U)k="esriGeometryEnvelope",c=c.ka()+","+c.la()+","+c.na()+","+c.ma();else if(c instanceof uh){var l=c.be(),m=c.He();k="esriGeometryPolygon";c=encodeURI('{"rings":[[');for(var n=0;n<l.length;n++){var p=h.ka()+(l[n]+h.ca()-h.ka())%h.ca();
c+="["+p+","+m[n]+"]";c+=n+1!==l.length?",":encodeURI("]]}")}}else return this;e=e+f+"query?geometryType="+k+"&geometry="+c+"&inSR="+g+"&outFields=*&f=json";this.qRa.send(this.zJ(e),{key:b.key},function(q,r){if("string"===typeof r)try{r=JSON.parse(r)}catch(t){r={}}this.notify(N4.jC,this,{layer:b.layer,data:r})}.bind(this));return this};d.prototype.TT=function(b){this.qRa.abort(b);return this};d.prototype.Nza=function(b){if(!this.ua.url)return this;var c=b.left,e=b.right,f=b.top,g=b.bottom,h=b.width,
k=b.height,l=this.ua.url.endsWith("/")?"":"/",m=this.ua.Nk.js(),n=m.Jk();m=m.JB();var p=b.geometry;if(p instanceof N){var q="esriGeometryPoint";var r=p.getX()+","+p.getY()}else if(p instanceof U)q="esriGeometryPolygon",r='{"rings":[[',r+="["+p.ka()+","+p.la()+"],",r+="["+p.na()+","+p.la()+"],",r+="["+p.na()+","+p.ma()+"],",r+="["+p.ka()+","+p.ma()+"],",r+="["+p.ka()+","+p.la()+"]",r+="]]}";else if(p instanceof uh){var t=p.be();p=p.He();q="esriGeometryPolygon";r='{"rings":[[';for(var u=0;u<t.length;u++){var w=
n.ka()+(t[u]+n.ca()-n.ka())%n.ca();r+="["+w+","+p[u]+"]";r+=u+1!==t.length?",":"]]}"}}else return this;n=l+"identify?f=json&geometryType="+q+"&geometry="+r;(this.ua.url+l).endsWith("ImageServer/")?(n+="&inSR="+m,n+="&pixelSize={x:"+Math.abs(e-c)/h+",y:"+Math.abs(f-g)/k+"}"):(n+="&mapExtent="+c+","+f+","+e+","+g,n+="&imageDisplay="+h+","+k,n+="&sr="+m,null!=b.layers&&(n+="&layers="+b.layers),n+="&tolerance=0");n=encodeURI(n);this.qRa.send(this.zJ(n),{key:b.key},function(y,z){if("string"===typeof z)try{z=
JSON.parse(z),z.results&&!z.features&&(z.features=z.results)}catch(x){z={}}this.notify(N4.jC,this,{layer:-1,data:z})}.bind(this));return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJxdWVyeUdlb21ldHJ5IjoiR2NhIiwiYWJvcnRHZW9tZXRyeVF1ZXJpZXMiOiJUVCIsImlkZW50aWZ5IjoiTnphIn19fSAg");var J5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{connector:new z5});o5.call(this,a)}D(d,o5);L(d,"geotoolkit.map.sources.loaders.ArcGISImage");d.prototype.parse=function(a,b){"string"===typeof a&&(a=JSON.parse(a));this.ua.data=a;if(null!=a.error)throw B5.warn(a.error),Error("ArcGISImage server returned error!");var c=a.spatialReference||a.sourceSpatialReference;this.ua.UA=this.ua.UA||[];if(Array.isArray(a.layers)){if(0===this.ua.UA.length)for(var e=0;e<a.layers.length;++e){var f=a.layers[e];!0!==f.defaultVisibility||
f.subLayerIds||this.ua.UA.push(f.id)}this.ua.layers=this.Dcc(a.layers,a.type);this.KMa(a.fullExtent,c)}else this.ua.layers=null,this.KMa(a.extent,c);this.ua.initial=this.t7b(a.initialExtent,c);this.ypb=a.copyrightText;this.loaded(b)};d.prototype.clear=function(){this.ua.layers=[];o5.prototype.clear.call(this)};d.prototype.pY=function(){return this.ua.url?this.ua.url+"?f=pjson":null};d.prototype.VXa=function(){return{token:this.ua.hI}};d.prototype.KMa=function(a,b){this.fic(a.spatialReference||b);
b=this.ua.Nk;var c=new N(parseFloat(a.xmin),parseFloat(a.ymin));a=new N(parseFloat(a.xmax),parseFloat(a.ymax));b.transform(c,c);b.transform(a,a);this.ua.Xb=new U(c.x,c.y,a.x,a.y);return this};d.prototype.t7b=function(a,b){if(!a)return this.ua.Xb;b=a.spatialReference||b;b=b.wkid||b.wkt||b;var c=this.ua.Nk.xJ();if(c.JB()===b)b=this.ua.Nk;else{b=d4.lg().uk(b);if(!b)return this.ua.Xb;b=new e4({initialcoordinatesystem:b,targetcoordinatesystem:this.ua.Nk.js()})}c=new N(parseFloat(a.xmin),parseFloat(a.ymin));
a=new N(parseFloat(a.xmax),parseFloat(a.ymax));b.transform(c,c);b.transform(a,a);return new U(c.x,c.y,a.x,a.y)};d.prototype.fic=function(a){a=a.wkid||a.wkt||a;var b=this.ua.Nk.xJ();if(b.JB()===a)return this;b=d4.lg().uk(a);if(!b)throw Error("ArcGISImage: coordinate system ("+a+") is not supported, use geotoolkit.map.coordinatesystems.Registry to register it manually.");this.ua.u1.fNa(b);this.ua.Nk.a8(b);return this};d.prototype.M7=function(a){this.ua.url?this.ua.dca?this.ua.dca.data?a(null,this.ua.dca.data):
this.ua.dca.error?a(this.ua.dca.error):this.ua.dca.iyb.push(a):(this.ua.dca={iyb:[a]},a=this.ua.url.endsWith("/")?"":"/",a=this.ua.url+a+"legend?f=json",a=I4.sWa(a,this.YD),this.im.send(a,null,function(b,c){if(b)this.jFb(b,c);else{if("string"===typeof c)try{c=JSON.parse(c)}catch(e){this.jFb(e,c);return}(b=B5.bVd(c,this.ua.url))?this.jFb(null,b):this.jFb(Error(c&&c.error||"Wrong Legend received"))}}.bind(this))):a(Error("Cannot load ArcGIS legend: no server provided"))};d.prototype.jFb=function(a,
b){this.ua.dca.error=a;this.ua.dca.data=b;for(var c=0;c<this.ua.dca.iyb.length;++c)this.ua.dca.iyb[c](a,b);this.ua.dca.iyb=[]};d.prototype.Dcc=function(a,b){b="Group Layer"===b?this.ua.url.substr(0,this.ua.url.lastIndexOf("/"))+"/":this.ua.url+"/";for(var c=0;c<a.length;++c){var e=a[c],f=a[e.parentLayerId];null!=f&&(0<f.minScale&&(e.minScale=0<e.minScale?Math.min(e.minScale,f.minScale):f.minScale),0<f.maxScale&&(e.maxScale=0<e.maxScale?Math.max(e.maxScale,f.maxScale):f.maxScale));e.url=b+e.id}return a};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6InBZIiwiZ2V0UmVxdWVzdE9wdGlvbnMiOiJWWGEifX19");var K5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e,f,g){e=e.Ua(f);f=Math.floor(e.ka());var h=Math.ceil(e.na());f<g.ka()?(h+=g.ka()-f,h=Math.min(h,g.na()),f=g.ka()):h>g.na()&&(f+=g.na()-h,f=Math.max(f,g.ka()),h=g.na());var k=Math.floor(e.la()),l=Math.ceil(e.ma());k<g.la()?(l+=g.la()-k,l=Math.min(l,g.ma()),k=g.la()):l>g.ma()&&(k+=g.ma()-l,k=Math.max(k,g.la()),l=g.ma());return e.cb(f,k,h,l)}function a(e,f){var g=1E-5;return f.ka()>=e.ka()-g&&f.na()<=e.na()+g&&f.la()>=e.la()-g&&f.ma()<=e.ma()+g}function b(e,f){R4.call(this,
e,f);this.qA=[]}var c=.001;D(b,R4);L(b,"geotoolkit.map.sources.managers.Image");b.prototype.query=function(e,f){this.ua.I1a||(e=f.wb(!0));var g=f.wa();f=g.lb();e=this.Jh(e,f);if(!e)return!1;null!=this.Cz&&(clearTimeout(this.Cz),this.Cz=null);this.Cz=setTimeout(function(){for(var h=g.Ua(this.ua.I1a?this.ua.Xb:this.ua.Nk.js().Jk()),k=0;k<this.qA.length;++k){var l=this.qA[k];if(!this.qA[k].HGb){var m=d(g,l.La,h);g.wd(m,l.La);var n=Math.round(m.ca());m=Math.round(m.da());this.Vg.query({left:l.La.getX(),
top:l.La.la(),right:l.La.na(),bottom:l.La.ma(),width:Math.max(n,1),height:Math.max(m,1)});l.HGb=!0}}this.Cz=null}.bind(this),this.ua.timeout);return!0};b.prototype.Jh=function(e,f){var g=this.ua.Nk.js().Jk(),h=[];if(g.zA(e))this.ua.I1a&&e.intersect(this.ua.Xb),e.isEmpty()||h.push(e);else{var k=e.clone().intersect(g);this.ua.I1a&&k.intersect(this.ua.Xb);k.isEmpty()||h.push(k);k=e.getX()>g.getX()?g.ca():-g.ca();k=g.clone().intersect(e.translate(-k,0));this.ua.I1a&&k.intersect(this.ua.Xb);k.isEmpty()||
h.push(k)}var l;k=this.ua.bd*e.ca();e=this.ua.bd*e.da();g=this.ua.I1a?this.ua.Xb:g;if(!W.equals(this.Dg,f)||0===h.length){this.Dg=f;this.qA=[];for(f=0;f<h.length;++f)this.qA.push({La:h[f].bd(k,e).intersect(g),HGb:!1});return!0}var m=[],n=!1;for(f=0;f<h.length;f++){for(l=0;l<this.qA.length&&!a(this.qA[l].La,h[f]);l++);l===this.qA.length?(m.push({La:h[f].bd(k,e).intersect(g),HGb:!1}),n=!0):(this.qA[l].HGb||(h[f].bd(k,e).intersect(g),n=n||this.qA[l].La.zA(h[f]),this.qA[l].La.union(h[f])),0>m.indexOf(this.qA[l])&&
m.push(this.qA[l]))}this.qA=m;return n};b.prototype.uO=function(){this.Vg.on(Bj.ak,function(e,f){for(var g=!0,h=0;h<this.qA.length;++h)this.qA[h].La.Gi(f.ga(),c)?this.qA[h].MYa=f:this.qA[h].MYa||(g=!1);g&&(f=this.qA.map(function(k){return k.MYa}),this.notify(e,this,f))}.bind(this));return this};b.prototype.abort=function(){null!=this.Cz&&(clearTimeout(this.Cz),this.Cz=null);return R4.prototype.abort.call(this)};b.prototype.clear=function(){R4.prototype.clear.call(this);this.qA=[];this.Dk=[];this.Dg=
null;return this};b.prototype.Fn=function(){return null!=this.Cz||R4.prototype.Fn.call(this)};return b}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0Rm9ybWF0IjoidU8iLCJpc0xvYWRpbmciOiJGbiJ9fX0g");var L5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=a||{};Q4.call(this,a);this.ua=this.ua||{};this.ua.bd=a.hasOwnProperty("inflate")?a.inflate:.2;this.ua.timeout=a.hasOwnProperty("timeout")?a.timeout:50;this.ua.I1a=a.hasOwnProperty("uselayerlimits")?a.uselayerlimits:!1;this.ua.UA=[]}D(d,Q4);L(d,"geotoolkit.map.sources.Image");d.prototype.vO=function(a){this.li=new K5(a,this.ua);this.li.on(N4.ak,function(b,c,e){this.notify(N4.ak,this,e);this.fM(!0)}.bind(this));return this};d.prototype.clear=function(){this.notify(N4.OOa,
this,null);Q4.prototype.clear.call(this);return this};d.prototype.b4c=function(a){this.ua.bd=a;return this};d.prototype.hOc=function(){return this.ua.bd};d.prototype.S6c=function(a){this.ua.timeout=a;return this};d.prototype.TRc=function(){return this.ua.timeout};d.prototype.bF=function(a){this.ua.UA=a?Array.isArray(a)?a:[a]:[];this.update();return this};d.prototype.b7=function(a){var b=[];if(null!=a)for(var c=0;c<this.ua.UA.length;++c){var e=this.ua.UA[c];(Array.isArray(a)?-1===a.indexOf(e):e!==
a)&&b.push(e)}this.ua.UA=b;this.update();return this};d.prototype.CJ=function(){return this.ua.UA};d.prototype.nba=function(){return this.ua.layers};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRJbmZsYXRlUmF0aW8iOiJiNGMiLCJnZXRJbmZsYXRlUmF0aW8iOiJoT2MiLCJzZXRTb3VyY2VUaW1lb3V0IjoiUzZjIiwiZ2V0U291cmNlVGltZW91dCI6IlRSYyIsInNob3dMYXllcnMiOiJiRiIsImhpZGVMYXllcnMiOiJiNyIsImdldFZpc2libGVMYXllcnMiOiJDSiIsImdldExheWVycyI6Im5iYSJ9fX0g");var M5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){K5.call(this,a,b);this.Uc=null;this.TM={}}D(d,K5);L(d,"geotoolkit.map.sources.managers.ArcGISImage");d.prototype.Gca=function(a){var b,c=[],e=[],f=this.ua.t1a||this.ua.UA;if(this.DUc(a))for(b=0;b<f.length;++b){var g=f[b];this.TM.hasOwnProperty(g)?e.push.apply(e,this.TM[g]):c.push(g)}else c=f,this.Uc=a,this.TM={},this.Vg.TT();for(b=0;b<c.length;++b)this.Vg.Gca({geometry:a,layer:c[b]}),this.TM[c[b]]=null;return 0===c.length||0<e.length?e:null};d.prototype.Nza=function(a,
b){if(this.DUc(a)){a=[];for(var c in this.TM)this.TM.hasOwnProperty(c)&&a.push.apply(a,this.TM[c]);return a}this.TM={};this.Uc=a;c=this.ua.t1a||this.ua.UA;var e=b.wb();b=b.wa();b=b.Ua(e).round();this.Vg.Nza({geometry:a,left:e.ka(),right:e.na(),top:e.la(),bottom:e.ma(),width:b.ca(),height:b.da(),layers:"all:"+c.join(",")});return null};d.prototype.DUc=function(a){if(a===this.Uc)return!0;if(a instanceof U&&this.Uc instanceof U)return a.Gi(this.Uc);if(a instanceof N&&this.Uc instanceof N)return a.Ex(this.Uc);
if(a instanceof uh&&this.Uc instanceof uh){if(a.getSize()!==this.Uc.getSize())return!1;var b=a.getSize(),c=a.be();a=a.He();for(var e=this.Uc.be(),f=this.Uc.He(),g=0;g<b;g++)if(c[g]!==e[g]||a[g]!==f[g])return!1;return!0}return!1};d.prototype.uO=function(){K5.prototype.uO.call(this);this.Vg.on(N4.jC,function(a,b,c){a=c.layer;b=c.data;if(Array.isArray(b.features)&&0<b.features.length)this.TM[a]=B5.kVd(b,a);else{this.TM[a]=[];for(var e in this.TM)if(!this.TM[e]||0<this.TM[e].length)return}this.notify(N4.jC,
this,c)}.bind(this));return this};d.prototype.TT=function(){this.Vg.TT();return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJxdWVyeUdlb21ldHJ5IjoiR2NhIiwiaWRlbnRpZnkiOiJOemEiLCJpbml0Rm9ybWF0IjoidU8ifX19");var N5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{format:new I5,loader:new J5});L5.call(this,a);this.ua=this.ua||{};this.ua.hI=a.token;this.ua.t1a=null;this.t2c(a.dpi);this.setTime(a.time);this.yZ(a.transparent);this.M2c(a.dynamicLayers)}D(d,L5);L(d,"geotoolkit.map.sources.ArcGISImage");d.prototype.vO=function(a){this.li=new M5(a,this.ua);var b=function(c,e,f){this.notify(c,this,f);this.fM(!0)}.bind(this);this.li.on(N4.ak,b);this.li.on(N4.jC,b);this.Vg=a;return this};d.prototype.M7=function(a){this.tJa()?this.tJa().M7(a):
a(Error("Cannot query ArcGIS legend, no loader provided!"))};d.prototype.Gca=function(a){return this.Eqa()?this.li.Gca(a):[]};d.prototype.TT=function(){this.li.TT();return this};d.prototype.Nza=function(a,b){return this.Eqa()?this.li.Nza(a,b):[]};d.prototype.u7b=function(){return this.ua.initial};d.prototype.WIb=function(a){this.ua.t1a=null==a?null:Array.isArray(a)?a:[a];return this};d.prototype.t2c=function(a){if(null==this.Vg||null==a)return this;this.Vg.rG("dpi",a);this.update();return this};d.prototype.setTime=
function(a){if(null==this.Vg||null==a)return this;a instanceof Kd&&(a=a.Ta()+", "+a.Ya());this.Vg.rG("time",a);this.update();return this};d.prototype.yZ=function(a){if(null==this.Vg||null==a)return this;this.Vg.rG("transparent",a);this.update();return this};d.prototype.M2c=function(a){if(null==this.Vg||null==a)return this;this.Vg.rG("dynamicLayers",JSON.stringify(a));this.update();return this};d.prototype.L0a=function(a){this.ua.hI=a;return this};d.prototype.vY=function(){return this.ua.hI};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0UXVlcnlNYW5hZ2VyIjoidk8iLCJxdWVyeUxlZ2VuZCI6Ik03IiwicXVlcnlHZW9tZXRyeSI6IkdjYSIsImFib3J0R2VvbWV0cnlRdWVyaWVzIjoiVFQiLCJpZGVudGlmeSI6Ik56YSIsImdldEluaXRpYWxNb2RlbExpbWl0cyI6InU3YiIsInNldFRvb2x0aXBMYXllcnMiOiJXSWIiLCJzZXREUEkiOiJ0MmMiLCJzZXRUcmFuc3BhcmVudCI6InlaIiwic2V0RHluYW1pY0xheWVycyI6Ik0yYyIsInNldFRva2VuIjoiTDBhIiwiZ2V0VG9rZW4iOiJ2WSJ9fX0g");var O5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){m5.call(this,c);c&&c.showlayers&&(this.b7(),this.bF(c.showlayers));this.Dk=null}var a=new U,b=new U;D(d,m5);L(d,"geotoolkit.map.layers.Image");d.prototype.render=function(c){if(this.isVisible&&(null==this.ZG||this.ZG.filter(this,c)))if(c.fc())this.Ls()&&(c.ra(rf.zh),c.Bc(this.oa()));else{var e=this.wb(!0);null!=e&&(this.Qc().query(e,this),this.uj(c))}};d.prototype.Fe=function(c,e){if(!this.isVisible||null!=this.ZG&&!this.ZG.filter(this,c))e();else if(c.fc())this.Ls()&&
(c.ra(rf.zh),c.Bc(this.oa())),e();else{var f=this.wb(!0);null==f?e():(this.Qc().query(f,this),this.Ft(c,e))}};d.prototype.uj=function(c){if(null!=this.Dk){var e=c.wJ(),f=c.Ea(),g=c.zt(),h=this.uk().Jk();h=f.Ua(h,a);var k=c.mg();c.Ih({LA:!0});c.Br(this.AP);c.Sb(X.xk);for(var l=h.na()>k.getX()-1&&h.na()<k.na()+1,m=h.getX()>k.getX()-1&&h.getX()<k.na()+1,n=0;n<this.Dk.length;n++){var p=!1,q=this.Dk[n],r=f.Ua(q.ga(),b);if(l){p=W.equals(h.na(),r.na(),1);var t=Math.round(Math.round(h.na())*g);var u=Math.round(t-
r.ca()*g)}else m&&(p=W.equals(h.ka(),r.ka(),1),u=Math.round(Math.round(h.ka())*g),t=Math.round(u+r.ca()*g));p||(p=r.Dd(k),u=Math.round(Math.round(r.ka())*g),t=Math.round(u+r.ca()*g));p&&null!=q.MB()&&(q=q.MB(),c.drawImage(q,0,0,q.width,q.height,u,r.la()*g,t-u,r.da()*g))}c.Sb(f);c.Br(e);c.xo()}};d.prototype.nba=function(){return null!=this.Qc()?this.Qc().nba():null};d.prototype.CJ=function(){return null!=this.Qc()?this.Qc().CJ():null};d.prototype.bF=function(c){null!=this.Qc()&&this.Qc().bF(c);return this};
d.prototype.b7=function(c){null!=this.Qc()&&this.Qc().b7(c);return this};d.prototype.Wu=function(c){if(this.Cc===c)return this;this.MT||(this.MT=function(e,f,g){this.notify(ze.Jr,this,g)}.bind(this));this.xaa||(this.xaa=function(e,f,g){this.Dk=g;this.ha()}.bind(this));null!=this.Cc&&(this.Cc.za(ze.Jr,this.MT),this.Cc.za(N4.ak,this.xaa),this.Cc.za(N4.OOa,this.xaa));this.Cc=c;null!=this.Cc&&(this.Cc.on(ze.Jr,this.MT),this.Cc.on(N4.ak,this.xaa),this.Cc.on(N4.OOa,this.xaa),c=this.ea.url||this.ea.server,
null!=c&&null==this.Cc.V6()&&this.Cc.d8(c));return this};d.prototype.ia=function(){var c=m5.prototype.ia.call(this);c.showlayers=this.CJ();return c};d.prototype.fa=function(c){c=jc(c);if(null==c)return this;void 0!==c.showlayers&&(this.b7(),this.bF(c.showlayers));m5.prototype.fa.call(this,c);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJyZW5kZXJBc3luYyI6IkZlIiwicmVuZGVyQ29udGVudCI6InVqIiwiZ2V0TGF5ZXJzIjoibmJhIiwiZ2V0VmlzaWJsZUxheWVycyI6IkNKIiwic2hvd0xheWVycyI6ImJGIiwiaGlkZUxheWVycyI6ImI3Iiwic2V0RGF0YVNvdXJjZSI6Ild1IiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIn19fSAg");var P5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e){e=xb(e,{source:e&&e.source||new N5,token:null,tooltip:{visible:!1,formatter:new d5(null,null,Infinity,!0)}});O5.call(this,e);e.tooltip.layers&&this.Qc().WIb(e.tooltip.layers);null!=e.token&&this.Qc().NQ("setToken",e.token)}var a=new N,b=new Ud,c=2;D(d,O5);L(d,"geotoolkit.map.layers.ArcGISImage");d.prototype.M7=function(e){var f=this.Qc();f instanceof N5?f.M7(e):e(Error("ArcGISImage source should be used to query a legend"));return this};d.prototype.cpa=function(e,f){return this.gj(f,
c)};d.prototype.gj=function(e,f){var g=this.AL();if(!g)return[];var h=g.Jk();g=this.wa();e=g.rd(e,a);e.getX()<h.getX()?e.x+=h.ca():e.getX()>h.na()&&(e.x-=h.ca());h=this.oa();if(!h||!h.contains(e))return[];f=null==f?2:f;g.pl(b.setSize(f,f),b);return this.Cc.Nza(new U(e.getX()-b.ca(),e.getY()-b.da(),e.getX()+b.ca(),e.getY()+b.da()),this)};d.prototype.Qba=function(){return!0===this.ea.tooltip.visible?this.ea.tooltip.formatter:null};d.prototype.Wu=function(e){if(this.Cc===e)return this;this.EGa||(this.EGa=
function(f,g,h){this.notify(N4.jC,this,h)}.bind(this));null!=this.Cc&&this.Cc.za(N4.jC,this.EGa);O5.prototype.Wu.call(this,e);if(null!=this.Cc)this.Cc.on(N4.jC,this.EGa);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJxdWVyeUxlZ2VuZCI6Ik03IiwiZmlsdGVyVG9vbHRpcEluZm8iOiJjcGEiLCJoaXRUZXN0IjoiZ2oiLCJnZXRUb29sdGlwRm9ybWF0dGVyIjoiUWJhIiwic2V0RGF0YVNvdXJjZSI6Ild1In19fSAg");var Q5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{tilewidth:256,tileheight:256,imagepool:400,token:null,minlod:0,maxlod:15},!0);a.format=a.format||new t5({formatterfunction:a.formatterfunction,token:a.token});Q4.call(this,a);this.ua=this.ua||{};this.ua.hI=a.token;this.ua.av=a.tilewidth;this.ua.$u=a.tileheight;this.ua.VU=a.minlod;this.ua.AO=a.maxlod;this.ua.Whb=a.imagepool;this.ua.YAa=[]}D(d,Q4);L(d,"geotoolkit.map.sources.Tile");d.prototype.vO=function(a){this.li=new v5(a,this.ua);this.li.on(N4.yM,function(b,
c,e){this.notify(N4.yM,this,e);this.fM(!0)}.bind(this));return this};d.prototype.clear=function(){null!=this.li&&this.li.clear();Q4.prototype.clear.call(this);return this};d.prototype.zE=function(){return null!=this.li?this.li.zE():{}};d.prototype.yL=function(){return null!=this.li?this.li.yL():new Ud(1,1)};d.prototype.Leb=function(){return this.ua.VU};d.prototype.Ieb=function(){return this.ua.AO};d.prototype.Pba=function(){return this.ua.av};d.prototype.Oba=function(){return this.ua.$u};d.prototype.fa=
function(a){a=jc(a);if(null==a)return this;Q4.prototype.fa.call(this,a);void 0!==a.formatterfunction&&this.li.MMa(a.formatterfunction);void 0!==a.tilewidth&&(this.ua.av=a.tilewidth);void 0!==a.tileheight&&(this.ua.$u=a.tileheight);void 0!==a.minlod&&(this.ua.VU=a.minlod);void 0!==a.maxlod&&(this.ua.AO=a.maxlod);void 0!==a.imagepool&&(this.ua.Whb=a.imagepool);void 0!==a.token&&(this.ua.hI=a.token);this.li.iba().pu(this.ua);return this};d.prototype.ia=function(){var a=Q4.prototype.ia.call(this);a.tilewidth=
this.ua.av;a.tileheight=this.ua.$u;a.minlod=this.ua.VU;a.maxlod=this.ua.AO;a.imagepool=this.ua.Whb;a.token=this.ua.hI;return a};d.prototype.iba=function(){return this.li?this.li.iba():null};d.prototype.MMa=function(a){this.li&&this.li.MMa(a);return this};d.prototype.ML=function(){return null!=this.li?this.li.ML():this.ua.VU};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");var R5=/*#__PURE__*/function(){function d(a){J5.call(this,a)}D(d,J5);L(d,"geotoolkit.map.sources.loaders.ArcGISTile");d.prototype.parse=function(a,b){"string"===typeof a&&(a=JSON.parse(a));this.ua.data=a;if(null!=a.error)throw B5.warn(a.error),Error("ArcGISTile server returned error!");var c=a.spatialReference||a.sourceSpatialReference;this.KMa(Array.isArray(a.layers)?a.fullExtent:a.extent,c);null!=a.minLOD&&(this.ua.VU=Math.max(this.ua.VU,+a.minLOD));null!=a.maxLOD&&(this.ua.AO=Math.min(this.ua.AO,+a.maxLOD));
c=(c=a.tileInfo)?c.lods:null;if(Array.isArray(c)&&0<c.length){for(var e=Infinity,f=-Infinity,g=0;g<c.length;++g){var h=c[g].level;null!=h&&(e=Math.min(e,h),f=Math.max(f,h))}this.ua.VU=Math.max(this.ua.VU,e);this.ua.AO=Math.min(this.ua.AO,f)}this.ua.YAa=[0<a.minScale?1/a.minScale:null,0<a.maxScale?1/a.maxScale:null];this.ua.Mzb=function(k,l,m){return"/tile/"+k+"/"+l+"/"+m};this.ypb=a.copyrightText;this.loaded(b)};return d}();var S5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=G(b,{tilewidth:256,tileheight:256,minlod:0,maxlod:15,imagepool:400,source:null,format:b&&b.formatterfunction?new t5({formatterfunction:b.formatterfunction}):null,url:null},!0);b.source=b.source||new Q5(b);m5.call(this,b)}var a=new U;D(d,m5);L(d,"geotoolkit.map.layers.Tile");d.prototype.render=function(b){!this.isVisible||this.ZG&&!this.ZG.filter(this,b)||(b.fc()?(b.ra(rf.zh),b.Bc(this.oa())):this.uj(b))};d.prototype.Fe=function(b,c){if(this.isVisible&&(!this.ZG||
this.ZG.filter(this,b)))if(b.fc())b.ra(rf.zh),b.Bc(this.oa());else{this.Ft(b,c);return}c()};d.prototype.uj=function(b){if(null!=this.V6()&&null!=this.AL()){var c=this.wb();this.Qc().query(c,this);var e=b.zt(),f=b.Ea(),g=b.mg(),h=this.HDb(),k=f.Ua(h,a);h=k.la()*e;g=k.na()>g.getX()-1&&k.na()<g.na()+1?Math.round(Math.round(k.na())*e)-k.ca()*e:k.getX()>g.getX()-1&&k.getX()<g.na()+1?Math.round(Math.round(k.getX())*e):k.getX()*e;var l=this.Qc().yL();k={width:e*k.ca()/l.ca(),height:e*k.da()/l.da()};c=f.Ua(c,
a);e={gD:Math.floor((e*c.ka()-g)/k.width),ZB:Math.ceil((e*c.na()-g)/k.width),BO:Math.floor((e*c.la()-h)/k.height),VL:Math.ceil((e*c.ma()-h)/k.height)};c=this.Qc().zE();g+=e.gD*k.width;h+=e.BO*k.height;l=b.wJ();b.Ih({LA:!0});b.Sb(X.xk);b.Br(this.AP);for(var m in c)c[m]instanceof Cj&&this.ZYd(c[m],b,e,g,h,k);b.Br(l);b.Sb(f);b.xo()}};d.prototype.ZYd=function(b,c,e,f,g,h){var k=b.Ch,l=b.Fu;if(null==b.image||k<e.gD||k>e.ZB||l<e.BO||l>e.VL)return this;var m=b.image,n=Math.round(f+(k-e.gD)*h.width),p=Math.round(g+
(l-e.BO)*h.height);f=Math.round(f+(k-e.gD+1)*h.width);e=Math.round(g+(l-e.BO+1)*h.height);c.drawImage(m,0,0,b.width,b.height,n,p,f-n,e-p);return this};d.prototype.Leb=function(){return this.Qc().Leb()};d.prototype.Ieb=function(){return this.Qc().Ieb()};d.prototype.eMd=function(){return new Ud(this.Qc().Pba(),this.Qc().Oba())};d.prototype.e2d=function(b){this.Qc().MMa(b);return this};d.prototype.pGd=function(){return this.Qc().iba()};d.prototype.Wu=function(b){if(this.Cc===b)return this;this.MT||(this.MT=
function(c,e,f){this.notify(ze.Jr,this,f)}.bind(this));this.wX||(this.wX=function(c,e,f){this.ha(f)}.bind(this));null!=this.Cc&&(this.Cc.za(ze.Jr,this.MT),this.Cc.za(N4.yM,this.wX));this.Cc=b;null!=this.Cc&&(this.Cc.on(ze.Jr,this.MT),this.Cc.on(N4.yM,this.wX),b=this.ea.url||this.ea.server,null!=b&&null==this.Cc.V6()&&this.Cc.d8(b));return this};d.prototype.ia=function(){var b=m5.prototype.ia.call(this);b=xb(this.Qc().ia(),b);b.formatterfunction=this.Qc().iba();return b};d.prototype.fa=function(b){b=
jc(b);if(null==b)return this;m5.prototype.fa.call(this,b);this.Cc.fa(b);return this};d.prototype.E2d=function(b,c){this.Qc().fa({minlod:b,maxlod:c});return this};d.prototype.ML=function(){return this.Qc().ML()};d.prototype.s5d=function(b,c){this.Qc().fa({tilewidth:b,tileheight:c});return this};d.prototype.HDb=function(){return this.AL().Jk()};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJyZW5kZXJBc3luYyI6IkZlIiwicmVuZGVyQ29udGVudCI6InVqIiwiZ2V0TWluTG9kIjoiTGViIiwiZ2V0TWF4TG9kIjoiSWViIiwiZ2V0VGlsZVJlc29sdXRpb24iOiJlTWQiLCJzZXRJbWFnZUZvcm1hdHRlciI6ImUyZCIsImdldEltYWdlRm9ybWF0dGVyIjoicEdkIiwic2V0RGF0YVNvdXJjZSI6Ild1IiwiZ2V0UHJvcGVydGllcyI6ImlhIiwic2V0UHJvcGVydGllcyI6ImZhIiwic2V0TG9kcyI6IkUyZCIsImdldFpvb21MZXZlbCI6Ik1MIiwic2V0VGlsZVJlc29sdXRpb24iOiJzNWQifX19");var PJa=/*#__PURE__*/function(){function d(a){a=G(a,{source:a&&a.sources||new Q5({loader:new R5})});S5.call(this,a)}D(d,S5);L(d,"geotoolkit.map.layers.ArcGISTile");return d}();var T5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(g){o5.call(this,g)}var a="{quadkey}",b="{tileId}",c="{zoom}",e="{subdomain}",f="{culture}";D(d,o5);L(d,"geotoolkit.map.sources.loaders.Bing");d.prototype.parse=function(g,h){"string"===typeof g&&(g=JSON.parse(g));this.ua.data=g;if(200!==g.statusCode)throw h=g.errorDetails,hb("BingMap server returned error ("+g.statusCode+"): "+(Array.isArray(h)&&0<h.length?h.join("\n"):g.statusDescription)),Error("BingMap server returned error!");g=this.ZQc(g);var k=g.imageUrl.replace(f,
this.ua.Ryb),l=k.indexOf(e),m=k.indexOf(a),n=k.indexOf(b),p=k.indexOf(c);m=Math.min.apply(null,[m,n,p,k.length].filter(function(t){return-1!==t}));var q=k.substr(0,m),r=I4.CNc(k.substr(m),[a,b,c]);this.ua.url=0>l?q:g.imageUrlSubdomains.map(function(t){return q.replace(e,t)});"number"===typeof g.imageWidth&&(this.ua.av=g.imageWidth);"number"===typeof g.imageHeight&&(this.ua.$u=g.imageHeight);"number"===typeof g.zoomMax&&(this.ua.AO=g.zoomMax);"number"===typeof g.zoomMin&&(this.ua.VU=g.zoomMin);if("number"===
typeof g.tilesX&&"number"===typeof g.tilesY){k=g.tilesX;l=g.tilesY;this.ua.VQe=k;this.ua.WQe=l;this.ua.n7={};for(m=this.ua.AO;m>=this.ua.VU;--m)this.ua.n7[m]={ZB:k-1,VL:l-1,scale:1<<m},k=Math.ceil(k/2),l=Math.ceil(l/2);k=d4.lg().uk($3.VV);n=k.Jk();l=k.transform(this.ua.wIa.x,this.ua.wIa.y);m=n.ca()/this.ua.n7[this.ua.AO].scale;n=n.da()/this.ua.n7[this.ua.AO].scale;m=g.tilesX*m/2;g=g.tilesY*n/2;g=new U(l.x-m,l.y-g,l.x+m,l.y+g);this.ua.Nk.js()!==k&&(k=new e4(k,this.ua.Nk.js()),k.Ua(g,g));this.ua.Xb=
g}else this.ua.Xb=this.ua.Nk.js().Jk();this.ua.Mzb=function(t,u,w){for(var y="",z=0;z<r.length;++z)switch(r[z]){case a:y+=this.HJd(t,u,w);break;case b:y+=this.cMd(t,u,w);break;case c:y+=t;break;default:y+=r[z]}return y}.bind(this);this.loaded(h)};d.prototype.pY=function(){var g=this.ua.hlb+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.ua.Oza+"?c="+this.ua.Ryb+"&uriScheme="+this.ua.hlb;null!=this.ua.key&&(g+="&key="+this.ua.key);if(null!=this.ua.wIa)g+="&centerPoint="+this.ua.wIa.y+","+
this.ua.wIa.x;else if(this.ua.Oza===U3.bLb||this.ua.Oza===U3.dLb||this.ua.Oza===U3.cLb)throw Error("Bing Maps Birdseye imagery requires centerPoint parameter!");return g};d.prototype.ZQc=function(g){if(!Array.isArray(g.resourceSets))return null;for(var h=0;h<g.resourceSets.length;++h){var k=g.resourceSets[h];if(k&&Array.isArray(k.resources))for(var l=0;l<k.resources.length;++l){var m=k.resources[l];if(m&&m.imageUrl)return m}}return null};d.prototype.HJd=function(g,h,k){var l="";for(g=1<<g-1;0<g;g>>=
1){var m=0;0!==(k&g)&&m++;0!==(h&g)&&(m+=2);l+=m}return l};d.prototype.cMd=function(g,h,k){g=this.ua.n7&&this.ua.n7[g]?this.ua.n7[g].ZB+1:1<<g;return g*h+k};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6InBZIn19fSAg");var U5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a,b){v5.call(this,a,b)}D(d,v5);L(d,"geotoolkit.map.sources.managers.Bing");d.prototype.Gxa=function(a,b){function c(n,p,q,r){var t=Math.floor((n.ka()-h.ka())/p);p=Math.ceil((n.na()-h.ka())/p)-1;var u=Math.floor((n.la()-h.la())/q);n=Math.ceil((n.ma()-h.la())/q)-1;return{gD:Math.max(t,0),ZB:Math.min(p,r.ZB),BO:Math.max(u,0),VL:Math.min(n,r.VL)}}var e=v5.prototype.Gxa.call(this,a,b);if(null==this.ua.n7)return e;var f=this.ua.n7[e.z],g=this.ua.Nk.js();a=b.Ua(a);var h=b.Ua(this.ua.Xb),
k=b.Ua(g.Jk());b=h.ca()/(f.ZB+1);g=h.da()/(f.VL+1);var l=this.ua.n7[this.qH]||f,m=k.ca()/l.scale;k=k.da()/l.scale;return{z:e.z,hib:c(a,b,g,f),t9d:c(a,m,k,l),S$b:c(a.bd(a.ca()/10,a.da()/10).intersect(h),b,g,f)}};d.prototype.yL=function(a){null==a&&(a=this.qH);if(0<=a&&this.ua.n7&&this.ua.n7[this.ua.AO]){var b=this.ua.n7[this.ua.AO];a=1<<this.ua.AO-a;return new Ud((b.ZB+1)/a,(b.VL+1)/a)}return v5.prototype.yL.call(this,a)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjYWxjdWxhdGVab29tTGV2ZWwiOiJHeGEiLCJnZXRHcmlkU2l6ZSI6InlMIn19fSAg");var V5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{loader:a&&a.loader||new T5,format:a&&a.format||new t5,key:null,culture:"en-US",urischeme:"http",centerpoint:null,imageryset:U3.LKb},!0);Q5.call(this,a);this.ua=this.ua||{};this.ua.Oza=a.imageryset;this.ua.Ryb=a.culture;this.ua.hlb=a.urischeme;this.ua.key=a.key;this.ua.wIa=a.centerpoint}D(d,Q5);L(d,"geotoolkit.map.sources.Bing");d.prototype.vO=function(a){this.li=new U5(a,this.ua);this.li.on(N4.yM,function(b,c,e){this.notify(N4.yM,this,e);this.fM(!0)}.bind(this));
return this};d.prototype.R3c=function(a){this.ua.Oza!==a&&(this.ua.Oza=a,this.clear());return this};d.prototype.cOc=function(){return this.ua.Oza};d.prototype.s4c=function(a){this.ua.key=a;return this};d.prototype.getKey=function(){return this.ua.key};d.prototype.f2c=function(a){this.ua.Ryb=a;return this};d.prototype.pDd=function(){return this.ua.Ryb};d.prototype.$7c=function(a){this.ua.hlb=a;return this};d.prototype.PMd=function(){return this.ua.hlb};d.prototype.sHb=function(a){this.ua.wIa=a;return this};
d.prototype.ACd=function(){return this.ua.wIa};d.prototype.V6=function(){return this.ua.url?this.ua.url:this.ua.hlb+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.ua.Oza};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRJbWFnZXJ5U2V0IjoiUjNjIiwiZ2V0SW1hZ2VyeVNldCI6ImNPYyIsInNldEtleSI6InM0YyIsInNldEN1bHR1cmUiOiJmMmMiLCJnZXRDdWx0dXJlIjoicERkIiwic2V0VXJpU2NoZW1lIjoiJDdjIiwiZ2V0VXJpU2NoZW1lIjoiUE1kIiwic2V0Q2VudGVyUG9pbnQiOiJzSGIiLCJnZXRDZW50ZXJQb2ludCI6IkFDZCIsImdldFNlcnZlclVSTCI6IlY2In19fSAg");var W5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{source:a&&(a.source||a.sources)||new V5},!0);null!=a.key&&a.source.s4c(a.key);null!=a.culture&&a.source.f2c(a.culture);null!=a.centerpoint&&a.source.sHb(a.centerpoint);null!=a.imageryset&&a.source.R3c(a.imageryset);null!=a.urischeme&&a.source.$7c(a.urischeme);S5.call(this,a)}D(d,S5);L(d,"geotoolkit.map.layers.Bing");d.prototype.HDb=function(){switch(this.Qc().cOc()){case U3.bLb:case U3.cLb:case U3.dLb:return this.oa();default:return S5.prototype.HDb.call(this)}};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRXb3JsZExpbWl0cyI6IkhEYiJ9fX0g");var X5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f){J4.call(this,f)}function a(f){return Array.isArray(f)?f.map(a):f.toUpperCase()}function b(f,g){if(Array.isArray(g))for(var h=0;h<g.length;++h){if(0<=f.indexOf(g[h].toUpperCase()))return g[h]}else if(0<=f.indexOf(g))return g;return null}var c=new N,e=",";D(d,J4);L(d,"geotoolkit.map.sources.formats.CSV");d.fjb=function(f){e=f};d.prototype.parse=function(f){"string"===typeof f&&(f=UH.oxd(f,this.ua.O3b||e));if(2>f.length)return this;var g=a(f[0]),h=g.length,k=b(g,a(this.ua.Xkc)),
l=b(g,a(this.ua.$kc));if(null==k||null==l)return this;for(var m=[],n=1,p=f[n];n<f.length;p=f[++n])if(p.length===h){for(var q={},r={},t=0;t<h;++t)q[f[0][t]]=p[t],g[t]===k?null!=p[t]&&(r.x=a4.G9c(p[t])):g[t]===l&&null!=p[t]&&(r.y=a4.G9c(p[t]));this.ua.Nk.js().transform(r.x,r.y,c);r.x=c.x;r.y=c.y;p=B5.uza(q,this.ua.j3);q=new u4({id:this.ua.id.L6(q),attributes:q,geometry:r});null!=p&&(q.Zu=p);m.push(q)}this.notify(N4.Ys,this,m);return this};return d}(),2,"eyJzZXREZWxpbWl0ZXIiOiJmamIifSAg");var Y5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{system:$3.fK,format:a&&a.format||new X5,delimiter:",",latitudefield:["latitude","lat"],longitudefield:["longitude","lon"]},!0);T4.call(this,a);this.ua=this.ua||{};this.ua.O3b=a.delimiter;this.ua.Xkc=a.longitudefield;this.ua.$kc=a.latitudefield}D(d,T4);L(d,"geotoolkit.map.sources.CSV");d.prototype.Mgc=function(a){if("string"===typeof a||Array.isArray(a))this.ua.$kc=a;return this};d.prototype.KOc=function(){return this.ua.$kc};d.prototype.Vgc=function(a){if("string"===
typeof a||Array.isArray(a))this.ua.Xkc=a;return this};d.prototype.cPc=function(){return this.ua.Xkc};d.prototype.fjb=function(a){"string"===typeof a&&(this.ua.O3b=a);return this};d.prototype.AMc=function(){return this.ua.O3b};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRMYXRpdHVkZUZpZWxkIjoiTWdjIiwiZ2V0TGF0aXR1ZGVGaWVsZCI6IktPYyIsInNldExvbmdpdHVkZUZpZWxkIjoiVmdjIiwiZ2V0TG9uZ2l0dWRlRmllbGQiOiJjUGMiLCJzZXREZWxpbWl0ZXIiOiJmamIiLCJnZXREZWxpbWl0ZXIiOiJBTWMifX19");var Z5=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{source:a&&(a.source||a.sources)||new Y5,system:$3.fK,latitudefield:null,longitudefield:null,delimiter:null},!0);G5.call(this,a);var b=this.Qc();null!=a.latitudefield&&b.Mgc(a.latitudefield);null!=a.longitudefield&&b.Vgc(a.longitudefield);null!=a.delimiter&&b.fjb(a.delimiter)}D(d,G5);L(d,"geotoolkit.map.layers.CSV");d.prototype.ia=function(){var a=G5.prototype.ia.call(this),b=this.Qc();a.latitudefield=b.KOc();a.longitudefield=b.cPc();a.delimiter=b.AMc();return a};
d.prototype.fa=function(a){a=jc(a);if(null==a)return this;var b=this.Qc();null!=a.latitudefield&&b.Mgc(a.latitudefield);null!=a.longitudefield&&b.Vgc(a.longitudefield);null!=a.delimiter&&b.fjb(a.delimiter);G5.prototype.fa.call(this,a);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var $5=/*#__PURE__*/function(){function d(a){a=G(a,{format:new O4});T4.call(this,a)}D(d,T4);L(d,"geotoolkit.map.sources.GeoJSON");return d}();var ZJa=/*#__PURE__*/function(){function d(a){a=G(a,{source:a&&a.sources||new $5});G5.call(this,a)}D(d,G5);L(d,"geotoolkit.map.layers.GeoJSON");return d}();var a6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}var a;L(d,"geotoolkit.map.util.XML");d.parse=function(b){a=a||new $a.DOMParser;b=a.parseFromString(b,"text/xml");return"parsererror"===b.nodeName||0<b.getElementsByTagName("parsererror").length?(rb("Wrong XML received!"),null):b};d.hZ=function(b,c,e){if(!b)return e?[]:null;c=c.split(", ");if(!vd.Fqa()&&!vd.tac())return c=c.map(function(l){return":scope > "+l}),c=c.join(", "),e?b.querySelectorAll(c):b.querySelector(c);b="#document"===b.nodeName?b.childNodes:[b];for(var f=
[],g=0;g<b.length;++g)for(var h=b[g].childNodes,k=0;k<h.length;++k)if(0<=c.indexOf(h[k].nodeName)){if(!e)return h[k];f.push(h[k])}return e?f:null};d.Df=function(b){if(b.children)return b.children;var c=[];b=b.childNodes;for(var e=0;e<b.length;++e)"#text"!==b[e].nodeName&&"#comment"!==b[e].nodeName&&c.push(b[e]);return c};d.gCa=function(b){var c=d.Df(b);if(0===c.length)return b.textContent;b={};for(var e=0;e<c.length;++e){var f=c[e].nodeName.toLowerCase(),g=d.gCa(c[e]);null!=g&&(null==b[f]?b[f]=g:
Array.isArray(b[f])?b[f].push(g):b[f]=[b[f],g])}return b};return d}(),1,"eyJxdWVyeVNjb3BlIjoiaFoiLCJnZXRDaGlsZHJlbiI6IkRmIiwieG1sVG9PYmplY3QiOiJnQ2EifSAg");var b6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}function a(m,n,p){var q;for(q=0;q<p.length;++q){var r=p[q].split(",");if(-1<r.indexOf(n))return m}for(q=0;q<p.length;++q)if(n=m.querySelector(p[q]))return n;return null}var b=new N,c=["MultiGeometry"],e=["MultiPoint"],f=["MultiCurve","Curve"],g=["MultiSurface, MultiSolid","Polygon, Solid, Surface, PolyhedralSurface, TriangulatedSurface"],h=["Point"],k=["LineString"],l=["Envelope"];L(d,"geotoolkit.map.util.GML");d.parse=function(m,n,p,q,r){r=r||m;q=q||[];var t,u=m.nodeName.lastIndexOf(":"),
w=-1===u?m.nodeName:m.nodeName.substr(u+1);if(t=a(m,w,c)){u=t.querySelectorAll("geometryMember");0===u.length&&(u=(u=t.querySelector("geometryMember"))&&u.children||[]);for(m=0;m<u.length;++m)d.parse(u[m],n,p,q,r);return q}u=[];if(t=a(m,w,e)){w=a6.hZ(t,"pointMembers, pointMember",!0);for(m=0;m<w.length;++m)for(var y=a6.hZ(w[m],"Point",!0),z=0;z<y.length;++z)(t=d.G7(y[m],p))&&u.push(t);d.moa(u,n,r,u4,D4,q)}else if(t=a(m,w,f)){w=t.querySelectorAll("LineString, LineStringSegment");for(m=0;m<w.length;++m)(t=
d.Mhb(w[m],p))&&u.push(t);d.moa(u,n,r,E4,F4,q)}else if(t=a(m,w,g)){w=t.querySelectorAll("exterior");for(m=0;m<w.length;++m)(t=d.Nhb(w[m],p))&&u.push(t);d.moa(u,n,r,G4,H4,q)}else if(t=a(m,w,h))(t=d.G7(t,p))&&u.push(t),d.moa(u,n,r,u4,D4,q);else if(t=a(m,w,k))(t=d.Mhb(t,p))&&u.push(t),d.moa(u,n,r,E4,F4,q);else if(t=a(m,w,l))(t=d.LXc(t,p))&&u.push(t),d.moa(u,n,r,G4,H4,q);return q};d.G7=function(m,n){return m?(m=a6.hZ(m,"pos, coordinates",!1))&&m.textContent?d.LFb(m.textContent,n):null:null};d.LXc=function(m,
n){if(!m)return null;var p=a6.hZ(m,"lowerCorner, upperCorner",!0);return 2===p.length&&p[0].textContent&&p[1].textContent?(m=d.LFb(p[0].textContent,n),n=d.LFb(p[1].textContent,n),{x:[m.x,m.x,n.x,n.x],y:[m.y,n.y,n.y,m.y]}):d.Mhb(m,n)};d.LFb=function(m,n){m=m.trim().split(/,\s*|\s+/);b.Da(+m[1]||0,+m[0]||0);n&&(b=n(b,b));return{x:b.x,y:b.y}};d.Mhb=function(m,n){if(!m)return null;var p=[],q=[],r=0<m.childElementCount?a6.hZ(m,"posList, coordinates",!1):m;if(r&&r.textContent){var t=r.getAttribute("srsDimension")||
2;var u=r.textContent.trim().split(/,\s*|\s+/);for(m=0;m<u.length;m+=t)b.Da(+u[m+1]||0,+u[m]||0),n&&(b=n(b,b)),p.push(b.x),q.push(b.y)}else for(r=m.querySelectorAll("pos, coordinates"),m=0;m<r.length;++m)r[m].textContent&&(u=r[m].textContent.trim().split(/,\s*|\s+/),b.Da(+u[1]||0,+u[0]||0),n&&(b=n(b,b)),p.push(b.x),q.push(b.y));return 2>=p.length?null:{x:p,y:q}};d.Nhb=function(m,n){if(!m)return null;var p=d.tcc(m,n);m=(m=m.parentNode)&&m.querySelectorAll("interior");if(!m||0===m.length||!p)return p;
var q=l4.YQ(p);p.clip=[q];for(q=0;q<m.length;++q){var r=d.tcc(m[q],n);r&&p.clip.push(r)}return p};d.tcc=function(m,n){m=a6.hZ(m,"LinearRing",!1)||m.querySelector("LineString, LineStringSegment");return d.Mhb(m,n)};d.moa=function(m,n,p,q,r,t){0!==m.length&&(p=a6.gCa(p),1===m.length?t.push(new q({id:n.L6(p),attributes:p,geometry:m[0]})):t.push(new r({id:n.L6(p),attributes:p,geometry:m})))};return d}(),1,"eyJwYXJzZVBvaW50IjoiRzciLCJwYXJzZUVudmVsb3BlIjoiTFhjIiwicGFyc2VQb2ludEdlb21ldHJ5IjoiTEZiIiwicGFyc2VMaW5lU3RyaW5nIjoiTWhiIiwicGFyc2VQb2x5Z29uIjoiTmhiIiwicGFyc2VCb3VuZGFyeSI6InRjYyIsImFkZEZlYXR1cmUiOiJtb2EifSAg");var c6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}var a={point:u4,line:E4,polygon:G4},b=new N;L(d,"geotoolkit.map.util.GeoRSS");d.parse=function(c,e,f){var g=[];d.ycc(c.querySelectorAll("entry"),e,f,g);d.ycc(c.querySelectorAll("channel > item"),e,f,g);var h=a6.hZ(c,"entry, channel",!0);c=0<h.length&&h[0].parentNode||c;for(var k=0;k<h.length;++k)c.removeChild(h[k]);d.hw(c,e,f,g);return g};d.ycc=function(c,e,f,g){for(var h=0;h<c.length;++h)d.hw(c[h],e,f,g);return g};d.hw=function(c,e,f,g){var h=d.mYc(c,e,f)||d.vYc(c,
e,f);h?g.push(h):b6.parse(c,e,f,g)};d.mYc=function(c,e,f){for(var g=Object.keys(a),h=0;h<g.length;++h){var k=a6.hZ(c,g[h],!1);if(k&&k.textContent)return c=a6.gCa(c),g=a[g[h]],new g({id:e.L6(c),attributes:c,geometry:d.ira(k.textContent,f)})}if((k=a6.hZ(c,"box",!1))&&k.textContent){f=d.ira(k.textContent,f);if(2!==f.x.length)return null;c=a6.gCa(c);return new G4({id:e.L6(c),attributes:c,geometry:{x:[f.x[0],f.x[0],f.x[1],f.x[1]],y:[f.y[0],f.y[1],f.y[1],f.y[0]]}})}return null};d.ira=function(c,e){c=c.trim().split(/,\s*|\s+/);
for(var f=[],g=[],h=0;h<c.length;h+=2)b.Da(+c[h+1]||0,+c[h]||0),e&&(b=e(b,b)),f.push(b.x),g.push(b.y);return 1<f.length?{x:f,y:g}:{x:f[0]||0,y:g[0]||0}};d.vYc=function(c,e,f){var g=c.querySelector("based_near");if(g){var h=g.attributes;for(var k=0;k<h.length;++k){var l=h[k].name;l=l.substr(l.lastIndexOf(":")+1).toLowerCase();if("lat"===l)var m=h[k].value;else if("long"===l)var n=h[k].value}c=g.parentNode||c}else(m=c.querySelector("lat_long"))&&m.textContent?(m=m.textContent.trim().split(/,\s*|\s+/),
n=m[1],m=m[0]):(m=(m=c.querySelector("lat"))&&m.textContent,n=(n=c.querySelector("long"))&&n.textContent);return null!=m&&null!=n?(h=a6.gCa(c),b.Da(+n||0,+m||0),f&&(b=f(b,b)),new u4({id:e.L6(h),attributes:h,geometry:{x:b.x,y:b.y}})):null};return d}(),1,"eyJwYXJzZUVsZW1lbnRzIjoieWNjIiwicGFyc2VFbGVtZW50IjoiaHciLCJwYXJzZVNpbXBsZSI6Im1ZYyIsInBhcnNlR2VvbWV0cnkiOiJpcmEiLCJwYXJzZVczQyI6InZZYyJ9");var d6=/*#__PURE__*/function(){function d(a){J4.call(this,a)}D(d,J4);L(d,"geotoolkit.map.sources.formats.GeoRSS");d.prototype.parse=function(a){if("string"===typeof a&&(a=a6.parse(a),null==a))return this;var b=this.ua.Nk;a=c6.parse(a,this.ua.id,b.transform.bind(b));this.notify(N4.Ys,this,a);return this};return d}();var e6=/*#__PURE__*/function(){function d(a){a=G(a,{format:new d6});T4.call(this,a)}D(d,T4);L(d,"geotoolkit.map.sources.GeoRSS");return d}();var f6=/*#__PURE__*/function(){function d(a){a=G(a,{system:$3.fK,source:a&&a.sources||new e6});G5.call(this,a)}D(d,G5);L(d,"geotoolkit.map.layers.GeoRSS");return d}();var g6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(g,h){R4.call(this,g,h);this.ov=new hi;this.Cz=null;this.f5={scale:null,rect:null}}var a=new N,b=new U,c=new X,e=10,f=10;D(d,R4);L(d,"geotoolkit.map.sources.managers.Projection");d.prototype.query=function(g,h){var k=this.ua.node?this.ua.node.ga():null,l=this.ua.Xb;if(null==k||k.isEmpty()||null==l)return!1;var m=g.clone().bd(this.ua.bd*g.ca(),this.ua.bd*g.da()).intersect(l),n=h.wa();if(m.isEmpty()||null!=this.f5.rect&&this.f5.rect.zA(m)&&W.equals(this.f5.scale,n.lb()))return!1;
this.f5.rect=m;this.f5.scale=n.lb();null!=this.Cz&&clearTimeout(this.Cz);this.Cz=setTimeout(function(){this.Cz=null;var p,q=Infinity,r=-Infinity,t=Infinity,u=-Infinity,w=[],y=[];this.xKc(m,l,function(J,K){p=this.Mx(J,K);isNaN(p.getX())||isNaN(p.getY())||(q=Math.min(q,p.getX()),r=Math.max(r,p.getX()),t=Math.min(t,p.getY()),u=Math.max(u,p.getY()),w.push((J-m.getX())/m.ca()),y.push((K-m.getY())/m.da()))});q=Math.max(Math.floor(q),k.ka());r=Math.min(Math.ceil(r),k.na());t=Math.max(Math.floor(t),k.la());
u=Math.min(Math.ceil(u),k.ma());var z=0<n.Ab()?new U(q,t,r,u):new U(q,k.ma()-u,r,k.ma()-t),x=n.Ua(l),C=Math.ceil(z.ca()*x.ca()/k.ca()),A=Math.ceil(z.da()*x.da()/k.da());z.Qa(C*k.ca()/x.ca()).$a(A*k.da()/x.da());var v=new U(0,0,C,A);x=new ki(0,0,C,A);if(x=this.ov.rm(x,C,A,!1)){x.clear();X.Vd(z,v,!1,!1,!1,c);C=x.hr(c).uD(v);this.ua.node.render(C);x.tp();var B=[],E=[];v=this.Ua(b.cb(q,t,r,u));A=n.Ua(v,b);C=Math.ceil(A.ca());A=Math.ceil(A.da());for(var H=0;H<w.length;H++){var F=w[H],I=y[H];F=this.Pc(z.getX()+
F*z.ca(),k.da()-(z.getY()+I*z.da()));B.push((F.getX()-v.getX())*C/v.ca());E.push((F.getY()-v.getY())*A/v.da())}z=fH.hja(x.Sk(),{width:C,height:A,source:{x:B,y:E},destination:{x:w,y:y}});this.ov.release(x);this.notify(Bj.ak,this,{image:z,bounds:v})}else hb("geotoolkit.map.layers.Projection: Memory limit is too low. Use .getResourceManager().setMemoryLimit() to fix it")}.bind(this),this.ua.timeout);return!0};d.prototype.uO=function(){return this};d.prototype.KH=function(){return this.ov};d.prototype.Pc=
function(g,h){return this.ua.Nk.Ma(this.ua.tdc.Pc(g,h),a)};d.prototype.Mx=function(g,h){a.Da(g,h);this.ua.u1.Ma(a,a);this.ua.tdc.rd(a,a);return a};d.prototype.Ua=function(g){var h=Infinity,k=-Infinity,l=Infinity,m=-Infinity;this.xKc(g,this.ua.node.ga(),function(n,p){if(n===g.getX()||n===g.na()||p===g.la()||p===g.ma())n=this.Pc(n,p),isNaN(n.getX())||isNaN(n.getY())||(h=Math.min(h,n.getX()),l=Math.min(l,n.getY()),k=Math.max(k,n.getX()),m=Math.max(m,n.getY()))});return new U(h,l,k,m)};d.prototype.xKc=
function(g,h,k){var l=2<<Math.log2(e*h.ca()/g.ca()),m=2<<Math.log2(f*h.da()/g.da());l=h.ca()/l;m=h.da()/m;for(var n=Math.floor((g.getX()-h.getX())/l),p=Math.ceil((g.na()-h.getX())/l),q=Math.floor((g.getY()-h.getY())/m),r=Math.ceil((g.ma()-h.getY())/m);n<=p;n++)for(var t=W.clamp(h.getX()+n*l,g.getX(),g.na()),u=q;u<=r;u++){var w=W.clamp(h.getY()+u*m,g.getY(),g.ma());k.call(this,t,w)}};d.prototype.clear=function(){this.f5={scale:null,rect:null};return R4.prototype.clear.call(this)};d.prototype.abort=
function(){null!=this.Cz&&(clearTimeout(this.Cz),this.Cz=null);return R4.prototype.abort.call(this)};d.prototype.Fn=function(){return null!=this.Cz||R4.prototype.Fn.call(this)};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0Rm9ybWF0IjoidU8iLCJnZXRSZXNvdXJjZU1hbmFnZXIiOiJLSCIsImlzTG9hZGluZyI6IkZuIn19fSAg");var h6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{loader:null,projection:X.xk,node:null});L5.call(this,a);this.ua=this.ua||{};this.ua.tdc=a.projection;this.yyc=this.mXc.bind(this);this.FMa(a.node)}D(d,L5);L(d,"geotoolkit.map.sources.Projection");d.prototype.vO=function(a){this.li=new g6(a,this.ua);this.li.on(N4.ak,function(b,c,e){this.notify(N4.ak,this,e);this.fM(!0)}.bind(this));return this};d.prototype.FMa=function(a){if(this.ua.node===a)return this;null!=this.ua.node&&this.ua.node.Qz(this.yyc);this.ua.node=
a;null!=this.ua.node&&this.ua.node.Ax(this.yyc);this.mXc();return this};d.prototype.yAb=function(){return this.ua.node};d.prototype.KH=function(){return this.li.KH()};d.prototype.dispose=function(){this.e0c();this.FMa(null);L5.prototype.dispose.call(this)};d.prototype.mXc=function(){var a=this.ua.node?this.ua.node.ga():null;null==a||a.isEmpty()?(this.ua.La=null,this.ua.Xb=null):a.Gi(this.ua.La)||(this.ua.La=a,this.ua.Xb=this.li.Ua(a));this.update()};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0UXVlcnlNYW5hZ2VyIjoidk8iLCJzZXRDb250ZW50Tm9kZSI6IkZNYSIsImdldENvbnRlbnROb2RlIjoieUFiIiwiZ2V0UmVzb3VyY2VNYW5hZ2VyIjoiS0gifX19");var i6=/*#__PURE__*/function(){function d(a,b){this.uBc=a;g6.call(this,null,b)}D(d,g6);L(d,"geotoolkit.map.sources.managers.GeoTile");d.prototype.YWd=function(a){this.uBc.query(a);return this};d.prototype.beb=function(){return this.uBc};return d}();var j6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=a||{};if(null==a.loader||null==a.format)throw Error("GeoTile source needs GeoTile loader and GeoTile format");h6.call(this,a);this.ua.o1a=a.tiledshape;this.C8a=this.C8a||function(){var b=this,c=this.tJa().ua;this.notify(N4.jC,this,{epsg:c.eAd});this.ua.tdc=X.CQc(c.LYa.kd(),c.LYa.dg(),c.LYa.fg(),c.O$b[0],c.O$b[1],c.O$b[2]);null!=c.o1a&&(this.ua.o1a=G(c.o1a,this.ua.o1a));var e=G(this.ua.o1a,{modelarea:c.LYa.clone(),formatter:function(f){return f},imageloader:function(f,
g){f.callback=g;b.li.YWd(f)},loadertype:mo.Jsa});e=new Ao(e);c=(new ni).pa([e]).Ha(c.LYa.clone()).sa(c.LYa.clone());this.FMa(c)}.bind(this)}D(d,h6);L(d,"geotoolkit.map.sources.GeoTile");d.prototype.vO=function(a){this.li=new i6(a,this.ua);this.li.on(N4.ak,function(b,c,e){this.notify(N4.ak,this,e);this.fM(!0)}.bind(this));return this};d.prototype.clone=function(){var a=new d({loader:this.sy.clone(),format:this.li.beb().clone()});return Cb(this,a)};d.prototype.Ba=function(a,b){b=!0===b?xb:G;this.ua=
b(a.ua,this.ua);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0UXVlcnlNYW5hZ2VyIjoidk8iLCJjb3B5Q29uc3RydWN0b3IiOiJCYSJ9fX0g");var k6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{source:new h6(a)});m5.call(this,a);this.op=this.Ff=null}D(d,m5);L(d,"geotoolkit.map.layers.Projection");d.prototype.FMa=function(a){this.Qc().FMa(a);return this};d.prototype.yAb=function(){return this.Qc().yAb()};d.prototype.KH=function(){return this.Qc().KH()};d.prototype.Wu=function(a){if(this.Cc===a)return this;this.xaa||(this.xaa=function(b,c,e){this.op=this.op||new Fh;this.Ff=this.Ff||new Cj({image:this.op.Sk()});this.Ff.sa(e.bounds);this.op.setSize(e.image.width,
e.image.height);this.op.drawImage(e.image,0,0);this.ha()}.bind(this));null!=this.Cc&&(this.Cc.za(N4.ak,this.xaa),this.Cc.za(N4.OOa,this.xaa));this.Cc=a;null!=this.Cc&&(this.Cc.on(N4.ak,this.xaa),this.Cc.on(N4.OOa,this.xaa));return this};d.prototype.render=function(a){if(this.Ia()&&(null==this.ZG||this.ZG.filter(this,a)))if(a.fc())this.Ls()&&(a.ra(rf.zh),a.Bc(this.oa()));else{var b=this.wb(!0);this.Qc().query(b,this);this.uj(a)}};d.prototype.uj=function(a){null!=this.Ff&&this.Ff.render(a)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRDb250ZW50Tm9kZSI6IkZNYSIsImdldENvbnRlbnROb2RlIjoieUFiIiwiZ2V0UmVzb3VyY2VNYW5hZ2VyIjoiS0giLCJzZXREYXRhU291cmNlIjoiV3UiLCJyZW5kZXJDb250ZW50IjoidWoifX19");var l6=/*#__PURE__*/function(){function d(a){a=a||{};a.source=a.source||new j6(a);k6.call(this,a);this.Cc.on(N4.jC,function(b,c,e){b=oc(e.epsg,V3)?e.epsg:"number"!==typeof e.epsg||isNaN(+e.epsg)?new h4(e.epsg):d4.lg().uk(e.epsg);this.Bfc(b);this.ha()}.bind(this))}D(d,k6);L(d,"geotoolkit.map.layers.GeoTile");d.prototype.clone=function(){var a=new d({source:this.Cc.clone()});return Cb(this,a)};return d}();var m6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}var a=new N;L(d,"geotoolkit.map.util.GPX");d.parse=function(b,c,e){c||(c=new L4("name"));var f=[];b=b.querySelectorAll("wpt, rte, trk");for(var g=0;g<b.length;g++){var h=b[g],k=a6.gCa(h),l=c.L6(k);switch(h.tagName){case "wpt":f.push(new u4({id:l,attributes:k,geometry:d.G7(h,e).ia()}));break;case "rte":f.push(new E4({id:l,attributes:k,geometry:d.E7(h,e,"rtept")}));break;case "trk":h=h.querySelectorAll("trkseg");for(var m=[],n=0;n<h.length;n++)m.push(d.E7(h[n],e,"trkpt"));
f.push(new F4({id:l,attributes:k,geometry:m}))}}return f};d.G7=function(b,c){var e=+b.getAttribute("lon");b=+b.getAttribute("lat");a.Da(e,b);c&&(a=c(a,a));return a};d.E7=function(b,c,e){b=b.querySelectorAll(e);e=[];for(var f=[],g=0;g<b.length;g++){var h=d.G7(b[g],c);e.push(h.getX());f.push(h.getY())}return{x:e,y:f}};return d}(),1,"eyJwYXJzZVBvaW50IjoiRzciLCJwYXJzZUFycmF5IjoiRTcifSAg");var n6=/*#__PURE__*/function(){function d(a){J4.call(this,a)}D(d,J4);L(d,"geotoolkit.map.sources.formats.GPX");d.prototype.parse=function(a){if("string"===typeof a&&(a=a6.parse(a),null==a))return this;var b=this.ua.Nk;b=b.js()instanceof a4?null:b.transform.bind(b);a=m6.parse(a,this.ua.id,b);this.notify(N4.Ys,this,a);return this};return d}();var o6=/*#__PURE__*/function(){function d(a){a=G(a,{format:new n6});T4.call(this,a)}D(d,T4);L(d,"geotoolkit.map.sources.GPX");return d}();var pKa=/*#__PURE__*/function(){function d(a){a=G(a,{system:$3.fK,source:a&&a.sources||new o6});G5.call(this,a)}D(d,G5);L(d,"geotoolkit.map.layers.GPX");return d}();var p6=/*#__PURE__*/ta(/*#__PURE__*/{Kh:"Linear",dOb:"Quad",s2a:"Cubic",lnc:"Exp"},2,"eyJMaW5lYXIiOiJLaCIsIlF1YWQiOiJkT2IiLCJDdWJpYyI6InMyYSIsIkV4cCI6ImxuYyJ9"),q6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(f){f=G(f,{source:new T4,weight:null,radius:10,maxintensity:0,colorprovider:new Po({scale:Ko.PMb}),mode:d.sw.lnc},!0);y5.call(this,f);this.FFa=f.maxintensity;this.vab=f.weight;this.Be=f.mode;this.Ac=f.colorprovider;this.Fc=f.radius;this.oE=[];this.Pi=0;this.gna={};this.Kob=this.zB=null;this.XM=!1;this.mGb(this.Fc,this.Be);this.Li(new Em)}var a=800,b=100,c=new Ud,e=new U;D(d,y5);L(d,"geotoolkit.map.layers.Heatmap");d.sw=
p6;d.prototype.bI=function(f){if(this.Fc===f)return this;this.mGb(f,this.Be);this.Fc=f;this.ha();return this};d.prototype.Lx=function(){return this.Fc};d.prototype.T4c=function(f){if(this.FFa===f)return this;this.FFa=f;this.ha();return this};d.prototype.AHd=function(){return this.FFa||this.WEc()};d.prototype.setMode=function(f){if(this.Be===f)return this;this.mGb(this.Fc,f);this.Be=f;this.ha();return this};d.prototype.cq=function(){return this.Be};d.prototype.Ps=function(f){if(this.Ac===f)return this;
this.Ac=f;this.ha();return this};d.prototype.En=function(){return this.Ac};d.prototype.p8c=function(f){if(this.vab===f)return this;this.vab=f;this.ha();return this};d.prototype.jTc=function(){return this.vab};d.prototype.uj=function(f){if(f.fc()&&(f.ra(rf.zh),f.Bc(this.oa()),this.bAa()))return;this.fdc(f);this.rja(this.zB,f);this.bdc(f)};d.prototype.fdc=function(f){var g=f.Ea();g=g.lb();var h=!W.equals(this.Kob,g);if(null==this.zB||this.XM||this.aZa()&&h){this.Qc().ZLa(this.wb(),this);this.Kob=g;
this.XM=!1;this.zB=this.KB();this.gna={};if(g=this.ea.features.filter)this.zB=this.Zab(this.zB,g,f);this.zB=this.zB.toArray();"function"===typeof this.Fc&&this.mGb(Math.round(this.Fc()),this.Be)}};d.prototype.rja=function(f,g){var h=g.Ea();h.pl(c.setSize(1,1),c);g.fc()&&g.ra(rf.zh);var k=g.iO(),l=k.ka(),m=k.la(),n=k.ca(),p=k.da(),q=this.vab,r="function"===typeof q,t=this.oE,u=Math.floor(t.length/2),w=e.cb(g.eg()).bd(u*c.ca(),u*c.da()),y={};f.forEach(function(z){if(!z.j7()&&!z.NU()){var x=z.dza();
if(w.contains(x.x,x.y))if(g.fc())g.Sh(z),g.Bc(w);else{var C=h.Pc(x.x,x.y);x=Math.round(C.getX()*g.zt()-l);C=Math.round(C.getY()*g.zt()-m);z=r?q(z):z.getAttributes()[q]||1;for(var A=Math.min(2*u,n+u-x),v=Math.min(2*u,p+u-C),B=Math.max(u-C,0);B<v;B++)for(var E=Math.max(u-x,0),H=4*(E+x-u+(B+C-u)*n);E<A;E++,H+=4){var F=z*t[E][B];F&&(y[H]=y[H]?y[H]+F:F)}}}});this.gna=y};d.prototype.bdc=function(f){if(!f.fc()){var g=f.iO(),h=null;if("function"===typeof f.sL)var k=f.sL();else h=f.Ez(g.ca(),g.ca()),k=h.sL();
var l="function"===typeof this.FFa?this.FFa():this.FFa||this.WEc(),m=k.getImageData(g.getX(),g.getY(),g.ca(),g.da()),n;for(n in this.gna){var p=this.Ac.mb(this.gna[n]/l),q=+n;m.data[q]=p.Xj();m.data[q+1]=p.Wj();m.data[q+2]=p.Vj();m.data[q+3]=p.Ik()*this.AP}k.putImageData(m,g.getX(),g.getY());null!=h&&(f.Ih({LA:!0}),f.drawImage(h,g.getX(),g.getY()),f.xo())}};d.prototype.aZa=function(){return!this.bAa()};d.prototype.ha=function(f,g){this.XM=!0;return y5.prototype.ha.call(this,f,g)};d.prototype.WEc=
function(){if(0!==this.Pi)return this.Pi;var f=Infinity,g=-Infinity,h=Infinity,k=-Infinity,l=this.XM||null==this.zB?this.KB():this.zB;l.forEach(function(u){u.j7()||u.NU()||(u=u.dza(),f=Math.min(f,u.x),g=Math.max(g,u.x),h=Math.min(h,u.y),k=Math.max(k,u.y))});var m=this.vab,n="function"===typeof m,p=g>f?a/(g-f):1,q=k>h?a/(k-h):1,r=0,t={};l.forEach(function(u){if(!u.j7()&&!u.NU()){var w=u.dza(),y=Math.floor((w.x-f)*p);w=Math.floor((w.y-h)*q);y=w*a+y;t[y]=t[y]||0;t[y]+=n?m(u):u.getAttributes()[m]||1;
r=Math.max(r,t[y])}});return this.Pi=r};d.prototype.z7=function(f,g,h){this.Pi=0;y5.prototype.z7.call(this,f,g,h);f!==N4.Ys&&f!==N4.yS||this.ha()};d.prototype.mGb=function(f,g){if("function"!==typeof f){f>b&&(f=b);this.oE=[];for(var h=0,k=f*f,l,m=-f;m<=f;m++){for(var n=[],p=-f;p<=f;p++)l=m*m+p*p,l>k?l=0:g===d.sw.Kh?l=1-Math.sqrt(l)/f:g===d.sw.dOb?l=1-l/k:g===d.sw.s2a?(h=h||k*f,l=1-Math.pow(l,1.5)/h):(h=h||-k/4.5,l=Math.exp(l/h)),n.push(l);this.oE.push(n)}}};d.prototype.fR=function(f){return null};
d.prototype.fa=function(f){f=jc(f);if(null==f)return this;y5.prototype.fa.call(this,f);void 0!==f.weight&&this.p8c(f.weight);void 0!==f.radius&&this.bI(f.radius);void 0!==f.maxintensity&&this.T4c(f.maxintensity);void 0!==f.colorprovider&&this.Ps(f.colorprovider);void 0!==f.mode&&this.setMode(f.mode);return this};d.prototype.ia=function(){var f=y5.prototype.ia.call(this);f.weight=this.jTc();f.radius=this.Lx();f.maxintensity=this.FFa;f.colorprovider=this.En();f.mode=this.cq();return f};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRSYWRpdXMiOiJiSSIsImdldFJhZGl1cyI6Ikx4Iiwic2V0TWF4SW50ZW5zaXR5IjoiVDRjIiwiZ2V0TWF4SW50ZW5zaXR5IjoiQUhkIiwiZ2V0TW9kZSI6ImNxIiwic2V0Q29sb3JQcm92aWRlciI6IlBzIiwiZ2V0Q29sb3JQcm92aWRlciI6IkVuIiwic2V0V2VpZ2h0RmllbGQiOiJwOGMiLCJnZXRXZWlnaHRGaWVsZCI6ImpUYyIsInJlbmRlckNvbnRlbnQiOiJ1aiIsImludmFsaWRhdGUiOiJoYSIsIm9uRmVhdHVyZXNVcGRhdGVkIjoiejciLCJnZXRHZW9tZXRyeVRvVGV4dCI6ImZSIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var r6=/*#__PURE__*/function(){function d(){}function a(e,f,g){e.on(Bj.ak,function(){if(null!=f&&1!==f){var h=e.MB();e.setSize(f*h.width,f*h.height)}null!=g&&g()});return e}var b=new N,c={Point:[u4,D4],LineString:[E4,F4],"LinearRing, Polygon":[G4,H4]};L(d,"geotoolkit.map.util.KML");d.parse=function(e,f,g,h,k,l){l=l||[];switch(e.nodeName){case "Document":case "#document":var m=a6.hZ(e,"Style, StyleMap",!0);k=d.OFb(m,k,h);case "kml":case "Folder":e=a6.hZ(e,"Document, kml, Folder, Placemark",!0);for(m=0;m<e.length;++m)d.parse(e[m],
f,g,h,k,l);return l;case "Placemark":f=d.NUd(e,f,g);if(0===f.length)return l;break;default:return l}g=d.aM(e,"styleUrl");for(h=0;h<f.length;++h)g&&k&&k[g]&&k[g][f[h].Pa()]&&(f[h].Zu=k[g][f[h].Pa()]),l.push(f[h]);return l};d.OFb=function(e,f,g){if(0===e.length)return f;f=xb(f,{});for(var h=0;h<e.length;++h){var k;var l=e[h];var m=l.getAttribute("id")||"";if("StyleMap"===l.tagName){var n=l.querySelectorAll("Pair"),p=!1;for(k=0;k<n.length;++k)if("normal"===d.aM(n[k],"key")){var q;(q=d.aM(n[k],"styleUrl"))?
f["#"+m]=f[q]:(l=d.M6(n[k],"Style"),p=!0);break}if(!p)continue}k=p=n=null;l=l.querySelectorAll("IconStyle, LineStyle, PolyStyle");for(q=0;q<l.length;++q){var r=l[q];switch(r.tagName){case "IconStyle":var t=d.M6(r,"Icon");k=d.aM(t,"href");t=d.aM(r,"scale");break;case "LineStyle":var u=d.aM(r,"color");n=new Y({color:d.Rg(u)||"black",width:d.aM(r,"width")||1});break;case "PolyStyle":u=d.aM(r,"color"),p=new rf({color:d.Rg(u)})}}if(null!=k)l=new k5({shape:a(new Cj({url:k,alignment:O.Oa,sizeisindevicespace:!0,
ispointingup:!0,linestyle:null}),t,g)}),k={},k[u4.Pa()]=l,k[D4.Pa()]=l;else if(null!=n)l=new j5({shape:new Yn({linestyle:n})}),k={},k[E4.Pa()]=l,k[F4.Pa()]=l,null!=p&&(l=new l5({shape:new Um({linestyle:n,fillstyle:p})}),k[G4.Pa()]=l,k[H4.Pa()]=l);else continue;f["#"+m]=k}return f};d.M6=function(e,f){return a6.hZ(e,f,!1)};d.aM=function(e,f){return(e=d.M6(e,f))?e.textContent:null};d.Rg=function(e){if(null==e)return null;var f=(parseInt(e.substr(0,2),16)/256).toFixed(2),g=parseInt(e.substr(2,2),16),
h=parseInt(e.substr(4,2),16);e=parseInt(e.substr(6,2),16);return"rgba("+e+","+h+","+g+","+f+")"};d.NUd=function(e,f,g){if(null==e)return null;f=f instanceof L4?f.Gha():"name";f=d.aM(e,f);var h=a6.gCa(e);e=d.M6(e,"MultiGeometry")||e;var k=[],l;for(l in c)if(c.hasOwnProperty(l)){for(var m=a6.hZ(e,l,!0),n=[],p=0;p<m.length;++p)n.push(d.ira(m[p],g));0!==n.length&&k.push(new (c[l][Math.sign(n.length-1)])({id:f,attributes:h,geometry:1===n.length?n[0]:n}))}return k};d.ira=function(e,f){switch(e.nodeName){case "Point":return d.G7(e,
f);case "LineString":case "LinearRing":return d.E7(e,f);case "Polygon":var g=d.M6(e,"outerBoundaryIs");e=e.getElementsByTagName("innerBoundaryIs");g=d.E7(d.M6(g,"LinearRing"),f);if(0<e.length){var h=l4.YQ(g);g.clip=[h];for(h=0;h<e.length;++h){var k=d.M6(e[h],"LinearRing");g.clip.push(d.E7(k,f))}}return g}return null};d.G7=function(e,f){if(null==e)return null;e=(e=d.aM(e,"coordinates"))?e.split(","):[NaN,NaN];b.Da(+e[0],+e[1]);f&&(b=f(b,b));return{x:b.getX(),y:b.getY()}};d.E7=function(e,f){e=e&&d.aM(e,
"coordinates");if(null==e)return null;e=e.split(" ");for(var g=[],h=[],k=0;k<e.length;++k){var l=e[k].split(",");2>l.length||(b.Da(+l[0],+l[1]),f&&(b=f(b,b)),g.push(b.getX()),h.push(b.getY()))}return{x:g,y:h}};return d}();var s6=/*#__PURE__*/function(){function d(a){J4.call(this,a)}D(d,J4);L(d,"geotoolkit.map.sources.formats.KML");d.prototype.parse=function(a){if("string"===typeof a&&(a=a6.parse(a),null==a))return this;var b=this.ua.Nk,c=function(){this.notify(N4.Ys,this,null)}.bind(this);a=r6.parse(a,this.ua.id,b.transform.bind(b),c);this.notify(N4.Ys,this,a);return this};return d}();var t6=/*#__PURE__*/function(){function d(a){a=G(a,{format:new s6});T4.call(this,a)}D(d,T4);L(d,"geotoolkit.map.sources.KML");return d}();var u6=/*#__PURE__*/function(){function d(a){a=G(a,{source:a&&a.sources||new t6});G5.call(this,a)}D(d,G5);L(d,"geotoolkit.map.layers.KML");return d}();var v6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){m5.call(this,b);this.fi=new Bo({clipchild:!1});this.Tt=function(c,e){this.ha(c,e)}.bind(this);this.fi.rf(this);this.fi.Ax(this.Tt);this.fi.Ha(this.f5a.Jk());this.fi.sa(this.fi.oa());this.Li(new Em)}var a=new N;D(d,m5);L(d,"geotoolkit.map.layers.Shape");d.prototype.YT=function(){return this.fi.oa()};d.prototype.jM=function(b){m5.prototype.jM.call(this,b);if(b=this.AL())this.fi.Ha(b.Jk()),this.fi.sa(this.fi.oa());return this};d.prototype.Tw=function(b){return this.fi.Df(b)};
d.prototype.addShape=function(b){if(null==b)return this;Hg.getIterator(b).forEach(function(c){this.fi.pa(c);this.fi.P_a(c,!0)}.bind(this));this.fe||(this.ft=this.YT(),this.notify(ze.Jr,this,this.ft));this.ha();return this};d.prototype.uYd=function(b,c){if(null==b)return this;var e=!1;if(b instanceof Ee)b=[b];else if(!Array.isArray(b))if(b instanceof Hg)b=Hg.toArray(b);else throw Error("Wrong parameter type");var f=this.fi.ac();b.forEach(function(g){this.fi.removeChild(g);this.fi.P_a(g,!1);f!==this.fi.ac()&&
(this.notify(ze.ip,this,g),c&&"function"===typeof g.dispose&&g.dispose(),e=!0,f--)}.bind(this));e&&(this.fe||(this.ft=this.YT(),this.notify(ze.Jr,this,this.ft)),this.ha());return this};d.prototype.qvd=function(b){var c=this.fi.Df();this.fi.rh(b);this.notify(ze.ip,this,c);this.fe||(this.ft=this.YT(),this.notify(ze.Jr,this,this.ft));return this};d.prototype.uj=function(b){var c=b.wJ();b.Br(this.AP);this.fi.render(b);b.Br(c)};d.prototype.Ft=function(b,c){var e=b.wJ();b.Br(this.AP);this.fi.Fe(b,function(){b.Br(e);
c()})};d.prototype.Wu=function(){return this};d.prototype.Qba=function(){return this.ea.tooltip&&this.ea.tooltip.visible?this.ea.tooltip.formatter:null};d.prototype.gj=function(b,c){var e=this.AL();if(!e)return[];var f=this.wa();b=f.rd(b,a);e=e.Jk();b.getX()<e.getX()?b.x+=e.ca():b.getX()>e.na()&&(b.x-=e.ca());var g=this.oa();e=this.fi.ac();if(!e||!g||!g.contains(b))return[];c=(c||2)/f.lb();b=new U(b.x-c,b.y-c,b.x+c,b.y+c);c=[];for(f=0;f<e;++f)if(g=this.fi.gb(f),g.Ia()){var h=g.ga&&g.ga();Ag.j2(h,
g.ob(),b)&&c.push(g)}return c};d.prototype.xa=function(b,c){m5.prototype.xa.call(this,b,c);this.fi.xa(b,c);return this};d.prototype.dispose=function(){this.fi.Qz(this.Tt);this.fi.dispose();m5.prototype.dispose.call(this)};d.prototype.cpa=function(b,c){var e=this.fi;return b.filter(function(f){return 0<=e.dl(f)})};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjYWxjdWxhdGVEZWZhdWx0TW9kZWxMaW1pdHMiOiJZVCIsInNldE1hcENvb3JkaW5hdGVTeXN0ZW0iOiJqTSIsImdldFNoYXBlcyI6IlR3IiwicmVtb3ZlU2hhcGUiOiJ1WWQiLCJjbGVhclNoYXBlcyI6InF2ZCIsInJlbmRlckNvbnRlbnQiOiJ1aiIsInJlbmRlckNvbnRlbnRBc3luYyI6IkZ0Iiwic2V0RGF0YVNvdXJjZSI6Ild1IiwiZ2V0VG9vbHRpcEZvcm1hdHRlciI6IlFiYSIsImhpdFRlc3QiOiJnaiIsInVwZGF0ZVN0YXRlIjoieGEiLCJmaWx0ZXJUb29sdGlwSW5mbyI6ImNwYSJ9fX0g");var w6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){B4.call(this)}D(d,B4);L(d,"geotoolkit.map.sources.connectors.WebSocket");d.prototype.send=function(a,b,c){if(a){var e=new $a.WebSocket(a),f=b&&b.key;e.onerror=function(g){c(g)};e.onclose=function(g){this.oib(f,e);c(g)}.bind(this);e.onmessage=function(g){c(null,g.data)};this.wxb(f,e)}else c(Error(this.Pa()+": No url provided"))};d.prototype.nxa=function(a){a.close();return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJhYm9ydENvbm5lY3Rpb24iOiJueGEifX19");var x6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{connector:new z5({connector:new w6})});J4.call(this,a)}D(d,J4);L(d,"geotoolkit.map.sources.formats.Stream");d.prototype.parse=function(a){if("string"===typeof a)try{a=JSON.parse(a)}catch(f){return this.onError(f),this}var b=this.ua.Nk,c=this.ua.id.Gha(),e=a.attributes;a=a.geometry;if(null!=this.ua.j3){if(a)if(a=a[this.ua.j3.type[2]]||a,a=B5.ira(a,b),1<a.length)b=this.ua.j3.type[1];else if(1===a.length)b=this.ua.j3.type[0],a=a[0];else return this;else b=u4,a=
{x:NaN,y:NaN};c=new b({id:e[c],geometry:a,attributes:e});e=B5.uza(e,this.ua.j3);null!=e&&(c.Zu=e);this.notify(N4.Ys,this,[c])}return this};d.prototype.onError=function(a){a&&!a.wasClean&&J4.prototype.onError.call(this,a.reason)};d.prototype.zJ=function(a,b){return J4.prototype.zJ.call(this,a,b||this.ua.F8c)};d.prototype.query=function(a){null!=this.ua.hI&&(a.token=this.ua.hI);return J4.prototype.query.call(this,a)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRSZXF1ZXN0VXJsIjoiekoifX19");var y6=/*#__PURE__*/function(){function d(a){D5.call(this,a)}D(d,D5);L(d,"geotoolkit.map.sources.loaders.Stream");d.prototype.parse=function(a,b){"string"===typeof a&&(a=JSON.parse(a));this.ua.data=a;if(null!=a.error)throw B5.warn(a.error),Error("ArcGIS Stream server returned error!");var c=a.drawingInfo,e=a.spatialReference||a.sourceSpatialReference;this.ua.id=this.zad(a.fields,a.displayField);this.ua.Yv=this.WJc(a);this.ua.DNa=B5.scc(c.labelingInfo);this.ua.j3=B5.parse(a,this.ua.url,this.ua.DNa);this.ua.alpha=
0<c.transparency?(100-c.transparency)/100:1;this.KMa(a.extent,e);a=a.streamUrls;this.ua.F8c=[];c=this.ua.Nk.xJ().JB();for(e=0;e<a.length;++e){var f=a[e],g=null!=f.token?"token="+f.token+"&":"";f=f.urls;for(var h=0;h<f.length;++h)this.ua.F8c.push(f[h]+"/subscribe?"+g+"outSR="+c)}this.loaded(b)};return d}();var z6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{format:new x6,loader:new y6,token:null});T4.call(this,a);this.ua=this.ua||{};this.ua.hI=a.token}D(d,T4);L(d,"geotoolkit.map.sources.Stream");d.prototype.Zgb=function(){return this.vZa()};d.prototype.nEb=function(){return this.Eqa()};d.prototype.L0a=function(a){this.ua.hI=a;return this};d.prototype.vY=function(){return this.ua.hI};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJsb2FkU291cmNlRGF0YSI6IlpnYiIsImlzRGF0YVJlYWR5IjoibkViIiwic2V0VG9rZW4iOiJMMGEiLCJnZXRUb2tlbiI6InZZIn19fSAg");var A6=/*#__PURE__*/function(){function d(a){a=G(a,{source:a&&a.sources||new z6});if(null!=a.token){var b=Array.isArray(a.source)?1===a.source.length?a.source[0]:new U4(a.source):a.source;b.NQ("setToken",a.token);a.source=b}G5.call(this,a)}D(d,G5);L(d,"geotoolkit.map.layers.Stream");return d}();var B6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=xb(b,{source:b&&(b.source||b.sources)||new x5(b),converters:null,annotations:{strategy:null,visible:!0,filter:new b5({weight:null})}});G5.call(this,b)}function a(){}mc(a,X4);L(a,"geotoolkit.map.layers.VectorTile.MapboxAnnotation");a.prototype.fU=function(b,c,e){return new Jg(b,function(f){f=e.D1(f);return null!=f&&null!=f.xza()})};a.prototype.reset=function(){return this};D(d,G5);L(d,"geotoolkit.map.layers.VectorTile");d.prototype.setOptions=function(b){if(b&&b.annotations&&
b.annotations.hasOwnProperty("filter")){var c=b.annotations,e=[new a];c.filter=c.filter?e.concat(c.filter):e}return G5.prototype.setOptions.call(this,b)};d.prototype.Bra=function(b,c){!this.ea.annotations.visibleonzoom&&this.Qc().FDb()>this.Qc().ML()||G5.prototype.Bra.call(this,b,c)};d.prototype.KB=function(b){var c=this.getParent();if(!c)return Hg.zi([]);var e=null;b instanceof n5&&(e=b.$d(),b=b.getFilter());c=null!=e?e:c.oa();return this.Cc.zE(c,this.wa(),b)};d.prototype.Wu=function(b){if(this.Cc===
b)return this;this.wX||(this.wX=function(c,e,f){this.zB=null;this.ha(f)}.bind(this));null!=this.Cc&&this.Cc.za(N4.yM,this.wX);if(null!=b)b.on(N4.yM,this.wX);G5.prototype.Wu.call(this,b);return this};d.prototype.mBb=function(){return this.Qc().mBb()};d.prototype.wib=function(b,c,e,f){c.$j&&!0===c.$j.JTc||G5.prototype.wib.call(this,b,c,e,f)};d.prototype.D1=function(b){return b.Zu||G5.prototype.D1.call(this,b)};d.prototype.aZa=function(){var b=this.Qc();return G5.prototype.aZa.call(this)&&(b.FDb()===
b.ML()||b.XKa())};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJyZW5kZXJBbm5vdGF0aW9ucyI6IkJyYSIsImdldEZlYXR1cmVzIjoiS0IiLCJzZXREYXRhU291cmNlIjoiV3UiLCJnZXRGb250cyI6Im1CYiIsInJlbmRlckZlYXR1cmVXaXRoT3B0aW1pemF0aW9uIjoid2liIiwiZ2V0Q29tYmluZWRUZW1wbGF0ZSI6IkQxIiwiaXNDYWNoZUVuYWJsZWQiOiJhWmEifX19");var C6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=G(b,{format:"json",parser:new O4});var c=b.format,e=b.parser;b.format=null;b.parser=null;J4.call(this,b);this.Vg=c;this.Dw=e;this.Vrc=function(f,g,h){this.notify(N4.Ys,this,h)}.bind(this);this.Dw.on(N4.Ys,this.Vrc)}var a=new N;D(d,J4);L(d,"geotoolkit.map.sources.formats.WFS");d.prototype.pu=function(b){null!=b&&(this.ua=b,this.Dw.pu(b));return this};d.prototype.query=function(b){var c=this.ua.u1;c.Ma(a.Da(b.left,b.top),a);var e=a.getX(),f=a.getY();c.Ma(a.Da(b.right,
b.bottom),a);var g=a.getX(),h=a.getY();var k=this.ua.JNa;k=Array.isArray(k)?"typeNames=("+k.join(")(")+")":"1.1.0">=this.ua.version?"typeName="+k:"typeNames=("+k+")";c="1.1.0"<=this.ua.version&&4326===c.js().JB()?f+","+e+","+h+","+g:e+","+f+","+g+","+h;c="?service=WFS&request=GetFeature&outputFormat="+this.Vg+"&"+k+"&bbox="+c+"&version="+this.ua.version;this.im.send(this.zJ(c),{key:b.key},function(l,m){if(l)this.onError(l);else this.te()||this.Dw.parse(m)}.bind(this));return this};d.prototype.dispose=
function(){this.Dw.za(N4.Ys,this.Vrc);this.Dw.dispose();J4.prototype.dispose.call(this)};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRTZXR0aW5ncyI6InB1In19fSAg");var D6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e){o5.call(this,e)}function a(e,f){b=b||new N;e="number"===typeof e?[e,f]:e.textContent.split(" ");return b.Da(+e[0],+e[1])}var b,c;D(d,o5);L(d,"geotoolkit.map.sources.loaders.WFS");d.prototype.parse=function(e,f){if("string"===typeof e&&(e=a6.parse(e),null==e))return;this.ua.data=e;if(e.querySelector("ExceptionReport"))throw Error("Wrong GetCapabilities info!");c=c||new U;var g=null;e=this.EAd(e.querySelectorAll("FeatureTypeList > FeatureType"));for(var h=0;h<e.length;++h)g=
this.P7d(e[h],g);if(null!=g){e=this.ua.Nk.js();h=g.kd();var k=g.yf();e.transform(h.x,h.y,h);e.transform(k.x,k.y,k);this.ua.Xb=g.cb(h.x,h.y,k.x,k.y)}else this.ua.Xb=this.ua.Nk.js().Jk();this.loaded(f)};d.prototype.pY=function(){return this.ua.url?this.ua.url+"?service=WFS&version="+this.ua.version+"&request=GetCapabilities":null};d.prototype.P7d=function(e,f){var g=e.querySelector("DefaultSRS, DefaultCRS"),h=this.ua.Nk.xJ();g&&g.textContent&&(g=g.textContent.match(/\d+$/),null!=g&&h.JB()!==+g[0]&&
((h=d4.lg().uk(g[0]))?(this.ua.Nk.a8(h),this.ua.u1.fNa(h)):hb("WFS: coordinate system ("+g[0]+") is not supported, use geotoolkit.map.coordinatesystems.Registry to register it manually.")));if(h=e.querySelector("LatLongBoundingBox"))return e=a(+h.getAttribute("minx"),+h.getAttribute("miny")),f=f?f.cP(e.x,e.y):c.cb(e.x,e.y,e.x,e.y),e=a(+h.getAttribute("maxx"),+h.getAttribute("maxy")),f.cP(e.x,e.y),f;if(h=e.querySelector("WGS84BoundingBox")||e.querySelector("BoundingBox"))e=a(h.querySelector("LowerCorner")),
f=f?f.cP(e.x,e.y):c.cb(e.x,e.y,e.x,e.y),e=a(h.querySelector("UpperCorner")),f.cP(e.x,e.y);return f};d.prototype.EAd=function(e){for(var f=[],g=null,h=0;h<e.length;++h){var k=e[h].querySelector("Name");k&&(g=null===g?h:g,(Array.isArray(this.ua.JNa)&&0<=this.ua.JNa.indexOf(k.textContent)||this.ua.JNa===k.textContent)&&f.push(e[h]))}0===f.length&&null!==g&&(this.ua.JNa=e[g].querySelector("Name").textContent,f.push(e[g]));return f};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6InBZIn19fSAg");var E6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{format:new C6,loader:new D6});T4.call(this,a);this.ua=this.ua||{};this.ua.version=a.version||"1.1.0";this.ua.JNa=a.featureTypes||null}D(d,T4);L(d,"geotoolkit.map.sources.WFS");d.prototype.cgc=function(a){this.ua.JNa=a;return this};d.prototype.lNc=function(){return this.ua.JNa};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRGZWF0dXJlVHlwZXMiOiJjZ2MiLCJnZXRGZWF0dXJlVHlwZXMiOiJsTmMifX19");var F6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{source:a&&(a.source||a.sources)||new E6,templates:[],server:null},!0);G5.call(this,a);null!=a.featuretypes&&this.Cc.cgc(a.featuretypes)}D(d,G5);L(d,"geotoolkit.map.layers.WFS");d.prototype.ia=function(){var a=G5.prototype.ia.call(this);a.featuretypes=this.Cc instanceof E6?this.Cc.lNc():null;return a};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;null!=a.featuretypes&&this.Cc instanceof E6&&this.Cc.cgc(a.featuretypes);G5.prototype.fa.call(this,a);
return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var G6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){b=G(b,{connector:new r5});J4.call(this,b);this.qRa=new C4}function a(b){for(var c="&layers="+b[0],e=1;e<b.length;++e)c+=","+b[e];return c}D(d,J4);L(d,"geotoolkit.map.sources.formats.WMS");d.prototype.query=function(b){var c=b.left,e=b.right,f=b.top,g=b.bottom,h=b.width,k=b.height,l=this.ua.Nk.js().JB(),m=new Cj({lazyloading:!0,ax:(c+e)/2,ay:(f+g)/2,width:e-c,height:g-f,ispointingup:!0,alignment:O.Oa,crossorigin:"anonymous"});if(0===this.ua.UA.length)return this.notify(Bj.ak,
m,null),this;var n=a(this.ua.UA);h="?service=WMS&request=GetMap&version="+this.ua.version+n+"&styles=&crs=EPSG:"+l+"&bbox="+c+"%2C"+f+"%2C"+e+"%2C"+g+"&width="+h+"&height="+k+"&format="+this.ua.format+"&transparent="+this.ua.transparent;this.im.send(this.zJ(h),{dst:m,key:b.key},function(p,q){if(p)this.onError(p);else this.te()||(q.yc(O.Oa),q.Jb((c+e)/2,(f+g)/2),q.nu(!0),q.setSize(e-c,g-f),this.notify(Bj.ak,q,q.url))}.bind(this));return this};d.prototype.Hya=function(b){var c=W.clamp(Math.round(b.x),
0,b.width),e=W.clamp(Math.round(b.y),0,b.height),f=("1.0.0"===this.ua.version?"&wmtver=":"&version=")+this.ua.version,g="&request="+("1.0.0"===this.ua.version?"feature_info":"GetFeatureInfo");c=("1.3.0"===this.ua.version?"&i=":"&x=")+c;e=("1.3.0"===this.ua.version?"&j=":"&y=")+e;var h=this.ua.Nk.js().JB();h=("1.3.0"===this.ua.version?"&crs":"&srs")+"=epsg:"+h;f="?service=WMS"+f+g+"&query_layers="+b.layers+"&layers="+b.layers+"&info_format=application/json&bbox="+b.left+","+b.top+","+b.right+","+b.bottom+
"&width="+b.width+"&height="+b.height+c+e+h;this.qRa.send(this.zJ(f),{key:b.key},function(k,l){if(k)l=[];else try{"string"===typeof l&&(l=JSON.parse(l)),l=M4.parse(l)}catch(m){l=[]}this.notify(N4.jC,this,l)}.bind(this));return this};d.prototype.TT=function(b){this.qRa.abort(b);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGZWF0dXJlSW5mbyI6Ikh5YSIsImFib3J0R2VvbWV0cnlRdWVyaWVzIjoiVFQifX19");var H6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b){o5.call(this,b)}function a(b){return b.map(function(c){return'BoundingBox[CRS="EPSG:'+c+'"]'}).join(", ")}D(d,o5);L(d,"geotoolkit.map.sources.loaders.WMS");d.prototype.parse=function(b,c){if("string"===typeof b&&(b=a6.parse(b),null==b))return;this.ua.data=b;var e=b.querySelectorAll("GetMap > Format");this.u8d(e);e=b.querySelectorAll('Layer[queryable="1"] > Name');b=[];for(var f=0;f<e.length;++f){var g=e[f].firstChild?e[f].firstChild.nodeValue:null;if(null!=g)if(0===
this.ua.UA.length){this.ua.UA.push(g);b=[e[f].parentNode];break}else 0<=this.ua.UA.indexOf(g)&&b.push(e[f].parentNode)}e=this.ua.Nk.js();g=[e.JB()];f=null;g=a(g);for(var h="1.1.0"<this.ua.version&&4326===e.JB(),k=0;k<b.length;++k){var l=b[k].querySelector(g);if(null!=l){var m=+l.getAttribute(h?"miny":"minx"),n=+l.getAttribute(h?"minx":"miny"),p=+l.getAttribute(h?"maxy":"maxx");l=+l.getAttribute(h?"maxx":"maxy");f?(f.cP(m,n),f.cP(p,l)):f=new U(m,n,p,l)}}this.ua.Xb=null!=f?f.intersect(e.Jk()):e.Jk();
this.loaded(c)};d.prototype.pY=function(){return this.ua.url?this.ua.url+"?service=WMS&version="+this.ua.version+"&request=GetCapabilities":null};d.prototype.u8d=function(b){var c=this.ua.format;if(null!=c)for(var e=0;e<b.length;++e)if(b[e].firstChild&&b[e].firstChild.nodeValue===c)return this;if(0<b.length&&b[0].firstChild)this.ua.format=b[0].firstChild.nodeValue;else throw Error("No formats available");return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc1VybCI6InBZIn19fSAg");var I6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(b,c){K5.call(this,b,c);this.Uc=null;this.TM=[]}var a=new Ud;D(d,K5);L(d,"geotoolkit.map.sources.managers.WMS");d.prototype.Hya=function(b,c){var e=c.wa();e.pl(a.setSize(1,1),a);if(null!=this.Uc&&Math.abs(this.Uc.getX()-b.getX())<a.ca()&&Math.abs(this.Uc.getY()-b.getY())<a.da())return this.TM;this.TM=[];this.Uc=b;var f=this.ua.t1a||this.ua.UA;c=c.wb();var g=e.Ua(c).round();this.Vg.TT();this.Vg.Hya({x:e.r8(b.getX(),b.getY()),y:e.vda(b.getX(),b.getY()),left:c.ka(),right:c.na(),
top:c.la(),bottom:c.ma(),width:g.ca(),height:g.da(),layers:f.join(",")});return null};d.prototype.uO=function(){K5.prototype.uO.call(this);this.Vg.on(N4.jC,function(b,c,e){this.TM=e;this.notify(N4.jC,this,e)}.bind(this));return this};d.prototype.TT=function(){this.Vg.TT();return this};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRGZWF0dXJlSW5mbyI6Ikh5YSIsImluaXRGb3JtYXQiOiJ1TyJ9fX0g");var J6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=a||{};a=G(a,{format:new G6,loader:new H6,system:$3.fK});L5.call(this,a);this.ua=this.ua||{};this.ua.version=a.hasOwnProperty("version")?a.version:"1.3.0";this.ua.transparent=a.hasOwnProperty("transparent")?a.transparent:!0;this.ua.format=a.imageformat||null;this.ua.t1a=null}D(d,L5);L(d,"geotoolkit.map.sources.WMS");d.prototype.vO=function(a){this.li=new I6(a,this.ua);this.li.on(N4.ak,function(b,c,e){this.notify(N4.ak,this,e);this.fM(!0)}.bind(this));this.li.on(N4.jC,
function(b,c,e){this.notify(N4.jC,this,e)}.bind(this));return this};d.prototype.Z7=function(a){this.ua.format=a;return this};d.prototype.lba=function(){return this.ua.format};d.prototype.yZ=function(a){this.ua.transparent=a;return this};d.prototype.Sba=function(){return this.ua.transparent};d.prototype.zZ=function(a){this.ua.version=a;return this};d.prototype.Xm=function(){return this.ua.version};d.prototype.Hya=function(a,b){return this.Eqa()?this.li.Hya(a,b):[]};d.prototype.WIb=function(a){this.ua.t1a=
null==a?null:Array.isArray(a)?a:[a];return this};d.prototype.TT=function(){this.li.TT();return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0UXVlcnlNYW5hZ2VyIjoidk8iLCJzZXRJbWFnZUZvcm1hdCI6Ilo3IiwiZ2V0SW1hZ2VGb3JtYXQiOiJsYmEiLCJzZXRUcmFuc3BhcmVudCI6InlaIiwiZ2V0VHJhbnNwYXJlbnQiOiJTYmEiLCJzZXRWZXJzaW9uIjoieloiLCJnZXRWZXJzaW9uIjoiWG0iLCJnZXRGZWF0dXJlSW5mbyI6Ikh5YSIsInNldFRvb2x0aXBMYXllcnMiOiJXSWIiLCJhYm9ydEdlb21ldHJ5UXVlcmllcyI6IlRUIn19fSAg");var K6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=xb(a,{imageformat:null,layers:null,version:"1.3.0",transparent:!0,inflate:.2,timeout:50,tooltip:{formatter:new e5,visible:!1}},!0);var b=a.source||new J6(a);null!=a.imageformat&&b.Z7(a.imageformat);null!=a.layers&&b.bF(a.layers);a.source=b;O5.call(this,a);this.CBc=a.tooltip}D(d,O5);L(d,"geotoolkit.map.layers.WMS");d.prototype.Wu=function(a){if(this.Cc===a)return this;this.EGa||(this.EGa=function(b,c,e){this.notify(N4.jC,this,e)}.bind(this));null!=this.Cc&&this.Cc.za(N4.jC,
this.EGa);O5.prototype.Wu.call(this,a);if(null!=this.Cc)this.Cc.on(N4.jC,this.EGa);return this};d.prototype.Z7=function(a){this.Cc instanceof J6&&this.Cc.Z7(a);return this};d.prototype.lba=function(){return this.Cc instanceof J6?this.Cc.lba():null};d.prototype.yZ=function(a){this.Cc instanceof J6&&this.Cc.yZ(a);return this};d.prototype.Sba=function(){return this.Cc instanceof J6?this.Cc.Sba():null};d.prototype.zZ=function(a){this.Cc instanceof J6&&this.Cc.zZ(a);return this};d.prototype.Xm=function(){return this.Cc instanceof
J6?this.Cc.Xm():null};d.prototype.ia=function(){var a=O5.prototype.ia.call(this);a.format=this.lba();a.imageformat=a.format;a.version=this.Xm();a.inflate=this.Cc instanceof J6?this.Cc.hOc():null;a.transparent=this.Sba();a.timeout=this.Cc instanceof J6?this.Cc.TRc():null;a.layers=this.Cc instanceof J6?this.Cc.CJ():null;return a};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;this.Cc instanceof J6&&(void 0!==a.format&&(hb("geotoolkit.map.layers.WMS.setProperties parameter 'format' is deprecated since since 2021.1 (3.3) use 'imageformat' instead."),
a.imageformat=a.format),void 0!==a.imageformat&&this.Cc.Z7(a.imageformat),void 0!==a.layers&&this.Cc.bF(a.layers),void 0!==a.version&&this.Cc.zZ(a.version),void 0!==a.inflate&&this.Cc.b4c(a.inflate),void 0!==a.transparent&&this.Cc.yZ(a.transparent),void 0!==a.timeout&&this.Cc.S6c(a.timeout));O5.prototype.fa.call(this,a);return this};d.prototype.Qba=function(){return this.CBc.visible?this.CBc.formatter:null};d.prototype.cpa=function(a,b){return this.gj(b)};d.prototype.gj=function(a,b){b=this.AL();
if(!b)return[];b=b.Jk();var c=this.wa();a=c.rd(a);a.getX()<b.getX()?a.translate(b.ca(),0):a.getX()>b.na()&&a.translate(-b.ca(),0);return(b=this.oa())&&b.contains(a)?this.Cc.Hya(a,this):[]};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXREYXRhU291cmNlIjoiV3UiLCJzZXRJbWFnZUZvcm1hdCI6Ilo3IiwiZ2V0SW1hZ2VGb3JtYXQiOiJsYmEiLCJzZXRUcmFuc3BhcmVudCI6InlaIiwiZ2V0VHJhbnNwYXJlbnQiOiJTYmEiLCJzZXRWZXJzaW9uIjoieloiLCJnZXRWZXJzaW9uIjoiWG0iLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRUb29sdGlwRm9ybWF0dGVyIjoiUWJhIiwiZmlsdGVyVG9vbHRpcEluZm8iOiJjcGEiLCJoaXRUZXN0IjoiZ2oifX19");var L6=/*#__PURE__*/function(){function d(b){t5.call(this,b)}function a(b){for(var c="&layers="+b[0],e=1;e<b.length;++e)c+=","+b[e];return c}D(d,t5);L(d,"geotoolkit.map.sources.formats.WMSTile");d.prototype.query=function(b){var c=this.ua.u1.js(),e=c.Jk(),f=a(this.ua.UA),g=e.ca()/b.grid.ca(),h=e.da()/b.grid.da(),k=e.ka()+g*b.x,l=e.ma()-h*(b.y+1);g=e.ka()+g*(b.x+1);e=e.ma()-h*b.y;k="1.1.0"<this.ua.version&&4326===c.JB()?l+","+k+","+e+","+g:k+","+l+","+g+","+e;c="&crs=EPSG:"+c.JB()+"&srs=EPSG:"+c.JB();f="?service=WMS&request=GetMap&version="+
this.ua.version+f+"&styles="+c+"&bbox="+k+"&width="+this.ua.av+"&height="+this.ua.$u+"&format="+this.ua.format+"&transparent="+this.ua.transparent;this.im.send(this.zJ(f),{dst:b.dst,key:b.key,priority:b.priority},function(m,n){if(!this.te())if(m)this.onError(m);else this.notify(Bj.ak,n,n.url)}.bind(this));return this};return d}();var M6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=a||{};a=G(a,{format:new L6,loader:new H6,system:$3.VV});Q5.call(this,a);this.ua=this.ua||{};this.ua.version=a.hasOwnProperty("version")?a.version:"1.3.0";this.ua.transparent=a.hasOwnProperty("transparent")?a.transparent:!0;this.ua.format=a.imageformat||null;this.ua.UA=[];this.ua.layers=null}D(d,Q5);L(d,"geotoolkit.map.sources.WMSTile");d.prototype.Z7=function(a){this.ua.format=a;return this};d.prototype.lba=function(){return this.ua.format};d.prototype.yZ=function(a){this.ua.transparent=
a;return this};d.prototype.Sba=function(){return this.ua.transparent};d.prototype.zZ=function(a){this.ua.version=a;return this};d.prototype.Xm=function(){return this.ua.version};d.prototype.bF=function(a){this.ua.UA=null!=a?Array.isArray(a)?a:[a]:[];this.update();return this};d.prototype.b7=function(a){this.ua.UA=this.ua.UA.filter(function(b){return Array.isArray(a)?0>a.indexOf(b):b!==a});this.update();return this};d.prototype.CJ=function(){return this.ua.UA.slice()};d.prototype.nba=function(){return this.ua.layers};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRJbWFnZUZvcm1hdCI6Ilo3IiwiZ2V0SW1hZ2VGb3JtYXQiOiJsYmEiLCJzZXRUcmFuc3BhcmVudCI6InlaIiwiZ2V0VHJhbnNwYXJlbnQiOiJTYmEiLCJzZXRWZXJzaW9uIjoieloiLCJnZXRWZXJzaW9uIjoiWG0iLCJzaG93TGF5ZXJzIjoiYkYiLCJoaWRlTGF5ZXJzIjoiYjciLCJnZXRWaXNpYmxlTGF5ZXJzIjoiQ0oiLCJnZXRMYXllcnMiOiJuYmEifX19");var N6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{source:a&&a.sources||new M6});S5.call(this,a)}D(d,S5);L(d,"geotoolkit.map.layers.WMSTile");d.prototype.Z7=function(a){this.Qc()instanceof M6&&this.Qc().Z7(a);return this};d.prototype.lba=function(){return this.Qc()instanceof M6?this.Cc.lba():null};d.prototype.yZ=function(a){this.Qc()instanceof M6&&this.Qc().yZ(a);return this};d.prototype.Sba=function(){return this.Qc()instanceof M6?this.Qc().Sba():null};d.prototype.zZ=function(a){this.Qc()instanceof M6&&this.Qc().zZ(a);
return this};d.prototype.Xm=function(){return this.Qc()instanceof M6?this.Qc().Xm():null};d.prototype.nba=function(){return this.Qc()instanceof M6?this.Qc().nba():null};d.prototype.CJ=function(){return this.Qc()instanceof M6?this.Qc().CJ():null};d.prototype.bF=function(a){this.Qc()instanceof M6&&this.Qc().bF(a);return this};d.prototype.b7=function(a){this.Qc()instanceof M6&&this.Qc().b7(a);return this};d.prototype.ia=function(){var a=S5.prototype.ia.call(this);a.format=this.lba();a.version=this.Xm();
a.transparent=this.Sba();a.showlayers=this.CJ();return a};d.prototype.fa=function(a){a=jc(a);if(null==a)return this;S5.prototype.fa.call(this,a);return this};d.prototype.setOptions=function(a){null!=a.format&&this.Z7(a.format);null!=a.version&&this.zZ(a.version);null!=a.transparent&&this.yZ(a.transparent);null!=a.showlayers&&(this.b7(),this.bF(a.showlayers));return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRJbWFnZUZvcm1hdCI6Ilo3IiwiZ2V0SW1hZ2VGb3JtYXQiOiJsYmEiLCJzZXRUcmFuc3BhcmVudCI6InlaIiwiZ2V0VHJhbnNwYXJlbnQiOiJTYmEiLCJzZXRWZXJzaW9uIjoieloiLCJnZXRWZXJzaW9uIjoiWG0iLCJnZXRMYXllcnMiOiJuYmEiLCJnZXRWaXNpYmxlTGF5ZXJzIjoiQ0oiLCJzaG93TGF5ZXJzIjoiYkYiLCJoaWRlTGF5ZXJzIjoiYjciLCJnZXRQcm9wZXJ0aWVzIjoiaWEiLCJzZXRQcm9wZXJ0aWVzIjoiZmEifX19");var O6=/*#__PURE__*/function(){function d(a){B4.call(this);this.ja=a&&a.data||null}D(d,B4);L(d,"geotoolkit.map.sources.connectors.Stub");d.prototype.send=function(a,b,c){return c(null,this.ja)};d.prototype.abort=function(a){return this};return d}();var P6=/*#__PURE__*/function(){function d(){}var a=function(){function c(l,m,n){var p={},q=new Uint8Array(l,m,10);p.apa=String.fromCharCode.apply(null,q);if("CntZImage"!==p.apa.trim())throw Error("Unexpected file identifier string: "+p.apa);m+=10;var r=new DataView(l,m,24);p.ZIa=r.getInt32(0,!0);p.AY=r.getInt32(4,!0);p.height=r.getUint32(8,!0);p.width=r.getUint32(12,!0);p.pAa=r.getFloat64(16,!0);m+=24;if(!n)if(r=new DataView(l,m,16),p.mask={},p.mask.y7=r.getUint32(0,!0),p.mask.tca=r.getUint32(4,!0),p.mask.hG=
r.getUint32(8,!0),p.mask.maxValue=r.getFloat32(12,!0),m+=16,0<p.mask.hG){n=new Uint8Array(Math.ceil(p.width*p.height/8));r=new DataView(l,m,p.mask.hG);q=r.getInt16(0,!0);var t=2,u=0;do{if(0<q)for(;q--;)n[u++]=r.getUint8(t++);else{var w=r.getUint8(t++);for(q=-q;q--;)n[u++]=w}q=r.getInt16(t,!0);t+=2}while(t<p.mask.hG);if(-32768!==q||u<n.length)throw Error("Unexpected end of mask RLE encoding");p.mask.xVa=n;m+=p.mask.hG}else 0===(p.mask.hG|p.mask.y7|p.mask.maxValue)&&(p.mask.xVa=new Uint8Array(Math.ceil(p.width*
p.height/8)));r=new DataView(l,m,16);p.tj={};p.tj.y7=r.getUint32(0,!0);p.tj.tca=r.getUint32(4,!0);p.tj.hG=r.getUint32(8,!0);p.tj.maxValue=r.getFloat32(12,!0);m+=16;n=p.tj.tca;q=p.tj.y7;n+=0<p.width%n?1:0;q+=0<p.height%q?1:0;p.tj.J1b=[];for(u=t=0;u<q;u++)for(w=0;w<n;w++){var y=0;r=l.byteLength-m;r=new DataView(l,m,Math.min(10,r));var z={};p.tj.J1b[t++]=z;var x=r.getUint8(0);y++;z.encoding=x&63;if(3<z.encoding)throw Error("Invalid block encoding ("+z.encoding+")");if(2===z.encoding)m++;else{if(0!==
x&&2!==x){x>>=6;z.bPe=x;if(2===x)z.offset=r.getInt8(1),y++;else if(1===x)z.offset=r.getInt16(1,!0),y+=2;else if(0===x)z.offset=r.getFloat32(1,!0),y+=4;else throw Error("Invalid block offset type");if(1===z.encoding)if(x=r.getUint8(y),y++,z.I1b=x&63,x>>=6,z.YOe=x,2===x)z.uhb=r.getUint8(y),y++;else if(1===x)z.uhb=r.getUint16(y,!0),y+=2;else if(0===x)z.uhb=r.getUint32(y,!0),y+=4;else throw Error("Invalid valid pixel count type");}m+=y;if(3!==z.encoding)if(0===z.encoding){x=(p.tj.hG-1)/4;if(x!==Math.floor(x))throw Error("uncompressed block has invalid length");
r=new ArrayBuffer(4*x);y=new Uint8Array(r);y.set(new Uint8Array(l,m,4*x));r=new Float32Array(r);z.Gdc=r;m+=4*x}else 1===z.encoding&&(x=Math.ceil(z.uhb*z.I1b/8),r=Math.ceil(x/4),r=new ArrayBuffer(4*r),y=new Uint8Array(r),y.set(new Uint8Array(l,m,x)),z.qjc=new Uint32Array(r),m+=x)}}p.Xxa=m;return p}function e(l,m,n,p,q){var r=0,t=l.tj.tca,u=l.tj.y7,w=Math.floor(l.width/t),y=Math.floor(l.height/u),z=2*l.pAa,x=Number.MAX_VALUE;n=n||(l.mask?l.mask.xVa:null);var C;m=new m(l.width*l.height);q&&n&&(C=new Uint8Array(l.width*
l.height));for(var A=new Float32Array(w*y),v,B,E=0;E<=u;E++){var H=E!==u?y:l.height%u;if(0!==H)for(var F=0;F<=t;F++){var I=F!==t?w:l.width%t;if(0!==I){var J=E*l.width*y+F*w,K=l.width-I,M=l.tj.J1b[r],P=[],R=0,Q=0;2>M.encoding?(0===M.encoding?P=M.Gdc:(f(M.qjc,M.I1b,M.uhb,M.offset,z,A,l.tj.maxValue),P=A),R=0):Q=2===M.encoding?0:M.offset;if(n)for(B=0;B<H;B++){if(J&7){var V=n[J>>3];V<<=J&7}for(v=0;v<I;v++)J&7||(V=n[J>>3]),V&128?(C&&(C[J]=1),q=2>M.encoding?P[R++]:Q,x=x>q?q:x,m[J++]=q):(C&&(C[J]=0),m[J++]=
p),V<<=1;J+=K}else if(2>M.encoding)for(B=0;B<H;B++){for(v=0;v<I;v++)q=P[R++],x=x>q?q:x,m[J++]=q;J+=K}else for(x=x>Q?Q:x,B=0;B<H;B++){for(v=0;v<I;v++)m[J++]=Q;J+=K}if(1===M.encoding&&R!==M.uhb)throw Error("Block and Mask do not match");r++}}}return{iV:m,F2:C,minValue:x}}function f(l,m,n,p,q,r,t){var u=(1<<m)-1,w=0,y=0,z=Math.ceil((t-p)/q);var x=4*l.length-Math.ceil(m*n/8);l[l.length-1]<<=8*x;for(x=0;x<n;x++){if(0===y){var C=l[w++];y=32}if(y>=m){var A=C>>>y-m&u;y-=m}else y=m-y,A=(C&u)<<y&u,C=l[w++],
y=32-y,A+=C>>>y;r[x]=A<z?p+A*q:t}return r}function g(l){for(var m=l.tj.tca*l.tj.y7,n={},p=0;p<m;p++){var q=l.tj.J1b[p];0===q.encoding?n.fLe=!0:1===q.encoding?n[q.I1b]=!0:n[0]=!0}return Object.keys(n)}function h(l){return{apa:l.apa,ZIa:l.ZIa,AY:l.AY,height:l.height,width:l.width,pAa:l.pAa,Xxa:l.Xxa,mask:l.mask?{tca:l.mask.tca,y7:l.mask.y7,hG:l.mask.hG,maxValue:l.mask.maxValue}:null,tj:{tca:l.tj.tca,y7:l.tj.y7,hG:l.tj.hG,maxValue:l.tj.maxValue,r2:l.r2}}}var k={Ayd:-3.4027999387901484E38,decode:function(l,
m){m=m||{};var n=m.Fcb||null===m.Fcb;l=c(l,m.VYa||0,n);var p=null!==m.r2?m.r2:k.Ayd;n=e(l,m.MAa||Float32Array,m.Fcb,p,m.e_d);p={width:l.width,height:l.height,Xcc:n.iV,minValue:n.minValue,maxValue:l.tj.maxValue,r2:p};n.F2&&(p.mLa=n.F2);m.d_d&&l.mask&&(p.Fcb=l.mask.xVa?l.mask.xVa:null);m.o0c&&(p.uWa=h(l),m.aKe&&(p.uWa.CJe=g(l)));return p}};return k}(),b=function(){function c(g,h,k){this.jI=g;this.left=h;this.right=k}var e={m$c:function(g,h,k,l,m,n,p,q){var r=(1<<k)-1,t=0,u=0;var w=4*g.length-Math.ceil(k*
l/8);g[g.length-1]<<=8*w;if(m)for(w=0;w<l;w++){if(0===u){var y=g[t++];u=32}if(u>=k){var z=y>>>u-k&r;u-=k}else u=k-u,z=(y&r)<<u&r,y=g[t++],u=32-u,z+=y>>>u;h[w]=m[z]}else for(m=Math.ceil((q-n)/p),w=0;w<l;w++)0===u&&(y=g[t++],u=32),u>=k?(z=y>>>u-k&r,u-=k):(u=k-u,z=(y&r)<<u&r,y=g[t++],u=32-u,z+=y>>>u),h[w]=z<m?n+z*p:q},T7d:function(g,h,k,l,m,n){var p=(1<<h)-1,q=0;var r=0;var t=[];var u=4*g.length-Math.ceil(h*k/8);g[g.length-1]<<=8*u;for(var w=Math.ceil((n-l)/m),y=0;y<k;y++){if(0===r){var z=g[q++];r=32}r>=
h?(u=z>>>r-h&p,r-=h):(r=h-r,u=(z&p)<<r&p,z=g[q++],r=32-r,u+=z>>>r);t[y]=u<w?l+u*m:n}t.unshift(l);return t},n$c:function(g,h,k,l,m,n,p,q){var r=(1<<k)-1,t=0,u,w=0,y=0;if(m)for(u=0;u<l;u++){if(0===w){var z=g[t++];w=32;y=0}if(w>=k){var x=z>>>y&r;w-=k;y+=k}else{var C=k-w;x=z>>>y&r;z=g[t++];w=32-C;x|=(z&(1<<C)-1)<<k-C;y=C}h[u]=m[x]}else for(m=Math.ceil((q-n)/p),u=0;u<l;u++)0===w&&(z=g[t++],w=32,y=0),w>=k?(x=z>>>y&r,w-=k,y+=k):(C=k-w,x=z>>>y&r,z=g[t++],w=32-C,x|=(z&(1<<C)-1)<<k-C,y=C),h[u]=x<m?n+x*p:q;
return h},U7d:function(g,h,k,l,m,n){for(var p=(1<<h)-1,q=0,r,t=0,u,w=0,y,z=[],x=Math.ceil((n-l)/m),C=0;C<k;C++)0===t&&(y=g[q++],t=32,w=0),t>=h?(u=y>>>w&p,t-=h,w+=h):(r=h-t,u=y>>>w&p,y=g[q++],t=32-r,u|=(y&(1<<r)-1)<<h-r,w=r),z[C]=u<x?l+u*m:n;z.unshift(l);return z},aUd:function(g,h,k,l){var m=(1<<k)-1,n=0,p=0;var q=4*g.length-Math.ceil(k*l/8);g[g.length-1]<<=8*q;for(var r=0;r<l;r++){if(0===p){var t=g[n++];p=32}p>=k?(q=t>>>p-k&m,p-=k):(p=k-p,q=(t&m)<<p&m,t=g[n++],p=32-p,q+=t>>>p);h[r]=q}return h},bUd:function(g,
h,k,l){for(var m=(1<<k)-1,n=0,p=0,q=0,r,t,u,w=0;w<l;w++)0===p&&(t=g[n++],p=32,q=0),p>=k?(r=t>>>q&m,p-=k,q+=k):(u=k-p,r=t>>>q&m,t=g[n++],p=32-u,r|=(t&(1<<u)-1)<<k-u,q=u),h[w]=r;return h}},f={afd:12,Fvd:function(g){for(var h=65535,k=65535,l=g.length,m=Math.floor(l/2),n=0;m;){var p=359<=m?359:m;m-=p;do h+=g[n++]<<8,k+=h+=g[n++];while(--p);h=(h&65535)+(h>>>16);k=(k&65535)+(k>>>16)}l&1&&(k+=h+=g[n]<<8);h=(h&65535)+(h>>>16);k=(k&65535)+(k>>>16);return(k<<16|h)>>>0},lXd:function(g,h){var k=h.Db,l=new Uint8Array(g,
k,6),m={};m.apa=String.fromCharCode.apply(null,l);if(0!==m.apa.lastIndexOf("Lerc2",0))throw Error("Unexpected file identifier string (expect Lerc2): "+m.apa);k+=6;l=new DataView(g,k,8);var n=l.getInt32(0,!0);m.ZIa=n;k+=4;3<=n&&(m.yFc=l.getUint32(4,!0),k+=4);l=new DataView(g,k,12);m.height=l.getUint32(0,!0);m.width=l.getUint32(4,!0);k+=8;4<=n?(m.uca=l.getUint32(8,!0),k+=4):m.uca=1;l=new DataView(g,k,40);m.yAa=l.getUint32(0,!0);m.zbc=l.getInt32(4,!0);m.nIa=l.getInt32(8,!0);m.AY=l.getInt32(12,!0);m.pAa=
l.getFloat64(16,!0);m.blc=l.getFloat64(24,!0);m.nlb=l.getFloat64(32,!0);k+=40;h.xv=m;h.Db=k;if(3<=n&&(h=4<=n?52:48,g=this.Fvd(new Uint8Array(g,k-h,m.nIa-14)),g!==m.yFc))throw Error("Checksum failed.");return!0},Tud:function(g,h){var k=h.xv,l=this.tMc(k.AY),m=k.uca*this.IAb(k.AY),n=this.wZc(g,h.Db,l,m);g=this.wZc(g,h.Db+m,l,m);h.Db+=2*m;m=!0;for(h=0;h<k.uca;h++)if(n[h]!==g[h]){m=!1;break}k.bWc=n;k.xbc=g;return m},wZc:function(g,h,k,l){if(k===Uint8Array)g=new Uint8Array(g,h,l);else{var m=new ArrayBuffer(l),
n=new Uint8Array(m);n.set(new Uint8Array(g,h,l));g=new k(m)}return g},pXd:function(g,h){var k=h.Db,l=h.xv,m=l.width*l.height,n=l.yAa,p=new DataView(g,k,4);l={};l.hG=p.getUint32(0,!0);k+=4;if((0===n||m===n)&&0!==l.hG)throw Error("invalid mask");if(0===n)n=new Uint8Array(Math.ceil(m/8)),l.xVa=n,p=new Uint8Array(m),h.tj.F2=p,k+=l.hG;else if(0<l.hG){n=new Uint8Array(Math.ceil(m/8));p=new DataView(g,k,l.hG);g=p.getInt16(0,!0);var q=2,r=0;do{if(0<g)for(;g--;)n[r++]=p.getUint8(q++);else{var t=p.getUint8(q++);
for(g=-g;g--;)n[r++]=t}g=p.getInt16(q,!0);q+=2}while(q<l.hG);if(-32768!==g||r<n.length)throw Error("Unexpected end of mask RLE encoding");p=new Uint8Array(m);for(q=0;q<m;q++)q&7?(g=n[q>>3],g<<=q&7):g=n[q>>3],g&128&&(p[q]=1);h.tj.F2=p;l.xVa=n;k+=l.hG}h.Db=k;h.mask=l;return!0},hXd:function(g,h,k){var l=h.Db,m=h.xv,n=m.uca,p=m.width*m.height,q=m.AY;m=m.yAa*f.IAb(q)*n;q=h.tj.F2;if(k===Uint8Array)g=new Uint8Array(g,l,m);else{var r=new ArrayBuffer(m),t=new Uint8Array(r);t.set(new Uint8Array(g,l,m));g=new k(r)}if(g.length===
p*n)h.tj.iV=g;else if(h.tj.iV=new k(p*n),k=0,1<n)for(var u=0;u<n;u++)for(t=u*p,r=0;r<p;r++)q[r]&&(h.tj.iV[t+r]=g[k++]);else for(r=0;r<p;r++)q[r]&&(h.tj.iV[r]=g[k++]);l+=m;h.Db=l;return!0},nXd:function(g,h){var k=this.afd,l=new DataView(g,h.Db,16);h.Db+=16;var m=l.getInt32(0,!0);if(2>m)throw Error("unsupported Huffman version");m=l.getInt32(4,!0);var n=l.getInt32(8,!0);l=l.getInt32(12,!0);if(n>=l)return!1;var p=new Uint32Array(l-n);f.eIc(g,h,p);var q=[],r;for(r=n;r<l;r++){var t=r-(r<m?0:m);q[t]={first:p[r-
n],second:null}}r=g.byteLength-h.Db;p=Math.ceil(r/4);p=new ArrayBuffer(4*p);var u=new Uint8Array(p);u.set(new Uint8Array(g,h.Db,r));g=new Uint32Array(p);p=h=0;u=g[0];for(r=n;r<l;r++){t=r-(r<m?0:m);var w=q[t].first;0<w&&(q[t].second=u<<h>>>32-w,32-h>=w?(h+=w,32===h&&(h=0,p++,u=g[p])):(h+=w-32,p++,u=g[p],q[t].second|=u>>>32-h))}u=0;var y=new c;for(r=0;r<q.length;r++)void 0!==q[r]&&(u=Math.max(u,q[r].first));k=u>=k?k:u;var z=[],x;for(r=n;r<l;r++)if(t=r-(r<m?0:m),w=q[t].first,0<w)if(n=[w,t],w<=k){t=q[t].second<<
k-w;var C=1<<k-w;for(w=0;w<C;w++)z[t|w]=n}else for(t=q[t].second,C=y,--w;0<=w;w--)(x=t>>>w&1)?(C.right||(C.right=new c),C=C.right):(C.left||(C.left=new c),C=C.left),0!==w||C.jI||(C.jI=n[1]);return{syd:z,VSd:k,USd:u,VJb:y,qjc:g,B6d:p,vtd:h}},mXd:function(g,h,k){var l=h.xv,m=l.uca,n=h.xv.height,p=h.xv.width,q=p*n,r=this.nXd(g,h);g=r.syd;var t=r.VJb,u=r.qjc,w=r.B6d,y=r.vtd,z=r.VSd;r=r.USd;var x=0===h.xv.AY?128:0,C=h.tj.F2,A,v,B,E,H,F,I=0;0<y&&(w++,y=0);var J=u[w],K=1===h.Yzd,M=new k(q*m),P=M,R;for(R=
0;R<l.uca;R++){1<m&&(P=new k(M.buffer,q*R,q),I=0);if(h.xv.yAa===p*n)for(B=H=0;B<n;B++)for(E=0;E<p;E++,H++){var Q=0;var V=A=J<<y>>>32-z;32-y<z&&(V=A|=u[w+1]>>>64-y-z);if(g[V])Q=g[V][1],y+=g[V][0];else for(A=J<<y>>>32-r,32-y<r&&(A|=u[w+1]>>>64-y-r),V=t,F=0;F<r;F++)if(V=(v=A>>>r-F-1&1)?V.right:V.left,!V.left&&!V.right){Q=V.jI;y=y+F+1;break}32<=y&&(y-=32,w++,J=u[w]);Q-=x;K?(Q=0<E?Q+I:0<B?Q+P[H-p]:Q+I,Q&=255,I=P[H]=Q):P[H]=Q}else for(B=H=0;B<n;B++)for(E=0;E<p;E++,H++)if(C[H]){Q=0;V=A=J<<y>>>32-z;32-y<
z&&(V=A|=u[w+1]>>>64-y-z);if(g[V])Q=g[V][1],y+=g[V][0];else for(A=J<<y>>>32-r,32-y<r&&(A|=u[w+1]>>>64-y-r),V=t,F=0;F<r;F++)if(V=(v=A>>>r-F-1&1)?V.right:V.left,!V.left&&!V.right){Q=V.jI;y=y+F+1;break}32<=y&&(y-=32,w++,J=u[w]);Q-=x;K?(Q=0<E&&C[H-1]?Q+I:0<B&&C[H-p]?Q+P[H-p]:Q+I,Q&=255,I=P[H]=Q):P[H]=Q}h.Db=h.Db+4*(w+1)+(0<y?4:0)}h.tj.iV=M},eIc:function(g,h,k,l,m){var n=h.xv,p=n.ZIa,q=0,r=new DataView(g,h.Db,5),t=r.getUint8(0);q++;var u=t>>6;u=0===u?4:3-u;var w=0<(t&32);t&=31;if(1===u)u=r.getUint8(q),
q++;else if(2===u)u=r.getUint16(q,!0),q+=2;else if(4===u)u=r.getUint32(q,!0),q+=4;else throw Error("Invalid valid pixel count type");var y=2*n.pAa;m=1<n.uca?n.xbc[m]:n.nlb;if(w){h.counter.LRd++;w=r.getUint8(q);q++;n=Math.ceil((w-1)*t/8);var z=Math.ceil(n/4);z=new ArrayBuffer(4*z);var x=new Uint8Array(z);h.Db+=q;x.set(new Uint8Array(g,h.Db,n));q=new Uint32Array(z);h.Db+=n;for(r=0;w-1>>>r;)r++;n=Math.ceil(u*r/8);z=Math.ceil(n/4);z=new ArrayBuffer(4*z);x=new Uint8Array(z);x.set(new Uint8Array(g,h.Db,
n));g=new Uint32Array(z);h.Db+=n;h=3<=p?e.U7d(q,t,w-1,l,y,m):e.T7d(q,t,w-1,l,y,m);3<=p?e.n$c(g,k,r,u,h):e.m$c(g,k,r,u,h)}else h.counter.wtd++,r=t,h.Db+=q,0<r&&(n=Math.ceil(u*r/8),z=Math.ceil(n/4),z=new ArrayBuffer(4*z),x=new Uint8Array(z),x.set(new Uint8Array(g,h.Db,n)),g=new Uint32Array(z),h.Db+=n,3<=p?null==l?e.bUd(g,k,r,u):e.n$c(g,k,r,u,!1,l,y,m):null==l?e.aUd(g,k,r,u):e.m$c(g,k,r,u,!1,l,y,m))},xZc:function(g,h,k){var l=h.xv,m=l.width,n=l.height,p=l.zbc,q=l.AY,r=f.IAb(q),t=Math.ceil(m/p),u=Math.ceil(n/
p);h.tj.y7=u;h.tj.tca=t;h.tj.Db=0;var w,y=new k(p*p),z=n%p||p,x=m%p||p,C=l.uca,A,v=h.tj.F2,B=h.tj.iV;for(l=0;l<u;l++){var E=l!==u-1?p:z;for(w=0;w<t;w++){var H=w!==t-1?p:x;var F=l*m*p+w*p;var I=m-H;for(A=0;A<C;A++){1<C&&(B=new k(h.tj.iV.buffer,m*n*A*r,m*n));var J=g.byteLength-h.Db;var K=new DataView(g,h.Db,Math.min(10,J));var M={};J=0;var P=K.getUint8(0);J++;var R=P>>6&255;var Q=P>>2&15;if(Q!==(w*p>>3&15))throw Error("integrity issue");P&=3;if(3<P)throw h.Db+=J,Error("Invalid block encoding ("+P+")");
if(2===P)h.counter.constant++,h.Db+=J;else if(0===P){h.counter.J7d++;h.Db+=J;J=E*H*r;K=g.byteLength-h.Db;J=J<K?J:K;K=new ArrayBuffer(0===J%r?J:J+r-J%r);M=new Uint8Array(K);M.set(new Uint8Array(g,h.Db,J));R=new k(K);J=0;if(v)for(K=0;K<E;K++){for(M=0;M<H;M++)v[F]&&(B[F]=R[J++]),F++;F+=I}else for(K=0;K<E;K++){for(M=0;M<H;M++)B[F++]=R[J++];F+=I}h.Db+=J*r}else if(R=f.ODd(q,R),Q=f.yId(M,J,R,K),J+=f.IAb(R),3===P)if(h.Db+=J,h.counter.Tvd++,v)for(K=0;K<E;K++){for(M=0;M<H;M++)v[F]&&(B[F]=Q),F++;F+=I}else for(K=
0;K<E;K++){for(M=0;M<H;M++)B[F++]=Q;F+=I}else if(h.Db+=J,f.eIc(g,h,y,Q,A),J=0,v)for(K=0;K<E;K++){for(M=0;M<H;M++)v[F]&&(B[F]=y[J++]),F++;F+=I}else for(K=0;K<E;K++){for(M=0;M<H;M++)B[F++]=y[J++];F+=I}}}}},dBd:function(g){return{apa:g.xv.apa,ZIa:g.xv.ZIa,AY:g.xv.AY,height:g.xv.height,width:g.xv.width,yAa:g.xv.yAa,zbc:g.xv.zbc,nIa:g.xv.nIa,pAa:g.xv.pAa,MAa:f.fJd(g.xv.AY),Xxa:g.Xxa,mask:g.mask?{hG:g.mask.hG}:null,tj:{tca:g.tj.tca,y7:g.tj.y7,maxValue:g.xv.nlb,minValue:g.xv.blc,r2:g.r2}}},zGc:function(g){var h=
g.xv.nlb,k=g.xv.uca,l=g.xv.height*g.xv.width,m=l*k,n,p=g.tj.F2;if(p)if(1<k)for(m=0;m<k;m++){var q=m*l;for(n=0;n<l;n++)p[n]&&(g.tj.iV[q+n]=h)}else for(n=0;n<l;n++)p[n]&&(g.tj.iV[n]=h);else if(g.tj.iV.fill)g.tj.iV.fill(h);else for(n=0;n<m;n++)g.tj.iV[n]=h},tMc:function(g){switch(g){case 0:return Int8Array;case 1:return Uint8Array;case 2:return Int16Array;case 3:return Uint16Array;case 4:return Int32Array;case 5:return Uint32Array;case 6:return Float32Array;case 7:return Float64Array;default:return Float32Array}},
fJd:function(g){switch(g){case 0:return"S8";case 1:return"U8";case 2:return"S16";case 3:return"U16";case 4:return"S32";case 5:return"U32";case 6:return"F32";case 7:return"F64";default:return"F32"}},FQd:function(g,h){if(null==h)return!1;switch(g){case 0:return-128<=h&&127>=h;case 1:return 0<=h&&255>=h;case 2:return-32768<=h&&32767>=h;case 3:return 0<=h&&65536>=h;case 4:return-2147483648<=h&&2147483647>=h;case 5:return 0<=h&&4294967296>=h;case 6:return-3.4027999387901484E38<=h&&3.4027999387901484E38>=
h;case 7:return 4.9E-324<=h&&1.7976931348623157E308>=h;default:return!1}},IAb:function(g){switch(g){case 0:case 1:return 1;case 2:case 3:return 2;case 4:case 5:case 6:return 4;case 7:return 8;default:return g}},ODd:function(g,h){switch(g){case 2:case 4:return g-h;case 3:case 5:return g-2*h;case 6:return 0===h?g:1===h?2:1;case 7:return 0===h?g:g-2*h+1;default:return g}},yId:function(g,h,k,l){switch(k){case 0:return l.getInt8(h);case 1:return l.getUint8(h);case 2:return l.getInt16(h,!0);case 3:return l.getUint16(h,
!0);case 4:return l.getInt32(h,!0);case 5:return l.PMe(h,!0);case 6:return l.getFloat32(h,!0);case 7:return l.getFloat64(h,!0);default:throw Error("the decoder does not understand this pixel type");}}};return{decode:function(g,h){h=h||{};var k=h.r2,l={};l.Db=h.VYa||0;l.tj={};if(!f.lXd(g,l))return null;var m=l.xv,n=m.ZIa,p=f.tMc(m.AY);f.pXd(g,l);m.yAa===m.width*m.height||l.tj.F2||(l.tj.F2=h.mLa);var q=m.width*m.height;l.tj.iV=new p(q*m.uca);l.counter={fPe:0,J7d:0,LRd:0,wtd:0,constant:0,Tvd:0};if(0!==
m.yAa)if(m.nlb===m.blc)f.zGc(l);else if(4<=n&&f.Tud(g,l))f.zGc(l);else{var r=new DataView(g,l.Db,2),t=r.getUint8(0);l.Db++;if(t)f.hXd(g,l,p);else if(1<n&&1>=m.AY&&1E-5>Math.abs(m.pAa-.5)){r=r.getUint8(1);l.Db++;l.Yzd=r;if(2<r||4>n&&1<r)throw Error("Invalid Huffman flag "+r);r?f.mXd(g,l,p):f.xZc(g,l,p)}else f.xZc(g,l,p)}l.Xxa=l.Db;h.VYa?(g=l.xv.nIa+h.VYa-l.Db,1<=Math.abs(g)&&(l.Xxa=h.VYa+l.xv.nIa)):(g=l.xv.nIa-l.Db,1<=Math.abs(g)&&(l.Xxa=l.xv.nIa));g={width:m.width,height:m.height,Xcc:l.tj.iV,minValue:m.blc,
maxValue:m.nlb,rRe:m.yAa,yIc:m.uca,zIc:{bWc:m.bWc,xbc:m.xbc},mLa:l.tj.F2};if(l.tj.F2&&f.FQd(m.AY,k)){m=l.tj.F2;for(n=0;n<q;n++)m[n]||(g.Xcc[n]=k);g.r2=k}l.r2=k;h.o0c&&(g.uWa=f.dBd(l));return g}}}();d.decode=function(c,e){if(!W.iZa())throw Error("Big endian system is not supported.");e=e||{};var f=e.VYa||0,g=new Uint8Array(c,f,10);g=String.fromCharCode.apply(null,g);if("CntZImage"===g.trim()){var h=a;var k=1}else if("Lerc2"===g.substring(0,5))h=b,k=2;else throw Error("Unexpected file identifier string: "+
g);var l=0,m=c.byteLength-10;g=[];for(var n,p={width:0,height:0,tj:[],MAa:e.MAa,mask:null,Mq:[]};f<m;){var q=h.decode(c,{VYa:f,Fcb:r,mLa:n,e_d:0===l,d_d:0===l,o0c:!0,MAa:e.MAa||null,r2:e.r2||null});f=q.uWa.Xxa;if(0===l){var r=q.Fcb;n=q.mLa;p.width=q.width;p.height=q.height;p.yIc=q.yIc||1;p.MAa=q.MAa||q.uWa.MAa;p.mask=q.mLa}1<k&&q.uWa.mask&&0<q.uWa.mask.hG&&g.push(q.mLa);l++;p.tj.push(q.Xcc);p.Mq.push({minValue:q.minValue,maxValue:q.maxValue,r2:q.r2,zIc:q.zIc})}if(1<k&&1<g.length){r=p.width*p.height;
p.AJe=g;n=new Uint8Array(r);n.set(g[0]);for(e=1;e<g.length;e++)for(c=g[e],f=0;f<r;f++)n[f]&=c[f];p.mLa=n}return p};return d}();var Q6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=G(c,{connector:new C4});J4.call(this,c);this.wu=null}var a,b;D(d,J4);L(d,"geotoolkit.map.sources.formats.Lerc");d.prototype.query=function(c){var e=this.ua.url;if(!e)return this;var f=this.Lqd||1,g=e.endsWith("/")?"":"/";e=(e+g).endsWith("ImageServer/")?"exportImage":"export";var h=this.ua.Nk.js().JB();if(1<f){var k=f/c.width*(c.right-c.left);k=Math.round(this.ua.Xb.width/k)||1;var l=this.ua.Xb.width/k;f=f/c.height*(c.bottom-c.top);f=Math.round(this.ua.Xb.height/
f)||1;var m=this.ua.Xb.height/f;var n=Math.floor((c.left-this.ua.Xb.x)/l);var p=Math.ceil((c.right-this.ua.Xb.x)/l);var q=Math.floor((c.top-this.ua.Xb.y)/m);var r=Math.ceil((c.bottom-this.ua.Xb.y)/m);var t=this.ua.Xb.x+n*l;var u=this.ua.Xb.x+(p+1)*l;var w=this.ua.Xb.y+q*m;var y=this.ua.Xb.y+(r+1)*m;n=p-n+1;q=r-q+1;k=1/k;f=1/f;n="?bbox="+t+"%2C"+w+"%2C"+u+"%2C"+y+"&size="+n+"%2C"+q;g=g+e+n+"&transparent=true&imageSR="+h+"&bboxSR="+h+"&f=image&format=lerc&renderingRule=%7B%22rasterFunction%22%3A%22Resample%22%2C%22rasterFunctionArguments%22%3A%7B%22ResamplingType%22%3A10%2C%22InputCellSize%22%3A%7B%22x%22%3A"+
k+"%2C%22y%22%3A"+f+"%7D%7D%7D";this.im.send(this.zJ(g),{responseType:"arraybuffer",key:c.key},function(z,x){if(z)this.onError(z);else if(!this.te()){x=this.OUd(x,t,y,l,m);for(z=0;z<x.length;++z){var C=B5.uza(x[z].getAttributes(),this.ua.j3);null!=C&&(x[z].Zu=C)}this.notify(N4.Ys,this,x)}}.bind(this))}else t=c.left,u=c.right,w=c.top,y=c.bottom,n=c.width,q=c.height,n="?bbox="+t+"%2C"+w+"%2C"+u+"%2C"+y+"&size="+n+"%2C"+q,g=g+e+n+"&transparent=true&imageSR="+h+"&bboxSR="+h+"&f=image&format=lerc",this.im.send(this.zJ(g),
{responseType:"arraybuffer",key:c.key},function(z,x){if(z)this.onError(z);else this.te()||(z=this.CUd(x),z=new Cj({url:z,alignment:O.Oa,ax:(t+u)/2,ay:(w+y)/2,ispointingup:!0,width:u-t,height:w-y}),z.on(Bj.ak,this.tb()))}.bind(this));return this};d.prototype.OUd=function(c,e,f,g,h){var k=P6.decode(c);c=k.width;var l=k.height,m=k.tj;k=k.mask;var n=[];f-=h/2;for(var p=0,q=0;q<l;f-=h,q++)for(var r=e+g/2,t=0;t<c;r+=g,t++)k&&!k[p]||n.push(new u4({attributes:{Magnitude:m[0]&&m[0][p],Direction:m[1]&&m[1][p]},
geometry:{x:r,y:f}})),p++;return n};d.prototype.CUd=function(c){var e=P6.decode(c),f=e.width,g=e.height;c=e.tj;var h=e.mask;a=null!=a?a.setSize(f,g):new Fh(f,g,!0);var k=a.sL().getImageData(0,0,f,g),l=k.data,m;f*=g;g=c.length;if(1===g){g=e.Mq[0].minValue;e=e.Mq[0].maxValue;var n=255/(e-g);if(h)for(m=0;m<f;m++)h[m]?(e=this.mb((c[0][m]-g)*n),l[4*m]=e.Xj(),l[4*m+1]=e.Wj(),l[4*m+2]=e.Vj(),l[4*m+3]=e.Ik()):(l[4*m]=0,l[4*m+1]=0,l[4*m+2]=0,l[4*m+3]=0);else for(m=0;m<f;m++)e=this.mb((c[0][m]-g)*n),l[4*m]=
e.Xj(),l[4*m+1]=e.Wj(),l[4*m+2]=e.Vj(),l[4*m+3]=e.Ik()}else if(3<=g)if(g=Math.min.apply(null,e.Mq.map(function(p){return p.minValue})),e=Math.max.apply(null,e.Mq.map(function(p){return p.maxValue})),n=255/(e-g),h)for(m=0;m<f;m++)h[m]?(l[4*m]=(c[0][m]-g)*n,l[4*m+1]=(c[1][m]-g)*n,l[4*m+2]=(c[2][m]-g)*n,l[4*m+3]=255):(l[4*m]=0,l[4*m+1]=0,l[4*m+2]=0,l[4*m+3]=0);else for(m=0;m<f;m++)l[4*m]=(c[0][m]-g)*n,l[4*m+1]=(c[1][m]-g)*n,l[4*m+2]=(c[2][m]-g)*n,l[4*m+3]=255;a.sL().putImageData(k,0,0);return a.Sk().toDataURL()};
d.prototype.tb=function(){if(null==this.wu){var c=this;this.wu=function(e,f,g){f.za(Bj.ak,c.wu);c.notify(Bj.ak,f,g)}}return this.wu};d.prototype.mb=function(c){this.Lr=this.Lr||{};c=Math.round(c);if(!this.Lr[c]){var e=this.Ac||b;null==e&&(e=b=new Po({values:[0,1],colors:["black","white"]}));this.Lr[c]=e.mb(c/255)}return this.Lr[c]};d.prototype.rG=function(c,e){c=c.toLowerCase();"colorprovider"===c&&e instanceof Mo?this.Ac=e:"symboltilesize"===c?this.Lqd=e:J4.prototype.rG.call(this,c,e);return this};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRRdWVyeVBhcmFtZXRlciI6InJHIn19fSAg");var R6=/*#__PURE__*/function(){function d(a){a=G(a,{format:new Q6({symbolTileSize:50})});T4.call(this,a)}D(d,T4);L(d,"geotoolkit.map.sources.Lerc");return d}();var S6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){B4.call(this);this.im=a&&a.connector||new C4(a);this.wu=a&&a.callback||null}D(d,B4);L(d,"geotoolkit.map.sources.connectors.Proxy");d.prototype.send=function(a,b,c){var e=this;this.im.send(a,b,function(f,g){"function"===typeof e.wu&&(g=e.wu(f,g));c(f,g)})};d.prototype.abort=function(a){this.im.abort(a);return this};d.prototype.Fn=function(){return this.im.Fn()};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpc0xvYWRpbmciOiJGbiJ9fX0g");var T6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(){}function a(e,f){if(!e&&!f)return null;var g=Zd.ya().Xa("px"),h=Zd.ya().Xa("m");return new pm({minscale:0<e?h.convert(1/e,g):null,minscaleinclusive:!1,maxscale:0<f?h.convert(1/f,g):null,maxscaleinclusive:!1})}var b,c;L(d,"geotoolkit.map.util.WebMap");d.load=function(e,f){b=b||new C4;var g="string"===typeof f?b:new O6({data:f});return new Cg(function(h,k){g.send(f,null,function(l,m){if(!e.te())if(l)k(l);else{if("string"===typeof m)try{m=JSON.parse(m)}catch(p){k(p);return}var n=
d.parse(m);l=[];for(m=0;m<n.length;++m)e.jL(n[m]),l.push(n[m].load());Cg.all(l).then(function(){h(e,n)},function(){k()})}})})};d.q0d=function(e){c=e};d.parse=function(e){e=new Kg(e&&e.baseMap&&e.baseMap.baseMapLayers||[],e&&e.operationalLayers||[]);for(var f=[],g=[];e.wg();){var h=e.next(),k,l=h.hasOwnProperty("opacity")?h.opacity:1,m=h.hasOwnProperty("visibility")?h.visibility:!0,n=h.layerDefinition||{},p=h.layerType||h.type;switch(p){case "ArcGISImageServiceVectorLayer":var q=new G5({id:h.id,name:h.title,
visible:m,url:h.url,alpha:l,source:new R6({mode:P4.$Kb,loader:d.ODc(h,D5),format:new Q6({symbolTileSize:h.symbolTileSize})}),layerfilter:a(h.minScale,h.maxScale)});break;case "ArcGISImageServiceLayer":case "ArcGISMapServiceLayer":q=new P5({id:h.id,name:h.title,visible:m,url:h.url,alpha:l,layerfilter:a(h.minScale,h.maxScale)});null!=h.visibleLayers&&q.bF(h.visibleLayers);break;case "ArcGISTiledImageServiceLayer":case "ArcGISTiledMapServiceLayer":q=new S5({id:h.id,name:h.title,visible:m,loader:new R5,
url:h.url,alpha:l,formatterfunction:function(u,w,y){return"/tile/"+u+"/"+w+"/"+y},layerfilter:a(h.minScale,h.maxScale)});break;case "WebTiledLayer":q=new S5(d.yVd(h.templateUrl,h.subDomains,{id:h.id,name:h.title,visible:m,alpha:l,layerfilter:a(h.minScale,h.maxScale)}));break;case "WMS":q=new K6({id:h.id,name:h.title,visible:m,url:h.url,alpha:l,layers:h.visibleLayers||null,layerfilter:a(h.minScale,h.maxScale)});break;case "ArcGISFeatureLayer":null!=h.url?q=new H5({id:h.id,name:h.title,visible:m,source:new E5({loader:d.ODc(h,
D5)}),alpha:l,url:h.url,layerfilter:a(n.minScale,n.maxScale)}):k="ArcGISFeatureLayer with featureCollection are not supported!!!";break;case "KML":q=new u6({id:h.id,name:h.title,visible:m,system:$3.fK,alpha:l,url:h.url,layerfilter:a(h.minScale,h.maxScale)});break;case "OpenStreetMap":q=new S5({id:h.id,name:h.title,visible:m,url:"//{a-c}.tile.openstreetmap.org/",formatterfunction:function(u,w,y){return u+"/"+y+"/"+w+".png"},layerfilter:a(h.minScale,h.maxScale)});break;case "CSV":q=h.locationInfo;q=
new Z5({id:h.id,name:h.title,visible:m,delimiter:h.columnDelimiter,alpha:l,annotations:{visible:h.showLabels||!1},source:new Y5({idfield:n.objectIdField,latitudefield:q&&q.latitudeFieldName,longitudefield:q&&q.longitudeFieldName,url:h.url,loader:new D5({connector:new O6({data:n})})})});break;case "ArcGISStreamLayer":q=new A6({id:h.id,name:h.title,visible:m,url:h.url,alpha:l,layerfilter:a(n.minScale,n.maxScale)});break;case "GeoRSS":n=B5.mra(h.pointSymbol);q=B5.mra(h.lineSymbol);p=B5.mra(h.polygonSymbol);
var r=[];null!=n&&(r.push({featureclassname:u4.Pa(),template:n}),r.push({featureclassname:D4.Pa(),template:n}));null!=q&&(r.push({featureclassname:E4.Pa(),template:q}),r.push({featureclassname:F4.Pa(),template:q}));null!=p&&(r.push({featureclassname:G4.Pa(),template:p}),r.push({featureclassname:H4.Pa(),template:p}));q=new f6({id:h.id,name:h.title,visible:m,url:h.url,alpha:l,templates:r,layerfilter:a(h.minScale,h.maxScale)});break;case "BingMapsAerial":case "BingMapsRoad":case "BingMapsHybrid":null==
c?k="Bing Maps API key is not set. Use "+d.Pa()+".setBingMapsKey() to support Bing layers in Webmap.":(n={BingMapsAerial:U3.ilc,BingMapsRoad:U3.Tpc,BingMapsHybrid:U3.LKb},q=new W5({id:h.id,name:h.title,visible:m,imagerySet:n[p],alpha:l,key:c,layerfilter:a(h.minScale,h.maxScale)}));break;case "VectorTileLayer":q=new B6({id:h.id,name:h.title,visible:m,source:new x5({styleUrl:h.styleUrl}),alpha:l,annotations:{visible:!0,filter:new b5},layerfilter:a(h.minScale,h.maxScale)});if(null==h.styleUrl)k="VectorTile layer hasn't styleUrl property.";
else if("string"===typeof h.styleUrl)b.send(h.styleUrl,null,function(u,w){u?hb(u):(t=q5.kYc(w),null!=t&&this.d8(d.eYc(t,h.styleUrl)))}.bind(q));else if("object"===typeof h.styleUrl){var t=q5.kYc(h.styleUrl);null!=t&&q.d8(d.eYc(t,h.styleUrl))}else k="VectorTile layer has wrong styleUrl property.";break;case "WFS":if(q=h.wfsInfo||{},p=n.drawingInfo||{},p=B5.scc(p.labelingInfo),n=B5.parse(n,h.url,p),q=new F6({id:h.id,name:h.title,visible:m,alpha:l,url:h.url,featureTypes:q.name,layerfilter:a(h.minScale,
h.maxScale)}),n&&n.nG)q.Qc().on(N4.Ys,function(u,w,y){for(u=0;u<y.length;u++)y[u].Zu=B5.uza(y[u].getAttributes(),this)}.bind(n))}null==q?(k||(k=h.layerType+" layer type is not supported!!!"),hb(k)):(h.isReference?g.push(q):f.push(q),null!=h.customParameters&&q.Qc().rG(h.customParameters))}return f.concat(g)};d.yVd=function(e,f,g){var h=[e.indexOf("{level}"),e.indexOf("{col}"),e.indexOf("{row}")].filter(function(m){return-1!==m});if(0===h.length)return g;h=Math.min.apply(null,h);var k=e.substr(0,h),
l=e.substr(h);g.formatterfunction=function(m,n,p){return l.replace("{level}",m).replace("{col}",p).replace("{row}",n)};g.url=Array.isArray(f)?f.map(function(m){return k.replace("{subDomain}",m)}):[k];return g};d.eYc=function(e,f){if(e.startsWith("http")||e.startsWith("//"))return e;f=f.split("/");e=e.split("/");var g=f[f.length-1];(!g||0<=g.indexOf("."))&&f.pop();for(g=0;g<e.length;g++)".."===e[g]?f.pop():""!==e[g]&&"."!==e[g]&&f.push(e[g]);return f.join("/")};d.ODc=function(e,f){if(!e||!e.layerDefinition||
!e.layerDefinition.drawingInfo)return new f;var g=e.layerDefinition.drawingInfo;return new f({connector:new S6({callback:function(h,k){if(h||!k)return k;if("string"===typeof k)try{k=JSON.parse(k)}catch(l){return k}null!=g&&(k.drawingInfo=g);return k}})})};return d}(),2,"eyJzZXRCaW5nTWFwc0tleSI6InEwZCJ9");var U6=/*#__PURE__*/ta(/*#__PURE__*/{Sphere:"Sphere",Qed:"Flat"},2,"eyJGbGF0IjoiUWVkIn0g");var V6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(k){k=G(k,{unit:"km",system:$3.VV});QT.call(this,k);this.Yd=Zd.ya().Xa(k.unit);this.Jw=d4.lg().uk(k.system);this.$la=null}function a(k,l){var m=6378137,n=1/298.257223563,p=n*(2-n);m*=1-n;n=(-1/3+(-31/180-59/560*p)*p)*p;for(var q=(17/360+61/1260*p)*p*p,r=-383/45360*p*p*p,t=k.length,u=0,w,y=0,z=0,x=0,C=w=0;C<t;C++){var A=W.degToRad(k[C]),v=W.degToRad(l[C]);A+=n*Math.sin(2*A)+q*Math.sin(4*A)+r*Math.sin(6*A);if(0<C){var B=b(y,z,A,v);1===C?u=B:(w=.5-(w-B)/2/Math.PI,x+=w-Math.round(w));
w=b(A,v,y,z)}y=A;z=v}w=.5-(w-u)/2/Math.PI;x+=w-Math.round(w);return 2*Math.PI*(1-Math.abs(x))*m*m*(1+(2/3+(.6+4/7*p)*p)*p)}function b(k,l,m,n){var p=Math.cos(m),q=p*Math.cos(n);n=p*Math.sin(n);m=Math.sin(m);p=Math.cos(l);var r=Math.sin(l);l=q*p+n*r;q=-q*r+n*p;k=-m*Math.cos(k)+l*Math.sin(k);return Math.PI-Math.atan2(q,k)}function c(k,l,m){k+=Math.floor((l-k)/m)*m;m=k+m;return l-k>m-l?m:k}var e=new N,f=new N,g=6371E3,h=Zd.ya().Xa("m");D(d,QT);L(d,"geotoolkit.map.tools.editors.FlatArea");d.prototype.e1=
function(k,l,m,n){var p=this.Jw.Jk();k=p.ka()+(k-p.ka()+3*p.ca())%p.ca();m=p.ka()+(m-p.ka()+3*p.ca())%p.ca();this.Jw.sc(k,l,e);this.Jw.sc(m,n,f);k=W.degToRad(e.getY());l=W.degToRad(f.getY());m=W.degToRad(e.getX());n=W.degToRad(f.getX());m=(n-m)/2;n=(l-k)/2;n=Math.sin(n);m=Math.sin(m);k=n*n+Math.cos(k)*Math.cos(l)*m*m;k=2*g*Math.atan2(Math.sqrt(k),Math.sqrt(1-k));return h.convert(k,this.Yd)};d.prototype.xoa=function(k,l){k=k||this.be();l=l||this.He();var m=k.length;if(3>m)return null;var n,p=[],q=
this.uY().Jk();for(n=0;n<m;n++){var r=q.ka()+(k[n]-q.ka()+3*q.ca())%q.ca();p.push(new ph.Vsa(r,l[n]))}p=ph.FLb.C8c(p,ph.jj.nD);for(n=k=0;n<p.length;n++){l=p[n];m=[];q=[];for(r=0;r<l.length;r++)this.Jw.sc(l[r].Aa,l[r].Ca,e),q.push(e.x),m.push(e.y);m.push(m[0]);q.push(q[0]);l=a(m,q);if(0>l)return this.ub().ra(null),null;k+=l}k=h.convert(k,this.Yd);k=h.convert(k,this.Yd);this.ub().ra(this.$la);return k};d.prototype.push=function(k){var l=this.be(),m=this.Jw.Jk();switch(k.Oh()){case jT.xS:var n=this.getSize();
k.getPoint().setX(c(k.getX(),l[n-1],m.ca()));break;case jT.Sda:n=k.getIndex();var p=l[n];l=p+k.cf();m=c(l,p,m.ca());m!==l&&k.merge(new vT(m-l,0,n))}return QT.prototype.push.call(this,k)};d.prototype.vG=function(k){var l=this.getSize();this.Kx().clear();if(0<l&&null!=k&&!this.Pd()&&null==this.lO(k)&&0>=this.Mu(k)){var m=this.ob(),n=this.intersect(k);if(null!=n)l=m.Pc(n.x,n.y),this.Jx().Jb(l),this.Al().pa(this.Jx());else if(this.Al().removeChild(this.Jx()),0!==(this.yp()&kT.tS)){n=this.be();var p=this.He(),
q=this.Jw.Jk(),r=m.Pc(n[0],p[0]);k=this.Sd(this.mc(),k);q=c(k.x,n[l-1],q.ca());this.Kx().moveTo(r.getX(),r.getY()).lineTo(q,k.getY());1<l&&(l=m.Pc(n[l-1],p[l-1]),this.Kx().moveTo(l.getX(),l.getY()).lineTo(q,k.getY()))}}else this.Al().removeChild(this.Jx());this.Kx().ha()};d.prototype.intersect=function(k){var l=k.he(),m=this.wa(),n=this.Jw.Jk();m=m.Ua(n);n=QT.prototype.intersect.call(this,k);null==n&&(l.translate(m.ca(),0),n=QT.prototype.intersect.call(this,k),l.translate(-m.ca(),0));null==n&&(l.translate(-m.ca(),
0),n=QT.prototype.intersect.call(this,k),l.translate(m.ca(),0));return n};d.prototype.fa=function(k){k=jc(k);if(null==k)return this;QT.prototype.fa.call(this,k);this.$la=this.ub().eb();void 0!==k.unit&&(this.Yd=Zd.ya().Xa(k.unit));void 0!==k.system&&(this.Jw=d4.lg().uk(k.system));return this};d.prototype.ia=function(){var k=QT.prototype.ia.call(this);k.unit=this.Yd;k.system=this.Jw;return k};d.prototype.format=function(k){return QT.prototype.format.call(this,k)+" "+this.Yd.cd()+"<sup>2</sup>"};d.prototype.uY=
function(){return this.Jw};d.prototype.Xa=function(){return this.Yd};d.prototype.Im=function(k){this.Yd=Zd.ya().Xa(k);return this.update()};d.prototype.eb=function(){return this.$la};d.prototype.ra=function(k){this.Ae=k;return this.update()};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjYWxjdWxhdGVEaXN0YW5jZSI6ImUxIiwiY2FsY3VsYXRlQXJlYSI6InhvYSIsInVwZGF0ZVByZXZpZXciOiJ2RyIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSIsImdldFN5c3RlbSI6InVZIiwiZ2V0VW5pdCI6IlhhIiwic2V0VW5pdCI6IkltIiwiZ2V0RmlsbFN0eWxlIjoiZWIiLCJzZXRGaWxsU3R5bGUiOiJyYSJ9fX0g");var W6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(g){g=G(g,{unit:"km",system:$3.VV});TT.call(this,g);this.Yd=Zd.ya().Xa(g.unit);this.Jw=d4.lg().uk(g.system)}function a(g,h,k){g+=Math.floor((h-g)/k)*k;k=g+k;return h-g>k-h?k:g}var b=new N,c=new N,e=6371E3,f=Zd.ya().Xa("m");D(d,TT);L(d,"geotoolkit.map.tools.editors.FlatDistance");d.prototype.e1=function(g,h,k,l){var m=this.Jw.Jk();g=m.ka()+(g-m.ka()+3*m.ca())%m.ca();k=m.ka()+(k-m.ka()+3*m.ca())%m.ca();this.Jw.sc(g,h,b);this.Jw.sc(k,l,c);g=W.degToRad(b.getY());h=W.degToRad(c.getY());
k=W.degToRad(b.getX());l=W.degToRad(c.getX());k=(l-k)/2;l=(h-g)/2;l=Math.sin(l);k=Math.sin(k);g=l*l+Math.cos(g)*Math.cos(h)*k*k;g=2*e*Math.atan2(Math.sqrt(g),Math.sqrt(1-g));return f.convert(g,this.Yd)};d.prototype.push=function(g){var h=this.be(),k=this.Jw.Jk();switch(g.Oh()){case jT.xS:var l=this.getSize();g.getPoint().setX(a(g.getX(),h[l-1],k.ca()));break;case jT.Sda:l=g.getIndex();var m=h[l],n=this.He()[l];h=m+g.cf();n+=g.Pe();m=a(h,m,k.ca());k=W.clamp(n,k.la(),k.ma());m===h&&k===n||g.merge(new vT(m-
h,k-n,l))}return TT.prototype.push.call(this,g)};d.prototype.vG=function(g){var h=this.be(),k=this.He(),l=this.getSize();this.Kx().clear();if(0<l&&null!=g&&!this.Pd()&&null==this.lO(g)&&0>=this.Mu(g)){var m=this.ob(),n=this.intersect(g);null!=n?(l=n.index,g=1<l?this.G4[l-2]:0,g+=this.e1(h[l-1],k[l-1],n.x,n.y),g=this.format(g),m=m.Pc(n.x,n.y),h=QT.Exa(this,h[l-1],k[l-1],n.x,n.y,h[l],k[l]),this.Jy().Eb(g).Jb(m).yc(h),this.Jx().Jb(m),this.Al().pa([this.Jx(),this.Jy()])):(this.Al().removeChild([this.Jx(),
this.Jy()]),0!==(this.yp()&kT.tS)&&(n=this.Jw.Jk(),k=m.Pc(h[l-1],k[l-1]),m=this.Sd(this.mc(),g),h=a(m.x,h[l-1],n.ca()),this.Kx().moveTo(k.getX(),k.getY()).lineTo(h,m.getY())))}else this.Al().removeChild([this.Jx(),this.Jy()]);this.Kx().ha()};d.prototype.intersect=function(g){var h=g.he(),k=this.wa(),l=this.Jw.Jk();k=k.Ua(l);l=TT.prototype.intersect.call(this,g);null==l&&(h.translate(k.ca(),0),l=TT.prototype.intersect.call(this,g),h.translate(-k.ca(),0));null==l&&(h.translate(-k.ca(),0),l=TT.prototype.intersect.call(this,
g),h.translate(k.ca(),0));return l};d.prototype.format=function(g){return TT.prototype.format.call(this,g)+" "+this.Yd.cd()};d.prototype.uY=function(){return this.Jw};d.prototype.Xa=function(){return this.Yd};d.prototype.Im=function(g){this.Yd=Zd.ya().Xa(g);return this.update()};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjYWxjdWxhdGVEaXN0YW5jZSI6ImUxIiwidXBkYXRlUHJldmlldyI6InZHIiwiZ2V0U3lzdGVtIjoidVkiLCJnZXRVbml0IjoiWGEiLCJzZXRVbml0IjoiSW0ifX19");var X6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(p){p=G(p,{node:new $g({linestyle:{width:2,pixelsnapmode:!0}})});V6.call(this,p);this.dc=[];this.rc=[];this.u4=[]}function a(p,q,r){var t=q.x,u=q.y,w=q.Tbb,y=q.Ubb,z=q.Vbb;q=q.Wbb;for(var x=1;x<t.length;x++)p.bezierCurveTo(w[x-1]+r,y[x-1],z[x-1]+r,q[x-1],t[x]+r,u[x])}function b(p,q,r,t,u){e.Da(q[t-1]+u,r[t-1]);f.Da(q[t]+u,r[t]);g.Da(q[t+1]+u,r[t+1]);h.Da(q[t+2]+u,r[t+2]);return(p=UT.dEb(p,e,f,g,h))?{x:p.point.getX()-u,y:p.point.getY()}:null}function c(p,q,r,t){p=q+(p-q+
t)%t;var u=Math.abs(r-p)+(p-q),w=Math.abs(r-(p-t))+(q-(p-t)),y=p+t-r+(p+t)-q;w<u&&w<y?p-=t:y<u&&y<w&&(p+=t);return W.clamp(p,q,r)}var e=new N,f=new N,g=new N,h=new N,k=Zd.ya().Xa("m"),l=50,m=89,n=6371E3;D(d,V6);L(d,"geotoolkit.map.tools.editors.SphereArea");d.prototype.update=function(){V6.prototype.update.call(this);this.ub().clear();var p=this.getSize();if(0<p){var q=this.uY().Jk();for(var r=[0,q.ca(),-q.ca()],t=0;t<r.length;t++){var u=this.dc[0]+r[t];this.ub().moveTo(u,this.rc[0]);for(var w=1;w<
p;w++)q=this.u4[w-1]||d.$aa(u,this.rc[w-1],this.dc[w],this.rc[w],this),a(this.ub(),q,u-q.x[0]),u+=q.x[q.x.length-1]-q.x[0],this.ub().lineTo(u,this.rc[w]),this.u4[w-1]=q;this.CY()&&(q=d.$aa(u,this.rc[p-1],this.dc[0],this.rc[0],this),a(this.ub(),q,u-q.x[0]))}this.ub().ra(0<this.getArea()?this.eb():null)}this.ub().ha();return this};d.prototype.vG=function(p){var q=this.be(),r=this.He(),t=this.getSize();this.Kx().clear();if(0<t&&null!=p&&!this.Pd()&&null==this.lO(p)&&0>=this.Mu(p)){var u=this.ob(),w=
this.intersect(p);null!=w?(q=u.Pc(w.x,w.y),this.Jx().Jb(q),this.Al().pa(this.Jx())):(this.Al().removeChild(this.Jx()),0!==(this.yp()&kT.tS)&&(p=this.Sd(this.mc(),p),w=u.Pc(q[0],r[0]),w=d.$aa(w.getX(),w.getY(),p.getX(),p.getY(),this),this.Kx().moveTo(w.x[0],w.y[0]),a(this.Kx(),w,0),1<t&&(q=u.Pc(q[t-1],r[t-1]),w=d.$aa(q.getX(),q.getY(),p.getX(),p.getY(),this),this.Kx().moveTo(w.x[0],w.y[0]),a(this.Kx(),w,0))))}else this.Al().removeChild(this.Jx());this.Kx().ha()};d.prototype.intersect=function(p){var q=
p.he(),r=this.uY().Jk().ca();p=this.pn(p)?this.wY():this.wU();q=new U(q.getX()-p,q.getY()-p,q.getX()+p,q.getY()+p);this.wa().wd(q,q);p=this.ub().$d();for(var t=p.getTags(),u=p.getX(),w=p.getY(),y,z=0;z<p.getLength();z++){var x=p.getIndex(z);switch(t[z]){case Dd.cz:y=1;break;case Dd.Zz:y++;break;case Dd.AD:if(x=b(q,u,w,x,0)||b(q,u,w,x,r)||b(q,u,w,x,-r))return{index:y,x:x.x,y:x.y}}}return null};d.prototype.apply=function(p){var q=this.u4,r=this.be(),t=this.He();switch(p.Oh()){case jT.Nv:this.ub().getParent()||
(q=this.mc().dl(this.Al()),this.mc().Xf(q,this.ub()));case jT.xS:return r.push(p.getX()),t.push(p.getY()),this;case jT.Sda:return r[p.getIndex()]+=p.cf(),t[p.getIndex()]+=p.Pe(),0<p.getIndex()&&(q[p.getIndex()-1]=null),p.getIndex()<q.length&&(q[p.getIndex()]=null),this;case jT.ECa:return r.splice(p.getIndex(),1),t.splice(p.getIndex(),1),q.splice(p.getIndex(),1),0<p.getIndex()&&(q[p.getIndex()-1]=null),this;case jT.X2a:return r.splice(p.getIndex(),0,p.getX()),t.splice(p.getIndex(),0,p.getY()),q.splice(p.getIndex(),
0,null),0<p.getIndex()&&(q[p.getIndex()-1]=null),this}return V6.prototype.apply.call(this,p)};d.prototype.be=function(){return this.dc||[]};d.prototype.He=function(){return this.rc||[]};d.prototype.getSize=function(){return this.be().length};d.prototype.fm=function(p){W6.prototype.fm.call(this,p);this.Ae=this.ub().eb();p=this.ub().$d();var q=p.getTags(),r=p.getX(),t=p.getY();this.dc=[];this.rc=[];this.u4=[];for(var u=0;u<p.getLength();u++){var w=p.getIndex(u);switch(q[u]){case Dd.cz:if(0!==u)return this.update();
case Dd.Zz:this.dc.push(r[w]),this.rc.push(t[w])}}return this.update()};d.prototype.oG=function(){this.u4.length=0;this.dc.length=0;this.rc.length=0;this.ub().Tc(null);this.ub().clear();return this.update()};d.prototype.CY=function(){return!0};d.$aa=function(p,q,r,t,u){var w=u.uY().Jk(),y=Math.pow(l/u.wa().lb(),2);p=w.ka()+(p-w.ka()+3*w.ca())%w.ca();r=w.ka()+(r-w.ka()+3*w.ca())%w.ca();var z=u.Xa().convert(u.e1(p,q,r,t),k);u.uY().sc(p,q,e);u.uY().sc(r,t,f);var x=W.degToRad(e.y),C=W.degToRad(f.y),A=
W.degToRad(e.x),v=W.degToRad(f.x),B=Math.cos(x);x=Math.sin(x);var E=Math.cos(C);C=Math.sin(C);var H=Math.cos(A),F=Math.sin(A),I=Math.cos(v),J=Math.sin(v);z/=n;var K=Math.sin(z);Math.abs(v-A)>Math.PI&&(r=r>p?r-w.ca():r+w.ca());A=[p,r];q=[q,t];t=[0,1];v=Math.min(p,r);p=Math.max(p,r);for(r=0;r<A.length-1;)if(Infinity===q[r+1])r+=2;else if(.001>t[r+1]-t[r]||q[r]<w.la()&&q[r+1]<w.la()||q[r]>w.ma()&&q[r+1]>w.ma()||N.qia(A[r],q[r],A[r+1],q[r+1])<=y)r++;else{var M=(t[r]+t[r+1])/2,P=Math.sin((1-M)*z)/K,R=
Math.sin(M*z)/K,Q=P*B*H+R*E*I,V=P*B*F+R*E*J;P=P*x+R*C;P=W.radToDeg(Math.atan2(P,Math.sqrt(Q*Q+V*V)));Q=W.radToDeg(Math.atan2(V,Q));u.uY().transform(Q,P,e,!1);e.x=c(e.x,v,p,w.width);P>=m||P<-m||e.y<w.la()||e.y>w.ma()?(A.splice(r+1,0,e.x,e.x,e.x),q.splice(r+1,0,e.y,Infinity,e.y),t.splice(r+1,0,M,M,M)):(A.splice(r+1,0,e.x),q.splice(r+1,0,e.y),t.splice(r+1,0,M))}u=q.indexOf(Infinity);0<=u?(w=q.lastIndexOf(Infinity),A.splice(u,w-u+1),q.splice(u,w-u+1),w=ch.G1(A,q,0,u-1),y=w.MX,B=w.NX,x=w.mZ,E=w.nZ,y.push((A[u]+
A[u-1])/2),B.push((q[u]+q[u-1])/2),x.push((A[u]+A[u-1])/2),E.push((q[u]+q[u-1])/2),w=ch.G1(A,q,u,A.length-1),Array.prototype.push.apply(y,w.MX),Array.prototype.push.apply(B,w.NX),Array.prototype.push.apply(x,w.mZ),Array.prototype.push.apply(E,w.nZ)):(w=ch.G1(A,q),y=w.MX,B=w.NX,x=w.mZ,E=w.nZ);return{x:A,y:q,Tbb:y,Ubb:B,Vbb:x,Wbb:E}};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ1cGRhdGVQcmV2aWV3IjoidkciLCJnZXRQb2ludHNYIjoiYmUiLCJnZXRQb2ludHNZIjoiSGUiLCJzZXROb2RlIjoiZm0iLCJyZXNldE5vZGUiOiJvRyJ9fX0g");var Y6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c&&c.directionsymbol&&(c.directionsymbol=c.directionsymbol instanceof Km?c.directionsymbol:new Km(c.directionsymbol));c=G(c,{directionmode:ST.Jc,directionsymbol:new Km({width:12,height:21,painter:Zm,alignment:O.Oa,sizeisindevicespace:!0,selectable:!1,linestyle:"black",fillstyle:"black"})});X6.call(this,c);this.Ve=[];this.G4=[];this.Mla=c.directionsymbol;this.qEa=c.directionmode}function a(c,e){var f=0,g=e.x.length-1,h=e.x.slice(),k=e.y.slice();c.tda(h,k);c=[];for(var l=
0;l<g;l++)c[l]=N.xf(h[l],k[l],h[l+1],k[l+1]);for(k=h=0;1<g-f;)Math.abs(h+c[f]-k)<Math.abs(k+c[g-1]-h)?(h+=c[f],f++):(k+=c[g-1],g--);if(f===g)return{angle:0,KQ:e.x[0],LQ:e.y[0]};if(h>k+c[f])return{angle:Math.atan2(e.Ubb[f]-e.y[f],e.Tbb[f]-e.x[f]),KQ:e.x[f],LQ:e.y[f]};if(k>h+c[f])return{angle:Math.atan2(e.y[g]-e.Wbb[f],e.x[g]-e.Vbb[f]),KQ:e.x[g],LQ:e.y[g]};c=(k+c[f]-h)/2/c[f];h=1-c;l=c*e.Tbb[f]+h*e.x[f];var m=c*e.Ubb[f]+h*e.y[f],n=c*e.Vbb[f]+h*e.Tbb[f];k=c*e.Wbb[f]+h*e.Ubb[f];l=c*n+h*l;m=c*k+h*m;n=
c*(c*(c*e.x[g]+h*e.Vbb[f])+h*n)+h*l;e=c*(c*(c*e.y[g]+h*e.Wbb[f])+h*k)+h*m;return{angle:Math.atan2(e-m,n-l),KQ:n,LQ:e}}function b(c,e,f){c+=Math.floor((e-c)/f)*f;f=c+f;return e-c>f-e?f:c}D(d,X6);L(d,"geotoolkit.map.tools.editors.SphereDistance");d.prototype.je=function(c){!0!==this.wh&&(X6.prototype.je.call(this,c),this.w_=[],this.rEa=new ni,c=this.Al().dl(this.T1()),this.Al().Xf(c,this.rEa))};d.prototype.vG=function(c){var e=this.be(),f=this.He(),g=this.getSize();this.Kx().clear();if(0<g&&null!=c&&
!this.Pd()&&null==this.lO(c)&&0>=this.Mu(c)){var h=this.ob(),k=this.intersect(c);if(null!=k)g=k.index,c=1<g?this.G4[g-2]:0,c+=this.e1(e[g-1],f[g-1],k.x,k.y),c=this.format(c),h=h.Pc(k.x,k.y),e=QT.Exa(this,e[g-1],f[g-1],k.x,k.y,e[g],f[g]),this.Jy().Eb(c).Jb(h).yc(e),this.Jx().Jb(h),this.Al().pa([this.Jx(),this.Jy()]);else if(this.Al().removeChild([this.Jx(),this.Jy()]),0!==(this.yp()&kT.tS))for(k=this.Jw.Jk(),c=this.Sd(this.mc(),c),f=h.Pc(e[g-1],f[g-1]),e=b(c.x,e[g-1],k.ca()),e=X6.$aa(f.getX(),f.getY(),
e,c.getY(),this),this.Kx().moveTo(e.x[0],e.y[0]),f=1;f<e.x.length;f++)this.Kx().bezierCurveTo(e.Tbb[f-1],e.Ubb[f-1],e.Vbb[f-1],e.Wbb[f-1],e.x[f],e.y[f])}else this.Al().removeChild([this.Jx(),this.Jy()]);this.Kx().ha()};d.prototype.update=function(){X6.prototype.update.call(this);if(null==this.Ve)return this;var c=this.getSize(),e=this.be(),f=this.He(),g=this.ob(),h=[],k=[],l=0,m=this.wa();this.G4=[];for(var n=1;n<c;n++){l+=this.e1(e[n-1],f[n-1],e[n],f[n]);var p=this.Ve[n-1]||this.Jy().clone(),q=this.format(l),
r=g.Pc(e[n],f[n]),t=TT.Zp(this,n);p.Eb(q).Jb(r).yc(t);k.push(p);this.G4.push(l);this.tIa(this.u4[n-1],m,h,ST.Nv);this.tIa(this.u4[n-1],m,h,ST.il);this.tIa(this.u4[n-1],m,h,ST.jp)}k.length!==this.Ve.length&&(this.T1().removeChild(this.Ve),this.T1().pa(k),this.Ve=k);h.length!==this.w_.length&&(this.rEa.removeChild(this.w_),this.rEa.pa(h),this.w_=h);return this};d.prototype.xoa=function(){return null};d.prototype.CY=function(){return!1};d.prototype.format=function(c){return this.Vg.format(c)+" "+this.Xa().cd()};
d.prototype.cba=function(){return this.G4.slice()};d.prototype.tIa=function(c,e,f,g){if(0!==(this.qEa&g)){var h=this.w_[f.length]||this.Mla.clone(),k=W.sign(e.Ab())*Math.PI/2;switch(g){case ST.Nv:var l=c.x[0];var m=c.y[0];k-=Math.atan2(c.y[1]-c.y[0],c.x[1]-c.x[0]);h.yc(O.Se);break;case ST.il:c=a(e,c);l=c.KQ;m=c.LQ;k-=c.angle;h.yc(O.Oa);break;case ST.jp:g=c.x.length-1,l=c.x[g],m=c.y[g],k-=Math.atan2(m-c.y[g-1],l-c.x[g-1]),h.yc(O.ee)}e=X.Ui(k,l,m).lu(e.xc()).Wp(e);l=this.ob().Pc(l,m);h.Jb(e.rd(l,l));
h.Tc(e);f.push(h)}};d.prototype.NEc=function(c,e){if(1>this.getSize())return null;var f=this.be(),g=this.He(),h=this.cba();h=0<h.length?h[h.length-1]:0;return this.e1(f[f.length-1],g[g.length-1],c,e)+h};d.prototype.fa=function(c){if(null==c)return this;c=jc(c);null!=c.directionmode&&(this.qEa=c.directionmode);null!=c.directionsymbol&&(c.directionsymbol instanceof Ti?this.Mla=c.directionsymbol:this.Mla.fa(c.directionsymbol));return X6.prototype.fa.call(this,c)};d.prototype.ia=function(){var c=X6.prototype.ia.call(this);
c.directionmode=this.qEa;c.directionsymbol=this.Mla;return c};d.prototype.P1=function(){return this.Ve};return d}(),1,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbml0aWFsaXplIjoiamUiLCJ1cGRhdGVQcmV2aWV3IjoidkciLCJjYWxjdWxhdGVBcmVhIjoieG9hIiwiaXNDbG9zZWQiOiJDWSIsImdldERpc3RhbmNlcyI6ImNiYSIsInNldFByb3BlcnRpZXMiOiJmYSIsImdldFByb3BlcnRpZXMiOiJpYSIsImdldExhYmVscyI6IlAxIn19fSAg");var Z6=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(c){c=G(c,{unit:"km",wrapped:!0,system:$3.VV,pathmode:U6.Sphere},!0);var e=d4.lg().uk(c.system),f=c.layer;c.layer=(new Bo({wrapped:c.wrapped,clipchild:!0,childspread:!0})).Ha(e.Jk()).on(ze.Do,b).on(ze.ip,a);ZT.call(this,c);this.Yd=Zd.ya().Xa(c.unit);f.pa(this.mc());this.X5c(c.pathmode)}function a(c,e,f){e.P_a(f,!1)}function b(c,e,f){e.P_a(f,!0)}D(d,ZT);L(d,"geotoolkit.map.tools.Measure");d.prototype.X5c=function(c){if(this.kzc===c)return this;this.kzc=c;this.MNa();return this};
d.prototype.L8b=function(){return this.kzc};d.prototype.Im=function(c){c=Zd.ya().Xa(c);if(null==c||this.Yd===c)return this;this.Yd=c;null!=this.IB()&&this.IB().Im(c);return this};d.prototype.Xa=function(){return this.Yd};d.prototype.MNa=function(){var c=this.Gb(),e={layer:this.mc(),editmode:this.yp(),unit:this.Yd,label:{},history:this.qy};this.cq()===DS.JZ?this.L8b()===U6.Sphere?this.YE(new X6(e)):this.YE(new V6(e)):this.L8b()===U6.Sphere?this.YE(new Y6(e)):this.YE(new W6(e));null!=c&&c.dispose()};
return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJzZXRQYXRoTW9kZSI6Ilg1YyIsImdldFBhdGhNb2RlIjoiTDhiIiwic2V0VW5pdCI6IkltIiwiZ2V0VW5pdCI6IlhhIiwidXBkYXRlRWRpdG9yIjoiTU5hIn19fSAg");var $6=/*#__PURE__*/ta(/*#__PURE__*/{iFb:"LayerAdded",kXc:"LayerRemoved",Ybc:"LayersModified",NR:"onZoomStart",gw:"onZoomEnd",zr:"onDoubleClick",TE:"onResize"},2,"eyJvbkxheWVyQWRkZWQiOiJpRmIiLCJvbkxheWVyUmVtb3ZlZCI6ImtYYyIsIm9uTGF5ZXJzTW9kaWZpZWQiOiJZYmMiLCJvblpvb21TdGFydCI6Ik5SIiwib25ab29tRW5kIjoiZ3ciLCJvbkRvdWJsZUNsaWNrIjoienIiLCJvblJlc2l6ZSI6IlRFIn0g"),a7=/*#__PURE__*/ta(/*#__PURE__*/{xOa:"Done",Aoc:"Interrupted"},2,"eyJEb25lIjoieE9hIiwiSW50ZXJydXB0ZWQiOiJBb2MifSAg"),b7=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(g){g=G(g,{title:"Change map layers",icon:"fas fa-layer-group",formatter:function(h){var k="fas fa-database";h instanceof S5?k="fas fa-th":h instanceof O5&&(k="fas fa-image");return new FS({title:h.Ga()||"",text:h.Ga()||"",icon:k,border:this.ut(),color:this.mb(),checkbox:{enabled:!0,checked:h.Ia()},init:function(l,
m){m?(this.o2b=function(){this.Uib(h.Ia())}.bind(this),h.on(ze.zP,this.o2b)):this.o2b&&h.za(ze.zP,this.o2b)},action:function(l,m){h.va(m)}})}},!0);g.buttons=[];GS.call(this,g);this.Pn=xc("div",f);this.Or=g.formatter}function a(g){g=xb(g,{model:null,north:void 0,south:void 0,east:void 0,west:void 0,annotationssizes:{west:0,east:0,north:0,south:0},tools:{horizontalscroll:{visible:!1},verticalscroll:{visible:!1}},bounds:new U(0,0,300,300),border:{color:"white"},system:$3.VV,maplimits:void 0,layerscontainer:null,
wrapped:!0,viewcache:!1,viewcachesize:{width:256,height:256},zoom:{min:0,max:Infinity,speed:1.5,time:400,easing:ld.fMb},viewcachemode:ei.hea,viewcachememorylimit:null,viewcacheasync:!1,tooltip:{divelement:null,offsetx:10,offsety:-10,alignment:O.Id,mode:$S.Ep,delay:10,max:1,autoupdate:!0},webmap:null,scaleunit:Zd.ya().Xa("px")});var h=null!=g.layerscontainer?g.layerscontainer:new ni;null==g.model&&(g.wrapped?(g.model=new Bo({clipchild:!0,wrapped:!0}),g.model.P_a(h,!0)):g.model=new ni);!0===g.viewcache&&
h.Li(new mi(g.viewcachesize.width,g.viewcachesize.height,g.viewcachemode,g.viewcachememorylimit,g.viewcacheasync));null==g.layerscontainer&&g.model.Xf(0,h);VZ.call(this,g);this.Pn=h;this.aHa=c;this.MSb=this.Iqb=this.V_=this.uaa=this.h9=this.AFa=null;g=this.ea.system;this.Jw="string"===typeof g?d4.lg().uk(g):g;this.Nb().bf(!0);this.Dr(new wm({keepAspectRatio:!0,alignment:O.Oa,wrapped:this.ea.wrapped}));this.wu=function(){this.rkc()}.bind(this);var k=!1;this.wyc=function(){k||(k=!0,this.wo(),k=!1)}.bind(this);
this.ABc=function(){this.Pwa.UBa()}.bind(this);this.uab=this.n0b=this.m0b=null;this.NOd();this.setOptions(this.ea);null==this.ea.maplimits&&(this.h9=this.Jw.Jk(),this.pG(this.h9))}var b=256,c=Zd.ya().Xa("px");D(a,VZ);L(a,"geotoolkit.map.Map");a.Ka=$6;a.ICa=a7;a.prototype.uda=function(g,h){return this.Ma(g,h,this.Jw)};a.prototype.Vjc=function(g,h){return this.Ma(g,this.Jw,h)};a.prototype.Ma=function(g,h,k){h=h instanceof V3?h:d4.lg().uk(h);k=k instanceof V3?k:d4.lg().uk(k);if(null!=h&&null!=k){if(null==
this.uaa||this.uaa.xJ()!==h||this.uaa.js()!==k)this.uaa=new e4(h,k);return this.uaa.transform(g)}return null};a.prototype.O2d=function(g){null==g&&null!=this.V_&&this.V_.getParent().removeChild(this.V_);g instanceof Cj&&(null!=this.V_&&this.V_.getParent().removeChild(this.V_),this.V_=g,this.V_.yc(O.Ah),this.V_.e8(!0),this.V_.Jb(this.Nb().ga().na(),this.Nb().ga().ma()),this.Nb().getParent().pa(this.V_));return this};a.prototype.vHd=function(){return this.V_};a.prototype.zoom=function(g,h,k){var l=
g;if(0!==this.ea.zoom.min||Infinity!==this.ea.zoom.max){var m=this.RJa(),n=1/(m*g);1>g&&n>this.ea.zoom.max?l=1/(this.ea.zoom.max*m):1<g&&n<this.ea.zoom.min&&(l=1/(this.ea.zoom.min*m))}this.Gt(l,l,h,k);return this};a.prototype.Mja=function(g,h){this.Nb().pq();h&&(g/=this.jNc());g=this.aHa.convert(g,c);0!==this.ea.zoom.min&&(g=Math.min(g,1/this.ea.zoom.min));Infinity!==this.ea.zoom.max&&(g=Math.max(g,1/this.ea.zoom.max));h=Math.abs(g/this.Nb().wa().lb());g=Math.abs(g/this.Nb().wa().Ab());this.Gt(h,
g);return this};a.prototype.RJa=function(g){this.Nb().pq();var h=Math.abs(this.Nb().wa().lb());g&&(h*=this.jNc());return c.convert(h,this.aHa)};a.prototype.jJb=function(g){var h=this.jqa(),k=this.Nb().fj(),l=this.uk().Jk();h=h.ca()/l.ca();g=k.ca()/b/Math.pow(2,g);this.zoom(h/g);return this};a.prototype.ML=function(){var g=this.jqa(),h=this.Nb().fj(),k=this.uk().Jk();g=g.ca()/k.ca();return Math.log(h.ca()/b/g)/Math.LN2};a.prototype.ta=function(){var g={};g.maplimits=null===this.AFa?null:this.AFa.clone();
g.mapimage=this.V_;g.system=this.Jw;g.mapscale=this.RJa();g.mapscaleobject=this.k5;g.scaleunit=this.At();g.webmap=this.m0b;return g};a.prototype.setOptions=function(g){void 0!==g.mapimage&&this.O2d(g.mapimage);void 0!==g.maplimits&&(this.AFa=g.maplimits,this.pG(this.ea.maplimits));this.Nb().ql(this.Jw.cVc());null!=g.scaleunit&&this.gda(g.scaleunit);void 0!==g.mapscale&&this.Mja(g.mapscale);void 0!==g.mapscaleobject&&this.Q4c(g.mapscaleobject);null!=g.zoom&&this.JN.fa(g.zoom);if(g.webmap&&g.webmap!==
this.m0b){if(this.uab){for(var h=0;h<this.uab.length;++h)this.pja(this.uab[h]);this.uab=null}this.m0b=g.webmap;this.n0b=T6.load(this,g.webmap).then(function(k,l){this.uab=l}.bind(this),function(k){hb(k)})}return this};a.prototype.uk=function(){return this.Jw};a.prototype.MA=function(g){this.ea=g||{};return VZ.prototype.MA.call(this,this.ea)};a.prototype.NOd=function(){this.Cd.ql(!0);var g=this.mc();this.eH.removeListener(aU.QE).addListener(aU.QE,function(h,k){var l=k.Oh();"wheel"!==l&&"mousewheel"!==
l&&"onmousewheel"!==l&&"DOMMouseScroll"!==l&&(this.$R(null),this.DXc(h,k))}.bind(this)).Bgc(!0).Bo(!0);this.JN.removeListener(TU.aV).addListener(TU.aV,function(h,k){this.kbd(h,k)}.bind(this)).addListener(TU.zr,function(h,k){this.notify(a.Ka.zr,this,k);h=k.Je().button!==Fc.cc?this.ea.zoom.speed:1/this.ea.zoom.speed;this.JN.zoom(h,h,k.he().x,k.he().y)}.bind(this)).addListener(TU.NR,function(h,k){this.$R(null);this.ZHb(!0);this.notify(a.Ka.NR,this,k)}.bind(this)).addListener(TU.gw,function(h,k){this.ZHb(!1);
this.notify(a.Ka.gw,this,k)}.bind(this)).setMode(SU.JOb);this.Gw.removeListener(RR.Vw);this.Ana.removeListener(RR.Vw).removeListener(iU.gw).addListener(iU.gw,function(h,k){k=k.getArea();if(!k.isEmpty()&&(h=this.Nb().wb())&&!h.isEmpty()){var l=k.ca()/k.da(),m=h.ca()/h.da();l<m?(l=k.da()*m,k.bd((l-k.ca())/2,0)):(l=k.ca()/m,k.bd(0,(l-k.da())/2));l=X.Vd(k,h);k=this.Nb().wa().transform(k);h=this.Nb().wa().transform(h);this.JN.zoom(l.lb(),l.Ab(),(k.hc()-h.hc()/l.lb())/(1-1/l.lb()),(k.Dc()-h.Dc()/l.Ab())/
(1-1/l.Ab()))}}.bind(this)).Rb(!0).Vca(!1).xjb(Dc.cc);this.uub=(new eU(g)).Rb(!1).addListener(RR.hj,function(h){h.isEnabled()?(this.I_a(),this.Gw.Rb(!1)):null!=this.tX&&(this.cu.Rb(this.tX.s3b),this.Ana.Rb(this.tX.Oec),this.Gw.Rb(this.tX.selection),this.tX=null)}.bind(this)).addListener(jT.Nv,function(){this.ryb()}.bind(this)).addListener(jT.xS,function(){this.ryb()}.bind(this)).addListener(jT.jp,function(){this.ryb()}.bind(this));this.U_.add(this.uub);this.Pwa=new QU({divelement:this.ea.tooltip.divelement,
offsetx:this.ea.tooltip.offsetx,offsety:this.ea.tooltip.offsety,alignment:this.ea.tooltip.alignment,delay:this.ea.tooltip.delay,mode:this.ea.tooltip.mode,autoupdate:this.ea.tooltip.autoupdate,layer:this.Pn,callback:function(h,k,l){var m,n=this.xeb();for(m=0;m<n&&null==this.zE(m).Qba();m++);if(m===n)return null;n="";var p=this.ea.tooltip.max;m=k.target&&l.pn(k)?l.wY():l.wU();k=Zj.select(this.getRoot(),h.x,h.y,m);l=[];for(m=k.length-1;0<=m&&0<p&&k[m]!==this;m--)if(k[m]instanceof m5){var q=k[m].Qba();
if(null!=q){if(l=k[m].cpa(l,h))l.length>p&&(l.sort(I4.gGc),l.length=p),p-=l.length;n="function"===typeof q?q.call(k[m],l,n,h):q.format(l,n,h)}l=[]}else l.push(k[m]);return n}.bind(this)});this.U_.add(this.Pwa);this.q$=(new Z6({wrapped:this.ea.wrapped,system:this.uk(),layer:g})).Rb(!1).Rs("pointermove",!1).Rs("pointermove",!0,$a);g=this.U_.Ifb(this.eH);this.U_.vo(g,this.q$);return this};a.prototype.ZHb=function(g){for(var h=0;h<this.xeb();++h)this.zE(h).V5d(g);this.Pn.ha();return this};a.prototype.jL=
function(g){return this.dUc(g,null)};a.prototype.pG=function(g){var h,k=this.Nb().ob();k=k?k.lb():0;(k=!W.equals(k,this.ea.wrapped?3:1))&&(h=this.RJa(!0));g&&this.ea.wrapped&&!W.equals(g.ca(),this.uk().Jk().ca())&&(this.qKa().setOptions({wrapped:!1}),this.Nb().u8c(!1));VZ.prototype.pG.call(this,g);g!==this.h9?(this.AFa=g,this.s1()):k&&this.Mja(h,!0);this.ha();return this};a.prototype.HB=function(){if(null==this.AFa){var g=this.ga();if(null==g)return null;null==this.h9&&this.rkc();return this.h9}return this.AFa.lock()};
a.prototype.Q4c=function(g){null!=this.k5&&(this.k5.Qz(this.wyc),this.k5.getParent().removeChild(this.k5));this.k5=g;null!=this.k5&&(this.k5.Ax(this.wyc),this.Nb().getParent().pa(this.k5),this.k5.KVc(this));return this};a.prototype.wHd=function(){return this.k5};a.prototype.uHd=function(){var g=this.Nb().wb(!0);return g.getCenter()};a.prototype.MLa=function(g,h,k){g=this.Ma(g,h,this.Jw)||g;if(null==g)return this;this.ryb();if(!0===k)return hb("geotoolkit.map.Map.panTo (elastic) param is deprecated since 2020 (3.0), use flyTo instead"),
this.dJa({location:g,system:this.uk()});h=this.Nb().wb();g=h.clone().aI(g.getX(),g.getY());h=this.Nb().oa();g.ka()<h.ka()?g.setX(h.ka()):g.na()>h.na()&&g.setX(h.na()-g.ca());g.la()<h.la()?g.setY(h.la()):g.ma()>h.ma()&&g.setY(h.ma()-g.da());this.eJb(g);return this};a.prototype.xeb=function(){return this.Pn.ac()};a.prototype.zE=function(g){return this.Pn.gb(g)};a.prototype.pja=function(g){if(null!=g){var h=this.Pn.XG().indexOf(g);0<=h&&(this.Pn.removeChild(g),this.ha(),g.za(ze.Jr,this.wu),g.za(N4.jC,
this.ABc));g.jM(null);this.notify(a.Ka.kXc,this,this.Pn.XG().slice(0))}return this};a.prototype.dUc=function(g,h){if(g instanceof m5){var k=this.Pn.dl(g);this.Pn.removeChild(g);null!=h&&h<this.Pn.ac()&&0<=h?(this.Pn.Xf(h,g),this.notify(a.Ka.Ybc,this,this.Pn.XG().slice(0))):0>h?(this.Pn.Xf(0,g),this.notify(a.Ka.Ybc,this,this.Pn.XG().slice(0))):this.Pn.pa(g);-1===k&&(g.jM(this.Jw),this.rkc(),g.on(ze.Jr,this.wu),g.on(N4.jC,this.ABc),this.notify(a.Ka.iFb,this,this.Pn.XG().slice(0)))}else rb("Layer can not be inserted! It must be based on geotoolkit.map.layers.AbstractLayer");
return this};a.prototype.dJa=function(g){this.$R(null);var h=g.location,k=g.scale,l=g.level,m=g.callback;if(null==h&&null==k&&null==l)return m&&m(a.ICa.xOa),this;var n=g.easing,p=g.system||$3.fK,q=g.duration||2E3,r=g=this.ML(),t=this.jqa(),u=[t.getCenter()];null!=k?r=g+Math.log(k/this.RJa())/Math.LN2:null!=l&&(r=l);if(h)if(Array.isArray(h)&&"number"!==typeof h[0]){var w=h;for(t=0;t<w.length;t++)h=this.uda(N.Ra(w[t]),p),u.push(h);if(null==k&&null==l){var y=0,z=function(x){y++;x===a.ICa.xOa&&y<u.length?
this.dJa({location:u[y],system:this.uk(),"function":n,duration:q/w.length,callback:z}):m&&m(x)}.bind(this);z(a.ICa.xOa);return this}}else{h=this.uda(N.Ra(h),p);k=Math.abs(u[0].getX()-h.getX());l=Math.abs(u[0].getY()-h.getY());k=Math.max(k/t.ca(),l/t.da());l=Math.max(0,g-Math.log(k+1)/Math.LN2)+1;if(2<k&&l<g&&l<r)return this.dJa({level:l,location:[(u[0].getX()+h.getX())/2,(u[0].getY()+h.getY())/2],system:this.uk(),"function":n,duration:q/2,callback:function(x){x===a.ICa.xOa?this.dJa({level:r,location:h,
system:this.uk(),"function":n,duration:q/2,callback:m}):m&&m(x)}.bind(this)});u.push(h)}k=ld;this.$R(new Le([{attributeName:"location","function":2<u.length&&k.Kh||n||r>g&&k.Qmc||k.Nmc,values:u,duration:q},{attributeName:"scale","function":n||r<g&&k.Pmc||k.Mmc,from:g,to:r,duration:q}]));this.Iqb=m;return this};a.prototype.wo=function(){null!=this.k5&&this.k5.KVc(this)};a.prototype.rkc=function(){if(null==this.AFa){var g=this.Wtd();g&&g.isEmpty()&&(g=this.h9);if(null==this.h9&&this.h9!==g||null!==
this.h9&&!this.h9.Gi(g))this.h9=g,this.pG(g)}return this};a.prototype.ryb=function(){this.JN.j8();this.eH.j8()};a.prototype.Wtd=function(){for(var g=null,h=this.Pn.ac(),k=0;k<h;k++)if(this.Pn.gb(k)instanceof m5){var l=this.Pn.gb(k).oa();null!=l&&(null==g?g=l.clone():g.union(l))}if((h=this.Jw.Jk())&&!h.isEmpty()&&g&&!g.isEmpty()){var m=h.ca()/h.da(),n=g.ca()/g.da();k=g.ca();l=g.da();m>n?(k=g.da()*m,k>h.ca()&&(k=h.ca(),l=k/m)):m<n&&(l=g.ca()/m,l>h.da()&&(l=h.da(),k=l*m));m=(k-g.ca())/2;n=(l-g.da())/
2;0!==m&&(g.getX()-h.getX()<m?(g.setX(h.getX()),g.Qa(k)):h.na()-g.na()<m?(g.setX(h.na()-k),g.Qa(k)):g.bd(m,0));0!==n&&(g.getY()-h.getY()<n?(g.setY(h.getY()),g.$a(l)):h.ma()-g.ma()<n?(g.setY(h.ma()-l),g.$a(l)):g.bd(0,n))}return g};a.prototype.jNc=function(){var g=this.Nb().wb();if(2E3>g.da()){var h=this.Ma(g.getCenter(),this.uk(),$3.fK);h=Math.abs(1/Math.cos(h.getY()*Math.PI/180))}else if(4E3>g.da()){h=g.kd();var k=g.yf();h=this.Ma(h,this.uk(),$3.fK);k=this.Ma(k,this.uk(),$3.fK);h=(Math.abs(1/Math.cos(h.getY()*
Math.PI/180))+Math.abs(1/Math.cos(k.getY()*Math.PI/180)))/2}else h=g.kd(),k=g.yf(),g=g.getCenter(),h=this.Ma(h,this.uk(),$3.fK),k=this.Ma(k,this.uk(),$3.fK),g=this.Ma(g,this.uk(),$3.fK),h=(Math.abs(1/Math.cos(h.getY()*Math.PI/180))+Math.abs(1/Math.cos(k.getY()*Math.PI/180))+Math.abs(4*(1/Math.cos(g.getY()*Math.PI/180))))/6;return h};a.prototype.At=function(){return this.aHa};a.prototype.gda=function(g){g=Zd.ya().Xa(g);this.aHa=null!=g?g:c;return this};a.prototype.HKb=function(g){var h=this.jqa();
if(g&&h){h=h.ca()/(h.da()||1);var k=g.ca()/(g.da()||1);g=g.clone();k<h?g.bd((g.da()*h-g.ca())/2,0):g.bd(0,(g.ca()/h-g.da())/2)}VZ.prototype.HKb.call(this,g)};a.prototype.sa=function(g){var h=this.RJa();VZ.prototype.sa.call(this,g);this.Mja(h);return this};a.prototype.load=function(){for(var g=[],h=this.xeb(),k=0;k<h;k++)g.push(this.zE(k).load());null!=this.n0b&&g.push(this.n0b);var l=this;return Cg.all(g).then(function(){return l},function(){return l})};a.prototype.uKc=function(g){if(null!=this.Iqb){var h=
this.Iqb;this.Iqb=null;h(g)}return this};a.prototype.$R=function(g){this.uKc(a.ICa.Aoc);return VZ.prototype.$R.call(this,g)};a.prototype.kJa=function(){if(null==this.MSb){var g=VZ.prototype.kJa.call(this);this.MSb=function(h){h===Ie.W1a?this.ZHb(!0):(this.ZHb(!1),this.uKc(a.ICa.xOa));g(h)}.bind(this)}return this.MSb};a.prototype.YDb=function(){var g=VZ.prototype.YDb.call(this);this.Ze=new ZN({location:WN.Ec,componentsizes:{colorbox:10,axis:20,title:20},title:{text:"Color Bar",textstyle:{color:"#757575"}},
colorprovider:new Po({values:[0,100],colors:["#ffffff","#000000"]})});return g};a.prototype.ZQ=function(){return this.Ze};var e=function(){function g(h){h=h||{};h.fill=gd.HOa;ud.call(this,h)}D(g,ud);g.prototype.Ym=function(h,k){return"scale"===h.attributeName&&k instanceof a};g.prototype.$F=function(h){return h.ML()};g.prototype.apply=function(h){h.jJb(this.nd.current)};return g}();pe.ya().YH(e);e=function(){function g(h){h=h||{};h.fill=gd.HOa;ud.call(this,h);this.Uv=ae.ya()}D(g,ud);g.prototype.Ym=
function(h,k){return"location"===h.attributeName&&k instanceof a};g.prototype.$F=function(h){return h.jqa().getCenter()};g.prototype.apply=function(h){h.MLa(this.nd.current,h.uk(),!1)};return g}();pe.ya().YH(e);var f="cg-toolbar-maplayers";D(d,GS);L(d,"geotoolkit.controls.toolbar.MapLayers");d.prototype.Ba=function(g){this.Pn=g.Pn.cloneNode(!0);this.Or=g.Or};d.prototype.setSize=function(g,h){GS.prototype.setSize.call(this,g,h);var k,l=this.P5b(),m=-Infinity;for(k=0;k<l.length;k++)m=Math.max(m,l[k].ca());
if(m>g)for(null==h&&(h=g),k=0;k<l.length;k++)l[k].ca()<m&&l[k].setSize(m,h);return this};d.prototype.init=function(g,h,k,l,m,n){GS.prototype.init.call(this,g,h,k,l,m,n);l&&this.yd().appendChild(l.cloneNode(!0));this.yd().appendChild(this.Pn);var p=this;k=g.ub();this.Vtb=function(){p.UGc(g,h,l,n)};k.on($6.iFb,this.Vtb);this.UGc(g,h,l,n)};d.prototype.clear=function(g,h){this.Pn&&this.Pn.parentNode===this.yd()&&(this.yd().removeChild(this.Pn),this.Pn=null);if(this.Vtb){var k=g.ub();k.za($6.iFb,this.Vtb);
this.Vtb=null}GS.prototype.clear.call(this,g,h)};d.prototype.UGc=function(g,h,k,l){var m=g.ub(),n=this.P5b(),p;for(p=0;p<n.length;p++)n[p].clear(g,h);n.length=0;this.Pn.innerHTML="";p=m.xeb();var q=-Infinity,r=this.Pn.style.display;this.Pn.style.display="block";for(var t=0;t<p;t++){var u=m.zE(t);u=this.Or.call(this,u);n.push(u);u.init(g,h,this.Pn,k,null,l);u.setSize(this.da());q=Math.max(q,u.ca())}this.Pn.style.display=r;if(q>this.ca())for(p=0;p<n.length;p++)n[p].setSize(q,this.da())};ES.ya().register("map-layers",
new d).register("map-location",{title:"Show current location",icon:"fas fa-location-arrow",action:function(g){var h=g.ub();null!=$a.navigator.geolocation&&h instanceof a&&$a.navigator.geolocation.getCurrentPosition(function(k){h.dJa({level:14,location:[k.coords.longitude,k.coords.latitude]})})}}).register("map-home",{title:"Zoom to fit",icon:"fas fa-home",action:function(g){g=g.ub();if(g instanceof a){var h=g.ML(),k=1500;3>h?k=500:6>h&&(k=1E3);g.dJa({level:1,location:[0,16],duration:k})}}});return a}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJ0cmFuc2Zvcm1Ub01hcCI6InVkYSIsInRyYW5zZm9ybUZyb21NYXAiOiJWamMiLCJ0cmFuc2Zvcm1Qb2ludCI6Ik1hIiwiZ2V0TWFwSW1hZ2UiOiJ2SGQiLCJzZXRNYXBTY2FsZSI6Ik1qYSIsImdldE1hcFNjYWxlIjoiUkphIiwic2V0Wm9vbUxldmVsIjoiakpiIiwiZ2V0Wm9vbUxldmVsIjoiTUwiLCJnZXRPcHRpb25zIjoidGEiLCJnZXRDb29yZGluYXRlU3lzdGVtIjoidWsiLCJpbml0aWFsaXplTGF5b3V0IjoiTUEiLCJhZGRMYXllciI6ImpMIiwic2V0Q2VudGVyTW9kZWxMaW1pdHMiOiJwRyIsImdldENlbnRlck1vZGVsTGltaXRzIjoiSEIiLCJzZXRNYXBTY2FsZU9iamVjdCI6IlE0YyIsImdldE1hcFNjYWxlT2JqZWN0Ijoid0hkIiwiZ2V0TWFwQ2VudGVyIjoidUhkIiwicGFuVG8iOiJNTGEiLCJnZXRMYXllckNvdW50IjoieGViIiwiZ2V0TGF5ZXIiOiJ6RSIsInJlbW92ZUxheWVyIjoicGphIiwiaW5zZXJ0TGF5ZXIiOiJkVWMiLCJmbHlUbyI6ImRKYSIsIm9uTW92ZSI6IndvIiwiZ2V0U2NhbGVVbml0IjoiQXQiLCJzZXRTY2FsZVVuaXQiOiJnZGEiLCJ6b29tVG9SZWN0IjoiSEtiIiwic2V0Qm91bmRzIjoic2EiLCJzZXRBbmltYXRpb25TdHlsZSI6IiRSIiwiZ2V0QW5pbWF0aW9uRXZlbnRzTWV0aG9kIjoia0phIiwiaW5pdGlhbGl6ZUZsb2F0aW5nQ29sb3JCYXJUb29sIjoiWURiIiwiZ2V0Q29sb3JCYXIiOiJaUSJ9fX0g");var d7=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){J4.call(this,a)}D(d,J4);L(d,"geotoolkit.map.sources.formats.GeoTile");d.prototype.query=function(a){var b=this,c=a.callback;this.im.send(this.QSc(a),this.mQc(a),function(e,f){null==e?c(null,b.pMc(f)):c(e)});return this};d.prototype.QSc=Fb;d.prototype.mQc=function(a){return{cancel:a.cancel,responseType:"json"}};d.prototype.pMc=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRVUkxGcm9tUXVlcnkiOiJRU2MiLCJnZXRPcHRpb25zRnJvbVF1ZXJ5IjoibVFjIiwiZ2V0RGF0YUZyb21SZXNwb25zZSI6InBNYyJ9fX0g");var e7=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){o5.call(this,a)}D(d,o5);L(d,"geotoolkit.map.sources.loaders.GeoTile");d.prototype.parse=function(a,b){var c=this;this.BRc(a,function(e){c.ua.eAd=e.epsg;c.ua.LYa=e.imagedevicelimits;c.ua.O$b=e.imagemodelpoints;null!=e.tiledshapeoptions&&(c.ua.o1a=e.tiledshapeoptions);b()})};d.prototype.BRc=Fb;return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJnZXRTZXR0aW5nc0RhdGEiOiJCUmMifX19");var f7=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(a){a=G(a,{name:"aggregation-selection",layer:a instanceof Uh?a:null});cT.call(this,a);this.P$=[];this.v0a($S.MZ);this.$m(xb(a.slots,{pointerdown:this.gd.bind(this),pointermove:this.Ic.bind(this),pointerup:{callback:this.Yc.bind(this),object:$a},keydown:{callback:this.Ux.bind(this),object:$a}}))}D(d,cT);L(d,"geotoolkit.map.tools.AggregationSelection");d.prototype.YYa=function(a,b){if(0!==a.length){for(var c=null,e=null,f=0;f<=a.length;f++)a[f]instanceof v4?c=a[f]:a[f]instanceof
F5&&(e=a[f]);if(null!=e&&null!=c){a=e.LEd()||[];a=a[a.length-1]||null;c.M6b()?(c.V7(!1),c===a&&(a=null)):c.getParent()?c.V7(!0):(null!=a&&a.V7(!1),c.V7(!0),a=c);if(null==a)this.P$=[];else{c=[a];for(a=0;a<c.length;++a)c[a].M6b()&&c.push.apply(c,c[a].Df());c.reverse();this.P$=c}e.V2c(this.P$);e.ha();b.stopPropagation(!0,!0)}}};d.prototype.Ux=function(a){if(27===a.Je().keyCode&&0<this.P$.length){var b=this.P$[this.P$.length-1];b.V7(!1);this.P$.length=0;a.Ye().ha()}};d.prototype.Rb=function(a){cT.Rb.call(this,
a);!a&&0<this.P$.length&&(a=this.P$[this.P$.length-1],a.V7(!1),this.P$.length=0);return this};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJpbnRlcm5hbFNlbGVjdCI6IllZYSIsInNldEVuYWJsZWQiOiJSYiJ9fX0g");var g7=/*#__PURE__*/ta(/*#__PURE__*/{Tda:"Edge",XOa:"Max",LNb:"NoOverlap",hC:"All"},2,"eyJFZGdlIjoiVGRhIiwiTWF4IjoiWE9hIiwiTm9PdmVybGFwIjoiTE5iIiwiQWxsIjoiaEMifSAg");var h7=/*#__PURE__*/ta(/*#__PURE__*/{O3:"Metric",V2a:"Imperial"},2,"eyJNZXRyaWMiOiJPMyIsIkltcGVyaWFsIjoiVjJhIn0g");var i7=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(l){null!=l&&l.hasOwnProperty("metric")&&(hb('geotoolkit.map.util.MapScale properties["metric"] deprecated since 2020 (3.1). Use "system" instead'),l.system=l.metric?h7.O3:h7.V2a);l=G(l,{x:20,y:10,width:160,height:40,textstyle:new Fi({color:"black",autosize:!0}),linestyle:new Y({color:"black",width:2}),alignment:O.hg,textalign:O.Oa,tickheight:.25,metric:!0,system:h7.O3,sizeisindevicespace:!0},!0);Ti.call(this,l);this.Jo=l.x;this.Yq=l.y;this.Kwa=l.tickheight;this.Yd=l.system===
h7.O3?b:c;this.q$=null;this.Ysb=!1;this.Bb=new ek({textstyle:l.textstyle,sizeisindevicespace:!0,alignment:l.textalign});if(l=this.Fa())l.Pra(xg.eta),l.Zg(!0)}var a=Zd.ya().Xa("px"),b=Zd.ya().Xa("metre"),c=Zd.ya().Xa("ft"),e=[.2,1,5,10,20,50,100,200,500,1E3,2E3,5E3,1E4,2E4,5E4,1E5,2E5,5E5,1E6,2E6],f="< 1m;1 m;5 m;10 m;20 m;50 m;100 m;200 m;500 m;1 km;2 km;5 km;10 km;20 km;50 km;100 km;200 km;500 km;1000 km;2000 km".split(";"),g=[.2,1,5,20,50,100,200,500,1E3,2E3,5280,10560,26400,52800,105600,264E3,
528E3,1056E3,264E4,528E4],h="< 1 ft;1 ft;5 ft;20 ft;50 ft;100 ft;200 ft;500 ft;1000 ft;2000 ft;1 mi;2 mi;5 mi;10 mi;20 mi;50 mi;100 mi;200 mi;500 mi;1000 mi".split(";"),k=new U;D(d,Ti);L(d,"geotoolkit.map.util.MapScale");d.prototype.Ba=function(l,m){this.Jo=l.Jo;this.Yq=l.Yq;this.Kwa=l.Kwa;this.Yd=l.Yd;this.Bb=l.Bb.clone();this.q$=null;this.Ysb=!1};d.prototype.Mja=function(l){for(var m=this.Yd.convert(this.width/l,b),n=this.Ypa(this.Yd),p=this.P1(this.Yd),q=1;m>n[q]&&q<n.length;)q++;this.q$=b.convert(n[q-
1]*l,this.Yd);this.q$=Math.min(this.q$,this.width)/this.width;this.Bb.Eb(p[q-1]);l=this.Fa()?this.Fa().ca():0;l=(l+1)/this.ca();m=this.Jo/this.ca();n=this.Yq/this.da();k.setX(m+l).setY(n).Qa(this.q$-2*l).$a(1);l=Ti.Saa(k,this.Bb.Zp());this.Bb.Jb(l);this.ha();return this};d.prototype.t7c=function(l){if(this.uY()===l)return this;this.Yd=l===h7.O3?b:c;this.ha();return this};d.prototype.uY=function(){return b===this.Yd?h7.O3:h7.V2a};d.prototype.jb=function(){return this.Bb.jb()};d.prototype.kb=function(l,
m){this.Bb.kb(l,m);this.ha();return this};d.prototype.KVc=function(l){if(!this.Ysb){var m=Ti.Saa(l.Nb().ga(),this.Zp());this.Jb(m);this.Ysb=!0}this.Mja(l.At().convert(l.RJa(!0),a))};d.prototype.render=function(l){l=null!=this.Sa()?l.bc(this.Sa()):l;this.Yh(l);var m=l.Ea(),n=this.E6(l.Ea()),p=this.Jo/this.ca(),q=this.Yq/this.da();l.Sb(n);l.qa(this.Fa());l.Xc(p,q,p,q+this.Kwa);l.Xc(p,q+this.Kwa,p+this.q$,q+this.Kwa);l.Xc(p+this.q$,q,p+this.q$,q+this.Kwa);this.Bb.render(l);l.Sb(m);this.yh(l)};d.prototype.fa=
function(l){if(null==l)return this;Ti.prototype.fa.call(this,l);void 0!==l.x&&(this.Jo=l.x);void 0!==l.y&&(this.Yq=l.y);void 0!==l.tickheight&&(this.Kwa=l.tickheight);void 0!==l.metric&&(hb('geotoolkit.map.util.MapScale properties["metric"] deprecated since 2020 (3.1). Use "system" instead'),l.system=l.metric?h7.O3:h7.V2a);void 0!==l.system&&this.t7c(l.system);null!=l.textstyle&&this.Bb.kb(l.textstyle);null!=l.textalign&&this.Bb.yc(l.textalign);this.Ysb=!1;this.ha();return this};d.prototype.ia=function(){var l=
Ti.prototype.ia.call(this);l.x=this.Jo;l.y=this.Yq;l.tickheight=this.Kwa;l.system=this.uY();l.textstyle=this.jb();l.textalign=this.Bb.Zp();return l};d.prototype.cEd=function(){return this.Jo};d.prototype.dEd=function(){return this.Yq};d.prototype.d8b=function(){return this.q$};d.prototype.bl=function(){return this.Bb};d.prototype.Ypa=function(l){return b.PA(l)?e:g};d.prototype.P1=function(l){return b.PA(l)?f:h};d.prototype.Xa=function(){return this.Yd};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldE1hcFNjYWxlIjoiTWphIiwic2V0U3lzdGVtIjoidDdjIiwiZ2V0U3lzdGVtIjoidVkiLCJnZXRUZXh0U3R5bGUiOiJqYiIsInNldFRleHRTdHlsZSI6ImtiIiwic2V0UHJvcGVydGllcyI6ImZhIiwiZ2V0UHJvcGVydGllcyI6ImlhIn19fSAg");var j7=/*#__PURE__*/ta(/*#__PURE__*/{qb:"Top",Ed:"Bottom",BD:"Both"},2,"eyJUb3AiOiJxYiIsIkJvdHRvbSI6IkVkIiwiQm90aCI6IkJEIn0g"),k7=/*#__PURE__*/ta(/*#__PURE__*/function(){function d(e){e=G(e,{fillstyles:["black","white"],minortickheight:.5,majortickheight:1,ticksamount:5,tickvisible:!0,tickposition:d.Xka.qb,secondsystem:null,labelmode:a.XOa,height:8,y:20},!0);i7.call(this,e);this.Jua=[];this.c8a=e.minortickheight;this.M7a=e.majortickheight;this.BUa=e.ticksamount;this.AUa=e.tickvisible;this.Gga=e.tickposition;this.yT=null;this.ZM=e.labelmode;this.GUb=null;this.$6a=0;this.fa(e)}var a=g7,b=Zd.ya().Xa("ft"),c=Zd.ya().Xa("metre");
D(d,i7);L(d,"geotoolkit.map.util.BarScale");d.Xka=j7;d.prototype.Ba=function(e,f){this.c8a=e.c8a;this.M7a=e.M7a;this.BUa=e.BUa;this.AUa=e.AUa;this.Gga=e.Gga;this.yT=e.yT;this.ZM=e.ZM;this.GUb=null;this.$6a=0;this.NHb(e.Jua.map(function(g){return g.clone()}))};d.prototype.NHb=function(e){var f;for(f=0;f<this.Jua.length;f++)this.sk(this.Jua[f],ze.ib,this.tb());this.Jua=[];for(f=0;f<e.length;f++){var g=ug.fd(e[f]);null!=g&&(this.cg(g,ze.ib,this.tb()),this.Jua.push(g))}return this};d.prototype.nNc=function(){return this.Jua};
d.prototype.ra=function(e,f){return this.NHb([e,"white"])};d.prototype.Mja=function(e){i7.prototype.Mja.call(this,e);this.$6a=this.P1(this.Xa()).indexOf(this.bl().me());return this};d.prototype.l5c=function(e){if(this.c8a===e)return this;this.c8a=e;this.ha();return this};d.prototype.iCb=function(){return this.c8a};d.prototype.P4c=function(e){if(this.M7a===e)return this;this.M7a=e;this.ha();return this};d.prototype.aCb=function(){return this.M7a};d.prototype.A6c=function(e){if(this.q9b()===e)return this;
this.yT=null==e?e:e===h7.O3?c:b;this.ha();return this};d.prototype.q9b=function(){return null==this.yT?null:c.PA(this.yT)?h7.O3:h7.V2a};d.prototype.A4c=function(e){hb("geotoolkit.map.util.BarScale.setLabelVisible is deprecated since 2021 (3.2), use setLabelMode instead");return this.njb(e?a.LNb:a.XOa)};d.prototype.PGd=function(){hb("geotoolkit.map.util.BarScale.getLabelVisible is deprecated since 2021 (3.2), use getLabelMode instead");return this.rXa()!==a.XOa};d.prototype.njb=function(e){if(this.ZM===
e)return this;this.ZM=e;this.ha();return this};d.prototype.rXa=function(){return this.ZM};d.prototype.C7c=function(e){if(this.AUa===e)return this;this.AUa=e;this.ha();return this};d.prototype.tSc=function(){return this.AUa};d.prototype.Hm=function(e){if(this.Gga===e)return this;this.Gga=e;this.ha();return this};d.prototype.Nba=function(){return this.Gga};d.prototype.D7c=function(e){if(this.BUa===e)return this;this.BUa=e;this.ha();return this};d.prototype.uSc=function(){return this.BUa};d.prototype.render=
function(e){e=null!=this.Sa()?e.bc(this.Sa()):e;this.Yh(e);var f=e.Ea(),g=this.E6(e.Ea());e.Sb(g);g=2;null!==this.yT&&g++;this.Gga===d.Xka.BD&&g++;g=1/g;var h=this.vSc(this.Xa()),k=this.cEd()/this.ca(),l=-this.dEd()/this.da();if(this.Gga===d.Xka.qb||this.Gga===d.Xka.BD)this.zha(e,k,l,g,h,0),l+=g;this.Uxa(e,k,l,g,h,0);l+=g;null!==this.yT&&(h=this.vSc(this.yT),this.Uxa(e,k,l,g,h,1),l+=g);this.Gga!==d.Xka.Ed&&this.Gga!==d.Xka.BD||this.zha(e,k,l,g,h,1);e.Sb(f);this.yh(e)};d.prototype.zha=function(e,f,
g,h,k,l){f+=this.d8b();var m=this.d8b()/k,n=0===l?g:g+h*Math.max(this.aCb(),this.iCb()),p=0===l?this.Xa():this.yT||this.Xa();if(null==this.yT||this.yT.PA(this.Xa())||0===l){var q=this.P1(p)[this.$6a];p=parseInt(q)||this.Ypa(p)[this.$6a]}else p=this.Ypa(this.Xa())[this.$6a],p=this.yT.convert(p,this.Xa()),c.PA(this.yT)?1E3<p?(p=Math.round(p/100)/10,q=p+" km"):(p=Math.round(10*p)/10,q=p+" m"):5280<p?(p=Math.round(p/528)/10,q=p+" mi"):(p=Math.round(10*p)/10,q=p+" ft");for(var r=k;0<=r;r--,f-=m){var t=
0===r||r===k?this.aCb():this.iCb();this.AUa&&(e.qa(this.Fa()),e.Xc(f,g+h*(1-t),f,g+h));t=Math.round(r*p*10/k)/10;this.bl().Eb(t);t=this.bl().ca()/2/e.Ea().lb();if(r===k)this.bl().yc(0===l?O.hg:O.Id).Jb(f-t,n).Eb(q).render(e);else{if(this.ZM===a.XOa)continue;if(this.ZM===a.Tda&&0!==r)continue;if(this.ZM===a.LNb&&this.GUb<=f+t)continue;this.bl().yc(0===l?O.Se:O.ee).Jb(f,n).render(e)}this.GUb=f-t}};d.prototype.Uxa=function(e,f,g,h,k,l){e.qa(this.Fa());for(var m=this.d8b()/k,n=0;n<k;n++)e.ra(this.Jua[(n+
l)%this.Jua.length]),e.Bc(f,g,m,h),f+=m};d.prototype.fa=function(e){if(null==e)return this;e=jc(e);void 0!==e.fillstyles&&this.NHb(e.fillstyles);void 0!==e.secondsystem&&this.A6c(e.secondsystem);void 0!==e.minortickheight&&this.l5c(e.minortickheight);void 0!==e.majortickheight&&this.P4c(e.majortickheight);void 0!==e.labelvisible&&this.A4c(e.labelvisible);void 0!==e.labelmode&&this.njb(e.labelmode);void 0!==e.tickvisible&&this.C7c(e.tickvisible);void 0!==e.tickposition&&this.Hm(e.tickposition);void 0!==
e.ticksamount&&this.D7c(e.ticksamount);return i7.prototype.fa.call(this,e)};d.prototype.ia=function(){var e=i7.prototype.ia.call(this);e.fillstyles=this.nNc();e.secondsystem=this.q9b();e.labelmode=this.rXa();e.labelvisible=this.rXa()!==a.XOa;e.tickvisible=this.tSc();e.tickposition=this.Nba();e.ticksamount=this.uSc();e.minortickheight=this.iCb();e.majortickheight=this.aCb();return e};d.prototype.vSc=function(e){return null==this.yT||this.yT.PA(this.Xa())?this.BUa:e.PA(c)?8:5};return d}(),2,"eyJwcm90b3R5cGUiOnsicyI6MCwiYyI6eyJjb3B5Q29uc3RydWN0b3IiOiJCYSIsInNldEZpbGxTdHlsZUxpc3QiOiJOSGIiLCJnZXRGaWxsU3R5bGVMaXN0Ijoibk5jIiwic2V0RmlsbFN0eWxlIjoicmEiLCJzZXRNYXBTY2FsZSI6Ik1qYSIsInNldE1pbm9yVGlja0hlaWdodCI6Imw1YyIsImdldE1pbm9yVGlja0hlaWdodCI6ImlDYiIsInNldE1ham9yVGlja0hlaWdodCI6IlA0YyIsImdldE1ham9yVGlja0hlaWdodCI6ImFDYiIsInNldFNlY29uZFN5c3RlbSI6IkE2YyIsImdldFNlY29uZFN5c3RlbSI6InE5YiIsInNldExhYmVsVmlzaWJsZSI6IkE0YyIsImdldExhYmVsVmlzaWJsZSI6IlBHZCIsInNldExhYmVsTW9kZSI6Im5qYiIsImdldExhYmVsTW9kZSI6InJYYSIsInNldFRpY2tWaXNpYmxlIjoiQzdjIiwiZ2V0VGlja1Zpc2libGUiOiJ0U2MiLCJzZXRUaWNrUG9zaXRpb24iOiJIbSIsImdldFRpY2tQb3NpdGlvbiI6Ik5iYSIsInNldFRpY2tzQW1vdW50IjoiRDdjIiwiZ2V0VGlja3NBbW91bnQiOiJ1U2MiLCJzZXRQcm9wZXJ0aWVzIjoiZmEiLCJnZXRQcm9wZXJ0aWVzIjoiaWEifX19");export {U3,V3,W3,X3,Y3,Z3,$3,a4,b4,c4,d4,e4,f4,g4,h4,i4,j4,k4,l4,m4,n4,o4,p4,q4,r4,s4,t4,u4,v4,w4,x4,y4,z4,A4,B4,C4,D4,E4,F4,G4,H4,I4,J4,K4,L4,M4,N4,O4,P4,Q4,R4,S4,T4,U4,V4,W4,X4,Y4,Z4,$4,a5,b5,c5,d5,e5,f5,g5,h5,i5,j5,k5,l5,m5,n5,o5,p5,q5,r5,s5,t5,u5,v5,w5,x5,y5,z5,A5,B5,C5,D5,E5,F5,G5,H5,I5,J5,K5,L5,M5,N5,O5,P5,Q5,R5,S5,PJa,T5,U5,V5,W5,X5,Y5,Z5,$5,ZJa,a6,b6,c6,d6,e6,f6,g6,h6,i6,j6,k6,l6,m6,n6,o6,pKa,p6,q6,r6,s6,t6,u6,v6,w6,x6,y6,z6,A6,B6,C6,D6,E6,F6,G6,H6,I6,J6,K6,L6,M6,N6,O6,P6,Q6,R6,S6,T6,U6,V6,W6,X6,Y6,Z6,$6,a7,b7,d7,e7,f7,g7,h7,i7,j7,k7};